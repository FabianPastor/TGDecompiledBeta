package org.telegram.messenger;

import android.annotation.SuppressLint;
import android.annotation.TargetApi;
import android.app.AlarmManager;
import android.app.Notification;
import android.app.NotificationChannel;
import android.app.NotificationManager;
import android.app.PendingIntent;
import android.content.Context;
import android.content.Intent;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.graphics.BitmapFactory.Options;
import android.graphics.Point;
import android.graphics.drawable.BitmapDrawable;
import android.media.AudioAttributes.Builder;
import android.media.AudioManager;
import android.media.SoundPool;
import android.media.SoundPool.OnLoadCompleteListener;
import android.net.Uri;
import android.os.Build.VERSION;
import android.os.PowerManager;
import android.os.PowerManager.WakeLock;
import android.os.SystemClock;
import android.provider.Settings.System;
import android.support.v4.app.NotificationCompat;
import android.support.v4.app.NotificationCompat.Action;
import android.support.v4.app.NotificationCompat.BigTextStyle;
import android.support.v4.app.NotificationCompat.CarExtender;
import android.support.v4.app.NotificationCompat.CarExtender.UnreadConversation;
import android.support.v4.app.NotificationCompat.InboxStyle;
import android.support.v4.app.NotificationCompat.MessagingStyle;
import android.support.v4.app.NotificationCompat.WearableExtender;
import android.support.v4.app.NotificationManagerCompat;
import android.support.v4.app.RemoteInput;
import android.text.TextUtils;
import android.util.LongSparseArray;
import android.util.SparseArray;
import android.util.SparseIntArray;
import java.io.File;
import java.util.ArrayList;
import java.util.Calendar;
import java.util.List;
import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;
import org.telegram.messenger.beta.R;
import org.telegram.messenger.exoplayer2.C0539C;
import org.telegram.messenger.exoplayer2.DefaultLoadControl;
import org.telegram.messenger.exoplayer2.upstream.DataSchemeDataSource;
import org.telegram.messenger.exoplayer2.util.MimeTypes;
import org.telegram.messenger.support.SparseLongArray;
import org.telegram.tgnet.ConnectionsManager;
import org.telegram.tgnet.RequestDelegate;
import org.telegram.tgnet.TLObject;
import org.telegram.tgnet.TLRPC.Chat;
import org.telegram.tgnet.TLRPC.EncryptedChat;
import org.telegram.tgnet.TLRPC.FileLocation;
import org.telegram.tgnet.TLRPC.KeyboardButton;
import org.telegram.tgnet.TLRPC.Message;
import org.telegram.tgnet.TLRPC.PhoneCallDiscardReason;
import org.telegram.tgnet.TLRPC.TL_account_updateNotifySettings;
import org.telegram.tgnet.TLRPC.TL_error;
import org.telegram.tgnet.TLRPC.TL_inputNotifyPeer;
import org.telegram.tgnet.TLRPC.TL_inputPeerNotifySettings;
import org.telegram.tgnet.TLRPC.TL_keyboardButtonCallback;
import org.telegram.tgnet.TLRPC.TL_keyboardButtonRow;
import org.telegram.tgnet.TLRPC.TL_messageActionChannelCreate;
import org.telegram.tgnet.TLRPC.TL_messageActionChannelMigrateFrom;
import org.telegram.tgnet.TLRPC.TL_messageActionChatAddUser;
import org.telegram.tgnet.TLRPC.TL_messageActionChatCreate;
import org.telegram.tgnet.TLRPC.TL_messageActionChatDeletePhoto;
import org.telegram.tgnet.TLRPC.TL_messageActionChatDeleteUser;
import org.telegram.tgnet.TLRPC.TL_messageActionChatEditPhoto;
import org.telegram.tgnet.TLRPC.TL_messageActionChatEditTitle;
import org.telegram.tgnet.TLRPC.TL_messageActionChatJoinedByLink;
import org.telegram.tgnet.TLRPC.TL_messageActionChatMigrateTo;
import org.telegram.tgnet.TLRPC.TL_messageActionEmpty;
import org.telegram.tgnet.TLRPC.TL_messageActionGameScore;
import org.telegram.tgnet.TLRPC.TL_messageActionLoginUnknownLocation;
import org.telegram.tgnet.TLRPC.TL_messageActionPaymentSent;
import org.telegram.tgnet.TLRPC.TL_messageActionPhoneCall;
import org.telegram.tgnet.TLRPC.TL_messageActionPinMessage;
import org.telegram.tgnet.TLRPC.TL_messageActionScreenshotTaken;
import org.telegram.tgnet.TLRPC.TL_messageActionUserJoined;
import org.telegram.tgnet.TLRPC.TL_messageActionUserUpdatedPhoto;
import org.telegram.tgnet.TLRPC.TL_messageMediaContact;
import org.telegram.tgnet.TLRPC.TL_messageMediaDocument;
import org.telegram.tgnet.TLRPC.TL_messageMediaGame;
import org.telegram.tgnet.TLRPC.TL_messageMediaGeo;
import org.telegram.tgnet.TLRPC.TL_messageMediaGeoLive;
import org.telegram.tgnet.TLRPC.TL_messageMediaPhoto;
import org.telegram.tgnet.TLRPC.TL_messageMediaVenue;
import org.telegram.tgnet.TLRPC.TL_messageService;
import org.telegram.tgnet.TLRPC.TL_phoneCallDiscardReasonMissed;
import org.telegram.tgnet.TLRPC.User;
import org.telegram.ui.LaunchActivity;
import org.telegram.ui.PopupNotificationActivity;

public class NotificationsController {
    public static final String EXTRA_VOICE_REPLY = "extra_voice_reply";
    private static volatile NotificationsController[] Instance = new NotificationsController[3];
    public static final String OTHER_NOTIFICATIONS_CHANNEL = "Other3";
    protected static AudioManager audioManager = ((AudioManager) ApplicationLoader.applicationContext.getSystemService(MimeTypes.BASE_TYPE_AUDIO));
    public static long lastNoDataNotificationTime;
    private static NotificationManagerCompat notificationManager;
    private static DispatchQueue notificationsQueue = new DispatchQueue("notificationsQueue");
    private static NotificationManager systemNotificationManager;
    private AlarmManager alarmManager;
    private int currentAccount;
    private ArrayList<MessageObject> delayedPushMessages = new ArrayList();
    private boolean inChatSoundEnabled = true;
    private int lastBadgeCount = -1;
    private int lastButtonId = DefaultLoadControl.DEFAULT_BUFFER_FOR_PLAYBACK_AFTER_REBUFFER_MS;
    private boolean lastNotificationIsNoData;
    private int lastOnlineFromOtherDevice = 0;
    private long lastSoundOutPlay;
    private long lastSoundPlay;
    private LongSparseArray<Integer> lastWearNotifiedMessageId = new LongSparseArray();
    private String launcherClassName;
    private Runnable notificationDelayRunnable;
    private WakeLock notificationDelayWakelock;
    private String notificationGroup;
    private int notificationId;
    private boolean notifyCheck = false;
    private long opened_dialog_id = 0;
    private int personal_count = 0;
    public ArrayList<MessageObject> popupMessages = new ArrayList();
    public ArrayList<MessageObject> popupReplyMessages = new ArrayList();
    private LongSparseArray<Integer> pushDialogs = new LongSparseArray();
    private LongSparseArray<Integer> pushDialogsOverrideMention = new LongSparseArray();
    private ArrayList<MessageObject> pushMessages = new ArrayList();
    private LongSparseArray<MessageObject> pushMessagesDict = new LongSparseArray();
    public boolean showBadgeNumber;
    private LongSparseArray<Point> smartNotificationsDialogs = new LongSparseArray();
    private int soundIn;
    private boolean soundInLoaded;
    private int soundOut;
    private boolean soundOutLoaded;
    private SoundPool soundPool;
    private int soundRecord;
    private boolean soundRecordLoaded;
    private int total_unread_count = 0;
    private LongSparseArray<Integer> wearNotificationsIds = new LongSparseArray();

    /* renamed from: org.telegram.messenger.NotificationsController$1 */
    class C04261 implements Runnable {
        C04261() {
        }

        public void run() {
            if (BuildVars.LOGS_ENABLED) {
                FileLog.m0d("delay reached");
            }
            if (!NotificationsController.this.delayedPushMessages.isEmpty()) {
                NotificationsController.this.showOrUpdateNotification(true);
                NotificationsController.this.delayedPushMessages.clear();
            } else if (NotificationsController.this.lastNotificationIsNoData) {
                NotificationsController.notificationManager.cancel(NotificationsController.this.notificationId);
            }
            try {
                if (NotificationsController.this.notificationDelayWakelock.isHeld()) {
                    NotificationsController.this.notificationDelayWakelock.release();
                }
            } catch (Throwable e) {
                FileLog.m3e(e);
            }
        }
    }

    /* renamed from: org.telegram.messenger.NotificationsController$1NotificationHolder */
    class AnonymousClass1NotificationHolder {
        int id;
        Notification notification;

        AnonymousClass1NotificationHolder(int i, Notification n) {
            this.id = i;
            this.notification = n;
        }

        void call() {
            NotificationsController.notificationManager.notify(this.id, this.notification);
        }
    }

    /* renamed from: org.telegram.messenger.NotificationsController$2 */
    class C04272 implements Runnable {
        C04272() {
        }

        public void run() {
            NotificationsController.this.opened_dialog_id = 0;
            int a = 0;
            NotificationsController.this.total_unread_count = 0;
            NotificationsController.this.personal_count = 0;
            NotificationsController.this.pushMessages.clear();
            NotificationsController.this.pushMessagesDict.clear();
            NotificationsController.this.pushDialogs.clear();
            NotificationsController.this.wearNotificationsIds.clear();
            NotificationsController.this.lastWearNotifiedMessageId.clear();
            NotificationsController.this.delayedPushMessages.clear();
            NotificationsController.this.notifyCheck = false;
            NotificationsController.this.lastBadgeCount = 0;
            try {
                if (NotificationsController.this.notificationDelayWakelock.isHeld()) {
                    NotificationsController.this.notificationDelayWakelock.release();
                }
            } catch (Throwable e) {
                FileLog.m3e(e);
            }
            NotificationsController.this.setBadge(NotificationsController.this.getTotalAllUnreadCount());
            Editor editor = MessagesController.getNotificationsSettings(NotificationsController.this.currentAccount).edit();
            editor.clear();
            editor.commit();
            if (VERSION.SDK_INT >= 26) {
                try {
                    String keyStart = new StringBuilder();
                    keyStart.append(NotificationsController.this.currentAccount);
                    keyStart.append("channel");
                    keyStart = keyStart.toString();
                    List<NotificationChannel> list = NotificationsController.systemNotificationManager.getNotificationChannels();
                    int count = list.size();
                    while (a < count) {
                        String id = ((NotificationChannel) list.get(a)).getId();
                        if (id.startsWith(keyStart)) {
                            NotificationsController.systemNotificationManager.deleteNotificationChannel(id);
                        }
                        a++;
                    }
                } catch (Throwable e2) {
                    FileLog.m3e(e2);
                }
            }
        }
    }

    /* renamed from: org.telegram.messenger.NotificationsController$5 */
    class C04315 implements Runnable {
        C04315() {
        }

        public void run() {
            final ArrayList<MessageObject> popupArray = new ArrayList();
            for (int a = 0; a < NotificationsController.this.pushMessages.size(); a++) {
                MessageObject messageObject = (MessageObject) NotificationsController.this.pushMessages.get(a);
                long dialog_id = messageObject.getDialogId();
                if (!((messageObject.messageOwner.mentioned && (messageObject.messageOwner.action instanceof TL_messageActionPinMessage)) || ((int) dialog_id) == 0)) {
                    if (messageObject.messageOwner.to_id.channel_id == 0 || messageObject.isMegagroup()) {
                        popupArray.add(0, messageObject);
                    }
                }
            }
            if (!popupArray.isEmpty() && !AndroidUtilities.needShowPasscode(false)) {
                AndroidUtilities.runOnUIThread(new Runnable() {
                    public void run() {
                        NotificationsController.this.popupReplyMessages = popupArray;
                        Intent popupIntent = new Intent(ApplicationLoader.applicationContext, PopupNotificationActivity.class);
                        popupIntent.putExtra("force", true);
                        popupIntent.putExtra("currentAccount", NotificationsController.this.currentAccount);
                        popupIntent.setFlags(268763140);
                        ApplicationLoader.applicationContext.startActivity(popupIntent);
                        ApplicationLoader.applicationContext.sendBroadcast(new Intent("android.intent.action.CLOSE_SYSTEM_DIALOGS"));
                    }
                });
            }
        }
    }

    static {
        notificationManager = null;
        systemNotificationManager = null;
        if (VERSION.SDK_INT >= 26 && ApplicationLoader.applicationContext != null) {
            notificationManager = NotificationManagerCompat.from(ApplicationLoader.applicationContext);
            systemNotificationManager = (NotificationManager) ApplicationLoader.applicationContext.getSystemService("notification");
            NotificationChannel notificationChannel = new NotificationChannel(OTHER_NOTIFICATIONS_CHANNEL, "Other", 3);
            notificationChannel.enableLights(false);
            notificationChannel.enableVibration(false);
            notificationChannel.setSound(null, null);
            systemNotificationManager.createNotificationChannel(notificationChannel);
        }
    }

    public static NotificationsController getInstance(int num) {
        NotificationsController localInstance = Instance[num];
        if (localInstance == null) {
            synchronized (NotificationsController.class) {
                localInstance = Instance[num];
                if (localInstance == null) {
                    NotificationsController[] notificationsControllerArr = Instance;
                    NotificationsController notificationsController = new NotificationsController(num);
                    localInstance = notificationsController;
                    notificationsControllerArr[num] = notificationsController;
                }
            }
        }
        return localInstance;
    }

    public NotificationsController(int instance) {
        this.currentAccount = instance;
        this.notificationId = this.currentAccount + 1;
        StringBuilder stringBuilder = new StringBuilder();
        stringBuilder.append("messages");
        stringBuilder.append(this.currentAccount == 0 ? TtmlNode.ANONYMOUS_REGION_ID : Integer.valueOf(this.currentAccount));
        this.notificationGroup = stringBuilder.toString();
        SharedPreferences preferences = MessagesController.getNotificationsSettings(this.currentAccount);
        this.inChatSoundEnabled = preferences.getBoolean("EnableInChatSound", true);
        this.showBadgeNumber = preferences.getBoolean("badgeNumber", true);
        notificationManager = NotificationManagerCompat.from(ApplicationLoader.applicationContext);
        systemNotificationManager = (NotificationManager) ApplicationLoader.applicationContext.getSystemService("notification");
        try {
            audioManager = (AudioManager) ApplicationLoader.applicationContext.getSystemService(MimeTypes.BASE_TYPE_AUDIO);
        } catch (Throwable e) {
            FileLog.m3e(e);
        }
        try {
            this.alarmManager = (AlarmManager) ApplicationLoader.applicationContext.getSystemService("alarm");
        } catch (Throwable e2) {
            FileLog.m3e(e2);
        }
        try {
            this.notificationDelayWakelock = ((PowerManager) ApplicationLoader.applicationContext.getSystemService("power")).newWakeLock(1, "lock");
            this.notificationDelayWakelock.setReferenceCounted(false);
        } catch (Throwable e3) {
            FileLog.m3e(e3);
        }
        this.notificationDelayRunnable = new C04261();
    }

    public void cleanup() {
        this.popupMessages.clear();
        this.popupReplyMessages.clear();
        notificationsQueue.postRunnable(new C04272());
    }

    public void setInChatSoundEnabled(boolean value) {
        this.inChatSoundEnabled = value;
    }

    public void setOpenedDialogId(final long dialog_id) {
        notificationsQueue.postRunnable(new Runnable() {
            public void run() {
                NotificationsController.this.opened_dialog_id = dialog_id;
            }
        });
    }

    public void setLastOnlineFromOtherDevice(final int time) {
        notificationsQueue.postRunnable(new Runnable() {
            public void run() {
                if (BuildVars.LOGS_ENABLED) {
                    StringBuilder stringBuilder = new StringBuilder();
                    stringBuilder.append("set last online from other device = ");
                    stringBuilder.append(time);
                    FileLog.m0d(stringBuilder.toString());
                }
                NotificationsController.this.lastOnlineFromOtherDevice = time;
            }
        });
    }

    public void removeNotificationsForDialog(long did) {
        getInstance(this.currentAccount).processReadMessages(null, did, 0, ConnectionsManager.DEFAULT_DATACENTER_ID, false);
        LongSparseArray<Integer> dialogsToUpdate = new LongSparseArray();
        dialogsToUpdate.put(did, Integer.valueOf(0));
        getInstance(this.currentAccount).processDialogsUpdateRead(dialogsToUpdate);
    }

    public boolean hasMessagesToReply() {
        for (int a = 0; a < this.pushMessages.size(); a++) {
            MessageObject messageObject = (MessageObject) this.pushMessages.get(a);
            long dialog_id = messageObject.getDialogId();
            if (!((messageObject.messageOwner.mentioned && (messageObject.messageOwner.action instanceof TL_messageActionPinMessage)) || ((int) dialog_id) == 0)) {
                if (messageObject.messageOwner.to_id.channel_id == 0 || messageObject.isMegagroup()) {
                    return true;
                }
            }
        }
        return false;
    }

    protected void forceShowPopupForReply() {
        notificationsQueue.postRunnable(new C04315());
    }

    public void removeDeletedMessagesFromNotifications(final SparseArray<ArrayList<Integer>> deletedMessages) {
        final ArrayList<MessageObject> popupArrayRemove = new ArrayList(0);
        notificationsQueue.postRunnable(new Runnable() {

            /* renamed from: org.telegram.messenger.NotificationsController$6$1 */
            class C04321 implements Runnable {
                C04321() {
                }

                public void run() {
                    int size = popupArrayRemove.size();
                    for (int a = 0; a < size; a++) {
                        NotificationsController.this.popupMessages.remove(popupArrayRemove.get(a));
                    }
                }
            }

            /* renamed from: org.telegram.messenger.NotificationsController$6$2 */
            class C04332 implements Runnable {
                C04332() {
                }

                public void run() {
                    NotificationCenter.getGlobalInstance().postNotificationName(NotificationCenter.notificationsCountUpdated, Integer.valueOf(NotificationsController.this.currentAccount));
                }
            }

            public void run() {
                int old_unread_count = NotificationsController.this.total_unread_count;
                SharedPreferences preferences = MessagesController.getNotificationsSettings(NotificationsController.this.currentAccount);
                int i = 0;
                int a = 0;
                while (a < deletedMessages.size()) {
                    int a2;
                    long dialog_id;
                    int key = deletedMessages.keyAt(a);
                    long dialog_id2 = (long) (-key);
                    ArrayList<Integer> mids = (ArrayList) deletedMessages.get(key);
                    Integer currentCount = (Integer) NotificationsController.this.pushDialogs.get(dialog_id2);
                    if (currentCount == null) {
                        currentCount = Integer.valueOf(i);
                    }
                    Integer newCount = currentCount;
                    int b = i;
                    while (b < mids.size()) {
                        a2 = a;
                        dialog_id = dialog_id2;
                        long mid = ((long) ((Integer) mids.get(b)).intValue()) | (((long) key) << 32);
                        MessageObject messageObject = (MessageObject) NotificationsController.this.pushMessagesDict.get(mid);
                        if (messageObject != null) {
                            NotificationsController.this.pushMessagesDict.remove(mid);
                            NotificationsController.this.delayedPushMessages.remove(messageObject);
                            NotificationsController.this.pushMessages.remove(messageObject);
                            if (NotificationsController.this.isPersonalMessage(messageObject)) {
                                NotificationsController.this.personal_count = NotificationsController.this.personal_count - 1;
                            }
                            popupArrayRemove.add(messageObject);
                            newCount = Integer.valueOf(newCount.intValue() - 1);
                        }
                        b++;
                        a = a2;
                        dialog_id2 = dialog_id;
                    }
                    a2 = a;
                    dialog_id = dialog_id2;
                    if (newCount.intValue() <= 0) {
                        newCount = Integer.valueOf(0);
                        mid = dialog_id;
                        NotificationsController.this.smartNotificationsDialogs.remove(mid);
                    } else {
                        mid = dialog_id;
                    }
                    if (!newCount.equals(currentCount)) {
                        NotificationsController.this.total_unread_count = NotificationsController.this.total_unread_count - currentCount.intValue();
                        NotificationsController.this.total_unread_count = NotificationsController.this.total_unread_count + newCount.intValue();
                        NotificationsController.this.pushDialogs.put(mid, newCount);
                    }
                    if (newCount.intValue() == 0) {
                        NotificationsController.this.pushDialogs.remove(mid);
                        NotificationsController.this.pushDialogsOverrideMention.remove(mid);
                    }
                    a = a2 + 1;
                    i = 0;
                }
                boolean z = true;
                if (!popupArrayRemove.isEmpty()) {
                    AndroidUtilities.runOnUIThread(new C04321());
                }
                if (old_unread_count != NotificationsController.this.total_unread_count) {
                    if (NotificationsController.this.notifyCheck) {
                        NotificationsController notificationsController = NotificationsController.this;
                        if (NotificationsController.this.lastOnlineFromOtherDevice <= ConnectionsManager.getInstance(NotificationsController.this.currentAccount).getCurrentTime()) {
                            z = false;
                        }
                        notificationsController.scheduleNotificationDelay(z);
                    } else {
                        NotificationsController.this.delayedPushMessages.clear();
                        NotificationsController.this.showOrUpdateNotification(NotificationsController.this.notifyCheck);
                    }
                    AndroidUtilities.runOnUIThread(new C04332());
                }
                NotificationsController.this.notifyCheck = false;
                if (NotificationsController.this.showBadgeNumber) {
                    NotificationsController.this.setBadge(NotificationsController.this.getTotalAllUnreadCount());
                }
            }
        });
    }

    public void removeDeletedHisoryFromNotifications(final SparseIntArray deletedMessages) {
        final ArrayList<MessageObject> popupArrayRemove = new ArrayList(0);
        notificationsQueue.postRunnable(new Runnable() {

            /* renamed from: org.telegram.messenger.NotificationsController$7$1 */
            class C04351 implements Runnable {
                C04351() {
                }

                public void run() {
                    int size = popupArrayRemove.size();
                    for (int a = 0; a < size; a++) {
                        NotificationsController.this.popupMessages.remove(popupArrayRemove.get(a));
                    }
                }
            }

            /* renamed from: org.telegram.messenger.NotificationsController$7$2 */
            class C04362 implements Runnable {
                C04362() {
                }

                public void run() {
                    NotificationCenter.getGlobalInstance().postNotificationName(NotificationCenter.notificationsCountUpdated, Integer.valueOf(NotificationsController.this.currentAccount));
                }
            }

            public void run() {
                int old_unread_count = NotificationsController.this.total_unread_count;
                SharedPreferences preferences = MessagesController.getNotificationsSettings(NotificationsController.this.currentAccount);
                int i = 0;
                int a = 0;
                while (true) {
                    boolean z = true;
                    if (a >= deletedMessages.size()) {
                        break;
                    }
                    int a2;
                    int key = deletedMessages.keyAt(a);
                    long dialog_id = (long) (-key);
                    int id = deletedMessages.get(key);
                    Integer currentCount = (Integer) NotificationsController.this.pushDialogs.get(dialog_id);
                    if (currentCount == null) {
                        currentCount = Integer.valueOf(i);
                    }
                    Integer newCount = currentCount;
                    int c = i;
                    while (c < NotificationsController.this.pushMessages.size()) {
                        MessageObject messageObject = (MessageObject) NotificationsController.this.pushMessages.get(c);
                        if (messageObject.getDialogId() != dialog_id || messageObject.getId() > id) {
                            a2 = a;
                        } else {
                            a2 = a;
                            NotificationsController.this.pushMessagesDict.remove(messageObject.getIdWithChannel());
                            NotificationsController.this.delayedPushMessages.remove(messageObject);
                            NotificationsController.this.pushMessages.remove(messageObject);
                            c--;
                            if (NotificationsController.this.isPersonalMessage(messageObject)) {
                                NotificationsController.this.personal_count = NotificationsController.this.personal_count - 1;
                            }
                            popupArrayRemove.add(messageObject);
                            newCount = Integer.valueOf(newCount.intValue() - 1);
                        }
                        c++;
                        a = a2;
                    }
                    a2 = a;
                    if (newCount.intValue() <= 0) {
                        newCount = Integer.valueOf(0);
                        NotificationsController.this.smartNotificationsDialogs.remove(dialog_id);
                    }
                    if (!newCount.equals(currentCount)) {
                        NotificationsController.this.total_unread_count = NotificationsController.this.total_unread_count - currentCount.intValue();
                        NotificationsController.this.total_unread_count = NotificationsController.this.total_unread_count + newCount.intValue();
                        NotificationsController.this.pushDialogs.put(dialog_id, newCount);
                    }
                    if (newCount.intValue() == 0) {
                        NotificationsController.this.pushDialogs.remove(dialog_id);
                        NotificationsController.this.pushDialogsOverrideMention.remove(dialog_id);
                    }
                    a = a2 + 1;
                    i = 0;
                }
                if (popupArrayRemove.isEmpty()) {
                    AndroidUtilities.runOnUIThread(new C04351());
                }
                if (old_unread_count != NotificationsController.this.total_unread_count) {
                    if (NotificationsController.this.notifyCheck) {
                        NotificationsController notificationsController = NotificationsController.this;
                        if (NotificationsController.this.lastOnlineFromOtherDevice <= ConnectionsManager.getInstance(NotificationsController.this.currentAccount).getCurrentTime()) {
                            z = false;
                        }
                        notificationsController.scheduleNotificationDelay(z);
                    } else {
                        NotificationsController.this.delayedPushMessages.clear();
                        NotificationsController.this.showOrUpdateNotification(NotificationsController.this.notifyCheck);
                    }
                    AndroidUtilities.runOnUIThread(new C04362());
                }
                NotificationsController.this.notifyCheck = false;
                if (NotificationsController.this.showBadgeNumber) {
                    NotificationsController.this.setBadge(NotificationsController.this.getTotalAllUnreadCount());
                }
            }
        });
    }

    public void processReadMessages(SparseLongArray inbox, long dialog_id, int max_date, int max_id, boolean isPopup) {
        final ArrayList<MessageObject> popupArrayRemove = new ArrayList(0);
        final SparseLongArray sparseLongArray = inbox;
        final long j = dialog_id;
        final int i = max_id;
        final int i2 = max_date;
        final boolean z = isPopup;
        notificationsQueue.postRunnable(new Runnable() {

            /* renamed from: org.telegram.messenger.NotificationsController$8$1 */
            class C04381 implements Runnable {
                C04381() {
                }

                public void run() {
                    int size = popupArrayRemove.size();
                    for (int a = 0; a < size; a++) {
                        NotificationsController.this.popupMessages.remove(popupArrayRemove.get(a));
                    }
                    NotificationCenter.getGlobalInstance().postNotificationName(NotificationCenter.pushMessagesUpdated, new Object[0]);
                }
            }

            public void run() {
                int b;
                int a = 0;
                if (sparseLongArray != null) {
                    for (b = 0; b < sparseLongArray.size(); b++) {
                        int key = sparseLongArray.keyAt(b);
                        long messageId = sparseLongArray.get(key);
                        int a2 = 0;
                        while (a2 < NotificationsController.this.pushMessages.size()) {
                            MessageObject messageObject = (MessageObject) NotificationsController.this.pushMessages.get(a2);
                            if (messageObject.getDialogId() == ((long) key) && messageObject.getId() <= ((int) messageId)) {
                                if (NotificationsController.this.isPersonalMessage(messageObject)) {
                                    NotificationsController.this.personal_count = NotificationsController.this.personal_count - 1;
                                }
                                popupArrayRemove.add(messageObject);
                                long mid = (long) messageObject.getId();
                                if (messageObject.messageOwner.to_id.channel_id != 0) {
                                    mid |= ((long) messageObject.messageOwner.to_id.channel_id) << 32;
                                }
                                NotificationsController.this.pushMessagesDict.remove(mid);
                                NotificationsController.this.delayedPushMessages.remove(messageObject);
                                NotificationsController.this.pushMessages.remove(a2);
                                a2--;
                            }
                            a2++;
                        }
                    }
                }
                if (j != 0 && (i != 0 || i2 != 0)) {
                    while (true) {
                        b = a;
                        if (b >= NotificationsController.this.pushMessages.size()) {
                            break;
                        }
                        MessageObject messageObject2 = (MessageObject) NotificationsController.this.pushMessages.get(b);
                        if (messageObject2.getDialogId() == j) {
                            boolean remove = false;
                            if (i2 != 0) {
                                if (messageObject2.messageOwner.date <= i2) {
                                    remove = true;
                                }
                            } else if (z) {
                                if (messageObject2.getId() == i || i < 0) {
                                    remove = true;
                                }
                            } else if (messageObject2.getId() <= i || i < 0) {
                                remove = true;
                            }
                            if (remove) {
                                if (NotificationsController.this.isPersonalMessage(messageObject2)) {
                                    NotificationsController.this.personal_count = NotificationsController.this.personal_count - 1;
                                }
                                NotificationsController.this.pushMessages.remove(b);
                                NotificationsController.this.delayedPushMessages.remove(messageObject2);
                                popupArrayRemove.add(messageObject2);
                                messageId = (long) messageObject2.getId();
                                if (messageObject2.messageOwner.to_id.channel_id != 0) {
                                    messageId |= ((long) messageObject2.messageOwner.to_id.channel_id) << 32;
                                }
                                NotificationsController.this.pushMessagesDict.remove(messageId);
                                b--;
                            }
                        }
                        a = b + 1;
                    }
                }
                if (!popupArrayRemove.isEmpty()) {
                    AndroidUtilities.runOnUIThread(new C04381());
                }
            }
        });
    }

    public void processNewMessages(ArrayList<MessageObject> messageObjects, boolean isLast, boolean isFcm) {
        if (!messageObjects.isEmpty()) {
            final ArrayList<MessageObject> popupArrayAdd = new ArrayList(0);
            final ArrayList<MessageObject> arrayList = messageObjects;
            final boolean z = isFcm;
            final boolean z2 = isLast;
            notificationsQueue.postRunnable(new Runnable() {

                /* renamed from: org.telegram.messenger.NotificationsController$9$2 */
                class C04412 implements Runnable {
                    C04412() {
                    }

                    public void run() {
                        NotificationCenter.getGlobalInstance().postNotificationName(NotificationCenter.notificationsCountUpdated, Integer.valueOf(NotificationsController.this.currentAccount));
                    }
                }

                public void run() {
                    boolean z;
                    LongSparseArray<Boolean> settingsCache = new LongSparseArray();
                    SharedPreferences preferences = MessagesController.getNotificationsSettings(NotificationsController.this.currentAccount);
                    boolean z2 = true;
                    boolean allowPinned = preferences.getBoolean("PinnedMessages", true);
                    int popup = 0;
                    boolean added = false;
                    int a = 0;
                    while (a < arrayList.size()) {
                        int index;
                        LongSparseArray<Boolean> longSparseArray;
                        MessageObject messageObject = (MessageObject) arrayList.get(a);
                        long mid = (long) messageObject.getId();
                        if (messageObject.messageOwner.to_id.channel_id != 0) {
                            mid |= ((long) messageObject.messageOwner.to_id.channel_id) << 32;
                        }
                        MessageObject oldMessageObject = (MessageObject) NotificationsController.this.pushMessagesDict.get(mid);
                        int i;
                        if (oldMessageObject == null) {
                            long dialog_id = messageObject.getDialogId();
                            long original_dialog_id = dialog_id;
                            if (dialog_id != NotificationsController.this.opened_dialog_id || !ApplicationLoader.isScreenOn) {
                                boolean added2;
                                if (messageObject.messageOwner.mentioned) {
                                    if (allowPinned || !(messageObject.messageOwner.action instanceof TL_messageActionPinMessage)) {
                                        dialog_id = (long) messageObject.messageOwner.from_id;
                                    }
                                }
                                if (NotificationsController.this.isPersonalMessage(messageObject)) {
                                    NotificationsController.this.personal_count = NotificationsController.this.personal_count + 1;
                                }
                                int lower_id = (int) dialog_id;
                                boolean isChat = lower_id < 0 ? z2 : false;
                                index = settingsCache.indexOfKey(dialog_id);
                                if (index >= 0) {
                                    z = allowPinned;
                                    int i2 = index;
                                    allowPinned = ((Boolean) settingsCache.valueAt(index)).booleanValue();
                                } else {
                                    boolean notifyOverride = NotificationsController.this.getNotifyOverride(preferences, dialog_id);
                                    z = allowPinned;
                                    if (!notifyOverride) {
                                        if ((preferences.getBoolean("EnableAll", true) && (!isChat || preferences.getBoolean("EnableGroup", true))) || notifyOverride) {
                                            allowPinned = true;
                                            settingsCache.put(dialog_id, Boolean.valueOf(allowPinned));
                                        }
                                    }
                                    allowPinned = false;
                                    settingsCache.put(dialog_id, Boolean.valueOf(allowPinned));
                                }
                                if (lower_id != 0) {
                                    StringBuilder stringBuilder = new StringBuilder();
                                    stringBuilder.append("custom_");
                                    stringBuilder.append(dialog_id);
                                    if (preferences.getBoolean(stringBuilder.toString(), false)) {
                                        stringBuilder = new StringBuilder();
                                        stringBuilder.append("popup_");
                                        stringBuilder.append(dialog_id);
                                        index = preferences.getInt(stringBuilder.toString(), 0);
                                    } else {
                                        index = 0;
                                    }
                                    popup = index;
                                    if (popup == 0) {
                                        popup = preferences.getInt(((int) dialog_id) < 0 ? "popupGroup" : "popupAll", 0);
                                    } else if (popup == 1) {
                                        popup = 3;
                                    } else if (popup == 2) {
                                        popup = 0;
                                    }
                                }
                                if (!(popup == 0 || messageObject.messageOwner.to_id.channel_id == 0 || messageObject.isMegagroup())) {
                                    popup = 0;
                                }
                                if (allowPinned) {
                                    if (popup != 0) {
                                        i = 0;
                                        popupArrayAdd.add(0, messageObject);
                                    } else {
                                        i = 0;
                                    }
                                    NotificationsController.this.delayedPushMessages.add(messageObject);
                                    NotificationsController.this.pushMessages.add(i, messageObject);
                                    NotificationsController.this.pushMessagesDict.put(mid, messageObject);
                                    long original_dialog_id2 = original_dialog_id;
                                    if (original_dialog_id2 != dialog_id) {
                                        longSparseArray = settingsCache;
                                        added2 = true;
                                        NotificationsController.this.pushDialogsOverrideMention.put(original_dialog_id2, Integer.valueOf(1));
                                        added = added2;
                                        a++;
                                        allowPinned = z;
                                        settingsCache = longSparseArray;
                                        z2 = true;
                                    }
                                }
                                longSparseArray = settingsCache;
                                added2 = true;
                                added = added2;
                                a++;
                                allowPinned = z;
                                settingsCache = longSparseArray;
                                z2 = true;
                            } else if (!z) {
                                NotificationsController.this.playInChatSound();
                            }
                        } else if (oldMessageObject.isFcmMessage()) {
                            NotificationsController.this.pushMessagesDict.put(mid, messageObject);
                            i = NotificationsController.this.pushMessages.indexOf(oldMessageObject);
                            if (i >= 0) {
                                NotificationsController.this.pushMessages.set(i, messageObject);
                            }
                        }
                        longSparseArray = settingsCache;
                        z = allowPinned;
                        a++;
                        allowPinned = z;
                        settingsCache = longSparseArray;
                        z2 = true;
                    }
                    z = allowPinned;
                    if (added) {
                        NotificationsController.this.notifyCheck = z2;
                    }
                    if (!(popupArrayAdd.isEmpty() || AndroidUtilities.needShowPasscode(false))) {
                        a = popup;
                        AndroidUtilities.runOnUIThread(new Runnable() {
                            public void run() {
                                NotificationsController.this.popupMessages.addAll(0, popupArrayAdd);
                                if (!ApplicationLoader.mainInterfacePaused && (ApplicationLoader.isScreenOn || SharedConfig.isWaitingForPasscodeEnter)) {
                                    return;
                                }
                                if (a == 3 || ((a == 1 && ApplicationLoader.isScreenOn) || (a == 2 && !ApplicationLoader.isScreenOn))) {
                                    Intent popupIntent = new Intent(ApplicationLoader.applicationContext, PopupNotificationActivity.class);
                                    popupIntent.setFlags(268763140);
                                    ApplicationLoader.applicationContext.startActivity(popupIntent);
                                }
                            }
                        });
                    }
                    if (added && z) {
                        boolean z3;
                        Integer newCount;
                        long dialog_id2 = ((MessageObject) arrayList.get(0)).getDialogId();
                        int old_unread_count = NotificationsController.this.total_unread_count;
                        index = NotificationsController.this.getNotifyOverride(preferences, dialog_id2);
                        if (NotificationsController.this.notifyCheck) {
                            Integer override = (Integer) NotificationsController.this.pushDialogsOverrideMention.get(dialog_id2);
                            if (override != null && override.intValue() == 1) {
                                NotificationsController.this.pushDialogsOverrideMention.put(dialog_id2, Integer.valueOf(0));
                                index = 1;
                            }
                        }
                        boolean canAddValue = index != 2 && ((preferences.getBoolean("EnableAll", true) && (((int) dialog_id2) >= 0 || preferences.getBoolean("EnableGroup", true))) || index != 0);
                        Integer currentCount = (Integer) NotificationsController.this.pushDialogs.get(dialog_id2);
                        if (currentCount != null) {
                            z3 = true;
                            newCount = currentCount.intValue() + 1;
                        } else {
                            z3 = true;
                            newCount = 1;
                        }
                        newCount = Integer.valueOf(newCount);
                        if (canAddValue) {
                            if (currentCount != null) {
                                NotificationsController.this.total_unread_count = NotificationsController.this.total_unread_count - currentCount.intValue();
                            }
                            NotificationsController.this.total_unread_count = NotificationsController.this.total_unread_count + newCount.intValue();
                            NotificationsController.this.pushDialogs.put(dialog_id2, newCount);
                        }
                        if (old_unread_count != NotificationsController.this.total_unread_count) {
                            if (NotificationsController.this.notifyCheck) {
                                NotificationsController notificationsController = NotificationsController.this;
                                if (NotificationsController.this.lastOnlineFromOtherDevice <= ConnectionsManager.getInstance(NotificationsController.this.currentAccount).getCurrentTime()) {
                                    z3 = false;
                                }
                                notificationsController.scheduleNotificationDelay(z3);
                            } else {
                                NotificationsController.this.delayedPushMessages.clear();
                                NotificationsController.this.showOrUpdateNotification(NotificationsController.this.notifyCheck);
                            }
                            AndroidUtilities.runOnUIThread(new C04412());
                        }
                        NotificationsController.this.notifyCheck = false;
                        if (NotificationsController.this.showBadgeNumber) {
                            NotificationsController.this.setBadge(NotificationsController.this.getTotalAllUnreadCount());
                        }
                    }
                }
            });
        }
    }

    public int getTotalUnreadCount() {
        return this.total_unread_count;
    }

    public void processDialogsUpdateRead(final LongSparseArray<Integer> dialogsToUpdate) {
        final ArrayList<MessageObject> popupArrayToRemove = new ArrayList();
        notificationsQueue.postRunnable(new Runnable() {

            /* renamed from: org.telegram.messenger.NotificationsController$10$1 */
            class C04211 implements Runnable {
                C04211() {
                }

                public void run() {
                    int size = popupArrayToRemove.size();
                    for (int a = 0; a < size; a++) {
                        NotificationsController.this.popupMessages.remove(popupArrayToRemove.get(a));
                    }
                }
            }

            /* renamed from: org.telegram.messenger.NotificationsController$10$2 */
            class C04222 implements Runnable {
                C04222() {
                }

                public void run() {
                    NotificationCenter.getGlobalInstance().postNotificationName(NotificationCenter.notificationsCountUpdated, Integer.valueOf(NotificationsController.this.currentAccount));
                }
            }

            public void run() {
                int old_unread_count = NotificationsController.this.total_unread_count;
                SharedPreferences preferences = MessagesController.getNotificationsSettings(NotificationsController.this.currentAccount);
                boolean z = false;
                int b = 0;
                while (b < dialogsToUpdate.size()) {
                    long dialog_id = dialogsToUpdate.keyAt(b);
                    int notifyOverride = NotificationsController.this.getNotifyOverride(preferences, dialog_id);
                    if (NotificationsController.this.notifyCheck) {
                        Integer override = (Integer) NotificationsController.this.pushDialogsOverrideMention.get(dialog_id);
                        if (override != null && override.intValue() == 1) {
                            NotificationsController.this.pushDialogsOverrideMention.put(dialog_id, Integer.valueOf(z));
                            notifyOverride = 1;
                        }
                    }
                    boolean canAddValue = (notifyOverride == 2 || ((!preferences.getBoolean("EnableAll", true) || (((int) dialog_id) < 0 && !preferences.getBoolean("EnableGroup", true))) && notifyOverride == 0)) ? z : true;
                    Integer currentCount = (Integer) NotificationsController.this.pushDialogs.get(dialog_id);
                    Integer newCount = (Integer) dialogsToUpdate.get(dialog_id);
                    if (newCount.intValue() == 0) {
                        NotificationsController.this.smartNotificationsDialogs.remove(dialog_id);
                    }
                    if (newCount.intValue() < 0) {
                        if (currentCount == null) {
                            b++;
                            z = false;
                        } else {
                            newCount = Integer.valueOf(currentCount.intValue() + newCount.intValue());
                        }
                    }
                    if ((canAddValue || newCount.intValue() == 0) && currentCount != null) {
                        NotificationsController.this.total_unread_count = NotificationsController.this.total_unread_count - currentCount.intValue();
                    }
                    long j;
                    if (newCount.intValue() == 0) {
                        NotificationsController.this.pushDialogs.remove(dialog_id);
                        NotificationsController.this.pushDialogsOverrideMention.remove(dialog_id);
                        int a = z;
                        while (a < NotificationsController.this.pushMessages.size()) {
                            MessageObject messageObject = (MessageObject) NotificationsController.this.pushMessages.get(a);
                            if (messageObject.getDialogId() == dialog_id) {
                                if (NotificationsController.this.isPersonalMessage(messageObject)) {
                                    NotificationsController.this.personal_count = NotificationsController.this.personal_count - 1;
                                }
                                NotificationsController.this.pushMessages.remove(a);
                                a--;
                                NotificationsController.this.delayedPushMessages.remove(messageObject);
                                long mid = (long) messageObject.getId();
                                if (messageObject.messageOwner.to_id.channel_id != 0) {
                                    j = dialog_id;
                                    mid |= ((long) messageObject.messageOwner.to_id.channel_id) << 32;
                                } else {
                                    j = dialog_id;
                                }
                                NotificationsController.this.pushMessagesDict.remove(mid);
                                popupArrayToRemove.add(messageObject);
                            } else {
                                j = dialog_id;
                            }
                            a++;
                            int i = 1;
                            dialog_id = j;
                        }
                    } else {
                        j = dialog_id;
                        if (canAddValue) {
                            NotificationsController.this.total_unread_count = NotificationsController.this.total_unread_count + newCount.intValue();
                            NotificationsController.this.pushDialogs.put(j, newCount);
                        }
                    }
                    b++;
                    z = false;
                }
                z = true;
                if (!popupArrayToRemove.isEmpty()) {
                    AndroidUtilities.runOnUIThread(new C04211());
                }
                if (old_unread_count != NotificationsController.this.total_unread_count) {
                    if (NotificationsController.this.notifyCheck) {
                        NotificationsController notificationsController = NotificationsController.this;
                        if (NotificationsController.this.lastOnlineFromOtherDevice <= ConnectionsManager.getInstance(NotificationsController.this.currentAccount).getCurrentTime()) {
                            z = false;
                        }
                        notificationsController.scheduleNotificationDelay(z);
                    } else {
                        NotificationsController.this.delayedPushMessages.clear();
                        NotificationsController.this.showOrUpdateNotification(NotificationsController.this.notifyCheck);
                    }
                    AndroidUtilities.runOnUIThread(new C04222());
                }
                NotificationsController.this.notifyCheck = false;
                if (NotificationsController.this.showBadgeNumber) {
                    NotificationsController.this.setBadge(NotificationsController.this.getTotalAllUnreadCount());
                }
            }
        });
    }

    public void processLoadedUnreadMessages(final LongSparseArray<Integer> dialogs, final ArrayList<Message> messages, ArrayList<User> users, ArrayList<Chat> chats, ArrayList<EncryptedChat> encryptedChats) {
        MessagesController.getInstance(this.currentAccount).putUsers(users, true);
        MessagesController.getInstance(this.currentAccount).putChats(chats, true);
        MessagesController.getInstance(this.currentAccount).putEncryptedChats(encryptedChats, true);
        notificationsQueue.postRunnable(new Runnable() {

            /* renamed from: org.telegram.messenger.NotificationsController$11$1 */
            class C04231 implements Runnable {
                C04231() {
                }

                public void run() {
                    if (NotificationsController.this.total_unread_count == 0) {
                        NotificationsController.this.popupMessages.clear();
                        NotificationCenter.getGlobalInstance().postNotificationName(NotificationCenter.pushMessagesUpdated, new Object[0]);
                    }
                    NotificationCenter.getGlobalInstance().postNotificationName(NotificationCenter.notificationsCountUpdated, Integer.valueOf(NotificationsController.this.currentAccount));
                }
            }

            public void run() {
                boolean z;
                NotificationsController.this.pushDialogs.clear();
                NotificationsController.this.pushMessages.clear();
                NotificationsController.this.pushMessagesDict.clear();
                boolean z2 = false;
                NotificationsController.this.total_unread_count = 0;
                NotificationsController.this.personal_count = 0;
                SharedPreferences preferences = MessagesController.getNotificationsSettings(NotificationsController.this.currentAccount);
                LongSparseArray<Boolean> settingsCache = new LongSparseArray();
                int i = 2;
                boolean z3 = true;
                if (messages != null) {
                    int a = 0;
                    while (a < messages.size()) {
                        Message message = (Message) messages.get(a);
                        long mid = (long) message.id;
                        if (message.to_id.channel_id != 0) {
                            mid |= ((long) message.to_id.channel_id) << 32;
                        }
                        if (NotificationsController.this.pushMessagesDict.indexOfKey(mid) < 0) {
                            MessageObject messageObject = new MessageObject(NotificationsController.this.currentAccount, message, z2);
                            if (NotificationsController.this.isPersonalMessage(messageObject)) {
                                NotificationsController.this.personal_count = NotificationsController.this.personal_count + 1;
                            }
                            long dialog_id = messageObject.getDialogId();
                            long original_dialog_id = dialog_id;
                            if (messageObject.messageOwner.mentioned) {
                                dialog_id = (long) messageObject.messageOwner.from_id;
                            }
                            int index = settingsCache.indexOfKey(dialog_id);
                            if (index >= 0) {
                                z2 = ((Boolean) settingsCache.valueAt(index)).booleanValue();
                            } else {
                                int notifyOverride = NotificationsController.this.getNotifyOverride(preferences, dialog_id);
                                boolean value = (notifyOverride == i || ((!preferences.getBoolean("EnableAll", z3) || (((int) dialog_id) < 0 && !preferences.getBoolean("EnableGroup", z3))) && notifyOverride == 0)) ? false : z3;
                                settingsCache.put(dialog_id, Boolean.valueOf(value));
                                z2 = value;
                            }
                            if (z2) {
                                if (dialog_id != NotificationsController.this.opened_dialog_id || !ApplicationLoader.isScreenOn) {
                                    NotificationsController.this.pushMessagesDict.put(mid, messageObject);
                                    NotificationsController.this.pushMessages.add(0, messageObject);
                                    if (original_dialog_id != dialog_id) {
                                        NotificationsController.this.pushDialogsOverrideMention.put(original_dialog_id, Integer.valueOf(1));
                                    }
                                }
                            }
                        }
                        a++;
                        z2 = false;
                        i = 2;
                        z3 = true;
                    }
                }
                for (notifyOverride = 0; notifyOverride < dialogs.size(); notifyOverride++) {
                    boolean value2;
                    long dialog_id2 = dialogs.keyAt(notifyOverride);
                    int index2 = settingsCache.indexOfKey(dialog_id2);
                    if (index2 >= 0) {
                        value2 = ((Boolean) settingsCache.valueAt(index2)).booleanValue();
                    } else {
                        boolean value3;
                        int notifyOverride2 = NotificationsController.this.getNotifyOverride(preferences, dialog_id2);
                        Integer override = (Integer) NotificationsController.this.pushDialogsOverrideMention.get(dialog_id2);
                        if (override == null || override.intValue() != 1) {
                            z = false;
                        } else {
                            z = false;
                            NotificationsController.this.pushDialogsOverrideMention.put(dialog_id2, Integer.valueOf(0));
                            notifyOverride2 = 1;
                        }
                        if (notifyOverride2 != 2) {
                            if ((preferences.getBoolean("EnableAll", true) && (((int) dialog_id2) >= 0 || preferences.getBoolean("EnableGroup", true))) || notifyOverride2 != 0) {
                                value3 = true;
                                settingsCache.put(dialog_id2, Boolean.valueOf(value3));
                                value2 = value3;
                            }
                        }
                        value3 = z;
                        settingsCache.put(dialog_id2, Boolean.valueOf(value3));
                        value2 = value3;
                    }
                    if (value2) {
                        int count = ((Integer) dialogs.valueAt(notifyOverride)).intValue();
                        NotificationsController.this.pushDialogs.put(dialog_id2, Integer.valueOf(count));
                        NotificationsController.this.total_unread_count = NotificationsController.this.total_unread_count + count;
                    }
                }
                z = false;
                AndroidUtilities.runOnUIThread(new C04231());
                NotificationsController notificationsController = NotificationsController.this;
                if (SystemClock.uptimeMillis() / 1000 < 60) {
                    z = true;
                }
                notificationsController.showOrUpdateNotification(z);
                if (NotificationsController.this.showBadgeNumber) {
                    NotificationsController.this.setBadge(NotificationsController.this.getTotalAllUnreadCount());
                }
            }
        });
    }

    private int getTotalAllUnreadCount() {
        int count = 0;
        for (int a = 0; a < 3; a++) {
            if (UserConfig.getInstance(a).isClientActivated()) {
                NotificationsController controller = getInstance(a);
                if (controller.showBadgeNumber) {
                    count += controller.total_unread_count;
                }
            }
        }
        return count;
    }

    public void setBadgeEnabled(boolean enabled) {
        this.showBadgeNumber = enabled;
        notificationsQueue.postRunnable(new Runnable() {
            public void run() {
                NotificationsController.this.setBadge(NotificationsController.this.getTotalAllUnreadCount());
            }
        });
    }

    private void setBadge(int count) {
        if (this.lastBadgeCount != count) {
            this.lastBadgeCount = count;
            NotificationBadge.applyCount(count);
        }
    }

    private String getShortStringForMessage(MessageObject msg) {
        if (!(msg.isMediaEmpty() || TextUtils.isEmpty(msg.messageOwner.message))) {
            StringBuilder stringBuilder;
            if (msg.messageOwner.media instanceof TL_messageMediaPhoto) {
                stringBuilder = new StringBuilder();
                stringBuilder.append("\ud83d\uddbc ");
                stringBuilder.append(msg.messageOwner.message);
                return stringBuilder.toString();
            } else if (msg.isVideo()) {
                stringBuilder = new StringBuilder();
                stringBuilder.append("\ud83d\udcf9 ");
                stringBuilder.append(msg.messageOwner.message);
                return stringBuilder.toString();
            } else if (msg.messageOwner.media instanceof TL_messageMediaDocument) {
                if (msg.isGif()) {
                    stringBuilder = new StringBuilder();
                    stringBuilder.append("\ud83c\udfac ");
                    stringBuilder.append(msg.messageOwner.message);
                    return stringBuilder.toString();
                }
                stringBuilder = new StringBuilder();
                stringBuilder.append("\ud83d\udcce ");
                stringBuilder.append(msg.messageOwner.message);
                return stringBuilder.toString();
            }
        }
        return msg.messageText.toString();
    }

    private String getStringForMessage(MessageObject messageObject, boolean shortMessage, boolean[] text) {
        NotificationsController notificationsController = this;
        MessageObject messageObject2 = messageObject;
        if (!AndroidUtilities.needShowPasscode(false)) {
            if (!SharedConfig.isWaitingForPasscodeEnter) {
                long dialog_id = messageObject2.messageOwner.dialog_id;
                int chat_id = messageObject2.messageOwner.to_id.chat_id != 0 ? messageObject2.messageOwner.to_id.chat_id : messageObject2.messageOwner.to_id.channel_id;
                int from_id = messageObject2.messageOwner.to_id.user_id;
                if (messageObject.isFcmMessage()) {
                    if (chat_id != 0 || from_id == 0) {
                        if (!(chat_id == 0 || MessagesController.getNotificationsSettings(notificationsController.currentAccount).getBoolean("EnablePreviewGroup", true))) {
                            if (messageObject.isMegagroup() || messageObject2.messageOwner.to_id.channel_id == 0) {
                                return LocaleController.formatString("NotificationMessageGroupNoText", R.string.NotificationMessageGroupNoText, messageObject2.localUserName, messageObject2.localName);
                            }
                            return LocaleController.formatString("ChannelMessageNoText", R.string.ChannelMessageNoText, messageObject2.localName);
                        }
                    } else if (!MessagesController.getNotificationsSettings(notificationsController.currentAccount).getBoolean("EnablePreviewAll", true)) {
                        return LocaleController.formatString("NotificationMessageNoText", R.string.NotificationMessageNoText, messageObject2.localName);
                    }
                    text[0] = true;
                    return (String) messageObject2.messageText;
                }
                User user;
                if (from_id == 0) {
                    if (!messageObject.isFromUser()) {
                        if (messageObject.getId() >= 0) {
                            from_id = -chat_id;
                        }
                    }
                    from_id = messageObject2.messageOwner.from_id;
                } else if (from_id == UserConfig.getInstance(notificationsController.currentAccount).getClientUserId()) {
                    from_id = messageObject2.messageOwner.from_id;
                }
                if (dialog_id == 0) {
                    if (chat_id != 0) {
                        dialog_id = (long) (-chat_id);
                    } else if (from_id != 0) {
                        dialog_id = (long) from_id;
                    }
                }
                String name = null;
                if (from_id > 0) {
                    user = MessagesController.getInstance(notificationsController.currentAccount).getUser(Integer.valueOf(from_id));
                    if (user != null) {
                        name = UserObject.getUserName(user);
                    }
                } else {
                    Chat chat = MessagesController.getInstance(notificationsController.currentAccount).getChat(Integer.valueOf(-from_id));
                    if (chat != null) {
                        name = chat.title;
                    }
                }
                if (name == null) {
                    return null;
                }
                Chat chat2 = null;
                if (chat_id != 0) {
                    chat2 = MessagesController.getInstance(notificationsController.currentAccount).getChat(Integer.valueOf(chat_id));
                    if (chat2 == null) {
                        return null;
                    }
                }
                String msg = null;
                long j;
                if (((int) dialog_id) == 0) {
                    msg = LocaleController.getString("YouHaveNewMessage", R.string.YouHaveNewMessage);
                    j = dialog_id;
                } else if (chat_id != 0 || from_id == 0) {
                    if (chat_id != 0) {
                        if (!MessagesController.getNotificationsSettings(notificationsController.currentAccount).getBoolean("EnablePreviewGroup", true)) {
                            msg = (!ChatObject.isChannel(chat2) || chat2.megagroup) ? LocaleController.formatString("NotificationMessageGroupNoText", R.string.NotificationMessageGroupNoText, name, chat2.title) : LocaleController.formatString("ChannelMessageNoText", R.string.ChannelMessageNoText, name);
                        } else if (messageObject2.messageOwner instanceof TL_messageService) {
                            String msg2;
                            if (messageObject2.messageOwner.action instanceof TL_messageActionChatAddUser) {
                                int singleUserId = messageObject2.messageOwner.action.user_id;
                                if (singleUserId == 0 && messageObject2.messageOwner.action.users.size() == 1) {
                                    singleUserId = ((Integer) messageObject2.messageOwner.action.users.get(0)).intValue();
                                }
                                if (singleUserId != 0) {
                                    if (messageObject2.messageOwner.to_id.channel_id != 0 && !chat2.megagroup) {
                                        msg2 = LocaleController.formatString("ChannelAddedByNotification", R.string.ChannelAddedByNotification, name, chat2.title);
                                    } else if (singleUserId == UserConfig.getInstance(notificationsController.currentAccount).getClientUserId()) {
                                        msg2 = LocaleController.formatString("NotificationInvitedToGroup", R.string.NotificationInvitedToGroup, name, chat2.title);
                                    } else {
                                        User u2 = MessagesController.getInstance(notificationsController.currentAccount).getUser(Integer.valueOf(singleUserId));
                                        if (u2 == null) {
                                            return null;
                                        }
                                        String msg3;
                                        if (from_id != u2.id) {
                                            msg3 = LocaleController.formatString("NotificationGroupAddMember", R.string.NotificationGroupAddMember, name, chat2.title, UserObject.getUserName(u2));
                                        } else if (chat2.megagroup) {
                                            msg3 = LocaleController.formatString("NotificationGroupAddSelfMega", R.string.NotificationGroupAddSelfMega, name, chat2.title);
                                        } else {
                                            msg3 = LocaleController.formatString("NotificationGroupAddSelf", R.string.NotificationGroupAddSelf, name, chat2.title);
                                        }
                                        msg = msg3;
                                    }
                                    msg = msg2;
                                } else {
                                    names = new StringBuilder(TtmlNode.ANONYMOUS_REGION_ID);
                                    for (int a = 0; a < messageObject2.messageOwner.action.users.size(); a++) {
                                        user = MessagesController.getInstance(notificationsController.currentAccount).getUser((Integer) messageObject2.messageOwner.action.users.get(a));
                                        if (user != null) {
                                            String name2 = UserObject.getUserName(user);
                                            if (names.length() != 0) {
                                                names.append(", ");
                                            }
                                            names.append(name2);
                                        }
                                    }
                                    msg = LocaleController.formatString("NotificationGroupAddMember", R.string.NotificationGroupAddMember, name, chat2.title, names.toString());
                                }
                            } else if (messageObject2.messageOwner.action instanceof TL_messageActionChatJoinedByLink) {
                                msg = LocaleController.formatString("NotificationInvitedToGroupByLink", R.string.NotificationInvitedToGroupByLink, name, chat2.title);
                            } else if (messageObject2.messageOwner.action instanceof TL_messageActionChatEditTitle) {
                                msg = LocaleController.formatString("NotificationEditedGroupName", R.string.NotificationEditedGroupName, name, messageObject2.messageOwner.action.title);
                            } else {
                                if (!(messageObject2.messageOwner.action instanceof TL_messageActionChatEditPhoto)) {
                                    if (!(messageObject2.messageOwner.action instanceof TL_messageActionChatDeletePhoto)) {
                                        if (messageObject2.messageOwner.action instanceof TL_messageActionChatDeleteUser) {
                                            if (messageObject2.messageOwner.action.user_id == UserConfig.getInstance(notificationsController.currentAccount).getClientUserId()) {
                                                msg = LocaleController.formatString("NotificationGroupKickYou", R.string.NotificationGroupKickYou, name, chat2.title);
                                            } else if (messageObject2.messageOwner.action.user_id == from_id) {
                                                msg = LocaleController.formatString("NotificationGroupLeftMember", R.string.NotificationGroupLeftMember, name, chat2.title);
                                            } else {
                                                if (MessagesController.getInstance(notificationsController.currentAccount).getUser(Integer.valueOf(messageObject2.messageOwner.action.user_id)) == null) {
                                                    return null;
                                                }
                                                msg = LocaleController.formatString("NotificationGroupKickMember", R.string.NotificationGroupKickMember, name, chat2.title, UserObject.getUserName(MessagesController.getInstance(notificationsController.currentAccount).getUser(Integer.valueOf(messageObject2.messageOwner.action.user_id))));
                                            }
                                        } else if (messageObject2.messageOwner.action instanceof TL_messageActionChatCreate) {
                                            msg = messageObject2.messageText.toString();
                                        } else if (messageObject2.messageOwner.action instanceof TL_messageActionChannelCreate) {
                                            msg = messageObject2.messageText.toString();
                                        } else if (messageObject2.messageOwner.action instanceof TL_messageActionChatMigrateTo) {
                                            msg = LocaleController.formatString("ActionMigrateFromGroupNotify", R.string.ActionMigrateFromGroupNotify, chat2.title);
                                        } else if (messageObject2.messageOwner.action instanceof TL_messageActionChannelMigrateFrom) {
                                            msg = LocaleController.formatString("ActionMigrateFromGroupNotify", R.string.ActionMigrateFromGroupNotify, messageObject2.messageOwner.action.title);
                                        } else if (messageObject2.messageOwner.action instanceof TL_messageActionScreenshotTaken) {
                                            msg = messageObject2.messageText.toString();
                                        } else if (messageObject2.messageOwner.action instanceof TL_messageActionPinMessage) {
                                            String formatString;
                                            int i;
                                            if (chat2 == null || !chat2.megagroup) {
                                                if (messageObject2.replyMessageObject == null) {
                                                    msg = LocaleController.formatString("NotificationActionPinnedNoTextChannel", R.string.NotificationActionPinnedNoTextChannel, chat2.title);
                                                } else {
                                                    MessageObject object = messageObject2.replyMessageObject;
                                                    if (object.isMusic()) {
                                                        formatString = LocaleController.formatString("NotificationActionPinnedMusicChannel", R.string.NotificationActionPinnedMusicChannel, chat2.title);
                                                    } else if (object.isVideo()) {
                                                        if (VERSION.SDK_INT < 19 || TextUtils.isEmpty(object.messageOwner.message)) {
                                                            formatString = LocaleController.formatString("NotificationActionPinnedVideoChannel", R.string.NotificationActionPinnedVideoChannel, chat2.title);
                                                        } else {
                                                            formatString = new StringBuilder();
                                                            formatString.append("\ud83d\udcf9 ");
                                                            formatString.append(object.messageOwner.message);
                                                            formatString = formatString.toString();
                                                            formatString = LocaleController.formatString("NotificationActionPinnedTextChannel", R.string.NotificationActionPinnedTextChannel, chat2.title, formatString);
                                                        }
                                                    } else if (object.isGif()) {
                                                        if (VERSION.SDK_INT < 19 || TextUtils.isEmpty(object.messageOwner.message)) {
                                                            formatString = LocaleController.formatString("NotificationActionPinnedGifChannel", R.string.NotificationActionPinnedGifChannel, chat2.title);
                                                        } else {
                                                            formatString = new StringBuilder();
                                                            formatString.append("\ud83c\udfac ");
                                                            formatString.append(object.messageOwner.message);
                                                            formatString = formatString.toString();
                                                            formatString = LocaleController.formatString("NotificationActionPinnedTextChannel", R.string.NotificationActionPinnedTextChannel, chat2.title, formatString);
                                                        }
                                                    } else if (object.isVoice()) {
                                                        formatString = LocaleController.formatString("NotificationActionPinnedVoiceChannel", R.string.NotificationActionPinnedVoiceChannel, chat2.title);
                                                    } else if (object.isRoundVideo()) {
                                                        formatString = LocaleController.formatString("NotificationActionPinnedRoundChannel", R.string.NotificationActionPinnedRoundChannel, chat2.title);
                                                    } else if (object.isSticker()) {
                                                        if (object.getStickerEmoji() != null) {
                                                            msg2 = LocaleController.formatString("NotificationActionPinnedStickerEmojiChannel", R.string.NotificationActionPinnedStickerEmojiChannel, chat2.title, object.getStickerEmoji());
                                                        } else {
                                                            msg2 = LocaleController.formatString("NotificationActionPinnedStickerChannel", R.string.NotificationActionPinnedStickerChannel, chat2.title);
                                                        }
                                                        msg = msg2;
                                                    } else if (!(object.messageOwner.media instanceof TL_messageMediaDocument)) {
                                                        if (!(object.messageOwner.media instanceof TL_messageMediaGeo)) {
                                                            if (!(object.messageOwner.media instanceof TL_messageMediaVenue)) {
                                                                if (object.messageOwner.media instanceof TL_messageMediaGeoLive) {
                                                                    formatString = LocaleController.formatString("NotificationActionPinnedGeoLiveChannel", R.string.NotificationActionPinnedGeoLiveChannel, chat2.title);
                                                                } else if (object.messageOwner.media instanceof TL_messageMediaContact) {
                                                                    formatString = LocaleController.formatString("NotificationActionPinnedContactChannel", R.string.NotificationActionPinnedContactChannel, chat2.title);
                                                                } else if (object.messageOwner.media instanceof TL_messageMediaPhoto) {
                                                                    if (VERSION.SDK_INT < 19 || TextUtils.isEmpty(object.messageOwner.message)) {
                                                                        formatString = LocaleController.formatString("NotificationActionPinnedPhotoChannel", R.string.NotificationActionPinnedPhotoChannel, chat2.title);
                                                                    } else {
                                                                        formatString = new StringBuilder();
                                                                        formatString.append("\ud83d\uddbc ");
                                                                        formatString.append(object.messageOwner.message);
                                                                        formatString = formatString.toString();
                                                                        formatString = LocaleController.formatString("NotificationActionPinnedTextChannel", R.string.NotificationActionPinnedTextChannel, chat2.title, formatString);
                                                                    }
                                                                } else if (object.messageOwner.media instanceof TL_messageMediaGame) {
                                                                    formatString = LocaleController.formatString("NotificationActionPinnedGameChannel", R.string.NotificationActionPinnedGameChannel, chat2.title);
                                                                } else if (object.messageText == null || object.messageText.length() <= 0) {
                                                                    msg = LocaleController.formatString("NotificationActionPinnedNoTextChannel", R.string.NotificationActionPinnedNoTextChannel, chat2.title);
                                                                } else {
                                                                    CharSequence message = object.messageText;
                                                                    if (message.length() > 20) {
                                                                        StringBuilder stringBuilder = new StringBuilder();
                                                                        i = 0;
                                                                        stringBuilder.append(message.subSequence(0, 20));
                                                                        stringBuilder.append("...");
                                                                        message = stringBuilder.toString();
                                                                    } else {
                                                                        i = 0;
                                                                    }
                                                                    formatString = LocaleController.formatString("NotificationActionPinnedTextChannel", R.string.NotificationActionPinnedTextChannel, chat2.title, message);
                                                                }
                                                            }
                                                        }
                                                        formatString = LocaleController.formatString("NotificationActionPinnedGeoChannel", R.string.NotificationActionPinnedGeoChannel, chat2.title);
                                                    } else if (VERSION.SDK_INT < 19 || TextUtils.isEmpty(object.messageOwner.message)) {
                                                        formatString = LocaleController.formatString("NotificationActionPinnedFileChannel", R.string.NotificationActionPinnedFileChannel, chat2.title);
                                                    } else {
                                                        formatString = new StringBuilder();
                                                        formatString.append("\ud83d\udcce ");
                                                        formatString.append(object.messageOwner.message);
                                                        formatString = formatString.toString();
                                                        formatString = LocaleController.formatString("NotificationActionPinnedTextChannel", R.string.NotificationActionPinnedTextChannel, chat2.title, formatString);
                                                    }
                                                    msg = formatString;
                                                }
                                            } else if (messageObject2.replyMessageObject == null) {
                                                msg = LocaleController.formatString("NotificationActionPinnedNoText", R.string.NotificationActionPinnedNoText, name, chat2.title);
                                            } else {
                                                MessageObject object2 = messageObject2.replyMessageObject;
                                                if (object2.isMusic()) {
                                                    formatString = LocaleController.formatString("NotificationActionPinnedMusic", R.string.NotificationActionPinnedMusic, name, chat2.title);
                                                } else {
                                                    String formatString2;
                                                    if (object2.isVideo()) {
                                                        if (VERSION.SDK_INT < 19 || TextUtils.isEmpty(object2.messageOwner.message)) {
                                                            formatString2 = LocaleController.formatString("NotificationActionPinnedVideo", R.string.NotificationActionPinnedVideo, name, chat2.title);
                                                        } else {
                                                            formatString = new StringBuilder();
                                                            formatString.append("\ud83d\udcf9 ");
                                                            formatString.append(object2.messageOwner.message);
                                                            formatString = formatString.toString();
                                                            formatString2 = LocaleController.formatString("NotificationActionPinnedText", R.string.NotificationActionPinnedText, name, formatString, chat2.title);
                                                        }
                                                    } else if (object2.isGif()) {
                                                        if (VERSION.SDK_INT < 19 || TextUtils.isEmpty(object2.messageOwner.message)) {
                                                            formatString2 = LocaleController.formatString("NotificationActionPinnedGif", R.string.NotificationActionPinnedGif, name, chat2.title);
                                                        } else {
                                                            formatString2 = new StringBuilder();
                                                            formatString2.append("\ud83c\udfac ");
                                                            formatString2.append(object2.messageOwner.message);
                                                            formatString2 = formatString2.toString();
                                                            formatString2 = LocaleController.formatString("NotificationActionPinnedText", R.string.NotificationActionPinnedText, name, formatString2, chat2.title);
                                                        }
                                                    } else if (object2.isVoice()) {
                                                        formatString2 = LocaleController.formatString("NotificationActionPinnedVoice", R.string.NotificationActionPinnedVoice, name, chat2.title);
                                                    } else if (object2.isRoundVideo()) {
                                                        formatString2 = LocaleController.formatString("NotificationActionPinnedRound", R.string.NotificationActionPinnedRound, name, chat2.title);
                                                    } else if (object2.isSticker()) {
                                                        if (object2.getStickerEmoji() != null) {
                                                            formatString = LocaleController.formatString("NotificationActionPinnedStickerEmoji", R.string.NotificationActionPinnedStickerEmoji, name, chat2.title, object2.getStickerEmoji());
                                                        } else {
                                                            formatString = LocaleController.formatString("NotificationActionPinnedSticker", R.string.NotificationActionPinnedSticker, name, chat2.title);
                                                        }
                                                    } else if (!(object2.messageOwner.media instanceof TL_messageMediaDocument)) {
                                                        if (!(object2.messageOwner.media instanceof TL_messageMediaGeo)) {
                                                            if (!(object2.messageOwner.media instanceof TL_messageMediaVenue)) {
                                                                if (object2.messageOwner.media instanceof TL_messageMediaGeoLive) {
                                                                    formatString2 = LocaleController.formatString("NotificationActionPinnedGeoLive", R.string.NotificationActionPinnedGeoLive, name, chat2.title);
                                                                } else if (object2.messageOwner.media instanceof TL_messageMediaContact) {
                                                                    formatString2 = LocaleController.formatString("NotificationActionPinnedContact", R.string.NotificationActionPinnedContact, name, chat2.title);
                                                                } else if (object2.messageOwner.media instanceof TL_messageMediaPhoto) {
                                                                    if (VERSION.SDK_INT < 19 || TextUtils.isEmpty(object2.messageOwner.message)) {
                                                                        formatString2 = LocaleController.formatString("NotificationActionPinnedPhoto", R.string.NotificationActionPinnedPhoto, name, chat2.title);
                                                                    } else {
                                                                        formatString2 = new StringBuilder();
                                                                        formatString2.append("\ud83d\uddbc ");
                                                                        formatString2.append(object2.messageOwner.message);
                                                                        formatString2 = formatString2.toString();
                                                                        formatString2 = LocaleController.formatString("NotificationActionPinnedText", R.string.NotificationActionPinnedText, name, formatString2, chat2.title);
                                                                    }
                                                                } else if (object2.messageOwner.media instanceof TL_messageMediaGame) {
                                                                    formatString2 = LocaleController.formatString("NotificationActionPinnedGame", R.string.NotificationActionPinnedGame, name, chat2.title);
                                                                } else if (object2.messageText == null || object2.messageText.length() <= 0) {
                                                                    formatString2 = LocaleController.formatString("NotificationActionPinnedNoText", R.string.NotificationActionPinnedNoText, name, chat2.title);
                                                                } else {
                                                                    CharSequence message2 = object2.messageText;
                                                                    if (message2.length() > 20) {
                                                                        r6 = new StringBuilder();
                                                                        i = 0;
                                                                        r6.append(message2.subSequence(0, 20));
                                                                        r6.append("...");
                                                                        message2 = r6.toString();
                                                                    } else {
                                                                        i = 0;
                                                                    }
                                                                    formatString2 = LocaleController.formatString("NotificationActionPinnedText", R.string.NotificationActionPinnedText, name, message2, chat2.title);
                                                                }
                                                            }
                                                        }
                                                        formatString2 = LocaleController.formatString("NotificationActionPinnedGeo", R.string.NotificationActionPinnedGeo, name, chat2.title);
                                                    } else if (VERSION.SDK_INT < 19 || TextUtils.isEmpty(object2.messageOwner.message)) {
                                                        formatString2 = LocaleController.formatString("NotificationActionPinnedFile", R.string.NotificationActionPinnedFile, name, chat2.title);
                                                    } else {
                                                        formatString2 = new StringBuilder();
                                                        formatString2.append("\ud83d\udcce ");
                                                        formatString2.append(object2.messageOwner.message);
                                                        formatString2 = formatString2.toString();
                                                        formatString2 = LocaleController.formatString("NotificationActionPinnedText", R.string.NotificationActionPinnedText, name, formatString2, chat2.title);
                                                    }
                                                    msg = formatString2;
                                                }
                                                msg = formatString;
                                            }
                                        } else if (messageObject2.messageOwner.action instanceof TL_messageActionGameScore) {
                                            msg = messageObject2.messageText.toString();
                                        }
                                    }
                                }
                                msg = (messageObject2.messageOwner.to_id.channel_id == 0 || chat2.megagroup) ? LocaleController.formatString("NotificationEditedGroupPhoto", R.string.NotificationEditedGroupPhoto, name, chat2.title) : LocaleController.formatString("ChannelPhotoEditNotification", R.string.ChannelPhotoEditNotification, chat2.title);
                            }
                        } else if (!ChatObject.isChannel(chat2) || chat2.megagroup) {
                            if (messageObject.isMediaEmpty()) {
                                msg = (shortMessage || messageObject2.messageOwner.message == null || messageObject2.messageOwner.message.length() == 0) ? LocaleController.formatString("NotificationMessageGroupNoText", R.string.NotificationMessageGroupNoText, name, chat2.title) : LocaleController.formatString("NotificationMessageGroupText", R.string.NotificationMessageGroupText, name, chat2.title, messageObject2.messageOwner.message);
                            } else if (messageObject2.messageOwner.media instanceof TL_messageMediaPhoto) {
                                if (shortMessage || VERSION.SDK_INT < 19 || TextUtils.isEmpty(messageObject2.messageOwner.message)) {
                                    msg = LocaleController.formatString("NotificationMessageGroupPhoto", R.string.NotificationMessageGroupPhoto, name, chat2.title);
                                } else {
                                    r5 = new Object[3];
                                    r5[0] = name;
                                    r5[1] = chat2.title;
                                    r6 = new StringBuilder();
                                    r6.append("\ud83d\uddbc ");
                                    r6.append(messageObject2.messageOwner.message);
                                    r5[2] = r6.toString();
                                    msg = LocaleController.formatString("NotificationMessageGroupText", R.string.NotificationMessageGroupText, r5);
                                }
                            } else if (messageObject.isVideo()) {
                                if (shortMessage || VERSION.SDK_INT < 19 || TextUtils.isEmpty(messageObject2.messageOwner.message)) {
                                    msg = LocaleController.formatString("NotificationMessageGroupVideo", R.string.NotificationMessageGroupVideo, name, chat2.title);
                                } else {
                                    r5 = new Object[3];
                                    r5[0] = name;
                                    r5[1] = chat2.title;
                                    r6 = new StringBuilder();
                                    r6.append("\ud83d\udcf9 ");
                                    r6.append(messageObject2.messageOwner.message);
                                    r5[2] = r6.toString();
                                    msg = LocaleController.formatString("NotificationMessageGroupText", R.string.NotificationMessageGroupText, r5);
                                }
                            } else if (messageObject.isVoice()) {
                                msg = LocaleController.formatString("NotificationMessageGroupAudio", R.string.NotificationMessageGroupAudio, name, chat2.title);
                            } else if (messageObject.isRoundVideo()) {
                                msg = LocaleController.formatString("NotificationMessageGroupRound", R.string.NotificationMessageGroupRound, name, chat2.title);
                            } else if (messageObject.isMusic()) {
                                msg = LocaleController.formatString("NotificationMessageGroupMusic", R.string.NotificationMessageGroupMusic, name, chat2.title);
                            } else if (messageObject2.messageOwner.media instanceof TL_messageMediaContact) {
                                msg = LocaleController.formatString("NotificationMessageGroupContact", R.string.NotificationMessageGroupContact, name, chat2.title);
                            } else if (messageObject2.messageOwner.media instanceof TL_messageMediaGame) {
                                msg = LocaleController.formatString("NotificationMessageGroupGame", R.string.NotificationMessageGroupGame, name, chat2.title, messageObject2.messageOwner.media.game.title);
                            } else {
                                if (!(messageObject2.messageOwner.media instanceof TL_messageMediaGeo)) {
                                    if (!(messageObject2.messageOwner.media instanceof TL_messageMediaVenue)) {
                                        if (messageObject2.messageOwner.media instanceof TL_messageMediaGeoLive) {
                                            msg = LocaleController.formatString("NotificationMessageGroupLiveLocation", R.string.NotificationMessageGroupLiveLocation, name, chat2.title);
                                        } else if (messageObject2.messageOwner.media instanceof TL_messageMediaDocument) {
                                            if (messageObject.isSticker()) {
                                                if (messageObject.getStickerEmoji() != null) {
                                                    msg = LocaleController.formatString("NotificationMessageGroupStickerEmoji", R.string.NotificationMessageGroupStickerEmoji, name, chat2.title, messageObject.getStickerEmoji());
                                                } else {
                                                    msg = LocaleController.formatString("NotificationMessageGroupSticker", R.string.NotificationMessageGroupSticker, name, chat2.title);
                                                }
                                            } else if (messageObject.isGif()) {
                                                if (shortMessage || VERSION.SDK_INT < 19 || TextUtils.isEmpty(messageObject2.messageOwner.message)) {
                                                    msg = LocaleController.formatString("NotificationMessageGroupGif", R.string.NotificationMessageGroupGif, name, chat2.title);
                                                } else {
                                                    r5 = new Object[3];
                                                    r5[0] = name;
                                                    r5[1] = chat2.title;
                                                    r6 = new StringBuilder();
                                                    r6.append("\ud83c\udfac ");
                                                    r6.append(messageObject2.messageOwner.message);
                                                    r5[2] = r6.toString();
                                                    msg = LocaleController.formatString("NotificationMessageGroupText", R.string.NotificationMessageGroupText, r5);
                                                }
                                            } else if (shortMessage || VERSION.SDK_INT < 19 || TextUtils.isEmpty(messageObject2.messageOwner.message)) {
                                                msg = LocaleController.formatString("NotificationMessageGroupDocument", R.string.NotificationMessageGroupDocument, name, chat2.title);
                                            } else {
                                                r5 = new Object[3];
                                                r5[0] = name;
                                                r5[1] = chat2.title;
                                                r6 = new StringBuilder();
                                                r6.append("\ud83d\udcce ");
                                                r6.append(messageObject2.messageOwner.message);
                                                r5[2] = r6.toString();
                                                msg = LocaleController.formatString("NotificationMessageGroupText", R.string.NotificationMessageGroupText, r5);
                                            }
                                        }
                                    }
                                }
                                msg = LocaleController.formatString("NotificationMessageGroupMap", R.string.NotificationMessageGroupMap, name, chat2.title);
                            }
                        } else if (messageObject.isMediaEmpty()) {
                            if (shortMessage || messageObject2.messageOwner.message == null || messageObject2.messageOwner.message.length() == 0) {
                                msg = LocaleController.formatString("ChannelMessageNoText", R.string.ChannelMessageNoText, name);
                            } else {
                                msg = LocaleController.formatString("NotificationMessageText", R.string.NotificationMessageText, name, messageObject2.messageOwner.message);
                                text[0] = true;
                            }
                        } else if (messageObject2.messageOwner.media instanceof TL_messageMediaPhoto) {
                            if (shortMessage || VERSION.SDK_INT < 19 || TextUtils.isEmpty(messageObject2.messageOwner.message)) {
                                msg = LocaleController.formatString("ChannelMessagePhoto", R.string.ChannelMessagePhoto, name);
                            } else {
                                r4 = new Object[2];
                                r4[0] = name;
                                names = new StringBuilder();
                                names.append("\ud83d\uddbc ");
                                names.append(messageObject2.messageOwner.message);
                                r4[1] = names.toString();
                                msg = LocaleController.formatString("NotificationMessageText", R.string.NotificationMessageText, r4);
                                text[0] = true;
                            }
                        } else if (messageObject.isVideo()) {
                            if (shortMessage || VERSION.SDK_INT < 19 || TextUtils.isEmpty(messageObject2.messageOwner.message)) {
                                msg = LocaleController.formatString("ChannelMessageVideo", R.string.ChannelMessageVideo, name);
                            } else {
                                r4 = new Object[2];
                                r4[0] = name;
                                names = new StringBuilder();
                                names.append("\ud83d\udcf9 ");
                                names.append(messageObject2.messageOwner.message);
                                r4[1] = names.toString();
                                msg = LocaleController.formatString("NotificationMessageText", R.string.NotificationMessageText, r4);
                                text[0] = true;
                            }
                        } else if (messageObject.isVoice()) {
                            msg = LocaleController.formatString("ChannelMessageAudio", R.string.ChannelMessageAudio, name);
                        } else if (messageObject.isRoundVideo()) {
                            msg = LocaleController.formatString("ChannelMessageRound", R.string.ChannelMessageRound, name);
                        } else if (messageObject.isMusic()) {
                            msg = LocaleController.formatString("ChannelMessageMusic", R.string.ChannelMessageMusic, name);
                        } else if (messageObject2.messageOwner.media instanceof TL_messageMediaContact) {
                            msg = LocaleController.formatString("ChannelMessageContact", R.string.ChannelMessageContact, name);
                        } else {
                            if (!(messageObject2.messageOwner.media instanceof TL_messageMediaGeo)) {
                                if (!(messageObject2.messageOwner.media instanceof TL_messageMediaVenue)) {
                                    if (messageObject2.messageOwner.media instanceof TL_messageMediaGeoLive) {
                                        msg = LocaleController.formatString("ChannelMessageLiveLocation", R.string.ChannelMessageLiveLocation, name);
                                    } else if (messageObject2.messageOwner.media instanceof TL_messageMediaDocument) {
                                        if (messageObject.isSticker()) {
                                            if (messageObject.getStickerEmoji() != null) {
                                                msg = LocaleController.formatString("ChannelMessageStickerEmoji", R.string.ChannelMessageStickerEmoji, name, messageObject.getStickerEmoji());
                                            } else {
                                                msg = LocaleController.formatString("ChannelMessageSticker", R.string.ChannelMessageSticker, name);
                                            }
                                        } else if (messageObject.isGif()) {
                                            if (shortMessage || VERSION.SDK_INT < 19 || TextUtils.isEmpty(messageObject2.messageOwner.message)) {
                                                msg = LocaleController.formatString("ChannelMessageGIF", R.string.ChannelMessageGIF, name);
                                            } else {
                                                r4 = new Object[2];
                                                r4[0] = name;
                                                names = new StringBuilder();
                                                names.append("\ud83c\udfac ");
                                                names.append(messageObject2.messageOwner.message);
                                                r4[1] = names.toString();
                                                msg = LocaleController.formatString("NotificationMessageText", R.string.NotificationMessageText, r4);
                                                text[0] = true;
                                            }
                                        } else if (shortMessage || VERSION.SDK_INT < 19 || TextUtils.isEmpty(messageObject2.messageOwner.message)) {
                                            msg = LocaleController.formatString("ChannelMessageDocument", R.string.ChannelMessageDocument, name);
                                        } else {
                                            r4 = new Object[2];
                                            r4[0] = name;
                                            names = new StringBuilder();
                                            names.append("\ud83d\udcce ");
                                            names.append(messageObject2.messageOwner.message);
                                            r4[1] = names.toString();
                                            msg = LocaleController.formatString("NotificationMessageText", R.string.NotificationMessageText, r4);
                                            text[0] = true;
                                        }
                                    }
                                }
                            }
                            msg = LocaleController.formatString("ChannelMessageMap", R.string.ChannelMessageMap, name);
                        }
                    }
                } else if (!MessagesController.getNotificationsSettings(notificationsController.currentAccount).getBoolean("EnablePreviewAll", true)) {
                    msg = LocaleController.formatString("NotificationMessageNoText", R.string.NotificationMessageNoText, name);
                } else if (messageObject2.messageOwner instanceof TL_messageService) {
                    if (messageObject2.messageOwner.action instanceof TL_messageActionUserJoined) {
                        msg = LocaleController.formatString("NotificationContactJoined", R.string.NotificationContactJoined, name);
                    } else if (messageObject2.messageOwner.action instanceof TL_messageActionUserUpdatedPhoto) {
                        msg = LocaleController.formatString("NotificationContactNewPhoto", R.string.NotificationContactNewPhoto, name);
                    } else if (messageObject2.messageOwner.action instanceof TL_messageActionLoginUnknownLocation) {
                        r13 = new Object[2];
                        j = dialog_id;
                        r13[0] = LocaleController.getInstance().formatterYear.format(((long) messageObject2.messageOwner.date) * 1000);
                        r13[1] = LocaleController.getInstance().formatterDay.format(((long) messageObject2.messageOwner.date) * 1000);
                        String date = LocaleController.formatString("formatDateAtTime", R.string.formatDateAtTime, r13);
                        msg = LocaleController.formatString("NotificationUnrecognizedDevice", R.string.NotificationUnrecognizedDevice, UserConfig.getInstance(notificationsController.currentAccount).getCurrentUser().first_name, date, messageObject2.messageOwner.action.title, messageObject2.messageOwner.action.address);
                    } else {
                        if (!(messageObject2.messageOwner.action instanceof TL_messageActionGameScore)) {
                            if (!(messageObject2.messageOwner.action instanceof TL_messageActionPaymentSent)) {
                                if (messageObject2.messageOwner.action instanceof TL_messageActionPhoneCall) {
                                    PhoneCallDiscardReason reason = messageObject2.messageOwner.action.reason;
                                    if (!messageObject.isOut() && (reason instanceof TL_phoneCallDiscardReasonMissed)) {
                                        msg = LocaleController.getString("CallMessageIncomingMissed", R.string.CallMessageIncomingMissed);
                                    }
                                }
                            }
                        }
                        msg = messageObject2.messageText.toString();
                    }
                } else {
                    if (messageObject.isMediaEmpty()) {
                        if (shortMessage) {
                            msg = LocaleController.formatString("NotificationMessageNoText", R.string.NotificationMessageNoText, name);
                        } else if (TextUtils.isEmpty(messageObject2.messageOwner.message)) {
                            msg = LocaleController.formatString("NotificationMessageNoText", R.string.NotificationMessageNoText, name);
                        } else {
                            msg = LocaleController.formatString("NotificationMessageText", R.string.NotificationMessageText, name, messageObject2.messageOwner.message);
                            text[0] = true;
                        }
                    } else if (messageObject2.messageOwner.media instanceof TL_messageMediaPhoto) {
                        if (shortMessage || VERSION.SDK_INT < 19 || TextUtils.isEmpty(messageObject2.messageOwner.message)) {
                            msg = messageObject2.messageOwner.media.ttl_seconds != 0 ? LocaleController.formatString("NotificationMessageSDPhoto", R.string.NotificationMessageSDPhoto, name) : LocaleController.formatString("NotificationMessagePhoto", R.string.NotificationMessagePhoto, name);
                        } else {
                            r4 = new Object[2];
                            r4[0] = name;
                            names = new StringBuilder();
                            names.append("\ud83d\uddbc ");
                            names.append(messageObject2.messageOwner.message);
                            r4[1] = names.toString();
                            msg = LocaleController.formatString("NotificationMessageText", R.string.NotificationMessageText, r4);
                            text[0] = true;
                        }
                    } else if (messageObject.isVideo()) {
                        if (shortMessage || VERSION.SDK_INT < 19 || TextUtils.isEmpty(messageObject2.messageOwner.message)) {
                            msg = messageObject2.messageOwner.media.ttl_seconds != 0 ? LocaleController.formatString("NotificationMessageSDVideo", R.string.NotificationMessageSDVideo, name) : LocaleController.formatString("NotificationMessageVideo", R.string.NotificationMessageVideo, name);
                        } else {
                            r4 = new Object[2];
                            r4[0] = name;
                            names = new StringBuilder();
                            names.append("\ud83d\udcf9 ");
                            names.append(messageObject2.messageOwner.message);
                            r4[1] = names.toString();
                            msg = LocaleController.formatString("NotificationMessageText", R.string.NotificationMessageText, r4);
                            text[0] = true;
                        }
                    } else if (messageObject.isGame()) {
                        msg = LocaleController.formatString("NotificationMessageGame", R.string.NotificationMessageGame, name, messageObject2.messageOwner.media.game.title);
                    } else if (messageObject.isVoice()) {
                        msg = LocaleController.formatString("NotificationMessageAudio", R.string.NotificationMessageAudio, name);
                    } else if (messageObject.isRoundVideo()) {
                        msg = LocaleController.formatString("NotificationMessageRound", R.string.NotificationMessageRound, name);
                    } else if (messageObject.isMusic()) {
                        msg = LocaleController.formatString("NotificationMessageMusic", R.string.NotificationMessageMusic, name);
                    } else if (messageObject2.messageOwner.media instanceof TL_messageMediaContact) {
                        msg = LocaleController.formatString("NotificationMessageContact", R.string.NotificationMessageContact, name);
                    } else {
                        if (!(messageObject2.messageOwner.media instanceof TL_messageMediaGeo)) {
                            if (!(messageObject2.messageOwner.media instanceof TL_messageMediaVenue)) {
                                if (messageObject2.messageOwner.media instanceof TL_messageMediaGeoLive) {
                                    msg = LocaleController.formatString("NotificationMessageLiveLocation", R.string.NotificationMessageLiveLocation, name);
                                } else if (messageObject2.messageOwner.media instanceof TL_messageMediaDocument) {
                                    if (messageObject.isSticker()) {
                                        if (messageObject.getStickerEmoji() != null) {
                                            msg = LocaleController.formatString("NotificationMessageStickerEmoji", R.string.NotificationMessageStickerEmoji, name, messageObject.getStickerEmoji());
                                        } else {
                                            msg = LocaleController.formatString("NotificationMessageSticker", R.string.NotificationMessageSticker, name);
                                        }
                                    } else if (messageObject.isGif()) {
                                        if (shortMessage || VERSION.SDK_INT < 19 || TextUtils.isEmpty(messageObject2.messageOwner.message)) {
                                            msg = LocaleController.formatString("NotificationMessageGif", R.string.NotificationMessageGif, name);
                                        } else {
                                            r4 = new Object[2];
                                            r4[0] = name;
                                            names = new StringBuilder();
                                            names.append("\ud83c\udfac ");
                                            names.append(messageObject2.messageOwner.message);
                                            r4[1] = names.toString();
                                            msg = LocaleController.formatString("NotificationMessageText", R.string.NotificationMessageText, r4);
                                            text[0] = true;
                                        }
                                    } else if (shortMessage || VERSION.SDK_INT < 19 || TextUtils.isEmpty(messageObject2.messageOwner.message)) {
                                        msg = LocaleController.formatString("NotificationMessageDocument", R.string.NotificationMessageDocument, name);
                                    } else {
                                        r4 = new Object[2];
                                        r4[0] = name;
                                        names = new StringBuilder();
                                        names.append("\ud83d\udcce ");
                                        names.append(messageObject2.messageOwner.message);
                                        r4[1] = names.toString();
                                        msg = LocaleController.formatString("NotificationMessageText", R.string.NotificationMessageText, r4);
                                        text[0] = true;
                                    }
                                }
                            }
                        }
                        msg = LocaleController.formatString("NotificationMessageMap", R.string.NotificationMessageMap, name);
                    }
                }
                return msg;
            }
        }
        return LocaleController.getString("YouHaveNewMessage", R.string.YouHaveNewMessage);
    }

    private void scheduleNotificationRepeat() {
        try {
            Intent intent = new Intent(ApplicationLoader.applicationContext, NotificationRepeat.class);
            intent.putExtra("currentAccount", this.currentAccount);
            PendingIntent pintent = PendingIntent.getService(ApplicationLoader.applicationContext, 0, intent, 0);
            int minutes = MessagesController.getNotificationsSettings(this.currentAccount).getInt("repeat_messages", 60);
            if (minutes <= 0 || this.personal_count <= 0) {
                this.alarmManager.cancel(pintent);
            } else {
                this.alarmManager.set(2, SystemClock.elapsedRealtime() + ((long) ((minutes * 60) * 1000)), pintent);
            }
        } catch (Throwable e) {
            FileLog.m3e(e);
        }
    }

    private boolean isPersonalMessage(MessageObject messageObject) {
        return messageObject.messageOwner.to_id != null && messageObject.messageOwner.to_id.chat_id == 0 && messageObject.messageOwner.to_id.channel_id == 0 && (messageObject.messageOwner.action == null || (messageObject.messageOwner.action instanceof TL_messageActionEmpty));
    }

    private int getNotifyOverride(SharedPreferences preferences, long dialog_id) {
        StringBuilder stringBuilder = new StringBuilder();
        stringBuilder.append("notify2_");
        stringBuilder.append(dialog_id);
        int notifyOverride = preferences.getInt(stringBuilder.toString(), 0);
        if (notifyOverride != 3) {
            return notifyOverride;
        }
        StringBuilder stringBuilder2 = new StringBuilder();
        stringBuilder2.append("notifyuntil_");
        stringBuilder2.append(dialog_id);
        if (preferences.getInt(stringBuilder2.toString(), 0) >= ConnectionsManager.getInstance(this.currentAccount).getCurrentTime()) {
            return 2;
        }
        return notifyOverride;
    }

    private void dismissNotification() {
        int a = 0;
        try {
            this.lastNotificationIsNoData = false;
            notificationManager.cancel(this.notificationId);
            this.pushMessages.clear();
            this.pushMessagesDict.clear();
            this.lastWearNotifiedMessageId.clear();
            while (a < this.wearNotificationsIds.size()) {
                notificationManager.cancel(((Integer) this.wearNotificationsIds.valueAt(a)).intValue());
                a++;
            }
            this.wearNotificationsIds.clear();
            AndroidUtilities.runOnUIThread(new Runnable() {
                public void run() {
                    NotificationCenter.getGlobalInstance().postNotificationName(NotificationCenter.pushMessagesUpdated, new Object[0]);
                }
            });
            if (WearDataLayerListenerService.isWatchConnected()) {
                try {
                    JSONObject o = new JSONObject();
                    o.put(TtmlNode.ATTR_ID, UserConfig.getInstance(this.currentAccount).getClientUserId());
                    o.put("cancel_all", true);
                    WearDataLayerListenerService.sendMessageToWatch("/notify", o.toString().getBytes(C0539C.UTF8_NAME), "remote_notifications");
                } catch (JSONException e) {
                }
            }
        } catch (Throwable e2) {
            FileLog.m3e(e2);
        }
    }

    private void playInChatSound() {
        if (this.inChatSoundEnabled) {
            if (!MediaController.getInstance().isRecordingAudio()) {
                try {
                    if (audioManager.getRingerMode() != 0) {
                        try {
                            if (getNotifyOverride(MessagesController.getNotificationsSettings(this.currentAccount), this.opened_dialog_id) != 2) {
                                notificationsQueue.postRunnable(new Runnable() {

                                    /* renamed from: org.telegram.messenger.NotificationsController$14$1 */
                                    class C04241 implements OnLoadCompleteListener {
                                        C04241() {
                                        }

                                        public void onLoadComplete(SoundPool soundPool, int sampleId, int status) {
                                            if (status == 0) {
                                                try {
                                                    soundPool.play(sampleId, 1.0f, 1.0f, 1, 0, 1.0f);
                                                } catch (Throwable e) {
                                                    FileLog.m3e(e);
                                                }
                                            }
                                        }
                                    }

                                    public void run() {
                                        if (Math.abs(System.currentTimeMillis() - NotificationsController.this.lastSoundPlay) > 500) {
                                            try {
                                                if (NotificationsController.this.soundPool == null) {
                                                    NotificationsController.this.soundPool = new SoundPool(3, 1, 0);
                                                    NotificationsController.this.soundPool.setOnLoadCompleteListener(new C04241());
                                                }
                                                if (NotificationsController.this.soundIn == 0 && !NotificationsController.this.soundInLoaded) {
                                                    NotificationsController.this.soundInLoaded = true;
                                                    NotificationsController.this.soundIn = NotificationsController.this.soundPool.load(ApplicationLoader.applicationContext, R.raw.sound_in, 1);
                                                }
                                                if (NotificationsController.this.soundIn != 0) {
                                                    try {
                                                        NotificationsController.this.soundPool.play(NotificationsController.this.soundIn, 1.0f, 1.0f, 1, 0, 1.0f);
                                                    } catch (Throwable e) {
                                                        FileLog.m3e(e);
                                                    }
                                                }
                                            } catch (Throwable e2) {
                                                FileLog.m3e(e2);
                                            }
                                        }
                                    }
                                });
                            }
                        } catch (Throwable e) {
                            FileLog.m3e(e);
                        }
                    }
                } catch (Throwable e2) {
                    FileLog.m3e(e2);
                }
            }
        }
    }

    private void scheduleNotificationDelay(boolean onlineReason) {
        try {
            if (BuildVars.LOGS_ENABLED) {
                StringBuilder stringBuilder = new StringBuilder();
                stringBuilder.append("delay notification start, onlineReason = ");
                stringBuilder.append(onlineReason);
                FileLog.m0d(stringBuilder.toString());
            }
            this.notificationDelayWakelock.acquire(10000);
            AndroidUtilities.cancelRunOnUIThread(this.notificationDelayRunnable);
            AndroidUtilities.runOnUIThread(this.notificationDelayRunnable, (long) (onlineReason ? 3000 : 1000));
        } catch (Throwable e) {
            FileLog.m3e(e);
            showOrUpdateNotification(this.notifyCheck);
        }
    }

    protected void repeatNotificationMaybe() {
        notificationsQueue.postRunnable(new Runnable() {
            public void run() {
                int hour = Calendar.getInstance().get(11);
                if (hour < 11 || hour > 22) {
                    NotificationsController.this.scheduleNotificationRepeat();
                    return;
                }
                NotificationsController.notificationManager.cancel(NotificationsController.this.notificationId);
                NotificationsController.this.showOrUpdateNotification(true);
            }
        });
    }

    private boolean isEmptyVibration(long[] pattern) {
        if (pattern != null) {
            if (pattern.length != 0) {
                for (int a = 0; a < pattern.length; a++) {
                    if (pattern[0] != 0) {
                        return false;
                    }
                }
                return true;
            }
        }
        return false;
    }

    @TargetApi(26)
    private String validateChannelId(long dialogId, String name, long[] vibrationPattern, int ledColor, Uri sound, int importance, long[] configVibrationPattern, Uri configSound, int configImportance) {
        long j = dialogId;
        long[] jArr = vibrationPattern;
        int i = ledColor;
        Uri uri = sound;
        int i2 = importance;
        SharedPreferences preferences = MessagesController.getNotificationsSettings(this.currentAccount);
        String key = new StringBuilder();
        key.append("org.telegram.key");
        key.append(j);
        key = key.toString();
        String channelId = preferences.getString(key, null);
        StringBuilder stringBuilder = new StringBuilder();
        stringBuilder.append(key);
        stringBuilder.append("_s");
        String settings = preferences.getString(stringBuilder.toString(), null);
        StringBuilder newSettings = new StringBuilder();
        int a = 0;
        while (a < jArr.length) {
            newSettings.append(jArr[a]);
            a++;
            j = dialogId;
        }
        newSettings.append(i);
        if (uri != null) {
            newSettings.append(sound.toString());
        }
        newSettings.append(i2);
        String newSettingsHash = Utilities.MD5(newSettings.toString());
        if (!(channelId == null || settings.equals(newSettingsHash))) {
            if (false) {
                Editor putString = preferences.edit().putString(key, channelId);
                StringBuilder stringBuilder2 = new StringBuilder();
                stringBuilder2.append(key);
                stringBuilder2.append("_s");
                putString.putString(stringBuilder2.toString(), newSettingsHash).commit();
            } else {
                systemNotificationManager.deleteNotificationChannel(channelId);
                channelId = null;
            }
        }
        if (channelId == null) {
            StringBuilder stringBuilder3 = new StringBuilder();
            stringBuilder3.append(r0.currentAccount);
            stringBuilder3.append("channel");
            stringBuilder3.append(dialogId);
            stringBuilder3.append("_");
            stringBuilder3.append(Utilities.random.nextLong());
            channelId = stringBuilder3.toString();
            NotificationChannel notificationChannel = new NotificationChannel(channelId, name, i2);
            if (i != 0) {
                notificationChannel.enableLights(true);
                notificationChannel.setLightColor(i);
            }
            if (isEmptyVibration(jArr)) {
                notificationChannel.enableVibration(false);
            } else {
                notificationChannel.enableVibration(true);
                if (jArr != null && jArr.length > 0) {
                    notificationChannel.setVibrationPattern(jArr);
                }
            }
            if (uri != null) {
                Builder builder = new Builder();
                builder.setContentType(4);
                builder.setUsage(5);
                notificationChannel.setSound(uri, builder.build());
            } else {
                notificationChannel.setSound(null, null);
            }
            systemNotificationManager.createNotificationChannel(notificationChannel);
            Editor putString2 = preferences.edit().putString(key, channelId);
            StringBuilder stringBuilder4 = new StringBuilder();
            stringBuilder4.append(key);
            stringBuilder4.append("_s");
            putString2.putString(stringBuilder4.toString(), newSettingsHash).commit();
            return channelId;
        }
        String str = name;
        long j2 = dialogId;
        return channelId;
    }

    /* JADX WARNING: inconsistent code. */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    private void showOrUpdateNotification(boolean notifyAboutLast) {
        int notifyOverride;
        long override_dialog_id;
        int priorityOverride;
        Throwable e;
        int vibrateOverride;
        long[] configVibrationPattern;
        SharedPreferences preferences;
        int needVibrate;
        String str;
        int user_id;
        int priority;
        int ledColor;
        int chat_id;
        String chatName;
        int i;
        User user;
        Uri sound;
        PendingIntent contentIntent;
        Throwable e2;
        String name;
        boolean z;
        String lastMessage;
        int silent;
        int needVibrate2;
        String choosenSoundPath;
        String defaultPath;
        long[] jArr;
        long[] vibrationPattern;
        long[] vibrationPattern2;
        Uri sound2;
        String str2;
        ArrayList<TL_keyboardButtonRow> rows;
        int size;
        String choosenSoundPath2;
        ArrayList<TL_keyboardButtonRow> rows2;
        int size2;
        TL_keyboardButtonRow row;
        String defaultPath2;
        int size22;
        KeyboardButton choosenSoundPath3;
        TL_keyboardButtonRow row2;
        int priority2;
        Intent callbackIntent;
        Intent dismissIntent;
        FileLocation fileLocation;
        CharSequence charSequence;
        Context context;
        KeyboardButton button;
        MessageObject lastMessageObject;
        Intent replyIntent;
        long j;
        int i2;
        long j2;
        int i3;
        int i4;
        SharedPreferences sharedPreferences;
        int i5;
        int i6;
        User user2;
        PendingIntent pendingIntent;
        String str3;
        int i7;
        Intent intent;
        FileLocation fileLocation2;
        boolean z2 = notifyAboutLast;
        if (UserConfig.getInstance(this.currentAccount).isClientActivated()) {
            if (!r12.pushMessages.isEmpty()) {
                try {
                    ConnectionsManager.getInstance(r12.currentAccount).resumeNetworkMaybe();
                    MessageObject lastMessageObject2 = (MessageObject) r12.pushMessages.get(0);
                    SharedPreferences preferences2 = MessagesController.getNotificationsSettings(r12.currentAccount);
                    int dismissDate = preferences2.getInt("dismissDate", 0);
                    if (lastMessageObject2.messageOwner.date <= dismissDate) {
                        dismissNotification();
                        return;
                    }
                    int user_id2;
                    boolean notifyDisabled;
                    boolean notifyDisabled2;
                    int notifyDelay;
                    boolean notifyDisabled3;
                    Chat chat;
                    MessageObject lastMessageObject3;
                    int count;
                    String defaultPath3;
                    boolean inAppSounds;
                    boolean inAppVibrate;
                    boolean inAppPriority;
                    StringBuilder stringBuilder;
                    boolean z3;
                    boolean custom;
                    String choosenSoundPath4;
                    StringBuilder stringBuilder2;
                    int priorityOverride2;
                    StringBuilder stringBuilder3;
                    String choosenSoundPath5;
                    boolean vibrateOnlyIfSilent;
                    String choosenSoundPath6;
                    int needVibrate3;
                    int needVibrate4;
                    String choosenSoundPath7;
                    String str4;
                    int dismissDate2;
                    boolean vibrateOnlyIfSilent2;
                    String choosenSoundPath8;
                    long[] configVibrationPattern2;
                    Uri configSound;
                    String choosenSoundPath9;
                    Uri configSound2;
                    String choosenSoundPath10;
                    Intent intent2;
                    Chat chat2;
                    Chat chat3;
                    FileLocation fileLocation3;
                    PendingIntent contentIntent2;
                    MessageObject lastMessageObject4;
                    String str5;
                    boolean replace;
                    String detailText;
                    boolean z4;
                    NotificationCompat.Builder mBuilder;
                    long[] vibrationPattern3;
                    int silent2;
                    MessageObject messageObject;
                    String lastMessage2;
                    boolean[] text;
                    String stringForMessage;
                    String message;
                    String lastMessage3;
                    int silent3;
                    long dialog_id;
                    String defaultPath4;
                    InboxStyle inboxStyle;
                    int count2;
                    boolean[] text2;
                    int count3;
                    MessageObject count4;
                    String message2;
                    MessageObject messageObject2;
                    Intent dismissIntent2;
                    BitmapDrawable img;
                    File file;
                    float scaleFactor;
                    Options options;
                    StringBuilder stringBuilder4;
                    Object[] objArr;
                    long override_dialog_id2 = lastMessageObject2.getDialogId();
                    long dialog_id2 = override_dialog_id2;
                    if (lastMessageObject2.messageOwner.mentioned) {
                        override_dialog_id2 = (long) lastMessageObject2.messageOwner.from_id;
                    }
                    long override_dialog_id3 = override_dialog_id2;
                    int mid = lastMessageObject2.getId();
                    int chat_id2 = lastMessageObject2.messageOwner.to_id.chat_id != 0 ? lastMessageObject2.messageOwner.to_id.chat_id : lastMessageObject2.messageOwner.to_id.channel_id;
                    int user_id3 = lastMessageObject2.messageOwner.to_id.user_id;
                    if (user_id3 == 0) {
                        user_id2 = lastMessageObject2.messageOwner.from_id;
                    } else if (user_id3 == UserConfig.getInstance(r12.currentAccount).getClientUserId()) {
                        user_id2 = lastMessageObject2.messageOwner.from_id;
                    } else {
                        user_id2 = user_id3;
                    }
                    User user3 = MessagesController.getInstance(r12.currentAccount).getUser(Integer.valueOf(user_id2));
                    Chat chat4 = null;
                    if (chat_id2 != 0) {
                        chat4 = MessagesController.getInstance(r12.currentAccount).getChat(Integer.valueOf(chat_id2));
                    }
                    Chat chat5 = chat4;
                    int i8 = -16776961;
                    int i9 = 0;
                    boolean notifyOverride2 = getNotifyOverride(preferences2, override_dialog_id3);
                    FileLocation photoPath = null;
                    if (z2) {
                        notifyDisabled = false;
                        user_id3 = notifyOverride2;
                        if (user_id3 != true) {
                            if ((preferences2.getBoolean("EnableAll", true) && (chat_id2 == 0 || preferences2.getBoolean("EnableGroup", true))) || user_id3 != false) {
                                notifyDisabled2 = notifyDisabled;
                                if (notifyDisabled2 && dialog_id2 == override_dialog_id3 && chat5 != null) {
                                    StringBuilder stringBuilder5 = new StringBuilder();
                                    notifyOverride = user_id3;
                                    stringBuilder5.append("custom_");
                                    stringBuilder5.append(dialog_id2);
                                    if (preferences2.getBoolean(stringBuilder5.toString(), false) != 0) {
                                        user_id3 = new StringBuilder();
                                        user_id3.append("smart_max_count_");
                                        user_id3.append(dialog_id2);
                                        user_id3 = preferences2.getInt(user_id3.toString(), 2);
                                        stringBuilder5 = new StringBuilder();
                                        int notifyMaxCount = user_id3;
                                        stringBuilder5.append("smart_delay_");
                                        stringBuilder5.append(dialog_id2);
                                        notifyDelay = preferences2.getInt(stringBuilder5.toString(), 180);
                                        user_id3 = notifyMaxCount;
                                    } else {
                                        notifyDelay = 180;
                                        user_id3 = 2;
                                    }
                                    if (user_id3 != 0) {
                                        notifyDisabled3 = notifyDisabled2;
                                        Point dialogInfo = (Point) r12.smartNotificationsDialogs.get(dialog_id2);
                                        if (dialogInfo == null) {
                                            override_dialog_id = override_dialog_id3;
                                            chat = chat5;
                                            lastMessageObject3 = lastMessageObject2;
                                            r12.smartNotificationsDialogs.put(dialog_id2, new Point(1, (int) (System.currentTimeMillis() / 1000)));
                                        } else {
                                            override_dialog_id = override_dialog_id3;
                                            chat = chat5;
                                            lastMessageObject3 = lastMessageObject2;
                                            override_dialog_id3 = dialogInfo.y;
                                            if (((long) (override_dialog_id3 + notifyDelay)) < System.currentTimeMillis() / 1000) {
                                                dialogInfo.set(1, (int) (System.currentTimeMillis() / 1000));
                                            } else {
                                                count = dialogInfo.x;
                                                int lastTime;
                                                if (count < user_id3) {
                                                    lastTime = override_dialog_id3;
                                                    dialogInfo.set(count + 1, (int) (System.currentTimeMillis() / 1000));
                                                } else {
                                                    lastTime = override_dialog_id3;
                                                    int i10 = count;
                                                    notifyDisabled3 = true;
                                                }
                                            }
                                        }
                                    } else {
                                        notifyDisabled3 = notifyDisabled2;
                                        override_dialog_id = override_dialog_id3;
                                        chat = chat5;
                                        lastMessageObject3 = lastMessageObject2;
                                    }
                                } else {
                                    notifyOverride = user_id3;
                                    notifyDisabled3 = notifyDisabled2;
                                    override_dialog_id = override_dialog_id3;
                                    chat = chat5;
                                    lastMessageObject3 = lastMessageObject2;
                                }
                                defaultPath3 = System.DEFAULT_NOTIFICATION_URI.getPath();
                                inAppSounds = preferences2.getBoolean("EnableInAppSounds", true);
                                inAppVibrate = preferences2.getBoolean("EnableInAppVibrate", true);
                                notifyDisabled = preferences2.getBoolean("EnableInAppPreview", true);
                                inAppPriority = preferences2.getBoolean("EnableInAppPriority", false);
                                stringBuilder = new StringBuilder();
                                stringBuilder.append("custom_");
                                stringBuilder.append(dialog_id2);
                                z3 = preferences2.getBoolean(stringBuilder.toString(), false);
                                custom = z3;
                                if (z3) {
                                    count = 0;
                                    user_id3 = 3;
                                    choosenSoundPath4 = null;
                                } else {
                                    stringBuilder = new StringBuilder();
                                    stringBuilder.append("vibrate_");
                                    stringBuilder.append(dialog_id2);
                                    user_id3 = preferences2.getInt(stringBuilder.toString(), 0);
                                    stringBuilder2 = new StringBuilder();
                                    stringBuilder2.append("priority_");
                                    stringBuilder2.append(dialog_id2);
                                    priorityOverride2 = preferences2.getInt(stringBuilder2.toString(), 3);
                                    stringBuilder3 = new StringBuilder();
                                    stringBuilder3.append("sound_path_");
                                    stringBuilder3.append(dialog_id2);
                                    choosenSoundPath4 = preferences2.getString(stringBuilder3.toString(), null);
                                    count = user_id3;
                                    user_id3 = priorityOverride2;
                                }
                                choosenSoundPath5 = choosenSoundPath4;
                                vibrateOnlyIfSilent = false;
                                if (chat_id2 != 0) {
                                    if (choosenSoundPath5 == null && choosenSoundPath5.equals(defaultPath3) != null) {
                                        choosenSoundPath5 = null;
                                    } else if (choosenSoundPath5 == null) {
                                        choosenSoundPath5 = preferences2.getString("GroupSoundPath", defaultPath3);
                                    }
                                    choosenSoundPath6 = choosenSoundPath5;
                                    needVibrate3 = preferences2.getInt("vibrate_group", null);
                                    i9 = preferences2.getInt("priority_group", 1);
                                    i8 = preferences2.getInt("GroupLed", -16776961);
                                    needVibrate4 = needVibrate3;
                                    choosenSoundPath5 = choosenSoundPath6;
                                } else if (user_id2 == 0) {
                                    if (choosenSoundPath5 == null && choosenSoundPath5.equals(defaultPath3)) {
                                        choosenSoundPath5 = null;
                                    } else if (choosenSoundPath5 == null) {
                                        choosenSoundPath5 = preferences2.getString("GlobalSoundPath", defaultPath3);
                                    }
                                    choosenSoundPath7 = choosenSoundPath5;
                                    needVibrate3 = preferences2.getInt("vibrate_messages", null);
                                    i9 = preferences2.getInt("priority_group", 1);
                                    i8 = preferences2.getInt("MessagesLed", -16776961);
                                    needVibrate4 = needVibrate3;
                                    choosenSoundPath5 = choosenSoundPath7;
                                } else {
                                    needVibrate4 = 0;
                                }
                                if (custom) {
                                    str4 = choosenSoundPath5;
                                    dismissDate2 = dismissDate;
                                } else {
                                    str4 = choosenSoundPath5;
                                    stringBuilder2 = new StringBuilder();
                                    dismissDate2 = dismissDate;
                                    stringBuilder2.append("color_");
                                    stringBuilder2.append(dialog_id2);
                                    if (preferences2.contains(stringBuilder2.toString())) {
                                        stringBuilder2 = new StringBuilder();
                                        stringBuilder2.append("color_");
                                        stringBuilder2.append(dialog_id2);
                                        i8 = preferences2.getInt(stringBuilder2.toString(), 0);
                                    }
                                }
                                if (user_id3 != 3) {
                                    i9 = user_id3;
                                }
                                priorityOverride2 = i9;
                                if (needVibrate4 != 4) {
                                    vibrateOnlyIfSilent2 = true;
                                    needVibrate4 = 0;
                                } else {
                                    vibrateOnlyIfSilent2 = vibrateOnlyIfSilent;
                                }
                                if ((needVibrate4 == 2 && (count == 1 || count == 3)) || ((needVibrate4 != 2 && count == 2) || !(count == 0 || count == 4))) {
                                    needVibrate4 = count;
                                }
                                if (ApplicationLoader.mainInterfacePaused) {
                                    if (!inAppSounds) {
                                        str4 = null;
                                    }
                                    if (!inAppVibrate) {
                                        needVibrate4 = 2;
                                    }
                                    if (inAppPriority) {
                                        priorityOverride2 = 0;
                                        choosenSoundPath8 = str4;
                                        dismissDate = 2;
                                        if (vibrateOnlyIfSilent2 || needVibrate == r10) {
                                            priorityOverride = user_id3;
                                        } else {
                                            try {
                                                dismissDate = audioManager.getRingerMode();
                                                if (dismissDate != 0) {
                                                    priorityOverride = user_id3;
                                                    if (dismissDate != 1) {
                                                        needVibrate4 = 2;
                                                    }
                                                } else {
                                                    priorityOverride = user_id3;
                                                }
                                            } catch (Throwable e3) {
                                                priorityOverride = user_id3;
                                                FileLog.m3e(e3);
                                            }
                                        }
                                        configVibrationPattern2 = null;
                                        i9 = 0;
                                        configSound = null;
                                        vibrateOverride = count;
                                        if (VERSION.SDK_INT < 26) {
                                            if (needVibrate4 != 2) {
                                                configVibrationPattern2 = new long[]{0, 0};
                                            } else if (needVibrate4 != 1) {
                                                configVibrationPattern2 = new long[]{0, 100, 0, 100};
                                            } else {
                                                if (needVibrate4 != 0) {
                                                    if (needVibrate4 != 4) {
                                                        if (needVibrate4 == 3) {
                                                            configVibrationPattern2 = new long[]{0, 1000};
                                                        }
                                                    }
                                                }
                                                configVibrationPattern2 = new long[0];
                                            }
                                            choosenSoundPath9 = choosenSoundPath8;
                                            if (choosenSoundPath9 != null || choosenSoundPath9.equals("NoSound")) {
                                                configSound2 = configSound;
                                            } else if (choosenSoundPath9.equals(defaultPath3)) {
                                                configSound2 = System.DEFAULT_NOTIFICATION_URI;
                                            } else {
                                                configSound2 = Uri.parse(choosenSoundPath9);
                                            }
                                            if (priorityOverride2 != 0) {
                                                i9 = 3;
                                                choosenSoundPath10 = choosenSoundPath9;
                                            } else {
                                                choosenSoundPath10 = choosenSoundPath9;
                                                if (priorityOverride2 != 1) {
                                                    if (priorityOverride2 != 2) {
                                                        if (priorityOverride2 != 4) {
                                                            user_id3 = 1;
                                                        } else if (priorityOverride2 == 5) {
                                                            user_id3 = 2;
                                                        }
                                                        i9 = user_id3;
                                                    }
                                                }
                                                user_id3 = 4;
                                                i9 = user_id3;
                                            }
                                            configSound = configSound2;
                                            configVibrationPattern = configVibrationPattern2;
                                        } else {
                                            choosenSoundPath10 = choosenSoundPath8;
                                            configVibrationPattern = null;
                                        }
                                        if (notifyDisabled3) {
                                            dismissDate = needVibrate4;
                                            count = i8;
                                            choosenSoundPath9 = choosenSoundPath10;
                                        } else {
                                            priorityOverride2 = 0;
                                            count = 0;
                                            dismissDate = 0;
                                            choosenSoundPath9 = null;
                                        }
                                        needVibrate4 = priorityOverride2;
                                        preferences = preferences2;
                                        intent2 = new Intent(ApplicationLoader.applicationContext, LaunchActivity.class);
                                        stringBuilder2 = new StringBuilder();
                                        stringBuilder2.append("com.tmessages.openchat");
                                        needVibrate = dismissDate;
                                        stringBuilder2.append(Math.random());
                                        stringBuilder2.append(ConnectionsManager.DEFAULT_DATACENTER_ID);
                                        intent2.setAction(stringBuilder2.toString());
                                        intent2.setFlags(32768);
                                        if (((int) dialog_id2) == 0) {
                                            if (r12.pushDialogs.size() == 1) {
                                                if (chat_id2 == 0) {
                                                    intent2.putExtra("chatId", chat_id2);
                                                } else if (user_id2 != 0) {
                                                    intent2.putExtra("userId", user_id2);
                                                }
                                            }
                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                str = choosenSoundPath9;
                                                user_id = user_id2;
                                                chat2 = chat;
                                            } else if (!SharedConfig.isWaitingForPasscodeEnter) {
                                                str = choosenSoundPath9;
                                                user_id = user_id2;
                                                chat2 = chat;
                                            } else if (r12.pushDialogs.size() != 1) {
                                                if (chat == null) {
                                                    chat2 = chat;
                                                    if (!(chat2.photo == null || chat2.photo.photo_small == null)) {
                                                        chat3 = chat2;
                                                        if (chat2.photo.photo_small.volume_id == 0) {
                                                            chat2 = chat3;
                                                            if (chat2.photo.photo_small.local_id != 0) {
                                                                str = choosenSoundPath9;
                                                                user_id = user_id2;
                                                                fileLocation3 = chat2.photo.photo_small;
                                                                priority = needVibrate4;
                                                                ledColor = count;
                                                                intent2.putExtra("currentAccount", r12.currentAccount);
                                                                contentIntent2 = PendingIntent.getActivity(ApplicationLoader.applicationContext, 0, intent2, NUM);
                                                                if ((chat_id2 == 0 && chat2 == null) || user3 == null) {
                                                                    lastMessageObject4 = lastMessageObject3;
                                                                    if (lastMessageObject4.isFcmMessage()) {
                                                                        str5 = lastMessageObject4.localName;
                                                                        choosenSoundPath5 = str5;
                                                                        if (((int) dialog_id2) == 0) {
                                                                            replace = true;
                                                                            if (r12.pushDialogs.size() <= true && !AndroidUtilities.needShowPasscode(false)) {
                                                                                if (SharedConfig.isWaitingForPasscodeEnter) {
                                                                                    choosenSoundPath9 = choosenSoundPath5;
                                                                                    str5 = choosenSoundPath9;
                                                                                    chat_id = chat_id2;
                                                                                    if (UserConfig.getActivatedAccountsCount() <= 1) {
                                                                                        choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                                                                    } else if (r12.pushDialogs.size() != 1) {
                                                                                        choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                                                                    } else {
                                                                                        stringBuilder = new StringBuilder();
                                                                                        stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                                                                        stringBuilder.append("\u30fb");
                                                                                        choosenSoundPath9 = stringBuilder.toString();
                                                                                    }
                                                                                    if (r12.pushDialogs.size() == 1) {
                                                                                        if (VERSION.SDK_INT >= 23) {
                                                                                            detailText = choosenSoundPath9;
                                                                                            chatName = choosenSoundPath5;
                                                                                            z4 = inAppVibrate;
                                                                                            mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                                                            vibrationPattern3 = null;
                                                                                            mBuilder.setCategory("msg");
                                                                                            if (chat2 == null && user3 != null) {
                                                                                                if (user3.phone != null && user3.phone.length() > 0) {
                                                                                                    stringBuilder = new StringBuilder();
                                                                                                    i = 0;
                                                                                                    stringBuilder.append("tel:+");
                                                                                                    stringBuilder.append(user3.phone);
                                                                                                    mBuilder.addPerson(stringBuilder.toString());
                                                                                                    silent2 = 2;
                                                                                                    user = user3;
                                                                                                    if (r12.pushMessages.size() == 1) {
                                                                                                        messageObject = (MessageObject) r12.pushMessages.get(0);
                                                                                                        lastMessage2 = null;
                                                                                                        text = new boolean[1];
                                                                                                        stringForMessage = getStringForMessage(messageObject, null, text);
                                                                                                        message = stringForMessage;
                                                                                                        lastMessage3 = stringForMessage;
                                                                                                        choosenSoundPath5 = messageObject.messageOwner.silent;
                                                                                                        choosenSoundPath9 = message;
                                                                                                        if (choosenSoundPath9 != null) {
                                                                                                            if (replace) {
                                                                                                                if (chat2 != null) {
                                                                                                                    silent3 = choosenSoundPath5;
                                                                                                                    choosenSoundPath5 = new StringBuilder();
                                                                                                                    sound = null;
                                                                                                                    choosenSoundPath5.append(" @ ");
                                                                                                                    choosenSoundPath5.append(str5);
                                                                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                                } else {
                                                                                                                    silent3 = choosenSoundPath5;
                                                                                                                    sound = null;
                                                                                                                    if (text[null]) {
                                                                                                                        choosenSoundPath5 = new StringBuilder();
                                                                                                                        choosenSoundPath5.append(str5);
                                                                                                                        choosenSoundPath5.append(": ");
                                                                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                                    } else {
                                                                                                                        choosenSoundPath5 = new StringBuilder();
                                                                                                                        choosenSoundPath5.append(str5);
                                                                                                                        choosenSoundPath5.append(" ");
                                                                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                                    }
                                                                                                                }
                                                                                                                choosenSoundPath9 = message;
                                                                                                            } else {
                                                                                                                silent3 = choosenSoundPath5;
                                                                                                                sound = null;
                                                                                                            }
                                                                                                            mBuilder.setContentText(choosenSoundPath9);
                                                                                                            mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                                                                            contentIntent = contentIntent2;
                                                                                                            dialog_id = dialog_id2;
                                                                                                            defaultPath4 = defaultPath3;
                                                                                                            notifyDelay = dismissDate2;
                                                                                                            choosenSoundPath9 = lastMessage3;
                                                                                                            priorityOverride2 = silent3;
                                                                                                        } else {
                                                                                                            return;
                                                                                                        }
                                                                                                    }
                                                                                                    lastMessage2 = null;
                                                                                                    sound = null;
                                                                                                    mBuilder.setContentText(detailText);
                                                                                                    inboxStyle = new InboxStyle();
                                                                                                    inboxStyle.setBigContentTitle(str5);
                                                                                                    count2 = Math.min(10, r12.pushMessages.size());
                                                                                                    text2 = new boolean[1];
                                                                                                    contentIntent = contentIntent2;
                                                                                                    count = silent2;
                                                                                                    chat_id2 = 0;
                                                                                                    while (chat_id2 < count2) {
                                                                                                        count3 = count2;
                                                                                                        try {
                                                                                                            count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                                                                            dialog_id = dialog_id2;
                                                                                                            message2 = getStringForMessage(count4, 0, text2);
                                                                                                            if (message2 != null) {
                                                                                                                defaultPath4 = defaultPath3;
                                                                                                                notifyDelay = dismissDate2;
                                                                                                                if (count4.messageOwner.date > notifyDelay) {
                                                                                                                    if (count == 2) {
                                                                                                                        lastMessage2 = message2;
                                                                                                                        count = count4.messageOwner.silent;
                                                                                                                    }
                                                                                                                    messageObject2 = count4;
                                                                                                                    if (r12.pushDialogs.size() == 1 && replace) {
                                                                                                                        if (chat2 != null) {
                                                                                                                            count2 = new StringBuilder();
                                                                                                                            count2.append(" @ ");
                                                                                                                            count2.append(str5);
                                                                                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                                        } else if (text2[0]) {
                                                                                                                            count2 = new StringBuilder();
                                                                                                                            count2.append(str5);
                                                                                                                            count2.append(": ");
                                                                                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                                        } else {
                                                                                                                            count2 = new StringBuilder();
                                                                                                                            count2.append(str5);
                                                                                                                            count2.append(" ");
                                                                                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                                        }
                                                                                                                    }
                                                                                                                    inboxStyle.addLine(message2);
                                                                                                                }
                                                                                                            } else {
                                                                                                                defaultPath4 = defaultPath3;
                                                                                                                notifyDelay = dismissDate2;
                                                                                                            }
                                                                                                            chat_id2++;
                                                                                                            dismissDate2 = notifyDelay;
                                                                                                            count2 = count3;
                                                                                                            dialog_id2 = dialog_id;
                                                                                                            defaultPath3 = defaultPath4;
                                                                                                        } catch (Throwable e32) {
                                                                                                            e2 = e32;
                                                                                                            z2 = notifyAboutLast;
                                                                                                        }
                                                                                                    }
                                                                                                    dialog_id = dialog_id2;
                                                                                                    defaultPath4 = defaultPath3;
                                                                                                    notifyDelay = dismissDate2;
                                                                                                    inboxStyle.setSummaryText(detailText);
                                                                                                    mBuilder.setStyle(inboxStyle);
                                                                                                    priorityOverride2 = count;
                                                                                                    choosenSoundPath9 = lastMessage2;
                                                                                                    dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                                                                    dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                                                                    dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                                                                    mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                                                                    if (fileLocation3 != null) {
                                                                                                        img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                                                                        if (img != null) {
                                                                                                            mBuilder.setLargeIcon(img.getBitmap());
                                                                                                            name = str5;
                                                                                                        } else {
                                                                                                            try {
                                                                                                                file = FileLoader.getPathToAttach(fileLocation3, true);
                                                                                                                if (file.exists()) {
                                                                                                                    scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                                                                    options = new Options();
                                                                                                                    if (scaleFactor < 1.0f) {
                                                                                                                        name = str5;
                                                                                                                        str5 = true;
                                                                                                                    } else {
                                                                                                                        name = str5;
                                                                                                                        str5 = (int) scaleFactor;
                                                                                                                    }
                                                                                                                    try {
                                                                                                                        options.inSampleSize = str5;
                                                                                                                        str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                                                                        if (str5 != null) {
                                                                                                                            mBuilder.setLargeIcon(str5);
                                                                                                                        }
                                                                                                                    } catch (Throwable th) {
                                                                                                                        z = notifyAboutLast;
                                                                                                                        if (z) {
                                                                                                                            count = priority;
                                                                                                                        } else if (priorityOverride2 == 1) {
                                                                                                                            if (priority == 0) {
                                                                                                                                count = priority;
                                                                                                                                if (count != 1) {
                                                                                                                                    if (count == 2) {
                                                                                                                                        if (count != 4) {
                                                                                                                                            mBuilder.setPriority(-2);
                                                                                                                                            if (VERSION.SDK_INT >= 26) {
                                                                                                                                                user_id2 = 1;
                                                                                                                                                i = user_id2;
                                                                                                                                            }
                                                                                                                                        } else if (count == 5) {
                                                                                                                                            mBuilder.setPriority(-1);
                                                                                                                                            if (VERSION.SDK_INT >= 26) {
                                                                                                                                                user_id2 = 2;
                                                                                                                                                i = user_id2;
                                                                                                                                            }
                                                                                                                                        }
                                                                                                                                    }
                                                                                                                                }
                                                                                                                                mBuilder.setPriority(1);
                                                                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                                                                    user_id2 = 4;
                                                                                                                                    i = user_id2;
                                                                                                                                }
                                                                                                                            } else {
                                                                                                                                try {
                                                                                                                                    mBuilder.setPriority(0);
                                                                                                                                    if (VERSION.SDK_INT >= 26) {
                                                                                                                                        i = 3;
                                                                                                                                    }
                                                                                                                                    count = priority;
                                                                                                                                } catch (Throwable e322) {
                                                                                                                                    e2 = e322;
                                                                                                                                    z2 = z;
                                                                                                                                    FileLog.m3e(e2);
                                                                                                                                    return;
                                                                                                                                }
                                                                                                                            }
                                                                                                                            if (priorityOverride2 != 1) {
                                                                                                                            }
                                                                                                                            lastMessage = choosenSoundPath9;
                                                                                                                            silent = priorityOverride2;
                                                                                                                            needVibrate2 = needVibrate;
                                                                                                                            choosenSoundPath = str;
                                                                                                                            priorityOverride2 = ledColor;
                                                                                                                            defaultPath = defaultPath4;
                                                                                                                            jArr = new long[]{0, 0};
                                                                                                                            vibrationPattern = jArr;
                                                                                                                            mBuilder.setVibrate(jArr);
                                                                                                                            vibrationPattern2 = vibrationPattern;
                                                                                                                            sound2 = sound;
                                                                                                                            str2 = lastMessage;
                                                                                                                            if (!AndroidUtilities.needShowPasscode(false)) {
                                                                                                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                                                                                size = rows.size();
                                                                                                                                notifyOverride2 = false;
                                                                                                                                z3 = false;
                                                                                                                                while (true) {
                                                                                                                                    choosenSoundPath2 = choosenSoundPath;
                                                                                                                                    choosenSoundPath = size;
                                                                                                                                    if (z3 < choosenSoundPath) {
                                                                                                                                        break;
                                                                                                                                    }
                                                                                                                                    rows2 = rows;
                                                                                                                                    size2 = choosenSoundPath;
                                                                                                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                                                                    choosenSoundPath = row.buttons.size();
                                                                                                                                    defaultPath2 = defaultPath;
                                                                                                                                    defaultPath = 0;
                                                                                                                                    while (defaultPath < choosenSoundPath) {
                                                                                                                                        size22 = choosenSoundPath;
                                                                                                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                                                                        row2 = row;
                                                                                                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                                                                            priority2 = count;
                                                                                                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                                                            dismissIntent = dismissIntent2;
                                                                                                                                            dialog_id2 = dialog_id;
                                                                                                                                            callbackIntent.putExtra("did", dialog_id2);
                                                                                                                                            if (choosenSoundPath3.data == null) {
                                                                                                                                                fileLocation = fileLocation3;
                                                                                                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                                                                            } else {
                                                                                                                                                fileLocation = fileLocation3;
                                                                                                                                            }
                                                                                                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                                                                            charSequence = choosenSoundPath3.text;
                                                                                                                                            context = ApplicationLoader.applicationContext;
                                                                                                                                            button = choosenSoundPath3;
                                                                                                                                            choosenSoundPath = r12.lastButtonId;
                                                                                                                                            lastMessageObject = lastMessageObject4;
                                                                                                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                                                                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                                                                            notifyOverride2 = true;
                                                                                                                                        } else {
                                                                                                                                            lastMessageObject = lastMessageObject4;
                                                                                                                                            priority2 = count;
                                                                                                                                            dismissIntent = dismissIntent2;
                                                                                                                                            fileLocation = fileLocation3;
                                                                                                                                            dialog_id2 = dialog_id;
                                                                                                                                        }
                                                                                                                                        defaultPath++;
                                                                                                                                        dialog_id = dialog_id2;
                                                                                                                                        choosenSoundPath = size22;
                                                                                                                                        row = row2;
                                                                                                                                        count = priority2;
                                                                                                                                        dismissIntent2 = dismissIntent;
                                                                                                                                        fileLocation3 = fileLocation;
                                                                                                                                        lastMessageObject4 = lastMessageObject;
                                                                                                                                        dialog_id2 = notifyAboutLast;
                                                                                                                                    }
                                                                                                                                    priority2 = count;
                                                                                                                                    fileLocation = fileLocation3;
                                                                                                                                    dialog_id2 = dialog_id;
                                                                                                                                    z3++;
                                                                                                                                    choosenSoundPath = choosenSoundPath2;
                                                                                                                                    rows = rows2;
                                                                                                                                    size = size2;
                                                                                                                                    defaultPath = defaultPath2;
                                                                                                                                    dismissIntent2 = dismissIntent2;
                                                                                                                                    dialog_id2 = notifyAboutLast;
                                                                                                                                }
                                                                                                                                defaultPath2 = defaultPath;
                                                                                                                                lastMessageObject = lastMessageObject4;
                                                                                                                                priority2 = count;
                                                                                                                                dismissIntent = dismissIntent2;
                                                                                                                                fileLocation = fileLocation3;
                                                                                                                                dialog_id2 = dialog_id;
                                                                                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                                                if (VERSION.SDK_INT > 19) {
                                                                                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                                                } else {
                                                                                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                                                }
                                                                                                                                if (VERSION.SDK_INT < 26) {
                                                                                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                                                                                    notifyOverride = name;
                                                                                                                                    override_dialog_id = lastMessageObject;
                                                                                                                                    priorityOverride = chat2;
                                                                                                                                    silent3 = silent;
                                                                                                                                    notifyDelay = notifyAboutLast;
                                                                                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                                                                } else {
                                                                                                                                    j = dialog_id2;
                                                                                                                                    i2 = notifyDelay;
                                                                                                                                    size = notifyOverride;
                                                                                                                                    j2 = override_dialog_id;
                                                                                                                                    i3 = priorityOverride;
                                                                                                                                    i4 = vibrateOverride;
                                                                                                                                    sharedPreferences = preferences;
                                                                                                                                    i5 = user_id;
                                                                                                                                    i6 = chat_id;
                                                                                                                                    user2 = user;
                                                                                                                                    pendingIntent = contentIntent;
                                                                                                                                    silent3 = silent;
                                                                                                                                    dismissDate2 = needVibrate2;
                                                                                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                                                                                    str3 = defaultPath2;
                                                                                                                                    i7 = priority2;
                                                                                                                                    intent = dismissIntent;
                                                                                                                                    fileLocation2 = fileLocation;
                                                                                                                                    notifyDelay = notifyAboutLast;
                                                                                                                                }
                                                                                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                                                                r12.lastNotificationIsNoData = false;
                                                                                                                                scheduleNotificationRepeat();
                                                                                                                                return;
                                                                                                                            }
                                                                                                                            choosenSoundPath2 = choosenSoundPath;
                                                                                                                            defaultPath2 = defaultPath;
                                                                                                                            lastMessageObject = lastMessageObject4;
                                                                                                                            priority2 = count;
                                                                                                                            dismissIntent = dismissIntent2;
                                                                                                                            fileLocation = fileLocation3;
                                                                                                                            dialog_id2 = dialog_id;
                                                                                                                            notifyOverride2 = false;
                                                                                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                                            if (VERSION.SDK_INT > 19) {
                                                                                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                                            } else {
                                                                                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                                            }
                                                                                                                            if (VERSION.SDK_INT < 26) {
                                                                                                                                j = dialog_id2;
                                                                                                                                i2 = notifyDelay;
                                                                                                                                size = notifyOverride;
                                                                                                                                j2 = override_dialog_id;
                                                                                                                                i3 = priorityOverride;
                                                                                                                                i4 = vibrateOverride;
                                                                                                                                sharedPreferences = preferences;
                                                                                                                                i5 = user_id;
                                                                                                                                i6 = chat_id;
                                                                                                                                user2 = user;
                                                                                                                                pendingIntent = contentIntent;
                                                                                                                                silent3 = silent;
                                                                                                                                dismissDate2 = needVibrate2;
                                                                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                                                                str3 = defaultPath2;
                                                                                                                                i7 = priority2;
                                                                                                                                intent = dismissIntent;
                                                                                                                                fileLocation2 = fileLocation;
                                                                                                                                notifyDelay = notifyAboutLast;
                                                                                                                            } else {
                                                                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                                                                notifyOverride = name;
                                                                                                                                override_dialog_id = lastMessageObject;
                                                                                                                                priorityOverride = chat2;
                                                                                                                                silent3 = silent;
                                                                                                                                notifyDelay = notifyAboutLast;
                                                                                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                                                            }
                                                                                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                                                            r12.lastNotificationIsNoData = false;
                                                                                                                            scheduleNotificationRepeat();
                                                                                                                            return;
                                                                                                                        } else {
                                                                                                                            count = priority;
                                                                                                                        }
                                                                                                                        mBuilder.setPriority(-1);
                                                                                                                        if (VERSION.SDK_INT >= 26) {
                                                                                                                            user_id2 = 2;
                                                                                                                            i = user_id2;
                                                                                                                        }
                                                                                                                        if (priorityOverride2 != 1) {
                                                                                                                        }
                                                                                                                        lastMessage = choosenSoundPath9;
                                                                                                                        silent = priorityOverride2;
                                                                                                                        needVibrate2 = needVibrate;
                                                                                                                        choosenSoundPath = str;
                                                                                                                        priorityOverride2 = ledColor;
                                                                                                                        defaultPath = defaultPath4;
                                                                                                                        jArr = new long[]{0, 0};
                                                                                                                        vibrationPattern = jArr;
                                                                                                                        mBuilder.setVibrate(jArr);
                                                                                                                        vibrationPattern2 = vibrationPattern;
                                                                                                                        sound2 = sound;
                                                                                                                        str2 = lastMessage;
                                                                                                                        if (AndroidUtilities.needShowPasscode(false)) {
                                                                                                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                                                                            size = rows.size();
                                                                                                                            notifyOverride2 = false;
                                                                                                                            z3 = false;
                                                                                                                            while (true) {
                                                                                                                                choosenSoundPath2 = choosenSoundPath;
                                                                                                                                choosenSoundPath = size;
                                                                                                                                if (z3 < choosenSoundPath) {
                                                                                                                                    break;
                                                                                                                                }
                                                                                                                                rows2 = rows;
                                                                                                                                size2 = choosenSoundPath;
                                                                                                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                                                                choosenSoundPath = row.buttons.size();
                                                                                                                                defaultPath2 = defaultPath;
                                                                                                                                defaultPath = 0;
                                                                                                                                while (defaultPath < choosenSoundPath) {
                                                                                                                                    size22 = choosenSoundPath;
                                                                                                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                                                                    row2 = row;
                                                                                                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                                                                        lastMessageObject = lastMessageObject4;
                                                                                                                                        priority2 = count;
                                                                                                                                        dismissIntent = dismissIntent2;
                                                                                                                                        fileLocation = fileLocation3;
                                                                                                                                        dialog_id2 = dialog_id;
                                                                                                                                    } else {
                                                                                                                                        priority2 = count;
                                                                                                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                                                        dismissIntent = dismissIntent2;
                                                                                                                                        dialog_id2 = dialog_id;
                                                                                                                                        callbackIntent.putExtra("did", dialog_id2);
                                                                                                                                        if (choosenSoundPath3.data == null) {
                                                                                                                                            fileLocation = fileLocation3;
                                                                                                                                        } else {
                                                                                                                                            fileLocation = fileLocation3;
                                                                                                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                                                                        }
                                                                                                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                                                                        charSequence = choosenSoundPath3.text;
                                                                                                                                        context = ApplicationLoader.applicationContext;
                                                                                                                                        button = choosenSoundPath3;
                                                                                                                                        choosenSoundPath = r12.lastButtonId;
                                                                                                                                        lastMessageObject = lastMessageObject4;
                                                                                                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                                                                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                                                                        notifyOverride2 = true;
                                                                                                                                    }
                                                                                                                                    defaultPath++;
                                                                                                                                    dialog_id = dialog_id2;
                                                                                                                                    choosenSoundPath = size22;
                                                                                                                                    row = row2;
                                                                                                                                    count = priority2;
                                                                                                                                    dismissIntent2 = dismissIntent;
                                                                                                                                    fileLocation3 = fileLocation;
                                                                                                                                    lastMessageObject4 = lastMessageObject;
                                                                                                                                    dialog_id2 = notifyAboutLast;
                                                                                                                                }
                                                                                                                                priority2 = count;
                                                                                                                                fileLocation = fileLocation3;
                                                                                                                                dialog_id2 = dialog_id;
                                                                                                                                z3++;
                                                                                                                                choosenSoundPath = choosenSoundPath2;
                                                                                                                                rows = rows2;
                                                                                                                                size = size2;
                                                                                                                                defaultPath = defaultPath2;
                                                                                                                                dismissIntent2 = dismissIntent2;
                                                                                                                                dialog_id2 = notifyAboutLast;
                                                                                                                            }
                                                                                                                            defaultPath2 = defaultPath;
                                                                                                                            lastMessageObject = lastMessageObject4;
                                                                                                                            priority2 = count;
                                                                                                                            dismissIntent = dismissIntent2;
                                                                                                                            fileLocation = fileLocation3;
                                                                                                                            dialog_id2 = dialog_id;
                                                                                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                                            if (VERSION.SDK_INT > 19) {
                                                                                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                                            } else {
                                                                                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                                            }
                                                                                                                            if (VERSION.SDK_INT < 26) {
                                                                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                                                                notifyOverride = name;
                                                                                                                                override_dialog_id = lastMessageObject;
                                                                                                                                priorityOverride = chat2;
                                                                                                                                silent3 = silent;
                                                                                                                                notifyDelay = notifyAboutLast;
                                                                                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                                                            } else {
                                                                                                                                j = dialog_id2;
                                                                                                                                i2 = notifyDelay;
                                                                                                                                size = notifyOverride;
                                                                                                                                j2 = override_dialog_id;
                                                                                                                                i3 = priorityOverride;
                                                                                                                                i4 = vibrateOverride;
                                                                                                                                sharedPreferences = preferences;
                                                                                                                                i5 = user_id;
                                                                                                                                i6 = chat_id;
                                                                                                                                user2 = user;
                                                                                                                                pendingIntent = contentIntent;
                                                                                                                                silent3 = silent;
                                                                                                                                dismissDate2 = needVibrate2;
                                                                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                                                                str3 = defaultPath2;
                                                                                                                                i7 = priority2;
                                                                                                                                intent = dismissIntent;
                                                                                                                                fileLocation2 = fileLocation;
                                                                                                                                notifyDelay = notifyAboutLast;
                                                                                                                            }
                                                                                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                                                            r12.lastNotificationIsNoData = false;
                                                                                                                            scheduleNotificationRepeat();
                                                                                                                            return;
                                                                                                                        }
                                                                                                                        choosenSoundPath2 = choosenSoundPath;
                                                                                                                        defaultPath2 = defaultPath;
                                                                                                                        lastMessageObject = lastMessageObject4;
                                                                                                                        priority2 = count;
                                                                                                                        dismissIntent = dismissIntent2;
                                                                                                                        fileLocation = fileLocation3;
                                                                                                                        dialog_id2 = dialog_id;
                                                                                                                        notifyOverride2 = false;
                                                                                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                                        if (VERSION.SDK_INT > 19) {
                                                                                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                                        } else {
                                                                                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                                        }
                                                                                                                        if (VERSION.SDK_INT < 26) {
                                                                                                                            j = dialog_id2;
                                                                                                                            i2 = notifyDelay;
                                                                                                                            size = notifyOverride;
                                                                                                                            j2 = override_dialog_id;
                                                                                                                            i3 = priorityOverride;
                                                                                                                            i4 = vibrateOverride;
                                                                                                                            sharedPreferences = preferences;
                                                                                                                            i5 = user_id;
                                                                                                                            i6 = chat_id;
                                                                                                                            user2 = user;
                                                                                                                            pendingIntent = contentIntent;
                                                                                                                            silent3 = silent;
                                                                                                                            dismissDate2 = needVibrate2;
                                                                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                                                                            str3 = defaultPath2;
                                                                                                                            i7 = priority2;
                                                                                                                            intent = dismissIntent;
                                                                                                                            fileLocation2 = fileLocation;
                                                                                                                            notifyDelay = notifyAboutLast;
                                                                                                                        } else {
                                                                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                                                                            notifyOverride = name;
                                                                                                                            override_dialog_id = lastMessageObject;
                                                                                                                            priorityOverride = chat2;
                                                                                                                            silent3 = silent;
                                                                                                                            notifyDelay = notifyAboutLast;
                                                                                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                                                        }
                                                                                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                                                        r12.lastNotificationIsNoData = false;
                                                                                                                        scheduleNotificationRepeat();
                                                                                                                        return;
                                                                                                                    }
                                                                                                                }
                                                                                                                name = str5;
                                                                                                            } catch (Throwable th2) {
                                                                                                                name = str5;
                                                                                                                z = notifyAboutLast;
                                                                                                                if (z) {
                                                                                                                    count = priority;
                                                                                                                } else if (priorityOverride2 == 1) {
                                                                                                                    count = priority;
                                                                                                                } else {
                                                                                                                    if (priority == 0) {
                                                                                                                        mBuilder.setPriority(0);
                                                                                                                        if (VERSION.SDK_INT >= 26) {
                                                                                                                            i = 3;
                                                                                                                        }
                                                                                                                        count = priority;
                                                                                                                    } else {
                                                                                                                        count = priority;
                                                                                                                        if (count != 1) {
                                                                                                                            if (count == 2) {
                                                                                                                                if (count != 4) {
                                                                                                                                    mBuilder.setPriority(-2);
                                                                                                                                    if (VERSION.SDK_INT >= 26) {
                                                                                                                                        user_id2 = 1;
                                                                                                                                        i = user_id2;
                                                                                                                                    }
                                                                                                                                } else if (count == 5) {
                                                                                                                                    mBuilder.setPriority(-1);
                                                                                                                                    if (VERSION.SDK_INT >= 26) {
                                                                                                                                        user_id2 = 2;
                                                                                                                                        i = user_id2;
                                                                                                                                    }
                                                                                                                                }
                                                                                                                            }
                                                                                                                        }
                                                                                                                        mBuilder.setPriority(1);
                                                                                                                        if (VERSION.SDK_INT >= 26) {
                                                                                                                            user_id2 = 4;
                                                                                                                            i = user_id2;
                                                                                                                        }
                                                                                                                    }
                                                                                                                    if (priorityOverride2 != 1) {
                                                                                                                    }
                                                                                                                    lastMessage = choosenSoundPath9;
                                                                                                                    silent = priorityOverride2;
                                                                                                                    needVibrate2 = needVibrate;
                                                                                                                    choosenSoundPath = str;
                                                                                                                    priorityOverride2 = ledColor;
                                                                                                                    defaultPath = defaultPath4;
                                                                                                                    jArr = new long[]{0, 0};
                                                                                                                    vibrationPattern = jArr;
                                                                                                                    mBuilder.setVibrate(jArr);
                                                                                                                    vibrationPattern2 = vibrationPattern;
                                                                                                                    sound2 = sound;
                                                                                                                    str2 = lastMessage;
                                                                                                                    if (AndroidUtilities.needShowPasscode(false)) {
                                                                                                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                                                                        size = rows.size();
                                                                                                                        notifyOverride2 = false;
                                                                                                                        z3 = false;
                                                                                                                        while (true) {
                                                                                                                            choosenSoundPath2 = choosenSoundPath;
                                                                                                                            choosenSoundPath = size;
                                                                                                                            if (z3 < choosenSoundPath) {
                                                                                                                                break;
                                                                                                                            }
                                                                                                                            rows2 = rows;
                                                                                                                            size2 = choosenSoundPath;
                                                                                                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                                                            choosenSoundPath = row.buttons.size();
                                                                                                                            defaultPath2 = defaultPath;
                                                                                                                            defaultPath = 0;
                                                                                                                            while (defaultPath < choosenSoundPath) {
                                                                                                                                size22 = choosenSoundPath;
                                                                                                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                                                                row2 = row;
                                                                                                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                                                                    priority2 = count;
                                                                                                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                                                    dismissIntent = dismissIntent2;
                                                                                                                                    dialog_id2 = dialog_id;
                                                                                                                                    callbackIntent.putExtra("did", dialog_id2);
                                                                                                                                    if (choosenSoundPath3.data == null) {
                                                                                                                                        fileLocation = fileLocation3;
                                                                                                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                                                                    } else {
                                                                                                                                        fileLocation = fileLocation3;
                                                                                                                                    }
                                                                                                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                                                                    charSequence = choosenSoundPath3.text;
                                                                                                                                    context = ApplicationLoader.applicationContext;
                                                                                                                                    button = choosenSoundPath3;
                                                                                                                                    choosenSoundPath = r12.lastButtonId;
                                                                                                                                    lastMessageObject = lastMessageObject4;
                                                                                                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                                                                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                                                                    notifyOverride2 = true;
                                                                                                                                } else {
                                                                                                                                    lastMessageObject = lastMessageObject4;
                                                                                                                                    priority2 = count;
                                                                                                                                    dismissIntent = dismissIntent2;
                                                                                                                                    fileLocation = fileLocation3;
                                                                                                                                    dialog_id2 = dialog_id;
                                                                                                                                }
                                                                                                                                defaultPath++;
                                                                                                                                dialog_id = dialog_id2;
                                                                                                                                choosenSoundPath = size22;
                                                                                                                                row = row2;
                                                                                                                                count = priority2;
                                                                                                                                dismissIntent2 = dismissIntent;
                                                                                                                                fileLocation3 = fileLocation;
                                                                                                                                lastMessageObject4 = lastMessageObject;
                                                                                                                                dialog_id2 = notifyAboutLast;
                                                                                                                            }
                                                                                                                            priority2 = count;
                                                                                                                            fileLocation = fileLocation3;
                                                                                                                            dialog_id2 = dialog_id;
                                                                                                                            z3++;
                                                                                                                            choosenSoundPath = choosenSoundPath2;
                                                                                                                            rows = rows2;
                                                                                                                            size = size2;
                                                                                                                            defaultPath = defaultPath2;
                                                                                                                            dismissIntent2 = dismissIntent2;
                                                                                                                            dialog_id2 = notifyAboutLast;
                                                                                                                        }
                                                                                                                        defaultPath2 = defaultPath;
                                                                                                                        lastMessageObject = lastMessageObject4;
                                                                                                                        priority2 = count;
                                                                                                                        dismissIntent = dismissIntent2;
                                                                                                                        fileLocation = fileLocation3;
                                                                                                                        dialog_id2 = dialog_id;
                                                                                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                                        if (VERSION.SDK_INT > 19) {
                                                                                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                                        } else {
                                                                                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                                        }
                                                                                                                        if (VERSION.SDK_INT < 26) {
                                                                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                                                                            notifyOverride = name;
                                                                                                                            override_dialog_id = lastMessageObject;
                                                                                                                            priorityOverride = chat2;
                                                                                                                            silent3 = silent;
                                                                                                                            notifyDelay = notifyAboutLast;
                                                                                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                                                        } else {
                                                                                                                            j = dialog_id2;
                                                                                                                            i2 = notifyDelay;
                                                                                                                            size = notifyOverride;
                                                                                                                            j2 = override_dialog_id;
                                                                                                                            i3 = priorityOverride;
                                                                                                                            i4 = vibrateOverride;
                                                                                                                            sharedPreferences = preferences;
                                                                                                                            i5 = user_id;
                                                                                                                            i6 = chat_id;
                                                                                                                            user2 = user;
                                                                                                                            pendingIntent = contentIntent;
                                                                                                                            silent3 = silent;
                                                                                                                            dismissDate2 = needVibrate2;
                                                                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                                                                            str3 = defaultPath2;
                                                                                                                            i7 = priority2;
                                                                                                                            intent = dismissIntent;
                                                                                                                            fileLocation2 = fileLocation;
                                                                                                                            notifyDelay = notifyAboutLast;
                                                                                                                        }
                                                                                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                                                        r12.lastNotificationIsNoData = false;
                                                                                                                        scheduleNotificationRepeat();
                                                                                                                        return;
                                                                                                                    }
                                                                                                                    choosenSoundPath2 = choosenSoundPath;
                                                                                                                    defaultPath2 = defaultPath;
                                                                                                                    lastMessageObject = lastMessageObject4;
                                                                                                                    priority2 = count;
                                                                                                                    dismissIntent = dismissIntent2;
                                                                                                                    fileLocation = fileLocation3;
                                                                                                                    dialog_id2 = dialog_id;
                                                                                                                    notifyOverride2 = false;
                                                                                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                                    if (VERSION.SDK_INT > 19) {
                                                                                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                                    } else {
                                                                                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                                    }
                                                                                                                    if (VERSION.SDK_INT < 26) {
                                                                                                                        j = dialog_id2;
                                                                                                                        i2 = notifyDelay;
                                                                                                                        size = notifyOverride;
                                                                                                                        j2 = override_dialog_id;
                                                                                                                        i3 = priorityOverride;
                                                                                                                        i4 = vibrateOverride;
                                                                                                                        sharedPreferences = preferences;
                                                                                                                        i5 = user_id;
                                                                                                                        i6 = chat_id;
                                                                                                                        user2 = user;
                                                                                                                        pendingIntent = contentIntent;
                                                                                                                        silent3 = silent;
                                                                                                                        dismissDate2 = needVibrate2;
                                                                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                                                                        str3 = defaultPath2;
                                                                                                                        i7 = priority2;
                                                                                                                        intent = dismissIntent;
                                                                                                                        fileLocation2 = fileLocation;
                                                                                                                        notifyDelay = notifyAboutLast;
                                                                                                                    } else {
                                                                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                                                                        notifyOverride = name;
                                                                                                                        override_dialog_id = lastMessageObject;
                                                                                                                        priorityOverride = chat2;
                                                                                                                        silent3 = silent;
                                                                                                                        notifyDelay = notifyAboutLast;
                                                                                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                                                    }
                                                                                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                                                    r12.lastNotificationIsNoData = false;
                                                                                                                    scheduleNotificationRepeat();
                                                                                                                    return;
                                                                                                                }
                                                                                                                mBuilder.setPriority(-1);
                                                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                                                    user_id2 = 2;
                                                                                                                    i = user_id2;
                                                                                                                }
                                                                                                                if (priorityOverride2 != 1) {
                                                                                                                }
                                                                                                                lastMessage = choosenSoundPath9;
                                                                                                                silent = priorityOverride2;
                                                                                                                needVibrate2 = needVibrate;
                                                                                                                choosenSoundPath = str;
                                                                                                                priorityOverride2 = ledColor;
                                                                                                                defaultPath = defaultPath4;
                                                                                                                jArr = new long[]{0, 0};
                                                                                                                vibrationPattern = jArr;
                                                                                                                mBuilder.setVibrate(jArr);
                                                                                                                vibrationPattern2 = vibrationPattern;
                                                                                                                sound2 = sound;
                                                                                                                str2 = lastMessage;
                                                                                                                if (AndroidUtilities.needShowPasscode(false)) {
                                                                                                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                                                                    size = rows.size();
                                                                                                                    notifyOverride2 = false;
                                                                                                                    z3 = false;
                                                                                                                    while (true) {
                                                                                                                        choosenSoundPath2 = choosenSoundPath;
                                                                                                                        choosenSoundPath = size;
                                                                                                                        if (z3 < choosenSoundPath) {
                                                                                                                            break;
                                                                                                                        }
                                                                                                                        rows2 = rows;
                                                                                                                        size2 = choosenSoundPath;
                                                                                                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                                                        choosenSoundPath = row.buttons.size();
                                                                                                                        defaultPath2 = defaultPath;
                                                                                                                        defaultPath = 0;
                                                                                                                        while (defaultPath < choosenSoundPath) {
                                                                                                                            size22 = choosenSoundPath;
                                                                                                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                                                            row2 = row;
                                                                                                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                                                                lastMessageObject = lastMessageObject4;
                                                                                                                                priority2 = count;
                                                                                                                                dismissIntent = dismissIntent2;
                                                                                                                                fileLocation = fileLocation3;
                                                                                                                                dialog_id2 = dialog_id;
                                                                                                                            } else {
                                                                                                                                priority2 = count;
                                                                                                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                                                dismissIntent = dismissIntent2;
                                                                                                                                dialog_id2 = dialog_id;
                                                                                                                                callbackIntent.putExtra("did", dialog_id2);
                                                                                                                                if (choosenSoundPath3.data == null) {
                                                                                                                                    fileLocation = fileLocation3;
                                                                                                                                } else {
                                                                                                                                    fileLocation = fileLocation3;
                                                                                                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                                                                }
                                                                                                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                                                                charSequence = choosenSoundPath3.text;
                                                                                                                                context = ApplicationLoader.applicationContext;
                                                                                                                                button = choosenSoundPath3;
                                                                                                                                choosenSoundPath = r12.lastButtonId;
                                                                                                                                lastMessageObject = lastMessageObject4;
                                                                                                                                r12.lastButtonId = choosenSoundPath + 1;
                                                                                                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                                                                notifyOverride2 = true;
                                                                                                                            }
                                                                                                                            defaultPath++;
                                                                                                                            dialog_id = dialog_id2;
                                                                                                                            choosenSoundPath = size22;
                                                                                                                            row = row2;
                                                                                                                            count = priority2;
                                                                                                                            dismissIntent2 = dismissIntent;
                                                                                                                            fileLocation3 = fileLocation;
                                                                                                                            lastMessageObject4 = lastMessageObject;
                                                                                                                            dialog_id2 = notifyAboutLast;
                                                                                                                        }
                                                                                                                        priority2 = count;
                                                                                                                        fileLocation = fileLocation3;
                                                                                                                        dialog_id2 = dialog_id;
                                                                                                                        z3++;
                                                                                                                        choosenSoundPath = choosenSoundPath2;
                                                                                                                        rows = rows2;
                                                                                                                        size = size2;
                                                                                                                        defaultPath = defaultPath2;
                                                                                                                        dismissIntent2 = dismissIntent2;
                                                                                                                        dialog_id2 = notifyAboutLast;
                                                                                                                    }
                                                                                                                    defaultPath2 = defaultPath;
                                                                                                                    lastMessageObject = lastMessageObject4;
                                                                                                                    priority2 = count;
                                                                                                                    dismissIntent = dismissIntent2;
                                                                                                                    fileLocation = fileLocation3;
                                                                                                                    dialog_id2 = dialog_id;
                                                                                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                                    if (VERSION.SDK_INT > 19) {
                                                                                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                                    } else {
                                                                                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                                    }
                                                                                                                    if (VERSION.SDK_INT < 26) {
                                                                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                                                                        notifyOverride = name;
                                                                                                                        override_dialog_id = lastMessageObject;
                                                                                                                        priorityOverride = chat2;
                                                                                                                        silent3 = silent;
                                                                                                                        notifyDelay = notifyAboutLast;
                                                                                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                                                    } else {
                                                                                                                        j = dialog_id2;
                                                                                                                        i2 = notifyDelay;
                                                                                                                        size = notifyOverride;
                                                                                                                        j2 = override_dialog_id;
                                                                                                                        i3 = priorityOverride;
                                                                                                                        i4 = vibrateOverride;
                                                                                                                        sharedPreferences = preferences;
                                                                                                                        i5 = user_id;
                                                                                                                        i6 = chat_id;
                                                                                                                        user2 = user;
                                                                                                                        pendingIntent = contentIntent;
                                                                                                                        silent3 = silent;
                                                                                                                        dismissDate2 = needVibrate2;
                                                                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                                                                        str3 = defaultPath2;
                                                                                                                        i7 = priority2;
                                                                                                                        intent = dismissIntent;
                                                                                                                        fileLocation2 = fileLocation;
                                                                                                                        notifyDelay = notifyAboutLast;
                                                                                                                    }
                                                                                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                                                    r12.lastNotificationIsNoData = false;
                                                                                                                    scheduleNotificationRepeat();
                                                                                                                    return;
                                                                                                                }
                                                                                                                choosenSoundPath2 = choosenSoundPath;
                                                                                                                defaultPath2 = defaultPath;
                                                                                                                lastMessageObject = lastMessageObject4;
                                                                                                                priority2 = count;
                                                                                                                dismissIntent = dismissIntent2;
                                                                                                                fileLocation = fileLocation3;
                                                                                                                dialog_id2 = dialog_id;
                                                                                                                notifyOverride2 = false;
                                                                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                                if (VERSION.SDK_INT > 19) {
                                                                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                                } else {
                                                                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                                }
                                                                                                                if (VERSION.SDK_INT < 26) {
                                                                                                                    j = dialog_id2;
                                                                                                                    i2 = notifyDelay;
                                                                                                                    size = notifyOverride;
                                                                                                                    j2 = override_dialog_id;
                                                                                                                    i3 = priorityOverride;
                                                                                                                    i4 = vibrateOverride;
                                                                                                                    sharedPreferences = preferences;
                                                                                                                    i5 = user_id;
                                                                                                                    i6 = chat_id;
                                                                                                                    user2 = user;
                                                                                                                    pendingIntent = contentIntent;
                                                                                                                    silent3 = silent;
                                                                                                                    dismissDate2 = needVibrate2;
                                                                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                                                                    str3 = defaultPath2;
                                                                                                                    i7 = priority2;
                                                                                                                    intent = dismissIntent;
                                                                                                                    fileLocation2 = fileLocation;
                                                                                                                    notifyDelay = notifyAboutLast;
                                                                                                                } else {
                                                                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                                                                    notifyOverride = name;
                                                                                                                    override_dialog_id = lastMessageObject;
                                                                                                                    priorityOverride = chat2;
                                                                                                                    silent3 = silent;
                                                                                                                    notifyDelay = notifyAboutLast;
                                                                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                                                }
                                                                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                                                r12.lastNotificationIsNoData = false;
                                                                                                                scheduleNotificationRepeat();
                                                                                                                return;
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                    name = str5;
                                                                                                    z = notifyAboutLast;
                                                                                                    if (z) {
                                                                                                        count = priority;
                                                                                                    } else if (priorityOverride2 == 1) {
                                                                                                        count = priority;
                                                                                                    } else {
                                                                                                        if (priority == 0) {
                                                                                                            mBuilder.setPriority(0);
                                                                                                            if (VERSION.SDK_INT >= 26) {
                                                                                                                i = 3;
                                                                                                            }
                                                                                                            count = priority;
                                                                                                        } else {
                                                                                                            count = priority;
                                                                                                            if (count != 1) {
                                                                                                                if (count == 2) {
                                                                                                                    if (count != 4) {
                                                                                                                        mBuilder.setPriority(-2);
                                                                                                                        if (VERSION.SDK_INT >= 26) {
                                                                                                                            user_id2 = 1;
                                                                                                                            i = user_id2;
                                                                                                                        }
                                                                                                                    } else if (count == 5) {
                                                                                                                        mBuilder.setPriority(-1);
                                                                                                                        if (VERSION.SDK_INT >= 26) {
                                                                                                                            user_id2 = 2;
                                                                                                                            i = user_id2;
                                                                                                                        }
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                            mBuilder.setPriority(1);
                                                                                                            if (VERSION.SDK_INT >= 26) {
                                                                                                                user_id2 = 4;
                                                                                                                i = user_id2;
                                                                                                            }
                                                                                                        }
                                                                                                        if (priorityOverride2 != 1 || notifyDisabled3) {
                                                                                                            lastMessage = choosenSoundPath9;
                                                                                                            silent = priorityOverride2;
                                                                                                            needVibrate2 = needVibrate;
                                                                                                            choosenSoundPath = str;
                                                                                                            priorityOverride2 = ledColor;
                                                                                                            defaultPath = defaultPath4;
                                                                                                            jArr = new long[]{0, 0};
                                                                                                            vibrationPattern = jArr;
                                                                                                            mBuilder.setVibrate(jArr);
                                                                                                            vibrationPattern2 = vibrationPattern;
                                                                                                            sound2 = sound;
                                                                                                            str2 = lastMessage;
                                                                                                        } else {
                                                                                                            Uri sound3;
                                                                                                            if (ApplicationLoader.mainInterfacePaused || notifyDisabled) {
                                                                                                                if (choosenSoundPath9.length() > 100) {
                                                                                                                    StringBuilder stringBuilder6 = new StringBuilder();
                                                                                                                    stringBuilder6.append(choosenSoundPath9.substring(0, 100).replace('\n', ' ').trim());
                                                                                                                    stringBuilder6.append("...");
                                                                                                                    choosenSoundPath9 = stringBuilder6.toString();
                                                                                                                } else {
                                                                                                                    lastMessage = choosenSoundPath9;
                                                                                                                }
                                                                                                                mBuilder.setTicker(choosenSoundPath9);
                                                                                                            }
                                                                                                            if (MediaController.getInstance().isRecordingAudio() || str == null) {
                                                                                                                choosenSoundPath = str;
                                                                                                                defaultPath = defaultPath4;
                                                                                                            } else {
                                                                                                                choosenSoundPath = str;
                                                                                                                if (choosenSoundPath.equals("NoSound")) {
                                                                                                                    defaultPath = defaultPath4;
                                                                                                                } else if (VERSION.SDK_INT >= 26) {
                                                                                                                    defaultPath = defaultPath4;
                                                                                                                    if (choosenSoundPath.equals(defaultPath)) {
                                                                                                                        sound3 = System.DEFAULT_NOTIFICATION_URI;
                                                                                                                    } else {
                                                                                                                        sound3 = Uri.parse(choosenSoundPath);
                                                                                                                    }
                                                                                                                    if (ledColor == 0) {
                                                                                                                        sound2 = sound3;
                                                                                                                        silent = priorityOverride2;
                                                                                                                        priorityOverride2 = ledColor;
                                                                                                                        mBuilder.setLights(priorityOverride2, 1000, 1000);
                                                                                                                    } else {
                                                                                                                        sound2 = sound3;
                                                                                                                        silent = priorityOverride2;
                                                                                                                        priorityOverride2 = ledColor;
                                                                                                                    }
                                                                                                                    user_id2 = needVibrate;
                                                                                                                    if (user_id2 != 2) {
                                                                                                                        needVibrate2 = user_id2;
                                                                                                                    } else if (MediaController.getInstance().isRecordingAudio() != null) {
                                                                                                                        needVibrate2 = user_id2;
                                                                                                                    } else if (user_id2 != 1) {
                                                                                                                        choosenSoundPath9 = new long[]{0, 100, 0, 100};
                                                                                                                        vibrationPattern2 = choosenSoundPath9;
                                                                                                                        mBuilder.setVibrate(choosenSoundPath9);
                                                                                                                        needVibrate2 = user_id2;
                                                                                                                    } else {
                                                                                                                        if (user_id2 != 0) {
                                                                                                                            needVibrate2 = user_id2;
                                                                                                                        } else if (user_id2 == 4) {
                                                                                                                            needVibrate2 = user_id2;
                                                                                                                        } else if (user_id2 != 3) {
                                                                                                                            needVibrate2 = user_id2;
                                                                                                                            jArr = new long[]{0, 1000};
                                                                                                                            choosenSoundPath9 = jArr;
                                                                                                                            mBuilder.setVibrate(jArr);
                                                                                                                            vibrationPattern2 = choosenSoundPath9;
                                                                                                                        } else {
                                                                                                                            needVibrate2 = user_id2;
                                                                                                                            vibrationPattern2 = vibrationPattern3;
                                                                                                                        }
                                                                                                                        mBuilder.setDefaults(2);
                                                                                                                        choosenSoundPath9 = new long[null];
                                                                                                                        vibrationPattern2 = choosenSoundPath9;
                                                                                                                    }
                                                                                                                    jArr = new long[]{0, 0};
                                                                                                                    choosenSoundPath9 = jArr;
                                                                                                                    mBuilder.setVibrate(jArr);
                                                                                                                    vibrationPattern2 = choosenSoundPath9;
                                                                                                                } else {
                                                                                                                    defaultPath = defaultPath4;
                                                                                                                    if (choosenSoundPath.equals(defaultPath)) {
                                                                                                                        str2 = choosenSoundPath9;
                                                                                                                        mBuilder.setSound(System.DEFAULT_NOTIFICATION_URI, 5);
                                                                                                                    } else {
                                                                                                                        mBuilder.setSound(Uri.parse(choosenSoundPath), 5);
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                            sound3 = sound;
                                                                                                            if (ledColor == 0) {
                                                                                                                sound2 = sound3;
                                                                                                                silent = priorityOverride2;
                                                                                                                priorityOverride2 = ledColor;
                                                                                                            } else {
                                                                                                                sound2 = sound3;
                                                                                                                silent = priorityOverride2;
                                                                                                                priorityOverride2 = ledColor;
                                                                                                                mBuilder.setLights(priorityOverride2, 1000, 1000);
                                                                                                            }
                                                                                                            user_id2 = needVibrate;
                                                                                                            if (user_id2 != 2) {
                                                                                                                needVibrate2 = user_id2;
                                                                                                            } else if (MediaController.getInstance().isRecordingAudio() != null) {
                                                                                                                needVibrate2 = user_id2;
                                                                                                            } else if (user_id2 != 1) {
                                                                                                                if (user_id2 != 0) {
                                                                                                                    needVibrate2 = user_id2;
                                                                                                                } else if (user_id2 == 4) {
                                                                                                                    needVibrate2 = user_id2;
                                                                                                                } else if (user_id2 != 3) {
                                                                                                                    needVibrate2 = user_id2;
                                                                                                                    vibrationPattern2 = vibrationPattern3;
                                                                                                                } else {
                                                                                                                    needVibrate2 = user_id2;
                                                                                                                    jArr = new long[]{0, 1000};
                                                                                                                    choosenSoundPath9 = jArr;
                                                                                                                    mBuilder.setVibrate(jArr);
                                                                                                                    vibrationPattern2 = choosenSoundPath9;
                                                                                                                }
                                                                                                                mBuilder.setDefaults(2);
                                                                                                                choosenSoundPath9 = new long[null];
                                                                                                                vibrationPattern2 = choosenSoundPath9;
                                                                                                            } else {
                                                                                                                choosenSoundPath9 = new long[]{0, 100, 0, 100};
                                                                                                                vibrationPattern2 = choosenSoundPath9;
                                                                                                                mBuilder.setVibrate(choosenSoundPath9);
                                                                                                                needVibrate2 = user_id2;
                                                                                                            }
                                                                                                            jArr = new long[]{0, 0};
                                                                                                            choosenSoundPath9 = jArr;
                                                                                                            mBuilder.setVibrate(jArr);
                                                                                                            vibrationPattern2 = choosenSoundPath9;
                                                                                                        }
                                                                                                        if (AndroidUtilities.needShowPasscode(false)) {
                                                                                                            if (!(SharedConfig.isWaitingForPasscodeEnter || lastMessageObject4.getDialogId() != 777000 || lastMessageObject4.messageOwner.reply_markup == null)) {
                                                                                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                                                                size = rows.size();
                                                                                                                notifyOverride2 = false;
                                                                                                                z3 = false;
                                                                                                                while (true) {
                                                                                                                    choosenSoundPath2 = choosenSoundPath;
                                                                                                                    choosenSoundPath = size;
                                                                                                                    if (z3 < choosenSoundPath) {
                                                                                                                        break;
                                                                                                                    }
                                                                                                                    rows2 = rows;
                                                                                                                    size2 = choosenSoundPath;
                                                                                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                                                    choosenSoundPath = row.buttons.size();
                                                                                                                    defaultPath2 = defaultPath;
                                                                                                                    defaultPath = 0;
                                                                                                                    while (defaultPath < choosenSoundPath) {
                                                                                                                        size22 = choosenSoundPath;
                                                                                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                                                        row2 = row;
                                                                                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                                                            priority2 = count;
                                                                                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                                            dismissIntent = dismissIntent2;
                                                                                                                            dialog_id2 = dialog_id;
                                                                                                                            callbackIntent.putExtra("did", dialog_id2);
                                                                                                                            if (choosenSoundPath3.data == null) {
                                                                                                                                fileLocation = fileLocation3;
                                                                                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                                                            } else {
                                                                                                                                fileLocation = fileLocation3;
                                                                                                                            }
                                                                                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                                                            charSequence = choosenSoundPath3.text;
                                                                                                                            context = ApplicationLoader.applicationContext;
                                                                                                                            button = choosenSoundPath3;
                                                                                                                            choosenSoundPath = r12.lastButtonId;
                                                                                                                            lastMessageObject = lastMessageObject4;
                                                                                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                                                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                                                            notifyOverride2 = true;
                                                                                                                        } else {
                                                                                                                            lastMessageObject = lastMessageObject4;
                                                                                                                            priority2 = count;
                                                                                                                            dismissIntent = dismissIntent2;
                                                                                                                            fileLocation = fileLocation3;
                                                                                                                            dialog_id2 = dialog_id;
                                                                                                                        }
                                                                                                                        defaultPath++;
                                                                                                                        dialog_id = dialog_id2;
                                                                                                                        choosenSoundPath = size22;
                                                                                                                        row = row2;
                                                                                                                        count = priority2;
                                                                                                                        dismissIntent2 = dismissIntent;
                                                                                                                        fileLocation3 = fileLocation;
                                                                                                                        lastMessageObject4 = lastMessageObject;
                                                                                                                        dialog_id2 = notifyAboutLast;
                                                                                                                    }
                                                                                                                    priority2 = count;
                                                                                                                    fileLocation = fileLocation3;
                                                                                                                    dialog_id2 = dialog_id;
                                                                                                                    z3++;
                                                                                                                    choosenSoundPath = choosenSoundPath2;
                                                                                                                    rows = rows2;
                                                                                                                    size = size2;
                                                                                                                    defaultPath = defaultPath2;
                                                                                                                    dismissIntent2 = dismissIntent2;
                                                                                                                    dialog_id2 = notifyAboutLast;
                                                                                                                }
                                                                                                                defaultPath2 = defaultPath;
                                                                                                                lastMessageObject = lastMessageObject4;
                                                                                                                priority2 = count;
                                                                                                                dismissIntent = dismissIntent2;
                                                                                                                fileLocation = fileLocation3;
                                                                                                                dialog_id2 = dialog_id;
                                                                                                                if (!notifyOverride2 && VERSION.SDK_INT < 24 && SharedConfig.passcodeHash.length() == 0 && hasMessagesToReply()) {
                                                                                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                                    if (VERSION.SDK_INT > 19) {
                                                                                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                                    } else {
                                                                                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                                    }
                                                                                                                }
                                                                                                                if (VERSION.SDK_INT < 26) {
                                                                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                                                                    notifyOverride = name;
                                                                                                                    override_dialog_id = lastMessageObject;
                                                                                                                    priorityOverride = chat2;
                                                                                                                    silent3 = silent;
                                                                                                                    notifyDelay = notifyAboutLast;
                                                                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                                                } else {
                                                                                                                    j = dialog_id2;
                                                                                                                    i2 = notifyDelay;
                                                                                                                    size = notifyOverride;
                                                                                                                    j2 = override_dialog_id;
                                                                                                                    i3 = priorityOverride;
                                                                                                                    i4 = vibrateOverride;
                                                                                                                    sharedPreferences = preferences;
                                                                                                                    i5 = user_id;
                                                                                                                    i6 = chat_id;
                                                                                                                    user2 = user;
                                                                                                                    pendingIntent = contentIntent;
                                                                                                                    silent3 = silent;
                                                                                                                    dismissDate2 = needVibrate2;
                                                                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                                                                    str3 = defaultPath2;
                                                                                                                    i7 = priority2;
                                                                                                                    intent = dismissIntent;
                                                                                                                    fileLocation2 = fileLocation;
                                                                                                                    notifyDelay = notifyAboutLast;
                                                                                                                }
                                                                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                                                r12.lastNotificationIsNoData = false;
                                                                                                                scheduleNotificationRepeat();
                                                                                                                return;
                                                                                                            }
                                                                                                        }
                                                                                                        choosenSoundPath2 = choosenSoundPath;
                                                                                                        defaultPath2 = defaultPath;
                                                                                                        lastMessageObject = lastMessageObject4;
                                                                                                        priority2 = count;
                                                                                                        dismissIntent = dismissIntent2;
                                                                                                        fileLocation = fileLocation3;
                                                                                                        dialog_id2 = dialog_id;
                                                                                                        notifyOverride2 = false;
                                                                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                        if (VERSION.SDK_INT > 19) {
                                                                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                        } else {
                                                                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                        }
                                                                                                        if (VERSION.SDK_INT < 26) {
                                                                                                            j = dialog_id2;
                                                                                                            i2 = notifyDelay;
                                                                                                            size = notifyOverride;
                                                                                                            j2 = override_dialog_id;
                                                                                                            i3 = priorityOverride;
                                                                                                            i4 = vibrateOverride;
                                                                                                            sharedPreferences = preferences;
                                                                                                            i5 = user_id;
                                                                                                            i6 = chat_id;
                                                                                                            user2 = user;
                                                                                                            pendingIntent = contentIntent;
                                                                                                            silent3 = silent;
                                                                                                            dismissDate2 = needVibrate2;
                                                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                                                            str3 = defaultPath2;
                                                                                                            i7 = priority2;
                                                                                                            intent = dismissIntent;
                                                                                                            fileLocation2 = fileLocation;
                                                                                                            notifyDelay = notifyAboutLast;
                                                                                                        } else {
                                                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                                                            notifyOverride = name;
                                                                                                            override_dialog_id = lastMessageObject;
                                                                                                            priorityOverride = chat2;
                                                                                                            silent3 = silent;
                                                                                                            notifyDelay = notifyAboutLast;
                                                                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                                        }
                                                                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                                        r12.lastNotificationIsNoData = false;
                                                                                                        scheduleNotificationRepeat();
                                                                                                        return;
                                                                                                    }
                                                                                                    mBuilder.setPriority(-1);
                                                                                                    if (VERSION.SDK_INT >= 26) {
                                                                                                        user_id2 = 2;
                                                                                                        i = user_id2;
                                                                                                    }
                                                                                                    if (priorityOverride2 != 1) {
                                                                                                    }
                                                                                                    lastMessage = choosenSoundPath9;
                                                                                                    silent = priorityOverride2;
                                                                                                    needVibrate2 = needVibrate;
                                                                                                    choosenSoundPath = str;
                                                                                                    priorityOverride2 = ledColor;
                                                                                                    defaultPath = defaultPath4;
                                                                                                    jArr = new long[]{0, 0};
                                                                                                    vibrationPattern = jArr;
                                                                                                    mBuilder.setVibrate(jArr);
                                                                                                    vibrationPattern2 = vibrationPattern;
                                                                                                    sound2 = sound;
                                                                                                    str2 = lastMessage;
                                                                                                    if (AndroidUtilities.needShowPasscode(false)) {
                                                                                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                                                        size = rows.size();
                                                                                                        notifyOverride2 = false;
                                                                                                        z3 = false;
                                                                                                        while (true) {
                                                                                                            choosenSoundPath2 = choosenSoundPath;
                                                                                                            choosenSoundPath = size;
                                                                                                            if (z3 < choosenSoundPath) {
                                                                                                                break;
                                                                                                            }
                                                                                                            rows2 = rows;
                                                                                                            size2 = choosenSoundPath;
                                                                                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                                            choosenSoundPath = row.buttons.size();
                                                                                                            defaultPath2 = defaultPath;
                                                                                                            defaultPath = 0;
                                                                                                            while (defaultPath < choosenSoundPath) {
                                                                                                                size22 = choosenSoundPath;
                                                                                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                                                row2 = row;
                                                                                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                                                    lastMessageObject = lastMessageObject4;
                                                                                                                    priority2 = count;
                                                                                                                    dismissIntent = dismissIntent2;
                                                                                                                    fileLocation = fileLocation3;
                                                                                                                    dialog_id2 = dialog_id;
                                                                                                                } else {
                                                                                                                    priority2 = count;
                                                                                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                                    dismissIntent = dismissIntent2;
                                                                                                                    dialog_id2 = dialog_id;
                                                                                                                    callbackIntent.putExtra("did", dialog_id2);
                                                                                                                    if (choosenSoundPath3.data == null) {
                                                                                                                        fileLocation = fileLocation3;
                                                                                                                    } else {
                                                                                                                        fileLocation = fileLocation3;
                                                                                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                                                    }
                                                                                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                                                    charSequence = choosenSoundPath3.text;
                                                                                                                    context = ApplicationLoader.applicationContext;
                                                                                                                    button = choosenSoundPath3;
                                                                                                                    choosenSoundPath = r12.lastButtonId;
                                                                                                                    lastMessageObject = lastMessageObject4;
                                                                                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                                                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                                                    notifyOverride2 = true;
                                                                                                                }
                                                                                                                defaultPath++;
                                                                                                                dialog_id = dialog_id2;
                                                                                                                choosenSoundPath = size22;
                                                                                                                row = row2;
                                                                                                                count = priority2;
                                                                                                                dismissIntent2 = dismissIntent;
                                                                                                                fileLocation3 = fileLocation;
                                                                                                                lastMessageObject4 = lastMessageObject;
                                                                                                                dialog_id2 = notifyAboutLast;
                                                                                                            }
                                                                                                            priority2 = count;
                                                                                                            fileLocation = fileLocation3;
                                                                                                            dialog_id2 = dialog_id;
                                                                                                            z3++;
                                                                                                            choosenSoundPath = choosenSoundPath2;
                                                                                                            rows = rows2;
                                                                                                            size = size2;
                                                                                                            defaultPath = defaultPath2;
                                                                                                            dismissIntent2 = dismissIntent2;
                                                                                                            dialog_id2 = notifyAboutLast;
                                                                                                        }
                                                                                                        defaultPath2 = defaultPath;
                                                                                                        lastMessageObject = lastMessageObject4;
                                                                                                        priority2 = count;
                                                                                                        dismissIntent = dismissIntent2;
                                                                                                        fileLocation = fileLocation3;
                                                                                                        dialog_id2 = dialog_id;
                                                                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                        if (VERSION.SDK_INT > 19) {
                                                                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                        } else {
                                                                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                        }
                                                                                                        if (VERSION.SDK_INT < 26) {
                                                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                                                            notifyOverride = name;
                                                                                                            override_dialog_id = lastMessageObject;
                                                                                                            priorityOverride = chat2;
                                                                                                            silent3 = silent;
                                                                                                            notifyDelay = notifyAboutLast;
                                                                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                                        } else {
                                                                                                            j = dialog_id2;
                                                                                                            i2 = notifyDelay;
                                                                                                            size = notifyOverride;
                                                                                                            j2 = override_dialog_id;
                                                                                                            i3 = priorityOverride;
                                                                                                            i4 = vibrateOverride;
                                                                                                            sharedPreferences = preferences;
                                                                                                            i5 = user_id;
                                                                                                            i6 = chat_id;
                                                                                                            user2 = user;
                                                                                                            pendingIntent = contentIntent;
                                                                                                            silent3 = silent;
                                                                                                            dismissDate2 = needVibrate2;
                                                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                                                            str3 = defaultPath2;
                                                                                                            i7 = priority2;
                                                                                                            intent = dismissIntent;
                                                                                                            fileLocation2 = fileLocation;
                                                                                                            notifyDelay = notifyAboutLast;
                                                                                                        }
                                                                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                                        r12.lastNotificationIsNoData = false;
                                                                                                        scheduleNotificationRepeat();
                                                                                                        return;
                                                                                                    }
                                                                                                    choosenSoundPath2 = choosenSoundPath;
                                                                                                    defaultPath2 = defaultPath;
                                                                                                    lastMessageObject = lastMessageObject4;
                                                                                                    priority2 = count;
                                                                                                    dismissIntent = dismissIntent2;
                                                                                                    fileLocation = fileLocation3;
                                                                                                    dialog_id2 = dialog_id;
                                                                                                    notifyOverride2 = false;
                                                                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                    if (VERSION.SDK_INT > 19) {
                                                                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                    } else {
                                                                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                    }
                                                                                                    if (VERSION.SDK_INT < 26) {
                                                                                                        j = dialog_id2;
                                                                                                        i2 = notifyDelay;
                                                                                                        size = notifyOverride;
                                                                                                        j2 = override_dialog_id;
                                                                                                        i3 = priorityOverride;
                                                                                                        i4 = vibrateOverride;
                                                                                                        sharedPreferences = preferences;
                                                                                                        i5 = user_id;
                                                                                                        i6 = chat_id;
                                                                                                        user2 = user;
                                                                                                        pendingIntent = contentIntent;
                                                                                                        silent3 = silent;
                                                                                                        dismissDate2 = needVibrate2;
                                                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                                                        str3 = defaultPath2;
                                                                                                        i7 = priority2;
                                                                                                        intent = dismissIntent;
                                                                                                        fileLocation2 = fileLocation;
                                                                                                        notifyDelay = notifyAboutLast;
                                                                                                    } else {
                                                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                                                        notifyOverride = name;
                                                                                                        override_dialog_id = lastMessageObject;
                                                                                                        priorityOverride = chat2;
                                                                                                        silent3 = silent;
                                                                                                        notifyDelay = notifyAboutLast;
                                                                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                                    }
                                                                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                                    r12.lastNotificationIsNoData = false;
                                                                                                    scheduleNotificationRepeat();
                                                                                                    return;
                                                                                                }
                                                                                            }
                                                                                            i = 0;
                                                                                            silent2 = 2;
                                                                                            user = user3;
                                                                                            if (r12.pushMessages.size() == 1) {
                                                                                                lastMessage2 = null;
                                                                                                sound = null;
                                                                                                mBuilder.setContentText(detailText);
                                                                                                inboxStyle = new InboxStyle();
                                                                                                inboxStyle.setBigContentTitle(str5);
                                                                                                count2 = Math.min(10, r12.pushMessages.size());
                                                                                                text2 = new boolean[1];
                                                                                                contentIntent = contentIntent2;
                                                                                                count = silent2;
                                                                                                chat_id2 = 0;
                                                                                                while (chat_id2 < count2) {
                                                                                                    count3 = count2;
                                                                                                    count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                                                                    dialog_id = dialog_id2;
                                                                                                    message2 = getStringForMessage(count4, 0, text2);
                                                                                                    if (message2 != null) {
                                                                                                        defaultPath4 = defaultPath3;
                                                                                                        notifyDelay = dismissDate2;
                                                                                                    } else {
                                                                                                        defaultPath4 = defaultPath3;
                                                                                                        notifyDelay = dismissDate2;
                                                                                                        if (count4.messageOwner.date > notifyDelay) {
                                                                                                            if (count == 2) {
                                                                                                                lastMessage2 = message2;
                                                                                                                count = count4.messageOwner.silent;
                                                                                                            }
                                                                                                            messageObject2 = count4;
                                                                                                            if (chat2 != null) {
                                                                                                                count2 = new StringBuilder();
                                                                                                                count2.append(" @ ");
                                                                                                                count2.append(str5);
                                                                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                            } else if (text2[0]) {
                                                                                                                count2 = new StringBuilder();
                                                                                                                count2.append(str5);
                                                                                                                count2.append(" ");
                                                                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                            } else {
                                                                                                                count2 = new StringBuilder();
                                                                                                                count2.append(str5);
                                                                                                                count2.append(": ");
                                                                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                            }
                                                                                                            inboxStyle.addLine(message2);
                                                                                                        }
                                                                                                    }
                                                                                                    chat_id2++;
                                                                                                    dismissDate2 = notifyDelay;
                                                                                                    count2 = count3;
                                                                                                    dialog_id2 = dialog_id;
                                                                                                    defaultPath3 = defaultPath4;
                                                                                                }
                                                                                                dialog_id = dialog_id2;
                                                                                                defaultPath4 = defaultPath3;
                                                                                                notifyDelay = dismissDate2;
                                                                                                inboxStyle.setSummaryText(detailText);
                                                                                                mBuilder.setStyle(inboxStyle);
                                                                                                priorityOverride2 = count;
                                                                                                choosenSoundPath9 = lastMessage2;
                                                                                            } else {
                                                                                                messageObject = (MessageObject) r12.pushMessages.get(0);
                                                                                                lastMessage2 = null;
                                                                                                text = new boolean[1];
                                                                                                stringForMessage = getStringForMessage(messageObject, null, text);
                                                                                                message = stringForMessage;
                                                                                                lastMessage3 = stringForMessage;
                                                                                                choosenSoundPath5 = messageObject.messageOwner.silent;
                                                                                                choosenSoundPath9 = message;
                                                                                                if (choosenSoundPath9 != null) {
                                                                                                    if (replace) {
                                                                                                        silent3 = choosenSoundPath5;
                                                                                                        sound = null;
                                                                                                    } else {
                                                                                                        if (chat2 != null) {
                                                                                                            silent3 = choosenSoundPath5;
                                                                                                            sound = null;
                                                                                                            if (text[null]) {
                                                                                                                choosenSoundPath5 = new StringBuilder();
                                                                                                                choosenSoundPath5.append(str5);
                                                                                                                choosenSoundPath5.append(" ");
                                                                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                            } else {
                                                                                                                choosenSoundPath5 = new StringBuilder();
                                                                                                                choosenSoundPath5.append(str5);
                                                                                                                choosenSoundPath5.append(": ");
                                                                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                            }
                                                                                                        } else {
                                                                                                            silent3 = choosenSoundPath5;
                                                                                                            choosenSoundPath5 = new StringBuilder();
                                                                                                            sound = null;
                                                                                                            choosenSoundPath5.append(" @ ");
                                                                                                            choosenSoundPath5.append(str5);
                                                                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                        }
                                                                                                        choosenSoundPath9 = message;
                                                                                                    }
                                                                                                    mBuilder.setContentText(choosenSoundPath9);
                                                                                                    mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                                                                    contentIntent = contentIntent2;
                                                                                                    dialog_id = dialog_id2;
                                                                                                    defaultPath4 = defaultPath3;
                                                                                                    notifyDelay = dismissDate2;
                                                                                                    choosenSoundPath9 = lastMessage3;
                                                                                                    priorityOverride2 = silent3;
                                                                                                } else {
                                                                                                    return;
                                                                                                }
                                                                                            }
                                                                                            dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                                                            dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                                                            dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                                                            mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                                                            if (fileLocation3 != null) {
                                                                                                name = str5;
                                                                                            } else {
                                                                                                img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                                                                if (img != null) {
                                                                                                    file = FileLoader.getPathToAttach(fileLocation3, true);
                                                                                                    if (file.exists()) {
                                                                                                        name = str5;
                                                                                                    } else {
                                                                                                        scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                                                        options = new Options();
                                                                                                        if (scaleFactor < 1.0f) {
                                                                                                            name = str5;
                                                                                                            str5 = (int) scaleFactor;
                                                                                                        } else {
                                                                                                            name = str5;
                                                                                                            str5 = true;
                                                                                                        }
                                                                                                        options.inSampleSize = str5;
                                                                                                        str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                                                        if (str5 != null) {
                                                                                                            mBuilder.setLargeIcon(str5);
                                                                                                        }
                                                                                                    }
                                                                                                } else {
                                                                                                    mBuilder.setLargeIcon(img.getBitmap());
                                                                                                    name = str5;
                                                                                                }
                                                                                            }
                                                                                            z = notifyAboutLast;
                                                                                            if (z) {
                                                                                                count = priority;
                                                                                            } else if (priorityOverride2 == 1) {
                                                                                                if (priority == 0) {
                                                                                                    count = priority;
                                                                                                    if (count != 1) {
                                                                                                        if (count == 2) {
                                                                                                            if (count != 4) {
                                                                                                                mBuilder.setPriority(-2);
                                                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                                                    user_id2 = 1;
                                                                                                                    i = user_id2;
                                                                                                                }
                                                                                                            } else if (count == 5) {
                                                                                                                mBuilder.setPriority(-1);
                                                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                                                    user_id2 = 2;
                                                                                                                    i = user_id2;
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                    mBuilder.setPriority(1);
                                                                                                    if (VERSION.SDK_INT >= 26) {
                                                                                                        user_id2 = 4;
                                                                                                        i = user_id2;
                                                                                                    }
                                                                                                } else {
                                                                                                    mBuilder.setPriority(0);
                                                                                                    if (VERSION.SDK_INT >= 26) {
                                                                                                        i = 3;
                                                                                                    }
                                                                                                    count = priority;
                                                                                                }
                                                                                                if (priorityOverride2 != 1) {
                                                                                                }
                                                                                                lastMessage = choosenSoundPath9;
                                                                                                silent = priorityOverride2;
                                                                                                needVibrate2 = needVibrate;
                                                                                                choosenSoundPath = str;
                                                                                                priorityOverride2 = ledColor;
                                                                                                defaultPath = defaultPath4;
                                                                                                jArr = new long[]{0, 0};
                                                                                                vibrationPattern = jArr;
                                                                                                mBuilder.setVibrate(jArr);
                                                                                                vibrationPattern2 = vibrationPattern;
                                                                                                sound2 = sound;
                                                                                                str2 = lastMessage;
                                                                                                if (AndroidUtilities.needShowPasscode(false)) {
                                                                                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                                                    size = rows.size();
                                                                                                    notifyOverride2 = false;
                                                                                                    z3 = false;
                                                                                                    while (true) {
                                                                                                        choosenSoundPath2 = choosenSoundPath;
                                                                                                        choosenSoundPath = size;
                                                                                                        if (z3 < choosenSoundPath) {
                                                                                                            break;
                                                                                                        }
                                                                                                        rows2 = rows;
                                                                                                        size2 = choosenSoundPath;
                                                                                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                                        choosenSoundPath = row.buttons.size();
                                                                                                        defaultPath2 = defaultPath;
                                                                                                        defaultPath = 0;
                                                                                                        while (defaultPath < choosenSoundPath) {
                                                                                                            size22 = choosenSoundPath;
                                                                                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                                            row2 = row;
                                                                                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                                                priority2 = count;
                                                                                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                                dismissIntent = dismissIntent2;
                                                                                                                dialog_id2 = dialog_id;
                                                                                                                callbackIntent.putExtra("did", dialog_id2);
                                                                                                                if (choosenSoundPath3.data == null) {
                                                                                                                    fileLocation = fileLocation3;
                                                                                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                                                } else {
                                                                                                                    fileLocation = fileLocation3;
                                                                                                                }
                                                                                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                                                charSequence = choosenSoundPath3.text;
                                                                                                                context = ApplicationLoader.applicationContext;
                                                                                                                button = choosenSoundPath3;
                                                                                                                choosenSoundPath = r12.lastButtonId;
                                                                                                                lastMessageObject = lastMessageObject4;
                                                                                                                r12.lastButtonId = choosenSoundPath + 1;
                                                                                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                                                notifyOverride2 = true;
                                                                                                            } else {
                                                                                                                lastMessageObject = lastMessageObject4;
                                                                                                                priority2 = count;
                                                                                                                dismissIntent = dismissIntent2;
                                                                                                                fileLocation = fileLocation3;
                                                                                                                dialog_id2 = dialog_id;
                                                                                                            }
                                                                                                            defaultPath++;
                                                                                                            dialog_id = dialog_id2;
                                                                                                            choosenSoundPath = size22;
                                                                                                            row = row2;
                                                                                                            count = priority2;
                                                                                                            dismissIntent2 = dismissIntent;
                                                                                                            fileLocation3 = fileLocation;
                                                                                                            lastMessageObject4 = lastMessageObject;
                                                                                                            dialog_id2 = notifyAboutLast;
                                                                                                        }
                                                                                                        priority2 = count;
                                                                                                        fileLocation = fileLocation3;
                                                                                                        dialog_id2 = dialog_id;
                                                                                                        z3++;
                                                                                                        choosenSoundPath = choosenSoundPath2;
                                                                                                        rows = rows2;
                                                                                                        size = size2;
                                                                                                        defaultPath = defaultPath2;
                                                                                                        dismissIntent2 = dismissIntent2;
                                                                                                        dialog_id2 = notifyAboutLast;
                                                                                                    }
                                                                                                    defaultPath2 = defaultPath;
                                                                                                    lastMessageObject = lastMessageObject4;
                                                                                                    priority2 = count;
                                                                                                    dismissIntent = dismissIntent2;
                                                                                                    fileLocation = fileLocation3;
                                                                                                    dialog_id2 = dialog_id;
                                                                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                    if (VERSION.SDK_INT > 19) {
                                                                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                    } else {
                                                                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                    }
                                                                                                    if (VERSION.SDK_INT < 26) {
                                                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                                                        notifyOverride = name;
                                                                                                        override_dialog_id = lastMessageObject;
                                                                                                        priorityOverride = chat2;
                                                                                                        silent3 = silent;
                                                                                                        notifyDelay = notifyAboutLast;
                                                                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                                    } else {
                                                                                                        j = dialog_id2;
                                                                                                        i2 = notifyDelay;
                                                                                                        size = notifyOverride;
                                                                                                        j2 = override_dialog_id;
                                                                                                        i3 = priorityOverride;
                                                                                                        i4 = vibrateOverride;
                                                                                                        sharedPreferences = preferences;
                                                                                                        i5 = user_id;
                                                                                                        i6 = chat_id;
                                                                                                        user2 = user;
                                                                                                        pendingIntent = contentIntent;
                                                                                                        silent3 = silent;
                                                                                                        dismissDate2 = needVibrate2;
                                                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                                                        str3 = defaultPath2;
                                                                                                        i7 = priority2;
                                                                                                        intent = dismissIntent;
                                                                                                        fileLocation2 = fileLocation;
                                                                                                        notifyDelay = notifyAboutLast;
                                                                                                    }
                                                                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                                    r12.lastNotificationIsNoData = false;
                                                                                                    scheduleNotificationRepeat();
                                                                                                    return;
                                                                                                }
                                                                                                choosenSoundPath2 = choosenSoundPath;
                                                                                                defaultPath2 = defaultPath;
                                                                                                lastMessageObject = lastMessageObject4;
                                                                                                priority2 = count;
                                                                                                dismissIntent = dismissIntent2;
                                                                                                fileLocation = fileLocation3;
                                                                                                dialog_id2 = dialog_id;
                                                                                                notifyOverride2 = false;
                                                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                if (VERSION.SDK_INT > 19) {
                                                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                } else {
                                                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                }
                                                                                                if (VERSION.SDK_INT < 26) {
                                                                                                    j = dialog_id2;
                                                                                                    i2 = notifyDelay;
                                                                                                    size = notifyOverride;
                                                                                                    j2 = override_dialog_id;
                                                                                                    i3 = priorityOverride;
                                                                                                    i4 = vibrateOverride;
                                                                                                    sharedPreferences = preferences;
                                                                                                    i5 = user_id;
                                                                                                    i6 = chat_id;
                                                                                                    user2 = user;
                                                                                                    pendingIntent = contentIntent;
                                                                                                    silent3 = silent;
                                                                                                    dismissDate2 = needVibrate2;
                                                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                                                    str3 = defaultPath2;
                                                                                                    i7 = priority2;
                                                                                                    intent = dismissIntent;
                                                                                                    fileLocation2 = fileLocation;
                                                                                                    notifyDelay = notifyAboutLast;
                                                                                                } else {
                                                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                                                    notifyOverride = name;
                                                                                                    override_dialog_id = lastMessageObject;
                                                                                                    priorityOverride = chat2;
                                                                                                    silent3 = silent;
                                                                                                    notifyDelay = notifyAboutLast;
                                                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                                }
                                                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                                r12.lastNotificationIsNoData = false;
                                                                                                scheduleNotificationRepeat();
                                                                                                return;
                                                                                            } else {
                                                                                                count = priority;
                                                                                            }
                                                                                            mBuilder.setPriority(-1);
                                                                                            if (VERSION.SDK_INT >= 26) {
                                                                                                user_id2 = 2;
                                                                                                i = user_id2;
                                                                                            }
                                                                                            if (priorityOverride2 != 1) {
                                                                                            }
                                                                                            lastMessage = choosenSoundPath9;
                                                                                            silent = priorityOverride2;
                                                                                            needVibrate2 = needVibrate;
                                                                                            choosenSoundPath = str;
                                                                                            priorityOverride2 = ledColor;
                                                                                            defaultPath = defaultPath4;
                                                                                            jArr = new long[]{0, 0};
                                                                                            vibrationPattern = jArr;
                                                                                            mBuilder.setVibrate(jArr);
                                                                                            vibrationPattern2 = vibrationPattern;
                                                                                            sound2 = sound;
                                                                                            str2 = lastMessage;
                                                                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                                                size = rows.size();
                                                                                                notifyOverride2 = false;
                                                                                                z3 = false;
                                                                                                while (true) {
                                                                                                    choosenSoundPath2 = choosenSoundPath;
                                                                                                    choosenSoundPath = size;
                                                                                                    if (z3 < choosenSoundPath) {
                                                                                                        break;
                                                                                                    }
                                                                                                    rows2 = rows;
                                                                                                    size2 = choosenSoundPath;
                                                                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                                    choosenSoundPath = row.buttons.size();
                                                                                                    defaultPath2 = defaultPath;
                                                                                                    defaultPath = 0;
                                                                                                    while (defaultPath < choosenSoundPath) {
                                                                                                        size22 = choosenSoundPath;
                                                                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                                        row2 = row;
                                                                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                                            lastMessageObject = lastMessageObject4;
                                                                                                            priority2 = count;
                                                                                                            dismissIntent = dismissIntent2;
                                                                                                            fileLocation = fileLocation3;
                                                                                                            dialog_id2 = dialog_id;
                                                                                                        } else {
                                                                                                            priority2 = count;
                                                                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                            dismissIntent = dismissIntent2;
                                                                                                            dialog_id2 = dialog_id;
                                                                                                            callbackIntent.putExtra("did", dialog_id2);
                                                                                                            if (choosenSoundPath3.data == null) {
                                                                                                                fileLocation = fileLocation3;
                                                                                                            } else {
                                                                                                                fileLocation = fileLocation3;
                                                                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                                            }
                                                                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                                            charSequence = choosenSoundPath3.text;
                                                                                                            context = ApplicationLoader.applicationContext;
                                                                                                            button = choosenSoundPath3;
                                                                                                            choosenSoundPath = r12.lastButtonId;
                                                                                                            lastMessageObject = lastMessageObject4;
                                                                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                                            notifyOverride2 = true;
                                                                                                        }
                                                                                                        defaultPath++;
                                                                                                        dialog_id = dialog_id2;
                                                                                                        choosenSoundPath = size22;
                                                                                                        row = row2;
                                                                                                        count = priority2;
                                                                                                        dismissIntent2 = dismissIntent;
                                                                                                        fileLocation3 = fileLocation;
                                                                                                        lastMessageObject4 = lastMessageObject;
                                                                                                        dialog_id2 = notifyAboutLast;
                                                                                                    }
                                                                                                    priority2 = count;
                                                                                                    fileLocation = fileLocation3;
                                                                                                    dialog_id2 = dialog_id;
                                                                                                    z3++;
                                                                                                    choosenSoundPath = choosenSoundPath2;
                                                                                                    rows = rows2;
                                                                                                    size = size2;
                                                                                                    defaultPath = defaultPath2;
                                                                                                    dismissIntent2 = dismissIntent2;
                                                                                                    dialog_id2 = notifyAboutLast;
                                                                                                }
                                                                                                defaultPath2 = defaultPath;
                                                                                                lastMessageObject = lastMessageObject4;
                                                                                                priority2 = count;
                                                                                                dismissIntent = dismissIntent2;
                                                                                                fileLocation = fileLocation3;
                                                                                                dialog_id2 = dialog_id;
                                                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                if (VERSION.SDK_INT > 19) {
                                                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                } else {
                                                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                                }
                                                                                                if (VERSION.SDK_INT < 26) {
                                                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                                                    notifyOverride = name;
                                                                                                    override_dialog_id = lastMessageObject;
                                                                                                    priorityOverride = chat2;
                                                                                                    silent3 = silent;
                                                                                                    notifyDelay = notifyAboutLast;
                                                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                                } else {
                                                                                                    j = dialog_id2;
                                                                                                    i2 = notifyDelay;
                                                                                                    size = notifyOverride;
                                                                                                    j2 = override_dialog_id;
                                                                                                    i3 = priorityOverride;
                                                                                                    i4 = vibrateOverride;
                                                                                                    sharedPreferences = preferences;
                                                                                                    i5 = user_id;
                                                                                                    i6 = chat_id;
                                                                                                    user2 = user;
                                                                                                    pendingIntent = contentIntent;
                                                                                                    silent3 = silent;
                                                                                                    dismissDate2 = needVibrate2;
                                                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                                                    str3 = defaultPath2;
                                                                                                    i7 = priority2;
                                                                                                    intent = dismissIntent;
                                                                                                    fileLocation2 = fileLocation;
                                                                                                    notifyDelay = notifyAboutLast;
                                                                                                }
                                                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                                r12.lastNotificationIsNoData = false;
                                                                                                scheduleNotificationRepeat();
                                                                                                return;
                                                                                            }
                                                                                            choosenSoundPath2 = choosenSoundPath;
                                                                                            defaultPath2 = defaultPath;
                                                                                            lastMessageObject = lastMessageObject4;
                                                                                            priority2 = count;
                                                                                            dismissIntent = dismissIntent2;
                                                                                            fileLocation = fileLocation3;
                                                                                            dialog_id2 = dialog_id;
                                                                                            notifyOverride2 = false;
                                                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                            if (VERSION.SDK_INT > 19) {
                                                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                            } else {
                                                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                            }
                                                                                            if (VERSION.SDK_INT < 26) {
                                                                                                j = dialog_id2;
                                                                                                i2 = notifyDelay;
                                                                                                size = notifyOverride;
                                                                                                j2 = override_dialog_id;
                                                                                                i3 = priorityOverride;
                                                                                                i4 = vibrateOverride;
                                                                                                sharedPreferences = preferences;
                                                                                                i5 = user_id;
                                                                                                i6 = chat_id;
                                                                                                user2 = user;
                                                                                                pendingIntent = contentIntent;
                                                                                                silent3 = silent;
                                                                                                dismissDate2 = needVibrate2;
                                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                                str3 = defaultPath2;
                                                                                                i7 = priority2;
                                                                                                intent = dismissIntent;
                                                                                                fileLocation2 = fileLocation;
                                                                                                notifyDelay = notifyAboutLast;
                                                                                            } else {
                                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                                notifyOverride = name;
                                                                                                override_dialog_id = lastMessageObject;
                                                                                                priorityOverride = chat2;
                                                                                                silent3 = silent;
                                                                                                notifyDelay = notifyAboutLast;
                                                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                            }
                                                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                            r12.lastNotificationIsNoData = false;
                                                                                            scheduleNotificationRepeat();
                                                                                            return;
                                                                                        }
                                                                                    }
                                                                                    if (r12.pushDialogs.size() != 1) {
                                                                                        stringBuilder4 = new StringBuilder();
                                                                                        stringBuilder4.append(choosenSoundPath9);
                                                                                        stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                                                                        detailText = stringBuilder4.toString();
                                                                                        chatName = choosenSoundPath5;
                                                                                    } else {
                                                                                        stringBuilder4 = new StringBuilder();
                                                                                        stringBuilder4.append(choosenSoundPath9);
                                                                                        objArr = new Object[2];
                                                                                        chatName = choosenSoundPath5;
                                                                                        objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                                                                        objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                                                                        stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                                                                        detailText = stringBuilder4.toString();
                                                                                    }
                                                                                    mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                                                    vibrationPattern3 = null;
                                                                                    mBuilder.setCategory("msg");
                                                                                    stringBuilder = new StringBuilder();
                                                                                    i = 0;
                                                                                    stringBuilder.append("tel:+");
                                                                                    stringBuilder.append(user3.phone);
                                                                                    mBuilder.addPerson(stringBuilder.toString());
                                                                                    silent2 = 2;
                                                                                    user = user3;
                                                                                    if (r12.pushMessages.size() == 1) {
                                                                                        messageObject = (MessageObject) r12.pushMessages.get(0);
                                                                                        lastMessage2 = null;
                                                                                        text = new boolean[1];
                                                                                        stringForMessage = getStringForMessage(messageObject, null, text);
                                                                                        message = stringForMessage;
                                                                                        lastMessage3 = stringForMessage;
                                                                                        choosenSoundPath5 = messageObject.messageOwner.silent;
                                                                                        choosenSoundPath9 = message;
                                                                                        if (choosenSoundPath9 != null) {
                                                                                            if (replace) {
                                                                                                if (chat2 != null) {
                                                                                                    silent3 = choosenSoundPath5;
                                                                                                    choosenSoundPath5 = new StringBuilder();
                                                                                                    sound = null;
                                                                                                    choosenSoundPath5.append(" @ ");
                                                                                                    choosenSoundPath5.append(str5);
                                                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                } else {
                                                                                                    silent3 = choosenSoundPath5;
                                                                                                    sound = null;
                                                                                                    if (text[null]) {
                                                                                                        choosenSoundPath5 = new StringBuilder();
                                                                                                        choosenSoundPath5.append(str5);
                                                                                                        choosenSoundPath5.append(": ");
                                                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                    } else {
                                                                                                        choosenSoundPath5 = new StringBuilder();
                                                                                                        choosenSoundPath5.append(str5);
                                                                                                        choosenSoundPath5.append(" ");
                                                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                    }
                                                                                                }
                                                                                                choosenSoundPath9 = message;
                                                                                            } else {
                                                                                                silent3 = choosenSoundPath5;
                                                                                                sound = null;
                                                                                            }
                                                                                            mBuilder.setContentText(choosenSoundPath9);
                                                                                            mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                                                            contentIntent = contentIntent2;
                                                                                            dialog_id = dialog_id2;
                                                                                            defaultPath4 = defaultPath3;
                                                                                            notifyDelay = dismissDate2;
                                                                                            choosenSoundPath9 = lastMessage3;
                                                                                            priorityOverride2 = silent3;
                                                                                        } else {
                                                                                            return;
                                                                                        }
                                                                                    }
                                                                                    lastMessage2 = null;
                                                                                    sound = null;
                                                                                    mBuilder.setContentText(detailText);
                                                                                    inboxStyle = new InboxStyle();
                                                                                    inboxStyle.setBigContentTitle(str5);
                                                                                    count2 = Math.min(10, r12.pushMessages.size());
                                                                                    text2 = new boolean[1];
                                                                                    contentIntent = contentIntent2;
                                                                                    count = silent2;
                                                                                    chat_id2 = 0;
                                                                                    while (chat_id2 < count2) {
                                                                                        count3 = count2;
                                                                                        count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                                                        dialog_id = dialog_id2;
                                                                                        message2 = getStringForMessage(count4, 0, text2);
                                                                                        if (message2 != null) {
                                                                                            defaultPath4 = defaultPath3;
                                                                                            notifyDelay = dismissDate2;
                                                                                            if (count4.messageOwner.date > notifyDelay) {
                                                                                                if (count == 2) {
                                                                                                    lastMessage2 = message2;
                                                                                                    count = count4.messageOwner.silent;
                                                                                                }
                                                                                                messageObject2 = count4;
                                                                                                if (chat2 != null) {
                                                                                                    count2 = new StringBuilder();
                                                                                                    count2.append(" @ ");
                                                                                                    count2.append(str5);
                                                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                } else if (text2[0]) {
                                                                                                    count2 = new StringBuilder();
                                                                                                    count2.append(str5);
                                                                                                    count2.append(": ");
                                                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                } else {
                                                                                                    count2 = new StringBuilder();
                                                                                                    count2.append(str5);
                                                                                                    count2.append(" ");
                                                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                }
                                                                                                inboxStyle.addLine(message2);
                                                                                            }
                                                                                        } else {
                                                                                            defaultPath4 = defaultPath3;
                                                                                            notifyDelay = dismissDate2;
                                                                                        }
                                                                                        chat_id2++;
                                                                                        dismissDate2 = notifyDelay;
                                                                                        count2 = count3;
                                                                                        dialog_id2 = dialog_id;
                                                                                        defaultPath3 = defaultPath4;
                                                                                    }
                                                                                    dialog_id = dialog_id2;
                                                                                    defaultPath4 = defaultPath3;
                                                                                    notifyDelay = dismissDate2;
                                                                                    inboxStyle.setSummaryText(detailText);
                                                                                    mBuilder.setStyle(inboxStyle);
                                                                                    priorityOverride2 = count;
                                                                                    choosenSoundPath9 = lastMessage2;
                                                                                    dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                                                    dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                                                    dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                                                    mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                                                    if (fileLocation3 != null) {
                                                                                        img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                                                        if (img != null) {
                                                                                            mBuilder.setLargeIcon(img.getBitmap());
                                                                                            name = str5;
                                                                                        } else {
                                                                                            file = FileLoader.getPathToAttach(fileLocation3, true);
                                                                                            if (file.exists()) {
                                                                                                scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                                                options = new Options();
                                                                                                if (scaleFactor < 1.0f) {
                                                                                                    name = str5;
                                                                                                    str5 = true;
                                                                                                } else {
                                                                                                    name = str5;
                                                                                                    str5 = (int) scaleFactor;
                                                                                                }
                                                                                                options.inSampleSize = str5;
                                                                                                str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                                                if (str5 != null) {
                                                                                                    mBuilder.setLargeIcon(str5);
                                                                                                }
                                                                                            } else {
                                                                                                name = str5;
                                                                                            }
                                                                                        }
                                                                                    } else {
                                                                                        name = str5;
                                                                                    }
                                                                                    z = notifyAboutLast;
                                                                                    if (z) {
                                                                                        count = priority;
                                                                                    } else if (priorityOverride2 == 1) {
                                                                                        count = priority;
                                                                                    } else {
                                                                                        if (priority == 0) {
                                                                                            mBuilder.setPriority(0);
                                                                                            if (VERSION.SDK_INT >= 26) {
                                                                                                i = 3;
                                                                                            }
                                                                                            count = priority;
                                                                                        } else {
                                                                                            count = priority;
                                                                                            if (count != 1) {
                                                                                                if (count == 2) {
                                                                                                    if (count != 4) {
                                                                                                        mBuilder.setPriority(-2);
                                                                                                        if (VERSION.SDK_INT >= 26) {
                                                                                                            user_id2 = 1;
                                                                                                            i = user_id2;
                                                                                                        }
                                                                                                    } else if (count == 5) {
                                                                                                        mBuilder.setPriority(-1);
                                                                                                        if (VERSION.SDK_INT >= 26) {
                                                                                                            user_id2 = 2;
                                                                                                            i = user_id2;
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                            mBuilder.setPriority(1);
                                                                                            if (VERSION.SDK_INT >= 26) {
                                                                                                user_id2 = 4;
                                                                                                i = user_id2;
                                                                                            }
                                                                                        }
                                                                                        if (priorityOverride2 != 1) {
                                                                                        }
                                                                                        lastMessage = choosenSoundPath9;
                                                                                        silent = priorityOverride2;
                                                                                        needVibrate2 = needVibrate;
                                                                                        choosenSoundPath = str;
                                                                                        priorityOverride2 = ledColor;
                                                                                        defaultPath = defaultPath4;
                                                                                        jArr = new long[]{0, 0};
                                                                                        vibrationPattern = jArr;
                                                                                        mBuilder.setVibrate(jArr);
                                                                                        vibrationPattern2 = vibrationPattern;
                                                                                        sound2 = sound;
                                                                                        str2 = lastMessage;
                                                                                        if (AndroidUtilities.needShowPasscode(false)) {
                                                                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                                            size = rows.size();
                                                                                            notifyOverride2 = false;
                                                                                            z3 = false;
                                                                                            while (true) {
                                                                                                choosenSoundPath2 = choosenSoundPath;
                                                                                                choosenSoundPath = size;
                                                                                                if (z3 < choosenSoundPath) {
                                                                                                    break;
                                                                                                }
                                                                                                rows2 = rows;
                                                                                                size2 = choosenSoundPath;
                                                                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                                choosenSoundPath = row.buttons.size();
                                                                                                defaultPath2 = defaultPath;
                                                                                                defaultPath = 0;
                                                                                                while (defaultPath < choosenSoundPath) {
                                                                                                    size22 = choosenSoundPath;
                                                                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                                    row2 = row;
                                                                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                                        priority2 = count;
                                                                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                        dismissIntent = dismissIntent2;
                                                                                                        dialog_id2 = dialog_id;
                                                                                                        callbackIntent.putExtra("did", dialog_id2);
                                                                                                        if (choosenSoundPath3.data == null) {
                                                                                                            fileLocation = fileLocation3;
                                                                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                                        } else {
                                                                                                            fileLocation = fileLocation3;
                                                                                                        }
                                                                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                                        charSequence = choosenSoundPath3.text;
                                                                                                        context = ApplicationLoader.applicationContext;
                                                                                                        button = choosenSoundPath3;
                                                                                                        choosenSoundPath = r12.lastButtonId;
                                                                                                        lastMessageObject = lastMessageObject4;
                                                                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                                        notifyOverride2 = true;
                                                                                                    } else {
                                                                                                        lastMessageObject = lastMessageObject4;
                                                                                                        priority2 = count;
                                                                                                        dismissIntent = dismissIntent2;
                                                                                                        fileLocation = fileLocation3;
                                                                                                        dialog_id2 = dialog_id;
                                                                                                    }
                                                                                                    defaultPath++;
                                                                                                    dialog_id = dialog_id2;
                                                                                                    choosenSoundPath = size22;
                                                                                                    row = row2;
                                                                                                    count = priority2;
                                                                                                    dismissIntent2 = dismissIntent;
                                                                                                    fileLocation3 = fileLocation;
                                                                                                    lastMessageObject4 = lastMessageObject;
                                                                                                    dialog_id2 = notifyAboutLast;
                                                                                                }
                                                                                                priority2 = count;
                                                                                                fileLocation = fileLocation3;
                                                                                                dialog_id2 = dialog_id;
                                                                                                z3++;
                                                                                                choosenSoundPath = choosenSoundPath2;
                                                                                                rows = rows2;
                                                                                                size = size2;
                                                                                                defaultPath = defaultPath2;
                                                                                                dismissIntent2 = dismissIntent2;
                                                                                                dialog_id2 = notifyAboutLast;
                                                                                            }
                                                                                            defaultPath2 = defaultPath;
                                                                                            lastMessageObject = lastMessageObject4;
                                                                                            priority2 = count;
                                                                                            dismissIntent = dismissIntent2;
                                                                                            fileLocation = fileLocation3;
                                                                                            dialog_id2 = dialog_id;
                                                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                            if (VERSION.SDK_INT > 19) {
                                                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                            } else {
                                                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                            }
                                                                                            if (VERSION.SDK_INT < 26) {
                                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                                notifyOverride = name;
                                                                                                override_dialog_id = lastMessageObject;
                                                                                                priorityOverride = chat2;
                                                                                                silent3 = silent;
                                                                                                notifyDelay = notifyAboutLast;
                                                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                            } else {
                                                                                                j = dialog_id2;
                                                                                                i2 = notifyDelay;
                                                                                                size = notifyOverride;
                                                                                                j2 = override_dialog_id;
                                                                                                i3 = priorityOverride;
                                                                                                i4 = vibrateOverride;
                                                                                                sharedPreferences = preferences;
                                                                                                i5 = user_id;
                                                                                                i6 = chat_id;
                                                                                                user2 = user;
                                                                                                pendingIntent = contentIntent;
                                                                                                silent3 = silent;
                                                                                                dismissDate2 = needVibrate2;
                                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                                str3 = defaultPath2;
                                                                                                i7 = priority2;
                                                                                                intent = dismissIntent;
                                                                                                fileLocation2 = fileLocation;
                                                                                                notifyDelay = notifyAboutLast;
                                                                                            }
                                                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                            r12.lastNotificationIsNoData = false;
                                                                                            scheduleNotificationRepeat();
                                                                                            return;
                                                                                        }
                                                                                        choosenSoundPath2 = choosenSoundPath;
                                                                                        defaultPath2 = defaultPath;
                                                                                        lastMessageObject = lastMessageObject4;
                                                                                        priority2 = count;
                                                                                        dismissIntent = dismissIntent2;
                                                                                        fileLocation = fileLocation3;
                                                                                        dialog_id2 = dialog_id;
                                                                                        notifyOverride2 = false;
                                                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                        if (VERSION.SDK_INT > 19) {
                                                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                        } else {
                                                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                        }
                                                                                        if (VERSION.SDK_INT < 26) {
                                                                                            j = dialog_id2;
                                                                                            i2 = notifyDelay;
                                                                                            size = notifyOverride;
                                                                                            j2 = override_dialog_id;
                                                                                            i3 = priorityOverride;
                                                                                            i4 = vibrateOverride;
                                                                                            sharedPreferences = preferences;
                                                                                            i5 = user_id;
                                                                                            i6 = chat_id;
                                                                                            user2 = user;
                                                                                            pendingIntent = contentIntent;
                                                                                            silent3 = silent;
                                                                                            dismissDate2 = needVibrate2;
                                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                                            str3 = defaultPath2;
                                                                                            i7 = priority2;
                                                                                            intent = dismissIntent;
                                                                                            fileLocation2 = fileLocation;
                                                                                            notifyDelay = notifyAboutLast;
                                                                                        } else {
                                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                                            notifyOverride = name;
                                                                                            override_dialog_id = lastMessageObject;
                                                                                            priorityOverride = chat2;
                                                                                            silent3 = silent;
                                                                                            notifyDelay = notifyAboutLast;
                                                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                        }
                                                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                        r12.lastNotificationIsNoData = false;
                                                                                        scheduleNotificationRepeat();
                                                                                        return;
                                                                                    }
                                                                                    mBuilder.setPriority(-1);
                                                                                    if (VERSION.SDK_INT >= 26) {
                                                                                        user_id2 = 2;
                                                                                        i = user_id2;
                                                                                    }
                                                                                    if (priorityOverride2 != 1) {
                                                                                    }
                                                                                    lastMessage = choosenSoundPath9;
                                                                                    silent = priorityOverride2;
                                                                                    needVibrate2 = needVibrate;
                                                                                    choosenSoundPath = str;
                                                                                    priorityOverride2 = ledColor;
                                                                                    defaultPath = defaultPath4;
                                                                                    jArr = new long[]{0, 0};
                                                                                    vibrationPattern = jArr;
                                                                                    mBuilder.setVibrate(jArr);
                                                                                    vibrationPattern2 = vibrationPattern;
                                                                                    sound2 = sound;
                                                                                    str2 = lastMessage;
                                                                                    if (AndroidUtilities.needShowPasscode(false)) {
                                                                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                                        size = rows.size();
                                                                                        notifyOverride2 = false;
                                                                                        z3 = false;
                                                                                        while (true) {
                                                                                            choosenSoundPath2 = choosenSoundPath;
                                                                                            choosenSoundPath = size;
                                                                                            if (z3 < choosenSoundPath) {
                                                                                                break;
                                                                                            }
                                                                                            rows2 = rows;
                                                                                            size2 = choosenSoundPath;
                                                                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                            choosenSoundPath = row.buttons.size();
                                                                                            defaultPath2 = defaultPath;
                                                                                            defaultPath = 0;
                                                                                            while (defaultPath < choosenSoundPath) {
                                                                                                size22 = choosenSoundPath;
                                                                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                                row2 = row;
                                                                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                                    lastMessageObject = lastMessageObject4;
                                                                                                    priority2 = count;
                                                                                                    dismissIntent = dismissIntent2;
                                                                                                    fileLocation = fileLocation3;
                                                                                                    dialog_id2 = dialog_id;
                                                                                                } else {
                                                                                                    priority2 = count;
                                                                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                    dismissIntent = dismissIntent2;
                                                                                                    dialog_id2 = dialog_id;
                                                                                                    callbackIntent.putExtra("did", dialog_id2);
                                                                                                    if (choosenSoundPath3.data == null) {
                                                                                                        fileLocation = fileLocation3;
                                                                                                    } else {
                                                                                                        fileLocation = fileLocation3;
                                                                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                                    }
                                                                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                                    charSequence = choosenSoundPath3.text;
                                                                                                    context = ApplicationLoader.applicationContext;
                                                                                                    button = choosenSoundPath3;
                                                                                                    choosenSoundPath = r12.lastButtonId;
                                                                                                    lastMessageObject = lastMessageObject4;
                                                                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                                    notifyOverride2 = true;
                                                                                                }
                                                                                                defaultPath++;
                                                                                                dialog_id = dialog_id2;
                                                                                                choosenSoundPath = size22;
                                                                                                row = row2;
                                                                                                count = priority2;
                                                                                                dismissIntent2 = dismissIntent;
                                                                                                fileLocation3 = fileLocation;
                                                                                                lastMessageObject4 = lastMessageObject;
                                                                                                dialog_id2 = notifyAboutLast;
                                                                                            }
                                                                                            priority2 = count;
                                                                                            fileLocation = fileLocation3;
                                                                                            dialog_id2 = dialog_id;
                                                                                            z3++;
                                                                                            choosenSoundPath = choosenSoundPath2;
                                                                                            rows = rows2;
                                                                                            size = size2;
                                                                                            defaultPath = defaultPath2;
                                                                                            dismissIntent2 = dismissIntent2;
                                                                                            dialog_id2 = notifyAboutLast;
                                                                                        }
                                                                                        defaultPath2 = defaultPath;
                                                                                        lastMessageObject = lastMessageObject4;
                                                                                        priority2 = count;
                                                                                        dismissIntent = dismissIntent2;
                                                                                        fileLocation = fileLocation3;
                                                                                        dialog_id2 = dialog_id;
                                                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                        if (VERSION.SDK_INT > 19) {
                                                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                        } else {
                                                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                        }
                                                                                        if (VERSION.SDK_INT < 26) {
                                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                                            notifyOverride = name;
                                                                                            override_dialog_id = lastMessageObject;
                                                                                            priorityOverride = chat2;
                                                                                            silent3 = silent;
                                                                                            notifyDelay = notifyAboutLast;
                                                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                        } else {
                                                                                            j = dialog_id2;
                                                                                            i2 = notifyDelay;
                                                                                            size = notifyOverride;
                                                                                            j2 = override_dialog_id;
                                                                                            i3 = priorityOverride;
                                                                                            i4 = vibrateOverride;
                                                                                            sharedPreferences = preferences;
                                                                                            i5 = user_id;
                                                                                            i6 = chat_id;
                                                                                            user2 = user;
                                                                                            pendingIntent = contentIntent;
                                                                                            silent3 = silent;
                                                                                            dismissDate2 = needVibrate2;
                                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                                            str3 = defaultPath2;
                                                                                            i7 = priority2;
                                                                                            intent = dismissIntent;
                                                                                            fileLocation2 = fileLocation;
                                                                                            notifyDelay = notifyAboutLast;
                                                                                        }
                                                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                        r12.lastNotificationIsNoData = false;
                                                                                        scheduleNotificationRepeat();
                                                                                        return;
                                                                                    }
                                                                                    choosenSoundPath2 = choosenSoundPath;
                                                                                    defaultPath2 = defaultPath;
                                                                                    lastMessageObject = lastMessageObject4;
                                                                                    priority2 = count;
                                                                                    dismissIntent = dismissIntent2;
                                                                                    fileLocation = fileLocation3;
                                                                                    dialog_id2 = dialog_id;
                                                                                    notifyOverride2 = false;
                                                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                    if (VERSION.SDK_INT > 19) {
                                                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                    } else {
                                                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                    }
                                                                                    if (VERSION.SDK_INT < 26) {
                                                                                        j = dialog_id2;
                                                                                        i2 = notifyDelay;
                                                                                        size = notifyOverride;
                                                                                        j2 = override_dialog_id;
                                                                                        i3 = priorityOverride;
                                                                                        i4 = vibrateOverride;
                                                                                        sharedPreferences = preferences;
                                                                                        i5 = user_id;
                                                                                        i6 = chat_id;
                                                                                        user2 = user;
                                                                                        pendingIntent = contentIntent;
                                                                                        silent3 = silent;
                                                                                        dismissDate2 = needVibrate2;
                                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                                        str3 = defaultPath2;
                                                                                        i7 = priority2;
                                                                                        intent = dismissIntent;
                                                                                        fileLocation2 = fileLocation;
                                                                                        notifyDelay = notifyAboutLast;
                                                                                    } else {
                                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                                        notifyOverride = name;
                                                                                        override_dialog_id = lastMessageObject;
                                                                                        priorityOverride = chat2;
                                                                                        silent3 = silent;
                                                                                        notifyDelay = notifyAboutLast;
                                                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                    }
                                                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                    r12.lastNotificationIsNoData = false;
                                                                                    scheduleNotificationRepeat();
                                                                                    return;
                                                                                }
                                                                            }
                                                                        } else {
                                                                            replace = true;
                                                                        }
                                                                        choosenSoundPath9 = LocaleController.getString("AppName", R.string.AppName);
                                                                        replace = false;
                                                                        str5 = choosenSoundPath9;
                                                                        chat_id = chat_id2;
                                                                        if (UserConfig.getActivatedAccountsCount() <= 1) {
                                                                            choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                                                        } else if (r12.pushDialogs.size() != 1) {
                                                                            stringBuilder = new StringBuilder();
                                                                            stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                                                            stringBuilder.append("\u30fb");
                                                                            choosenSoundPath9 = stringBuilder.toString();
                                                                        } else {
                                                                            choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                                                        }
                                                                        if (r12.pushDialogs.size() == 1) {
                                                                            if (VERSION.SDK_INT >= 23) {
                                                                                detailText = choosenSoundPath9;
                                                                                chatName = choosenSoundPath5;
                                                                                z4 = inAppVibrate;
                                                                                mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                                                vibrationPattern3 = null;
                                                                                mBuilder.setCategory("msg");
                                                                                stringBuilder = new StringBuilder();
                                                                                i = 0;
                                                                                stringBuilder.append("tel:+");
                                                                                stringBuilder.append(user3.phone);
                                                                                mBuilder.addPerson(stringBuilder.toString());
                                                                                silent2 = 2;
                                                                                user = user3;
                                                                                if (r12.pushMessages.size() == 1) {
                                                                                    lastMessage2 = null;
                                                                                    sound = null;
                                                                                    mBuilder.setContentText(detailText);
                                                                                    inboxStyle = new InboxStyle();
                                                                                    inboxStyle.setBigContentTitle(str5);
                                                                                    count2 = Math.min(10, r12.pushMessages.size());
                                                                                    text2 = new boolean[1];
                                                                                    contentIntent = contentIntent2;
                                                                                    count = silent2;
                                                                                    chat_id2 = 0;
                                                                                    while (chat_id2 < count2) {
                                                                                        count3 = count2;
                                                                                        count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                                                        dialog_id = dialog_id2;
                                                                                        message2 = getStringForMessage(count4, 0, text2);
                                                                                        if (message2 != null) {
                                                                                            defaultPath4 = defaultPath3;
                                                                                            notifyDelay = dismissDate2;
                                                                                        } else {
                                                                                            defaultPath4 = defaultPath3;
                                                                                            notifyDelay = dismissDate2;
                                                                                            if (count4.messageOwner.date > notifyDelay) {
                                                                                                if (count == 2) {
                                                                                                    lastMessage2 = message2;
                                                                                                    count = count4.messageOwner.silent;
                                                                                                }
                                                                                                messageObject2 = count4;
                                                                                                if (chat2 != null) {
                                                                                                    count2 = new StringBuilder();
                                                                                                    count2.append(" @ ");
                                                                                                    count2.append(str5);
                                                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                } else if (text2[0]) {
                                                                                                    count2 = new StringBuilder();
                                                                                                    count2.append(str5);
                                                                                                    count2.append(" ");
                                                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                } else {
                                                                                                    count2 = new StringBuilder();
                                                                                                    count2.append(str5);
                                                                                                    count2.append(": ");
                                                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                }
                                                                                                inboxStyle.addLine(message2);
                                                                                            }
                                                                                        }
                                                                                        chat_id2++;
                                                                                        dismissDate2 = notifyDelay;
                                                                                        count2 = count3;
                                                                                        dialog_id2 = dialog_id;
                                                                                        defaultPath3 = defaultPath4;
                                                                                    }
                                                                                    dialog_id = dialog_id2;
                                                                                    defaultPath4 = defaultPath3;
                                                                                    notifyDelay = dismissDate2;
                                                                                    inboxStyle.setSummaryText(detailText);
                                                                                    mBuilder.setStyle(inboxStyle);
                                                                                    priorityOverride2 = count;
                                                                                    choosenSoundPath9 = lastMessage2;
                                                                                } else {
                                                                                    messageObject = (MessageObject) r12.pushMessages.get(0);
                                                                                    lastMessage2 = null;
                                                                                    text = new boolean[1];
                                                                                    stringForMessage = getStringForMessage(messageObject, null, text);
                                                                                    message = stringForMessage;
                                                                                    lastMessage3 = stringForMessage;
                                                                                    choosenSoundPath5 = messageObject.messageOwner.silent;
                                                                                    choosenSoundPath9 = message;
                                                                                    if (choosenSoundPath9 != null) {
                                                                                        if (replace) {
                                                                                            silent3 = choosenSoundPath5;
                                                                                            sound = null;
                                                                                        } else {
                                                                                            if (chat2 != null) {
                                                                                                silent3 = choosenSoundPath5;
                                                                                                sound = null;
                                                                                                if (text[null]) {
                                                                                                    choosenSoundPath5 = new StringBuilder();
                                                                                                    choosenSoundPath5.append(str5);
                                                                                                    choosenSoundPath5.append(" ");
                                                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                } else {
                                                                                                    choosenSoundPath5 = new StringBuilder();
                                                                                                    choosenSoundPath5.append(str5);
                                                                                                    choosenSoundPath5.append(": ");
                                                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                }
                                                                                            } else {
                                                                                                silent3 = choosenSoundPath5;
                                                                                                choosenSoundPath5 = new StringBuilder();
                                                                                                sound = null;
                                                                                                choosenSoundPath5.append(" @ ");
                                                                                                choosenSoundPath5.append(str5);
                                                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                            }
                                                                                            choosenSoundPath9 = message;
                                                                                        }
                                                                                        mBuilder.setContentText(choosenSoundPath9);
                                                                                        mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                                                        contentIntent = contentIntent2;
                                                                                        dialog_id = dialog_id2;
                                                                                        defaultPath4 = defaultPath3;
                                                                                        notifyDelay = dismissDate2;
                                                                                        choosenSoundPath9 = lastMessage3;
                                                                                        priorityOverride2 = silent3;
                                                                                    } else {
                                                                                        return;
                                                                                    }
                                                                                }
                                                                                dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                                                dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                                                dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                                                mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                                                if (fileLocation3 != null) {
                                                                                    name = str5;
                                                                                } else {
                                                                                    img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                                                    if (img != null) {
                                                                                        file = FileLoader.getPathToAttach(fileLocation3, true);
                                                                                        if (file.exists()) {
                                                                                            name = str5;
                                                                                        } else {
                                                                                            scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                                            options = new Options();
                                                                                            if (scaleFactor < 1.0f) {
                                                                                                name = str5;
                                                                                                str5 = (int) scaleFactor;
                                                                                            } else {
                                                                                                name = str5;
                                                                                                str5 = true;
                                                                                            }
                                                                                            options.inSampleSize = str5;
                                                                                            str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                                            if (str5 != null) {
                                                                                                mBuilder.setLargeIcon(str5);
                                                                                            }
                                                                                        }
                                                                                    } else {
                                                                                        mBuilder.setLargeIcon(img.getBitmap());
                                                                                        name = str5;
                                                                                    }
                                                                                }
                                                                                z = notifyAboutLast;
                                                                                if (z) {
                                                                                    count = priority;
                                                                                } else if (priorityOverride2 == 1) {
                                                                                    if (priority == 0) {
                                                                                        count = priority;
                                                                                        if (count != 1) {
                                                                                            if (count == 2) {
                                                                                                if (count != 4) {
                                                                                                    mBuilder.setPriority(-2);
                                                                                                    if (VERSION.SDK_INT >= 26) {
                                                                                                        user_id2 = 1;
                                                                                                        i = user_id2;
                                                                                                    }
                                                                                                } else if (count == 5) {
                                                                                                    mBuilder.setPriority(-1);
                                                                                                    if (VERSION.SDK_INT >= 26) {
                                                                                                        user_id2 = 2;
                                                                                                        i = user_id2;
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                        mBuilder.setPriority(1);
                                                                                        if (VERSION.SDK_INT >= 26) {
                                                                                            user_id2 = 4;
                                                                                            i = user_id2;
                                                                                        }
                                                                                    } else {
                                                                                        mBuilder.setPriority(0);
                                                                                        if (VERSION.SDK_INT >= 26) {
                                                                                            i = 3;
                                                                                        }
                                                                                        count = priority;
                                                                                    }
                                                                                    if (priorityOverride2 != 1) {
                                                                                    }
                                                                                    lastMessage = choosenSoundPath9;
                                                                                    silent = priorityOverride2;
                                                                                    needVibrate2 = needVibrate;
                                                                                    choosenSoundPath = str;
                                                                                    priorityOverride2 = ledColor;
                                                                                    defaultPath = defaultPath4;
                                                                                    jArr = new long[]{0, 0};
                                                                                    vibrationPattern = jArr;
                                                                                    mBuilder.setVibrate(jArr);
                                                                                    vibrationPattern2 = vibrationPattern;
                                                                                    sound2 = sound;
                                                                                    str2 = lastMessage;
                                                                                    if (AndroidUtilities.needShowPasscode(false)) {
                                                                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                                        size = rows.size();
                                                                                        notifyOverride2 = false;
                                                                                        z3 = false;
                                                                                        while (true) {
                                                                                            choosenSoundPath2 = choosenSoundPath;
                                                                                            choosenSoundPath = size;
                                                                                            if (z3 < choosenSoundPath) {
                                                                                                break;
                                                                                            }
                                                                                            rows2 = rows;
                                                                                            size2 = choosenSoundPath;
                                                                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                            choosenSoundPath = row.buttons.size();
                                                                                            defaultPath2 = defaultPath;
                                                                                            defaultPath = 0;
                                                                                            while (defaultPath < choosenSoundPath) {
                                                                                                size22 = choosenSoundPath;
                                                                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                                row2 = row;
                                                                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                                    priority2 = count;
                                                                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                    dismissIntent = dismissIntent2;
                                                                                                    dialog_id2 = dialog_id;
                                                                                                    callbackIntent.putExtra("did", dialog_id2);
                                                                                                    if (choosenSoundPath3.data == null) {
                                                                                                        fileLocation = fileLocation3;
                                                                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                                    } else {
                                                                                                        fileLocation = fileLocation3;
                                                                                                    }
                                                                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                                    charSequence = choosenSoundPath3.text;
                                                                                                    context = ApplicationLoader.applicationContext;
                                                                                                    button = choosenSoundPath3;
                                                                                                    choosenSoundPath = r12.lastButtonId;
                                                                                                    lastMessageObject = lastMessageObject4;
                                                                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                                    notifyOverride2 = true;
                                                                                                } else {
                                                                                                    lastMessageObject = lastMessageObject4;
                                                                                                    priority2 = count;
                                                                                                    dismissIntent = dismissIntent2;
                                                                                                    fileLocation = fileLocation3;
                                                                                                    dialog_id2 = dialog_id;
                                                                                                }
                                                                                                defaultPath++;
                                                                                                dialog_id = dialog_id2;
                                                                                                choosenSoundPath = size22;
                                                                                                row = row2;
                                                                                                count = priority2;
                                                                                                dismissIntent2 = dismissIntent;
                                                                                                fileLocation3 = fileLocation;
                                                                                                lastMessageObject4 = lastMessageObject;
                                                                                                dialog_id2 = notifyAboutLast;
                                                                                            }
                                                                                            priority2 = count;
                                                                                            fileLocation = fileLocation3;
                                                                                            dialog_id2 = dialog_id;
                                                                                            z3++;
                                                                                            choosenSoundPath = choosenSoundPath2;
                                                                                            rows = rows2;
                                                                                            size = size2;
                                                                                            defaultPath = defaultPath2;
                                                                                            dismissIntent2 = dismissIntent2;
                                                                                            dialog_id2 = notifyAboutLast;
                                                                                        }
                                                                                        defaultPath2 = defaultPath;
                                                                                        lastMessageObject = lastMessageObject4;
                                                                                        priority2 = count;
                                                                                        dismissIntent = dismissIntent2;
                                                                                        fileLocation = fileLocation3;
                                                                                        dialog_id2 = dialog_id;
                                                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                        if (VERSION.SDK_INT > 19) {
                                                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                        } else {
                                                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                        }
                                                                                        if (VERSION.SDK_INT < 26) {
                                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                                            notifyOverride = name;
                                                                                            override_dialog_id = lastMessageObject;
                                                                                            priorityOverride = chat2;
                                                                                            silent3 = silent;
                                                                                            notifyDelay = notifyAboutLast;
                                                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                        } else {
                                                                                            j = dialog_id2;
                                                                                            i2 = notifyDelay;
                                                                                            size = notifyOverride;
                                                                                            j2 = override_dialog_id;
                                                                                            i3 = priorityOverride;
                                                                                            i4 = vibrateOverride;
                                                                                            sharedPreferences = preferences;
                                                                                            i5 = user_id;
                                                                                            i6 = chat_id;
                                                                                            user2 = user;
                                                                                            pendingIntent = contentIntent;
                                                                                            silent3 = silent;
                                                                                            dismissDate2 = needVibrate2;
                                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                                            str3 = defaultPath2;
                                                                                            i7 = priority2;
                                                                                            intent = dismissIntent;
                                                                                            fileLocation2 = fileLocation;
                                                                                            notifyDelay = notifyAboutLast;
                                                                                        }
                                                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                        r12.lastNotificationIsNoData = false;
                                                                                        scheduleNotificationRepeat();
                                                                                        return;
                                                                                    }
                                                                                    choosenSoundPath2 = choosenSoundPath;
                                                                                    defaultPath2 = defaultPath;
                                                                                    lastMessageObject = lastMessageObject4;
                                                                                    priority2 = count;
                                                                                    dismissIntent = dismissIntent2;
                                                                                    fileLocation = fileLocation3;
                                                                                    dialog_id2 = dialog_id;
                                                                                    notifyOverride2 = false;
                                                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                    if (VERSION.SDK_INT > 19) {
                                                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                    } else {
                                                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                    }
                                                                                    if (VERSION.SDK_INT < 26) {
                                                                                        j = dialog_id2;
                                                                                        i2 = notifyDelay;
                                                                                        size = notifyOverride;
                                                                                        j2 = override_dialog_id;
                                                                                        i3 = priorityOverride;
                                                                                        i4 = vibrateOverride;
                                                                                        sharedPreferences = preferences;
                                                                                        i5 = user_id;
                                                                                        i6 = chat_id;
                                                                                        user2 = user;
                                                                                        pendingIntent = contentIntent;
                                                                                        silent3 = silent;
                                                                                        dismissDate2 = needVibrate2;
                                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                                        str3 = defaultPath2;
                                                                                        i7 = priority2;
                                                                                        intent = dismissIntent;
                                                                                        fileLocation2 = fileLocation;
                                                                                        notifyDelay = notifyAboutLast;
                                                                                    } else {
                                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                                        notifyOverride = name;
                                                                                        override_dialog_id = lastMessageObject;
                                                                                        priorityOverride = chat2;
                                                                                        silent3 = silent;
                                                                                        notifyDelay = notifyAboutLast;
                                                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                    }
                                                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                    r12.lastNotificationIsNoData = false;
                                                                                    scheduleNotificationRepeat();
                                                                                    return;
                                                                                } else {
                                                                                    count = priority;
                                                                                }
                                                                                mBuilder.setPriority(-1);
                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                    user_id2 = 2;
                                                                                    i = user_id2;
                                                                                }
                                                                                if (priorityOverride2 != 1) {
                                                                                }
                                                                                lastMessage = choosenSoundPath9;
                                                                                silent = priorityOverride2;
                                                                                needVibrate2 = needVibrate;
                                                                                choosenSoundPath = str;
                                                                                priorityOverride2 = ledColor;
                                                                                defaultPath = defaultPath4;
                                                                                jArr = new long[]{0, 0};
                                                                                vibrationPattern = jArr;
                                                                                mBuilder.setVibrate(jArr);
                                                                                vibrationPattern2 = vibrationPattern;
                                                                                sound2 = sound;
                                                                                str2 = lastMessage;
                                                                                if (AndroidUtilities.needShowPasscode(false)) {
                                                                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                                    size = rows.size();
                                                                                    notifyOverride2 = false;
                                                                                    z3 = false;
                                                                                    while (true) {
                                                                                        choosenSoundPath2 = choosenSoundPath;
                                                                                        choosenSoundPath = size;
                                                                                        if (z3 < choosenSoundPath) {
                                                                                            break;
                                                                                        }
                                                                                        rows2 = rows;
                                                                                        size2 = choosenSoundPath;
                                                                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                        choosenSoundPath = row.buttons.size();
                                                                                        defaultPath2 = defaultPath;
                                                                                        defaultPath = 0;
                                                                                        while (defaultPath < choosenSoundPath) {
                                                                                            size22 = choosenSoundPath;
                                                                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                            row2 = row;
                                                                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                                lastMessageObject = lastMessageObject4;
                                                                                                priority2 = count;
                                                                                                dismissIntent = dismissIntent2;
                                                                                                fileLocation = fileLocation3;
                                                                                                dialog_id2 = dialog_id;
                                                                                            } else {
                                                                                                priority2 = count;
                                                                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                dismissIntent = dismissIntent2;
                                                                                                dialog_id2 = dialog_id;
                                                                                                callbackIntent.putExtra("did", dialog_id2);
                                                                                                if (choosenSoundPath3.data == null) {
                                                                                                    fileLocation = fileLocation3;
                                                                                                } else {
                                                                                                    fileLocation = fileLocation3;
                                                                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                                }
                                                                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                                charSequence = choosenSoundPath3.text;
                                                                                                context = ApplicationLoader.applicationContext;
                                                                                                button = choosenSoundPath3;
                                                                                                choosenSoundPath = r12.lastButtonId;
                                                                                                lastMessageObject = lastMessageObject4;
                                                                                                r12.lastButtonId = choosenSoundPath + 1;
                                                                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                                notifyOverride2 = true;
                                                                                            }
                                                                                            defaultPath++;
                                                                                            dialog_id = dialog_id2;
                                                                                            choosenSoundPath = size22;
                                                                                            row = row2;
                                                                                            count = priority2;
                                                                                            dismissIntent2 = dismissIntent;
                                                                                            fileLocation3 = fileLocation;
                                                                                            lastMessageObject4 = lastMessageObject;
                                                                                            dialog_id2 = notifyAboutLast;
                                                                                        }
                                                                                        priority2 = count;
                                                                                        fileLocation = fileLocation3;
                                                                                        dialog_id2 = dialog_id;
                                                                                        z3++;
                                                                                        choosenSoundPath = choosenSoundPath2;
                                                                                        rows = rows2;
                                                                                        size = size2;
                                                                                        defaultPath = defaultPath2;
                                                                                        dismissIntent2 = dismissIntent2;
                                                                                        dialog_id2 = notifyAboutLast;
                                                                                    }
                                                                                    defaultPath2 = defaultPath;
                                                                                    lastMessageObject = lastMessageObject4;
                                                                                    priority2 = count;
                                                                                    dismissIntent = dismissIntent2;
                                                                                    fileLocation = fileLocation3;
                                                                                    dialog_id2 = dialog_id;
                                                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                    if (VERSION.SDK_INT > 19) {
                                                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                    } else {
                                                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                    }
                                                                                    if (VERSION.SDK_INT < 26) {
                                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                                        notifyOverride = name;
                                                                                        override_dialog_id = lastMessageObject;
                                                                                        priorityOverride = chat2;
                                                                                        silent3 = silent;
                                                                                        notifyDelay = notifyAboutLast;
                                                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                    } else {
                                                                                        j = dialog_id2;
                                                                                        i2 = notifyDelay;
                                                                                        size = notifyOverride;
                                                                                        j2 = override_dialog_id;
                                                                                        i3 = priorityOverride;
                                                                                        i4 = vibrateOverride;
                                                                                        sharedPreferences = preferences;
                                                                                        i5 = user_id;
                                                                                        i6 = chat_id;
                                                                                        user2 = user;
                                                                                        pendingIntent = contentIntent;
                                                                                        silent3 = silent;
                                                                                        dismissDate2 = needVibrate2;
                                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                                        str3 = defaultPath2;
                                                                                        i7 = priority2;
                                                                                        intent = dismissIntent;
                                                                                        fileLocation2 = fileLocation;
                                                                                        notifyDelay = notifyAboutLast;
                                                                                    }
                                                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                    r12.lastNotificationIsNoData = false;
                                                                                    scheduleNotificationRepeat();
                                                                                    return;
                                                                                }
                                                                                choosenSoundPath2 = choosenSoundPath;
                                                                                defaultPath2 = defaultPath;
                                                                                lastMessageObject = lastMessageObject4;
                                                                                priority2 = count;
                                                                                dismissIntent = dismissIntent2;
                                                                                fileLocation = fileLocation3;
                                                                                dialog_id2 = dialog_id;
                                                                                notifyOverride2 = false;
                                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                if (VERSION.SDK_INT > 19) {
                                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                } else {
                                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                }
                                                                                if (VERSION.SDK_INT < 26) {
                                                                                    j = dialog_id2;
                                                                                    i2 = notifyDelay;
                                                                                    size = notifyOverride;
                                                                                    j2 = override_dialog_id;
                                                                                    i3 = priorityOverride;
                                                                                    i4 = vibrateOverride;
                                                                                    sharedPreferences = preferences;
                                                                                    i5 = user_id;
                                                                                    i6 = chat_id;
                                                                                    user2 = user;
                                                                                    pendingIntent = contentIntent;
                                                                                    silent3 = silent;
                                                                                    dismissDate2 = needVibrate2;
                                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                                    str3 = defaultPath2;
                                                                                    i7 = priority2;
                                                                                    intent = dismissIntent;
                                                                                    fileLocation2 = fileLocation;
                                                                                    notifyDelay = notifyAboutLast;
                                                                                } else {
                                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                                    notifyOverride = name;
                                                                                    override_dialog_id = lastMessageObject;
                                                                                    priorityOverride = chat2;
                                                                                    silent3 = silent;
                                                                                    notifyDelay = notifyAboutLast;
                                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                }
                                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                r12.lastNotificationIsNoData = false;
                                                                                scheduleNotificationRepeat();
                                                                                return;
                                                                            }
                                                                        }
                                                                        if (r12.pushDialogs.size() != 1) {
                                                                            stringBuilder4 = new StringBuilder();
                                                                            stringBuilder4.append(choosenSoundPath9);
                                                                            objArr = new Object[2];
                                                                            chatName = choosenSoundPath5;
                                                                            objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                                                            objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                                                            stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                                                            detailText = stringBuilder4.toString();
                                                                        } else {
                                                                            stringBuilder4 = new StringBuilder();
                                                                            stringBuilder4.append(choosenSoundPath9);
                                                                            stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                                                            detailText = stringBuilder4.toString();
                                                                            chatName = choosenSoundPath5;
                                                                        }
                                                                        mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                                        vibrationPattern3 = null;
                                                                        mBuilder.setCategory("msg");
                                                                        stringBuilder = new StringBuilder();
                                                                        i = 0;
                                                                        stringBuilder.append("tel:+");
                                                                        stringBuilder.append(user3.phone);
                                                                        mBuilder.addPerson(stringBuilder.toString());
                                                                        silent2 = 2;
                                                                        user = user3;
                                                                        if (r12.pushMessages.size() == 1) {
                                                                            messageObject = (MessageObject) r12.pushMessages.get(0);
                                                                            lastMessage2 = null;
                                                                            text = new boolean[1];
                                                                            stringForMessage = getStringForMessage(messageObject, null, text);
                                                                            message = stringForMessage;
                                                                            lastMessage3 = stringForMessage;
                                                                            choosenSoundPath5 = messageObject.messageOwner.silent;
                                                                            choosenSoundPath9 = message;
                                                                            if (choosenSoundPath9 != null) {
                                                                                if (replace) {
                                                                                    if (chat2 != null) {
                                                                                        silent3 = choosenSoundPath5;
                                                                                        choosenSoundPath5 = new StringBuilder();
                                                                                        sound = null;
                                                                                        choosenSoundPath5.append(" @ ");
                                                                                        choosenSoundPath5.append(str5);
                                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    } else {
                                                                                        silent3 = choosenSoundPath5;
                                                                                        sound = null;
                                                                                        if (text[null]) {
                                                                                            choosenSoundPath5 = new StringBuilder();
                                                                                            choosenSoundPath5.append(str5);
                                                                                            choosenSoundPath5.append(": ");
                                                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                        } else {
                                                                                            choosenSoundPath5 = new StringBuilder();
                                                                                            choosenSoundPath5.append(str5);
                                                                                            choosenSoundPath5.append(" ");
                                                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                        }
                                                                                    }
                                                                                    choosenSoundPath9 = message;
                                                                                } else {
                                                                                    silent3 = choosenSoundPath5;
                                                                                    sound = null;
                                                                                }
                                                                                mBuilder.setContentText(choosenSoundPath9);
                                                                                mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                                                contentIntent = contentIntent2;
                                                                                dialog_id = dialog_id2;
                                                                                defaultPath4 = defaultPath3;
                                                                                notifyDelay = dismissDate2;
                                                                                choosenSoundPath9 = lastMessage3;
                                                                                priorityOverride2 = silent3;
                                                                            } else {
                                                                                return;
                                                                            }
                                                                        }
                                                                        lastMessage2 = null;
                                                                        sound = null;
                                                                        mBuilder.setContentText(detailText);
                                                                        inboxStyle = new InboxStyle();
                                                                        inboxStyle.setBigContentTitle(str5);
                                                                        count2 = Math.min(10, r12.pushMessages.size());
                                                                        text2 = new boolean[1];
                                                                        contentIntent = contentIntent2;
                                                                        count = silent2;
                                                                        chat_id2 = 0;
                                                                        while (chat_id2 < count2) {
                                                                            count3 = count2;
                                                                            count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                                            dialog_id = dialog_id2;
                                                                            message2 = getStringForMessage(count4, 0, text2);
                                                                            if (message2 != null) {
                                                                                defaultPath4 = defaultPath3;
                                                                                notifyDelay = dismissDate2;
                                                                                if (count4.messageOwner.date > notifyDelay) {
                                                                                    if (count == 2) {
                                                                                        lastMessage2 = message2;
                                                                                        count = count4.messageOwner.silent;
                                                                                    }
                                                                                    messageObject2 = count4;
                                                                                    if (chat2 != null) {
                                                                                        count2 = new StringBuilder();
                                                                                        count2.append(" @ ");
                                                                                        count2.append(str5);
                                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    } else if (text2[0]) {
                                                                                        count2 = new StringBuilder();
                                                                                        count2.append(str5);
                                                                                        count2.append(": ");
                                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    } else {
                                                                                        count2 = new StringBuilder();
                                                                                        count2.append(str5);
                                                                                        count2.append(" ");
                                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    }
                                                                                    inboxStyle.addLine(message2);
                                                                                }
                                                                            } else {
                                                                                defaultPath4 = defaultPath3;
                                                                                notifyDelay = dismissDate2;
                                                                            }
                                                                            chat_id2++;
                                                                            dismissDate2 = notifyDelay;
                                                                            count2 = count3;
                                                                            dialog_id2 = dialog_id;
                                                                            defaultPath3 = defaultPath4;
                                                                        }
                                                                        dialog_id = dialog_id2;
                                                                        defaultPath4 = defaultPath3;
                                                                        notifyDelay = dismissDate2;
                                                                        inboxStyle.setSummaryText(detailText);
                                                                        mBuilder.setStyle(inboxStyle);
                                                                        priorityOverride2 = count;
                                                                        choosenSoundPath9 = lastMessage2;
                                                                        dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                                        dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                                        dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                                        mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                                        if (fileLocation3 != null) {
                                                                            img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                                            if (img != null) {
                                                                                mBuilder.setLargeIcon(img.getBitmap());
                                                                                name = str5;
                                                                            } else {
                                                                                file = FileLoader.getPathToAttach(fileLocation3, true);
                                                                                if (file.exists()) {
                                                                                    scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                                    options = new Options();
                                                                                    if (scaleFactor < 1.0f) {
                                                                                        name = str5;
                                                                                        str5 = true;
                                                                                    } else {
                                                                                        name = str5;
                                                                                        str5 = (int) scaleFactor;
                                                                                    }
                                                                                    options.inSampleSize = str5;
                                                                                    str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                                    if (str5 != null) {
                                                                                        mBuilder.setLargeIcon(str5);
                                                                                    }
                                                                                } else {
                                                                                    name = str5;
                                                                                }
                                                                            }
                                                                        } else {
                                                                            name = str5;
                                                                        }
                                                                        z = notifyAboutLast;
                                                                        if (z) {
                                                                            count = priority;
                                                                        } else if (priorityOverride2 == 1) {
                                                                            count = priority;
                                                                        } else {
                                                                            if (priority == 0) {
                                                                                mBuilder.setPriority(0);
                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                    i = 3;
                                                                                }
                                                                                count = priority;
                                                                            } else {
                                                                                count = priority;
                                                                                if (count != 1) {
                                                                                    if (count == 2) {
                                                                                        if (count != 4) {
                                                                                            mBuilder.setPriority(-2);
                                                                                            if (VERSION.SDK_INT >= 26) {
                                                                                                user_id2 = 1;
                                                                                                i = user_id2;
                                                                                            }
                                                                                        } else if (count == 5) {
                                                                                            mBuilder.setPriority(-1);
                                                                                            if (VERSION.SDK_INT >= 26) {
                                                                                                user_id2 = 2;
                                                                                                i = user_id2;
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                                mBuilder.setPriority(1);
                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                    user_id2 = 4;
                                                                                    i = user_id2;
                                                                                }
                                                                            }
                                                                            if (priorityOverride2 != 1) {
                                                                            }
                                                                            lastMessage = choosenSoundPath9;
                                                                            silent = priorityOverride2;
                                                                            needVibrate2 = needVibrate;
                                                                            choosenSoundPath = str;
                                                                            priorityOverride2 = ledColor;
                                                                            defaultPath = defaultPath4;
                                                                            jArr = new long[]{0, 0};
                                                                            vibrationPattern = jArr;
                                                                            mBuilder.setVibrate(jArr);
                                                                            vibrationPattern2 = vibrationPattern;
                                                                            sound2 = sound;
                                                                            str2 = lastMessage;
                                                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                                size = rows.size();
                                                                                notifyOverride2 = false;
                                                                                z3 = false;
                                                                                while (true) {
                                                                                    choosenSoundPath2 = choosenSoundPath;
                                                                                    choosenSoundPath = size;
                                                                                    if (z3 < choosenSoundPath) {
                                                                                        break;
                                                                                    }
                                                                                    rows2 = rows;
                                                                                    size2 = choosenSoundPath;
                                                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                    choosenSoundPath = row.buttons.size();
                                                                                    defaultPath2 = defaultPath;
                                                                                    defaultPath = 0;
                                                                                    while (defaultPath < choosenSoundPath) {
                                                                                        size22 = choosenSoundPath;
                                                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                        row2 = row;
                                                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                            priority2 = count;
                                                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                            dismissIntent = dismissIntent2;
                                                                                            dialog_id2 = dialog_id;
                                                                                            callbackIntent.putExtra("did", dialog_id2);
                                                                                            if (choosenSoundPath3.data == null) {
                                                                                                fileLocation = fileLocation3;
                                                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                            } else {
                                                                                                fileLocation = fileLocation3;
                                                                                            }
                                                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                            charSequence = choosenSoundPath3.text;
                                                                                            context = ApplicationLoader.applicationContext;
                                                                                            button = choosenSoundPath3;
                                                                                            choosenSoundPath = r12.lastButtonId;
                                                                                            lastMessageObject = lastMessageObject4;
                                                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                            notifyOverride2 = true;
                                                                                        } else {
                                                                                            lastMessageObject = lastMessageObject4;
                                                                                            priority2 = count;
                                                                                            dismissIntent = dismissIntent2;
                                                                                            fileLocation = fileLocation3;
                                                                                            dialog_id2 = dialog_id;
                                                                                        }
                                                                                        defaultPath++;
                                                                                        dialog_id = dialog_id2;
                                                                                        choosenSoundPath = size22;
                                                                                        row = row2;
                                                                                        count = priority2;
                                                                                        dismissIntent2 = dismissIntent;
                                                                                        fileLocation3 = fileLocation;
                                                                                        lastMessageObject4 = lastMessageObject;
                                                                                        dialog_id2 = notifyAboutLast;
                                                                                    }
                                                                                    priority2 = count;
                                                                                    fileLocation = fileLocation3;
                                                                                    dialog_id2 = dialog_id;
                                                                                    z3++;
                                                                                    choosenSoundPath = choosenSoundPath2;
                                                                                    rows = rows2;
                                                                                    size = size2;
                                                                                    defaultPath = defaultPath2;
                                                                                    dismissIntent2 = dismissIntent2;
                                                                                    dialog_id2 = notifyAboutLast;
                                                                                }
                                                                                defaultPath2 = defaultPath;
                                                                                lastMessageObject = lastMessageObject4;
                                                                                priority2 = count;
                                                                                dismissIntent = dismissIntent2;
                                                                                fileLocation = fileLocation3;
                                                                                dialog_id2 = dialog_id;
                                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                if (VERSION.SDK_INT > 19) {
                                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                } else {
                                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                }
                                                                                if (VERSION.SDK_INT < 26) {
                                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                                    notifyOverride = name;
                                                                                    override_dialog_id = lastMessageObject;
                                                                                    priorityOverride = chat2;
                                                                                    silent3 = silent;
                                                                                    notifyDelay = notifyAboutLast;
                                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                } else {
                                                                                    j = dialog_id2;
                                                                                    i2 = notifyDelay;
                                                                                    size = notifyOverride;
                                                                                    j2 = override_dialog_id;
                                                                                    i3 = priorityOverride;
                                                                                    i4 = vibrateOverride;
                                                                                    sharedPreferences = preferences;
                                                                                    i5 = user_id;
                                                                                    i6 = chat_id;
                                                                                    user2 = user;
                                                                                    pendingIntent = contentIntent;
                                                                                    silent3 = silent;
                                                                                    dismissDate2 = needVibrate2;
                                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                                    str3 = defaultPath2;
                                                                                    i7 = priority2;
                                                                                    intent = dismissIntent;
                                                                                    fileLocation2 = fileLocation;
                                                                                    notifyDelay = notifyAboutLast;
                                                                                }
                                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                r12.lastNotificationIsNoData = false;
                                                                                scheduleNotificationRepeat();
                                                                                return;
                                                                            }
                                                                            choosenSoundPath2 = choosenSoundPath;
                                                                            defaultPath2 = defaultPath;
                                                                            lastMessageObject = lastMessageObject4;
                                                                            priority2 = count;
                                                                            dismissIntent = dismissIntent2;
                                                                            fileLocation = fileLocation3;
                                                                            dialog_id2 = dialog_id;
                                                                            notifyOverride2 = false;
                                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                            if (VERSION.SDK_INT > 19) {
                                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                            } else {
                                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                            }
                                                                            if (VERSION.SDK_INT < 26) {
                                                                                j = dialog_id2;
                                                                                i2 = notifyDelay;
                                                                                size = notifyOverride;
                                                                                j2 = override_dialog_id;
                                                                                i3 = priorityOverride;
                                                                                i4 = vibrateOverride;
                                                                                sharedPreferences = preferences;
                                                                                i5 = user_id;
                                                                                i6 = chat_id;
                                                                                user2 = user;
                                                                                pendingIntent = contentIntent;
                                                                                silent3 = silent;
                                                                                dismissDate2 = needVibrate2;
                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                str3 = defaultPath2;
                                                                                i7 = priority2;
                                                                                intent = dismissIntent;
                                                                                fileLocation2 = fileLocation;
                                                                                notifyDelay = notifyAboutLast;
                                                                            } else {
                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                notifyOverride = name;
                                                                                override_dialog_id = lastMessageObject;
                                                                                priorityOverride = chat2;
                                                                                silent3 = silent;
                                                                                notifyDelay = notifyAboutLast;
                                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                            }
                                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                            r12.lastNotificationIsNoData = false;
                                                                            scheduleNotificationRepeat();
                                                                            return;
                                                                        }
                                                                        mBuilder.setPriority(-1);
                                                                        if (VERSION.SDK_INT >= 26) {
                                                                            user_id2 = 2;
                                                                            i = user_id2;
                                                                        }
                                                                        if (priorityOverride2 != 1) {
                                                                        }
                                                                        lastMessage = choosenSoundPath9;
                                                                        silent = priorityOverride2;
                                                                        needVibrate2 = needVibrate;
                                                                        choosenSoundPath = str;
                                                                        priorityOverride2 = ledColor;
                                                                        defaultPath = defaultPath4;
                                                                        jArr = new long[]{0, 0};
                                                                        vibrationPattern = jArr;
                                                                        mBuilder.setVibrate(jArr);
                                                                        vibrationPattern2 = vibrationPattern;
                                                                        sound2 = sound;
                                                                        str2 = lastMessage;
                                                                        if (AndroidUtilities.needShowPasscode(false)) {
                                                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                            size = rows.size();
                                                                            notifyOverride2 = false;
                                                                            z3 = false;
                                                                            while (true) {
                                                                                choosenSoundPath2 = choosenSoundPath;
                                                                                choosenSoundPath = size;
                                                                                if (z3 < choosenSoundPath) {
                                                                                    break;
                                                                                }
                                                                                rows2 = rows;
                                                                                size2 = choosenSoundPath;
                                                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                choosenSoundPath = row.buttons.size();
                                                                                defaultPath2 = defaultPath;
                                                                                defaultPath = 0;
                                                                                while (defaultPath < choosenSoundPath) {
                                                                                    size22 = choosenSoundPath;
                                                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                    row2 = row;
                                                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                        lastMessageObject = lastMessageObject4;
                                                                                        priority2 = count;
                                                                                        dismissIntent = dismissIntent2;
                                                                                        fileLocation = fileLocation3;
                                                                                        dialog_id2 = dialog_id;
                                                                                    } else {
                                                                                        priority2 = count;
                                                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                        dismissIntent = dismissIntent2;
                                                                                        dialog_id2 = dialog_id;
                                                                                        callbackIntent.putExtra("did", dialog_id2);
                                                                                        if (choosenSoundPath3.data == null) {
                                                                                            fileLocation = fileLocation3;
                                                                                        } else {
                                                                                            fileLocation = fileLocation3;
                                                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                        }
                                                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                        charSequence = choosenSoundPath3.text;
                                                                                        context = ApplicationLoader.applicationContext;
                                                                                        button = choosenSoundPath3;
                                                                                        choosenSoundPath = r12.lastButtonId;
                                                                                        lastMessageObject = lastMessageObject4;
                                                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                        notifyOverride2 = true;
                                                                                    }
                                                                                    defaultPath++;
                                                                                    dialog_id = dialog_id2;
                                                                                    choosenSoundPath = size22;
                                                                                    row = row2;
                                                                                    count = priority2;
                                                                                    dismissIntent2 = dismissIntent;
                                                                                    fileLocation3 = fileLocation;
                                                                                    lastMessageObject4 = lastMessageObject;
                                                                                    dialog_id2 = notifyAboutLast;
                                                                                }
                                                                                priority2 = count;
                                                                                fileLocation = fileLocation3;
                                                                                dialog_id2 = dialog_id;
                                                                                z3++;
                                                                                choosenSoundPath = choosenSoundPath2;
                                                                                rows = rows2;
                                                                                size = size2;
                                                                                defaultPath = defaultPath2;
                                                                                dismissIntent2 = dismissIntent2;
                                                                                dialog_id2 = notifyAboutLast;
                                                                            }
                                                                            defaultPath2 = defaultPath;
                                                                            lastMessageObject = lastMessageObject4;
                                                                            priority2 = count;
                                                                            dismissIntent = dismissIntent2;
                                                                            fileLocation = fileLocation3;
                                                                            dialog_id2 = dialog_id;
                                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                            if (VERSION.SDK_INT > 19) {
                                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                            } else {
                                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                            }
                                                                            if (VERSION.SDK_INT < 26) {
                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                notifyOverride = name;
                                                                                override_dialog_id = lastMessageObject;
                                                                                priorityOverride = chat2;
                                                                                silent3 = silent;
                                                                                notifyDelay = notifyAboutLast;
                                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                            } else {
                                                                                j = dialog_id2;
                                                                                i2 = notifyDelay;
                                                                                size = notifyOverride;
                                                                                j2 = override_dialog_id;
                                                                                i3 = priorityOverride;
                                                                                i4 = vibrateOverride;
                                                                                sharedPreferences = preferences;
                                                                                i5 = user_id;
                                                                                i6 = chat_id;
                                                                                user2 = user;
                                                                                pendingIntent = contentIntent;
                                                                                silent3 = silent;
                                                                                dismissDate2 = needVibrate2;
                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                str3 = defaultPath2;
                                                                                i7 = priority2;
                                                                                intent = dismissIntent;
                                                                                fileLocation2 = fileLocation;
                                                                                notifyDelay = notifyAboutLast;
                                                                            }
                                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                            r12.lastNotificationIsNoData = false;
                                                                            scheduleNotificationRepeat();
                                                                            return;
                                                                        }
                                                                        choosenSoundPath2 = choosenSoundPath;
                                                                        defaultPath2 = defaultPath;
                                                                        lastMessageObject = lastMessageObject4;
                                                                        priority2 = count;
                                                                        dismissIntent = dismissIntent2;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                        notifyOverride2 = false;
                                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                        if (VERSION.SDK_INT > 19) {
                                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                        } else {
                                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                        }
                                                                        if (VERSION.SDK_INT < 26) {
                                                                            j = dialog_id2;
                                                                            i2 = notifyDelay;
                                                                            size = notifyOverride;
                                                                            j2 = override_dialog_id;
                                                                            i3 = priorityOverride;
                                                                            i4 = vibrateOverride;
                                                                            sharedPreferences = preferences;
                                                                            i5 = user_id;
                                                                            i6 = chat_id;
                                                                            user2 = user;
                                                                            pendingIntent = contentIntent;
                                                                            silent3 = silent;
                                                                            dismissDate2 = needVibrate2;
                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                            str3 = defaultPath2;
                                                                            i7 = priority2;
                                                                            intent = dismissIntent;
                                                                            fileLocation2 = fileLocation;
                                                                            notifyDelay = notifyAboutLast;
                                                                        } else {
                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                            notifyOverride = name;
                                                                            override_dialog_id = lastMessageObject;
                                                                            priorityOverride = chat2;
                                                                            silent3 = silent;
                                                                            notifyDelay = notifyAboutLast;
                                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                        }
                                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                        r12.lastNotificationIsNoData = false;
                                                                        scheduleNotificationRepeat();
                                                                        return;
                                                                    }
                                                                }
                                                                lastMessageObject4 = lastMessageObject3;
                                                                if (chat2 != null) {
                                                                    str5 = chat2.title;
                                                                } else {
                                                                    str5 = UserObject.getUserName(user3);
                                                                }
                                                                choosenSoundPath5 = str5;
                                                                if (((int) dialog_id2) == 0) {
                                                                    replace = true;
                                                                } else {
                                                                    replace = true;
                                                                    if (SharedConfig.isWaitingForPasscodeEnter) {
                                                                        choosenSoundPath9 = choosenSoundPath5;
                                                                        str5 = choosenSoundPath9;
                                                                        chat_id = chat_id2;
                                                                        if (UserConfig.getActivatedAccountsCount() <= 1) {
                                                                            choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                                                        } else if (r12.pushDialogs.size() != 1) {
                                                                            choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                                                        } else {
                                                                            stringBuilder = new StringBuilder();
                                                                            stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                                                            stringBuilder.append("\u30fb");
                                                                            choosenSoundPath9 = stringBuilder.toString();
                                                                        }
                                                                        if (r12.pushDialogs.size() == 1) {
                                                                            if (VERSION.SDK_INT >= 23) {
                                                                                detailText = choosenSoundPath9;
                                                                                chatName = choosenSoundPath5;
                                                                                z4 = inAppVibrate;
                                                                                mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                                                vibrationPattern3 = null;
                                                                                mBuilder.setCategory("msg");
                                                                                stringBuilder = new StringBuilder();
                                                                                i = 0;
                                                                                stringBuilder.append("tel:+");
                                                                                stringBuilder.append(user3.phone);
                                                                                mBuilder.addPerson(stringBuilder.toString());
                                                                                silent2 = 2;
                                                                                user = user3;
                                                                                if (r12.pushMessages.size() == 1) {
                                                                                    lastMessage2 = null;
                                                                                    sound = null;
                                                                                    mBuilder.setContentText(detailText);
                                                                                    inboxStyle = new InboxStyle();
                                                                                    inboxStyle.setBigContentTitle(str5);
                                                                                    count2 = Math.min(10, r12.pushMessages.size());
                                                                                    text2 = new boolean[1];
                                                                                    contentIntent = contentIntent2;
                                                                                    count = silent2;
                                                                                    chat_id2 = 0;
                                                                                    while (chat_id2 < count2) {
                                                                                        count3 = count2;
                                                                                        count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                                                        dialog_id = dialog_id2;
                                                                                        message2 = getStringForMessage(count4, 0, text2);
                                                                                        if (message2 != null) {
                                                                                            defaultPath4 = defaultPath3;
                                                                                            notifyDelay = dismissDate2;
                                                                                        } else {
                                                                                            defaultPath4 = defaultPath3;
                                                                                            notifyDelay = dismissDate2;
                                                                                            if (count4.messageOwner.date > notifyDelay) {
                                                                                                if (count == 2) {
                                                                                                    lastMessage2 = message2;
                                                                                                    count = count4.messageOwner.silent;
                                                                                                }
                                                                                                messageObject2 = count4;
                                                                                                if (chat2 != null) {
                                                                                                    count2 = new StringBuilder();
                                                                                                    count2.append(" @ ");
                                                                                                    count2.append(str5);
                                                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                } else if (text2[0]) {
                                                                                                    count2 = new StringBuilder();
                                                                                                    count2.append(str5);
                                                                                                    count2.append(" ");
                                                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                } else {
                                                                                                    count2 = new StringBuilder();
                                                                                                    count2.append(str5);
                                                                                                    count2.append(": ");
                                                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                }
                                                                                                inboxStyle.addLine(message2);
                                                                                            }
                                                                                        }
                                                                                        chat_id2++;
                                                                                        dismissDate2 = notifyDelay;
                                                                                        count2 = count3;
                                                                                        dialog_id2 = dialog_id;
                                                                                        defaultPath3 = defaultPath4;
                                                                                    }
                                                                                    dialog_id = dialog_id2;
                                                                                    defaultPath4 = defaultPath3;
                                                                                    notifyDelay = dismissDate2;
                                                                                    inboxStyle.setSummaryText(detailText);
                                                                                    mBuilder.setStyle(inboxStyle);
                                                                                    priorityOverride2 = count;
                                                                                    choosenSoundPath9 = lastMessage2;
                                                                                } else {
                                                                                    messageObject = (MessageObject) r12.pushMessages.get(0);
                                                                                    lastMessage2 = null;
                                                                                    text = new boolean[1];
                                                                                    stringForMessage = getStringForMessage(messageObject, null, text);
                                                                                    message = stringForMessage;
                                                                                    lastMessage3 = stringForMessage;
                                                                                    choosenSoundPath5 = messageObject.messageOwner.silent;
                                                                                    choosenSoundPath9 = message;
                                                                                    if (choosenSoundPath9 != null) {
                                                                                        if (replace) {
                                                                                            silent3 = choosenSoundPath5;
                                                                                            sound = null;
                                                                                        } else {
                                                                                            if (chat2 != null) {
                                                                                                silent3 = choosenSoundPath5;
                                                                                                sound = null;
                                                                                                if (text[null]) {
                                                                                                    choosenSoundPath5 = new StringBuilder();
                                                                                                    choosenSoundPath5.append(str5);
                                                                                                    choosenSoundPath5.append(" ");
                                                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                } else {
                                                                                                    choosenSoundPath5 = new StringBuilder();
                                                                                                    choosenSoundPath5.append(str5);
                                                                                                    choosenSoundPath5.append(": ");
                                                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                                }
                                                                                            } else {
                                                                                                silent3 = choosenSoundPath5;
                                                                                                choosenSoundPath5 = new StringBuilder();
                                                                                                sound = null;
                                                                                                choosenSoundPath5.append(" @ ");
                                                                                                choosenSoundPath5.append(str5);
                                                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                            }
                                                                                            choosenSoundPath9 = message;
                                                                                        }
                                                                                        mBuilder.setContentText(choosenSoundPath9);
                                                                                        mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                                                        contentIntent = contentIntent2;
                                                                                        dialog_id = dialog_id2;
                                                                                        defaultPath4 = defaultPath3;
                                                                                        notifyDelay = dismissDate2;
                                                                                        choosenSoundPath9 = lastMessage3;
                                                                                        priorityOverride2 = silent3;
                                                                                    } else {
                                                                                        return;
                                                                                    }
                                                                                }
                                                                                dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                                                dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                                                dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                                                mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                                                if (fileLocation3 != null) {
                                                                                    name = str5;
                                                                                } else {
                                                                                    img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                                                    if (img != null) {
                                                                                        file = FileLoader.getPathToAttach(fileLocation3, true);
                                                                                        if (file.exists()) {
                                                                                            name = str5;
                                                                                        } else {
                                                                                            scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                                            options = new Options();
                                                                                            if (scaleFactor < 1.0f) {
                                                                                                name = str5;
                                                                                                str5 = (int) scaleFactor;
                                                                                            } else {
                                                                                                name = str5;
                                                                                                str5 = true;
                                                                                            }
                                                                                            options.inSampleSize = str5;
                                                                                            str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                                            if (str5 != null) {
                                                                                                mBuilder.setLargeIcon(str5);
                                                                                            }
                                                                                        }
                                                                                    } else {
                                                                                        mBuilder.setLargeIcon(img.getBitmap());
                                                                                        name = str5;
                                                                                    }
                                                                                }
                                                                                z = notifyAboutLast;
                                                                                if (z) {
                                                                                    count = priority;
                                                                                } else if (priorityOverride2 == 1) {
                                                                                    if (priority == 0) {
                                                                                        count = priority;
                                                                                        if (count != 1) {
                                                                                            if (count == 2) {
                                                                                                if (count != 4) {
                                                                                                    mBuilder.setPriority(-2);
                                                                                                    if (VERSION.SDK_INT >= 26) {
                                                                                                        user_id2 = 1;
                                                                                                        i = user_id2;
                                                                                                    }
                                                                                                } else if (count == 5) {
                                                                                                    mBuilder.setPriority(-1);
                                                                                                    if (VERSION.SDK_INT >= 26) {
                                                                                                        user_id2 = 2;
                                                                                                        i = user_id2;
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                        mBuilder.setPriority(1);
                                                                                        if (VERSION.SDK_INT >= 26) {
                                                                                            user_id2 = 4;
                                                                                            i = user_id2;
                                                                                        }
                                                                                    } else {
                                                                                        mBuilder.setPriority(0);
                                                                                        if (VERSION.SDK_INT >= 26) {
                                                                                            i = 3;
                                                                                        }
                                                                                        count = priority;
                                                                                    }
                                                                                    if (priorityOverride2 != 1) {
                                                                                    }
                                                                                    lastMessage = choosenSoundPath9;
                                                                                    silent = priorityOverride2;
                                                                                    needVibrate2 = needVibrate;
                                                                                    choosenSoundPath = str;
                                                                                    priorityOverride2 = ledColor;
                                                                                    defaultPath = defaultPath4;
                                                                                    jArr = new long[]{0, 0};
                                                                                    vibrationPattern = jArr;
                                                                                    mBuilder.setVibrate(jArr);
                                                                                    vibrationPattern2 = vibrationPattern;
                                                                                    sound2 = sound;
                                                                                    str2 = lastMessage;
                                                                                    if (AndroidUtilities.needShowPasscode(false)) {
                                                                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                                        size = rows.size();
                                                                                        notifyOverride2 = false;
                                                                                        z3 = false;
                                                                                        while (true) {
                                                                                            choosenSoundPath2 = choosenSoundPath;
                                                                                            choosenSoundPath = size;
                                                                                            if (z3 < choosenSoundPath) {
                                                                                                break;
                                                                                            }
                                                                                            rows2 = rows;
                                                                                            size2 = choosenSoundPath;
                                                                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                            choosenSoundPath = row.buttons.size();
                                                                                            defaultPath2 = defaultPath;
                                                                                            defaultPath = 0;
                                                                                            while (defaultPath < choosenSoundPath) {
                                                                                                size22 = choosenSoundPath;
                                                                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                                row2 = row;
                                                                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                                    priority2 = count;
                                                                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                    dismissIntent = dismissIntent2;
                                                                                                    dialog_id2 = dialog_id;
                                                                                                    callbackIntent.putExtra("did", dialog_id2);
                                                                                                    if (choosenSoundPath3.data == null) {
                                                                                                        fileLocation = fileLocation3;
                                                                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                                    } else {
                                                                                                        fileLocation = fileLocation3;
                                                                                                    }
                                                                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                                    charSequence = choosenSoundPath3.text;
                                                                                                    context = ApplicationLoader.applicationContext;
                                                                                                    button = choosenSoundPath3;
                                                                                                    choosenSoundPath = r12.lastButtonId;
                                                                                                    lastMessageObject = lastMessageObject4;
                                                                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                                    notifyOverride2 = true;
                                                                                                } else {
                                                                                                    lastMessageObject = lastMessageObject4;
                                                                                                    priority2 = count;
                                                                                                    dismissIntent = dismissIntent2;
                                                                                                    fileLocation = fileLocation3;
                                                                                                    dialog_id2 = dialog_id;
                                                                                                }
                                                                                                defaultPath++;
                                                                                                dialog_id = dialog_id2;
                                                                                                choosenSoundPath = size22;
                                                                                                row = row2;
                                                                                                count = priority2;
                                                                                                dismissIntent2 = dismissIntent;
                                                                                                fileLocation3 = fileLocation;
                                                                                                lastMessageObject4 = lastMessageObject;
                                                                                                dialog_id2 = notifyAboutLast;
                                                                                            }
                                                                                            priority2 = count;
                                                                                            fileLocation = fileLocation3;
                                                                                            dialog_id2 = dialog_id;
                                                                                            z3++;
                                                                                            choosenSoundPath = choosenSoundPath2;
                                                                                            rows = rows2;
                                                                                            size = size2;
                                                                                            defaultPath = defaultPath2;
                                                                                            dismissIntent2 = dismissIntent2;
                                                                                            dialog_id2 = notifyAboutLast;
                                                                                        }
                                                                                        defaultPath2 = defaultPath;
                                                                                        lastMessageObject = lastMessageObject4;
                                                                                        priority2 = count;
                                                                                        dismissIntent = dismissIntent2;
                                                                                        fileLocation = fileLocation3;
                                                                                        dialog_id2 = dialog_id;
                                                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                        if (VERSION.SDK_INT > 19) {
                                                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                        } else {
                                                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                        }
                                                                                        if (VERSION.SDK_INT < 26) {
                                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                                            notifyOverride = name;
                                                                                            override_dialog_id = lastMessageObject;
                                                                                            priorityOverride = chat2;
                                                                                            silent3 = silent;
                                                                                            notifyDelay = notifyAboutLast;
                                                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                        } else {
                                                                                            j = dialog_id2;
                                                                                            i2 = notifyDelay;
                                                                                            size = notifyOverride;
                                                                                            j2 = override_dialog_id;
                                                                                            i3 = priorityOverride;
                                                                                            i4 = vibrateOverride;
                                                                                            sharedPreferences = preferences;
                                                                                            i5 = user_id;
                                                                                            i6 = chat_id;
                                                                                            user2 = user;
                                                                                            pendingIntent = contentIntent;
                                                                                            silent3 = silent;
                                                                                            dismissDate2 = needVibrate2;
                                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                                            str3 = defaultPath2;
                                                                                            i7 = priority2;
                                                                                            intent = dismissIntent;
                                                                                            fileLocation2 = fileLocation;
                                                                                            notifyDelay = notifyAboutLast;
                                                                                        }
                                                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                        r12.lastNotificationIsNoData = false;
                                                                                        scheduleNotificationRepeat();
                                                                                        return;
                                                                                    }
                                                                                    choosenSoundPath2 = choosenSoundPath;
                                                                                    defaultPath2 = defaultPath;
                                                                                    lastMessageObject = lastMessageObject4;
                                                                                    priority2 = count;
                                                                                    dismissIntent = dismissIntent2;
                                                                                    fileLocation = fileLocation3;
                                                                                    dialog_id2 = dialog_id;
                                                                                    notifyOverride2 = false;
                                                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                    if (VERSION.SDK_INT > 19) {
                                                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                    } else {
                                                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                    }
                                                                                    if (VERSION.SDK_INT < 26) {
                                                                                        j = dialog_id2;
                                                                                        i2 = notifyDelay;
                                                                                        size = notifyOverride;
                                                                                        j2 = override_dialog_id;
                                                                                        i3 = priorityOverride;
                                                                                        i4 = vibrateOverride;
                                                                                        sharedPreferences = preferences;
                                                                                        i5 = user_id;
                                                                                        i6 = chat_id;
                                                                                        user2 = user;
                                                                                        pendingIntent = contentIntent;
                                                                                        silent3 = silent;
                                                                                        dismissDate2 = needVibrate2;
                                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                                        str3 = defaultPath2;
                                                                                        i7 = priority2;
                                                                                        intent = dismissIntent;
                                                                                        fileLocation2 = fileLocation;
                                                                                        notifyDelay = notifyAboutLast;
                                                                                    } else {
                                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                                        notifyOverride = name;
                                                                                        override_dialog_id = lastMessageObject;
                                                                                        priorityOverride = chat2;
                                                                                        silent3 = silent;
                                                                                        notifyDelay = notifyAboutLast;
                                                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                    }
                                                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                    r12.lastNotificationIsNoData = false;
                                                                                    scheduleNotificationRepeat();
                                                                                    return;
                                                                                } else {
                                                                                    count = priority;
                                                                                }
                                                                                mBuilder.setPriority(-1);
                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                    user_id2 = 2;
                                                                                    i = user_id2;
                                                                                }
                                                                                if (priorityOverride2 != 1) {
                                                                                }
                                                                                lastMessage = choosenSoundPath9;
                                                                                silent = priorityOverride2;
                                                                                needVibrate2 = needVibrate;
                                                                                choosenSoundPath = str;
                                                                                priorityOverride2 = ledColor;
                                                                                defaultPath = defaultPath4;
                                                                                jArr = new long[]{0, 0};
                                                                                vibrationPattern = jArr;
                                                                                mBuilder.setVibrate(jArr);
                                                                                vibrationPattern2 = vibrationPattern;
                                                                                sound2 = sound;
                                                                                str2 = lastMessage;
                                                                                if (AndroidUtilities.needShowPasscode(false)) {
                                                                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                                    size = rows.size();
                                                                                    notifyOverride2 = false;
                                                                                    z3 = false;
                                                                                    while (true) {
                                                                                        choosenSoundPath2 = choosenSoundPath;
                                                                                        choosenSoundPath = size;
                                                                                        if (z3 < choosenSoundPath) {
                                                                                            break;
                                                                                        }
                                                                                        rows2 = rows;
                                                                                        size2 = choosenSoundPath;
                                                                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                        choosenSoundPath = row.buttons.size();
                                                                                        defaultPath2 = defaultPath;
                                                                                        defaultPath = 0;
                                                                                        while (defaultPath < choosenSoundPath) {
                                                                                            size22 = choosenSoundPath;
                                                                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                            row2 = row;
                                                                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                                lastMessageObject = lastMessageObject4;
                                                                                                priority2 = count;
                                                                                                dismissIntent = dismissIntent2;
                                                                                                fileLocation = fileLocation3;
                                                                                                dialog_id2 = dialog_id;
                                                                                            } else {
                                                                                                priority2 = count;
                                                                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                dismissIntent = dismissIntent2;
                                                                                                dialog_id2 = dialog_id;
                                                                                                callbackIntent.putExtra("did", dialog_id2);
                                                                                                if (choosenSoundPath3.data == null) {
                                                                                                    fileLocation = fileLocation3;
                                                                                                } else {
                                                                                                    fileLocation = fileLocation3;
                                                                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                                }
                                                                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                                charSequence = choosenSoundPath3.text;
                                                                                                context = ApplicationLoader.applicationContext;
                                                                                                button = choosenSoundPath3;
                                                                                                choosenSoundPath = r12.lastButtonId;
                                                                                                lastMessageObject = lastMessageObject4;
                                                                                                r12.lastButtonId = choosenSoundPath + 1;
                                                                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                                notifyOverride2 = true;
                                                                                            }
                                                                                            defaultPath++;
                                                                                            dialog_id = dialog_id2;
                                                                                            choosenSoundPath = size22;
                                                                                            row = row2;
                                                                                            count = priority2;
                                                                                            dismissIntent2 = dismissIntent;
                                                                                            fileLocation3 = fileLocation;
                                                                                            lastMessageObject4 = lastMessageObject;
                                                                                            dialog_id2 = notifyAboutLast;
                                                                                        }
                                                                                        priority2 = count;
                                                                                        fileLocation = fileLocation3;
                                                                                        dialog_id2 = dialog_id;
                                                                                        z3++;
                                                                                        choosenSoundPath = choosenSoundPath2;
                                                                                        rows = rows2;
                                                                                        size = size2;
                                                                                        defaultPath = defaultPath2;
                                                                                        dismissIntent2 = dismissIntent2;
                                                                                        dialog_id2 = notifyAboutLast;
                                                                                    }
                                                                                    defaultPath2 = defaultPath;
                                                                                    lastMessageObject = lastMessageObject4;
                                                                                    priority2 = count;
                                                                                    dismissIntent = dismissIntent2;
                                                                                    fileLocation = fileLocation3;
                                                                                    dialog_id2 = dialog_id;
                                                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                    if (VERSION.SDK_INT > 19) {
                                                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                    } else {
                                                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                    }
                                                                                    if (VERSION.SDK_INT < 26) {
                                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                                        notifyOverride = name;
                                                                                        override_dialog_id = lastMessageObject;
                                                                                        priorityOverride = chat2;
                                                                                        silent3 = silent;
                                                                                        notifyDelay = notifyAboutLast;
                                                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                    } else {
                                                                                        j = dialog_id2;
                                                                                        i2 = notifyDelay;
                                                                                        size = notifyOverride;
                                                                                        j2 = override_dialog_id;
                                                                                        i3 = priorityOverride;
                                                                                        i4 = vibrateOverride;
                                                                                        sharedPreferences = preferences;
                                                                                        i5 = user_id;
                                                                                        i6 = chat_id;
                                                                                        user2 = user;
                                                                                        pendingIntent = contentIntent;
                                                                                        silent3 = silent;
                                                                                        dismissDate2 = needVibrate2;
                                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                                        str3 = defaultPath2;
                                                                                        i7 = priority2;
                                                                                        intent = dismissIntent;
                                                                                        fileLocation2 = fileLocation;
                                                                                        notifyDelay = notifyAboutLast;
                                                                                    }
                                                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                    r12.lastNotificationIsNoData = false;
                                                                                    scheduleNotificationRepeat();
                                                                                    return;
                                                                                }
                                                                                choosenSoundPath2 = choosenSoundPath;
                                                                                defaultPath2 = defaultPath;
                                                                                lastMessageObject = lastMessageObject4;
                                                                                priority2 = count;
                                                                                dismissIntent = dismissIntent2;
                                                                                fileLocation = fileLocation3;
                                                                                dialog_id2 = dialog_id;
                                                                                notifyOverride2 = false;
                                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                if (VERSION.SDK_INT > 19) {
                                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                } else {
                                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                }
                                                                                if (VERSION.SDK_INT < 26) {
                                                                                    j = dialog_id2;
                                                                                    i2 = notifyDelay;
                                                                                    size = notifyOverride;
                                                                                    j2 = override_dialog_id;
                                                                                    i3 = priorityOverride;
                                                                                    i4 = vibrateOverride;
                                                                                    sharedPreferences = preferences;
                                                                                    i5 = user_id;
                                                                                    i6 = chat_id;
                                                                                    user2 = user;
                                                                                    pendingIntent = contentIntent;
                                                                                    silent3 = silent;
                                                                                    dismissDate2 = needVibrate2;
                                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                                    str3 = defaultPath2;
                                                                                    i7 = priority2;
                                                                                    intent = dismissIntent;
                                                                                    fileLocation2 = fileLocation;
                                                                                    notifyDelay = notifyAboutLast;
                                                                                } else {
                                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                                    notifyOverride = name;
                                                                                    override_dialog_id = lastMessageObject;
                                                                                    priorityOverride = chat2;
                                                                                    silent3 = silent;
                                                                                    notifyDelay = notifyAboutLast;
                                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                }
                                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                r12.lastNotificationIsNoData = false;
                                                                                scheduleNotificationRepeat();
                                                                                return;
                                                                            }
                                                                        }
                                                                        if (r12.pushDialogs.size() != 1) {
                                                                            stringBuilder4 = new StringBuilder();
                                                                            stringBuilder4.append(choosenSoundPath9);
                                                                            stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                                                            detailText = stringBuilder4.toString();
                                                                            chatName = choosenSoundPath5;
                                                                        } else {
                                                                            stringBuilder4 = new StringBuilder();
                                                                            stringBuilder4.append(choosenSoundPath9);
                                                                            objArr = new Object[2];
                                                                            chatName = choosenSoundPath5;
                                                                            objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                                                            objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                                                            stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                                                            detailText = stringBuilder4.toString();
                                                                        }
                                                                        mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                                        vibrationPattern3 = null;
                                                                        mBuilder.setCategory("msg");
                                                                        stringBuilder = new StringBuilder();
                                                                        i = 0;
                                                                        stringBuilder.append("tel:+");
                                                                        stringBuilder.append(user3.phone);
                                                                        mBuilder.addPerson(stringBuilder.toString());
                                                                        silent2 = 2;
                                                                        user = user3;
                                                                        if (r12.pushMessages.size() == 1) {
                                                                            messageObject = (MessageObject) r12.pushMessages.get(0);
                                                                            lastMessage2 = null;
                                                                            text = new boolean[1];
                                                                            stringForMessage = getStringForMessage(messageObject, null, text);
                                                                            message = stringForMessage;
                                                                            lastMessage3 = stringForMessage;
                                                                            choosenSoundPath5 = messageObject.messageOwner.silent;
                                                                            choosenSoundPath9 = message;
                                                                            if (choosenSoundPath9 != null) {
                                                                                if (replace) {
                                                                                    if (chat2 != null) {
                                                                                        silent3 = choosenSoundPath5;
                                                                                        choosenSoundPath5 = new StringBuilder();
                                                                                        sound = null;
                                                                                        choosenSoundPath5.append(" @ ");
                                                                                        choosenSoundPath5.append(str5);
                                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    } else {
                                                                                        silent3 = choosenSoundPath5;
                                                                                        sound = null;
                                                                                        if (text[null]) {
                                                                                            choosenSoundPath5 = new StringBuilder();
                                                                                            choosenSoundPath5.append(str5);
                                                                                            choosenSoundPath5.append(": ");
                                                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                        } else {
                                                                                            choosenSoundPath5 = new StringBuilder();
                                                                                            choosenSoundPath5.append(str5);
                                                                                            choosenSoundPath5.append(" ");
                                                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                        }
                                                                                    }
                                                                                    choosenSoundPath9 = message;
                                                                                } else {
                                                                                    silent3 = choosenSoundPath5;
                                                                                    sound = null;
                                                                                }
                                                                                mBuilder.setContentText(choosenSoundPath9);
                                                                                mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                                                contentIntent = contentIntent2;
                                                                                dialog_id = dialog_id2;
                                                                                defaultPath4 = defaultPath3;
                                                                                notifyDelay = dismissDate2;
                                                                                choosenSoundPath9 = lastMessage3;
                                                                                priorityOverride2 = silent3;
                                                                            } else {
                                                                                return;
                                                                            }
                                                                        }
                                                                        lastMessage2 = null;
                                                                        sound = null;
                                                                        mBuilder.setContentText(detailText);
                                                                        inboxStyle = new InboxStyle();
                                                                        inboxStyle.setBigContentTitle(str5);
                                                                        count2 = Math.min(10, r12.pushMessages.size());
                                                                        text2 = new boolean[1];
                                                                        contentIntent = contentIntent2;
                                                                        count = silent2;
                                                                        chat_id2 = 0;
                                                                        while (chat_id2 < count2) {
                                                                            count3 = count2;
                                                                            count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                                            dialog_id = dialog_id2;
                                                                            message2 = getStringForMessage(count4, 0, text2);
                                                                            if (message2 != null) {
                                                                                defaultPath4 = defaultPath3;
                                                                                notifyDelay = dismissDate2;
                                                                                if (count4.messageOwner.date > notifyDelay) {
                                                                                    if (count == 2) {
                                                                                        lastMessage2 = message2;
                                                                                        count = count4.messageOwner.silent;
                                                                                    }
                                                                                    messageObject2 = count4;
                                                                                    if (chat2 != null) {
                                                                                        count2 = new StringBuilder();
                                                                                        count2.append(" @ ");
                                                                                        count2.append(str5);
                                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    } else if (text2[0]) {
                                                                                        count2 = new StringBuilder();
                                                                                        count2.append(str5);
                                                                                        count2.append(": ");
                                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    } else {
                                                                                        count2 = new StringBuilder();
                                                                                        count2.append(str5);
                                                                                        count2.append(" ");
                                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    }
                                                                                    inboxStyle.addLine(message2);
                                                                                }
                                                                            } else {
                                                                                defaultPath4 = defaultPath3;
                                                                                notifyDelay = dismissDate2;
                                                                            }
                                                                            chat_id2++;
                                                                            dismissDate2 = notifyDelay;
                                                                            count2 = count3;
                                                                            dialog_id2 = dialog_id;
                                                                            defaultPath3 = defaultPath4;
                                                                        }
                                                                        dialog_id = dialog_id2;
                                                                        defaultPath4 = defaultPath3;
                                                                        notifyDelay = dismissDate2;
                                                                        inboxStyle.setSummaryText(detailText);
                                                                        mBuilder.setStyle(inboxStyle);
                                                                        priorityOverride2 = count;
                                                                        choosenSoundPath9 = lastMessage2;
                                                                        dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                                        dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                                        dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                                        mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                                        if (fileLocation3 != null) {
                                                                            img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                                            if (img != null) {
                                                                                mBuilder.setLargeIcon(img.getBitmap());
                                                                                name = str5;
                                                                            } else {
                                                                                file = FileLoader.getPathToAttach(fileLocation3, true);
                                                                                if (file.exists()) {
                                                                                    scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                                    options = new Options();
                                                                                    if (scaleFactor < 1.0f) {
                                                                                        name = str5;
                                                                                        str5 = true;
                                                                                    } else {
                                                                                        name = str5;
                                                                                        str5 = (int) scaleFactor;
                                                                                    }
                                                                                    options.inSampleSize = str5;
                                                                                    str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                                    if (str5 != null) {
                                                                                        mBuilder.setLargeIcon(str5);
                                                                                    }
                                                                                } else {
                                                                                    name = str5;
                                                                                }
                                                                            }
                                                                        } else {
                                                                            name = str5;
                                                                        }
                                                                        z = notifyAboutLast;
                                                                        if (z) {
                                                                            count = priority;
                                                                        } else if (priorityOverride2 == 1) {
                                                                            count = priority;
                                                                        } else {
                                                                            if (priority == 0) {
                                                                                mBuilder.setPriority(0);
                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                    i = 3;
                                                                                }
                                                                                count = priority;
                                                                            } else {
                                                                                count = priority;
                                                                                if (count != 1) {
                                                                                    if (count == 2) {
                                                                                        if (count != 4) {
                                                                                            mBuilder.setPriority(-2);
                                                                                            if (VERSION.SDK_INT >= 26) {
                                                                                                user_id2 = 1;
                                                                                                i = user_id2;
                                                                                            }
                                                                                        } else if (count == 5) {
                                                                                            mBuilder.setPriority(-1);
                                                                                            if (VERSION.SDK_INT >= 26) {
                                                                                                user_id2 = 2;
                                                                                                i = user_id2;
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                                mBuilder.setPriority(1);
                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                    user_id2 = 4;
                                                                                    i = user_id2;
                                                                                }
                                                                            }
                                                                            if (priorityOverride2 != 1) {
                                                                            }
                                                                            lastMessage = choosenSoundPath9;
                                                                            silent = priorityOverride2;
                                                                            needVibrate2 = needVibrate;
                                                                            choosenSoundPath = str;
                                                                            priorityOverride2 = ledColor;
                                                                            defaultPath = defaultPath4;
                                                                            jArr = new long[]{0, 0};
                                                                            vibrationPattern = jArr;
                                                                            mBuilder.setVibrate(jArr);
                                                                            vibrationPattern2 = vibrationPattern;
                                                                            sound2 = sound;
                                                                            str2 = lastMessage;
                                                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                                size = rows.size();
                                                                                notifyOverride2 = false;
                                                                                z3 = false;
                                                                                while (true) {
                                                                                    choosenSoundPath2 = choosenSoundPath;
                                                                                    choosenSoundPath = size;
                                                                                    if (z3 < choosenSoundPath) {
                                                                                        break;
                                                                                    }
                                                                                    rows2 = rows;
                                                                                    size2 = choosenSoundPath;
                                                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                    choosenSoundPath = row.buttons.size();
                                                                                    defaultPath2 = defaultPath;
                                                                                    defaultPath = 0;
                                                                                    while (defaultPath < choosenSoundPath) {
                                                                                        size22 = choosenSoundPath;
                                                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                        row2 = row;
                                                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                            priority2 = count;
                                                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                            dismissIntent = dismissIntent2;
                                                                                            dialog_id2 = dialog_id;
                                                                                            callbackIntent.putExtra("did", dialog_id2);
                                                                                            if (choosenSoundPath3.data == null) {
                                                                                                fileLocation = fileLocation3;
                                                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                            } else {
                                                                                                fileLocation = fileLocation3;
                                                                                            }
                                                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                            charSequence = choosenSoundPath3.text;
                                                                                            context = ApplicationLoader.applicationContext;
                                                                                            button = choosenSoundPath3;
                                                                                            choosenSoundPath = r12.lastButtonId;
                                                                                            lastMessageObject = lastMessageObject4;
                                                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                            notifyOverride2 = true;
                                                                                        } else {
                                                                                            lastMessageObject = lastMessageObject4;
                                                                                            priority2 = count;
                                                                                            dismissIntent = dismissIntent2;
                                                                                            fileLocation = fileLocation3;
                                                                                            dialog_id2 = dialog_id;
                                                                                        }
                                                                                        defaultPath++;
                                                                                        dialog_id = dialog_id2;
                                                                                        choosenSoundPath = size22;
                                                                                        row = row2;
                                                                                        count = priority2;
                                                                                        dismissIntent2 = dismissIntent;
                                                                                        fileLocation3 = fileLocation;
                                                                                        lastMessageObject4 = lastMessageObject;
                                                                                        dialog_id2 = notifyAboutLast;
                                                                                    }
                                                                                    priority2 = count;
                                                                                    fileLocation = fileLocation3;
                                                                                    dialog_id2 = dialog_id;
                                                                                    z3++;
                                                                                    choosenSoundPath = choosenSoundPath2;
                                                                                    rows = rows2;
                                                                                    size = size2;
                                                                                    defaultPath = defaultPath2;
                                                                                    dismissIntent2 = dismissIntent2;
                                                                                    dialog_id2 = notifyAboutLast;
                                                                                }
                                                                                defaultPath2 = defaultPath;
                                                                                lastMessageObject = lastMessageObject4;
                                                                                priority2 = count;
                                                                                dismissIntent = dismissIntent2;
                                                                                fileLocation = fileLocation3;
                                                                                dialog_id2 = dialog_id;
                                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                if (VERSION.SDK_INT > 19) {
                                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                } else {
                                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                }
                                                                                if (VERSION.SDK_INT < 26) {
                                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                                    notifyOverride = name;
                                                                                    override_dialog_id = lastMessageObject;
                                                                                    priorityOverride = chat2;
                                                                                    silent3 = silent;
                                                                                    notifyDelay = notifyAboutLast;
                                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                } else {
                                                                                    j = dialog_id2;
                                                                                    i2 = notifyDelay;
                                                                                    size = notifyOverride;
                                                                                    j2 = override_dialog_id;
                                                                                    i3 = priorityOverride;
                                                                                    i4 = vibrateOverride;
                                                                                    sharedPreferences = preferences;
                                                                                    i5 = user_id;
                                                                                    i6 = chat_id;
                                                                                    user2 = user;
                                                                                    pendingIntent = contentIntent;
                                                                                    silent3 = silent;
                                                                                    dismissDate2 = needVibrate2;
                                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                                    str3 = defaultPath2;
                                                                                    i7 = priority2;
                                                                                    intent = dismissIntent;
                                                                                    fileLocation2 = fileLocation;
                                                                                    notifyDelay = notifyAboutLast;
                                                                                }
                                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                r12.lastNotificationIsNoData = false;
                                                                                scheduleNotificationRepeat();
                                                                                return;
                                                                            }
                                                                            choosenSoundPath2 = choosenSoundPath;
                                                                            defaultPath2 = defaultPath;
                                                                            lastMessageObject = lastMessageObject4;
                                                                            priority2 = count;
                                                                            dismissIntent = dismissIntent2;
                                                                            fileLocation = fileLocation3;
                                                                            dialog_id2 = dialog_id;
                                                                            notifyOverride2 = false;
                                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                            if (VERSION.SDK_INT > 19) {
                                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                            } else {
                                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                            }
                                                                            if (VERSION.SDK_INT < 26) {
                                                                                j = dialog_id2;
                                                                                i2 = notifyDelay;
                                                                                size = notifyOverride;
                                                                                j2 = override_dialog_id;
                                                                                i3 = priorityOverride;
                                                                                i4 = vibrateOverride;
                                                                                sharedPreferences = preferences;
                                                                                i5 = user_id;
                                                                                i6 = chat_id;
                                                                                user2 = user;
                                                                                pendingIntent = contentIntent;
                                                                                silent3 = silent;
                                                                                dismissDate2 = needVibrate2;
                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                str3 = defaultPath2;
                                                                                i7 = priority2;
                                                                                intent = dismissIntent;
                                                                                fileLocation2 = fileLocation;
                                                                                notifyDelay = notifyAboutLast;
                                                                            } else {
                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                notifyOverride = name;
                                                                                override_dialog_id = lastMessageObject;
                                                                                priorityOverride = chat2;
                                                                                silent3 = silent;
                                                                                notifyDelay = notifyAboutLast;
                                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                            }
                                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                            r12.lastNotificationIsNoData = false;
                                                                            scheduleNotificationRepeat();
                                                                            return;
                                                                        }
                                                                        mBuilder.setPriority(-1);
                                                                        if (VERSION.SDK_INT >= 26) {
                                                                            user_id2 = 2;
                                                                            i = user_id2;
                                                                        }
                                                                        if (priorityOverride2 != 1) {
                                                                        }
                                                                        lastMessage = choosenSoundPath9;
                                                                        silent = priorityOverride2;
                                                                        needVibrate2 = needVibrate;
                                                                        choosenSoundPath = str;
                                                                        priorityOverride2 = ledColor;
                                                                        defaultPath = defaultPath4;
                                                                        jArr = new long[]{0, 0};
                                                                        vibrationPattern = jArr;
                                                                        mBuilder.setVibrate(jArr);
                                                                        vibrationPattern2 = vibrationPattern;
                                                                        sound2 = sound;
                                                                        str2 = lastMessage;
                                                                        if (AndroidUtilities.needShowPasscode(false)) {
                                                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                            size = rows.size();
                                                                            notifyOverride2 = false;
                                                                            z3 = false;
                                                                            while (true) {
                                                                                choosenSoundPath2 = choosenSoundPath;
                                                                                choosenSoundPath = size;
                                                                                if (z3 < choosenSoundPath) {
                                                                                    break;
                                                                                }
                                                                                rows2 = rows;
                                                                                size2 = choosenSoundPath;
                                                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                choosenSoundPath = row.buttons.size();
                                                                                defaultPath2 = defaultPath;
                                                                                defaultPath = 0;
                                                                                while (defaultPath < choosenSoundPath) {
                                                                                    size22 = choosenSoundPath;
                                                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                    row2 = row;
                                                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                        lastMessageObject = lastMessageObject4;
                                                                                        priority2 = count;
                                                                                        dismissIntent = dismissIntent2;
                                                                                        fileLocation = fileLocation3;
                                                                                        dialog_id2 = dialog_id;
                                                                                    } else {
                                                                                        priority2 = count;
                                                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                        dismissIntent = dismissIntent2;
                                                                                        dialog_id2 = dialog_id;
                                                                                        callbackIntent.putExtra("did", dialog_id2);
                                                                                        if (choosenSoundPath3.data == null) {
                                                                                            fileLocation = fileLocation3;
                                                                                        } else {
                                                                                            fileLocation = fileLocation3;
                                                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                        }
                                                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                        charSequence = choosenSoundPath3.text;
                                                                                        context = ApplicationLoader.applicationContext;
                                                                                        button = choosenSoundPath3;
                                                                                        choosenSoundPath = r12.lastButtonId;
                                                                                        lastMessageObject = lastMessageObject4;
                                                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                        notifyOverride2 = true;
                                                                                    }
                                                                                    defaultPath++;
                                                                                    dialog_id = dialog_id2;
                                                                                    choosenSoundPath = size22;
                                                                                    row = row2;
                                                                                    count = priority2;
                                                                                    dismissIntent2 = dismissIntent;
                                                                                    fileLocation3 = fileLocation;
                                                                                    lastMessageObject4 = lastMessageObject;
                                                                                    dialog_id2 = notifyAboutLast;
                                                                                }
                                                                                priority2 = count;
                                                                                fileLocation = fileLocation3;
                                                                                dialog_id2 = dialog_id;
                                                                                z3++;
                                                                                choosenSoundPath = choosenSoundPath2;
                                                                                rows = rows2;
                                                                                size = size2;
                                                                                defaultPath = defaultPath2;
                                                                                dismissIntent2 = dismissIntent2;
                                                                                dialog_id2 = notifyAboutLast;
                                                                            }
                                                                            defaultPath2 = defaultPath;
                                                                            lastMessageObject = lastMessageObject4;
                                                                            priority2 = count;
                                                                            dismissIntent = dismissIntent2;
                                                                            fileLocation = fileLocation3;
                                                                            dialog_id2 = dialog_id;
                                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                            if (VERSION.SDK_INT > 19) {
                                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                            } else {
                                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                            }
                                                                            if (VERSION.SDK_INT < 26) {
                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                notifyOverride = name;
                                                                                override_dialog_id = lastMessageObject;
                                                                                priorityOverride = chat2;
                                                                                silent3 = silent;
                                                                                notifyDelay = notifyAboutLast;
                                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                            } else {
                                                                                j = dialog_id2;
                                                                                i2 = notifyDelay;
                                                                                size = notifyOverride;
                                                                                j2 = override_dialog_id;
                                                                                i3 = priorityOverride;
                                                                                i4 = vibrateOverride;
                                                                                sharedPreferences = preferences;
                                                                                i5 = user_id;
                                                                                i6 = chat_id;
                                                                                user2 = user;
                                                                                pendingIntent = contentIntent;
                                                                                silent3 = silent;
                                                                                dismissDate2 = needVibrate2;
                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                str3 = defaultPath2;
                                                                                i7 = priority2;
                                                                                intent = dismissIntent;
                                                                                fileLocation2 = fileLocation;
                                                                                notifyDelay = notifyAboutLast;
                                                                            }
                                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                            r12.lastNotificationIsNoData = false;
                                                                            scheduleNotificationRepeat();
                                                                            return;
                                                                        }
                                                                        choosenSoundPath2 = choosenSoundPath;
                                                                        defaultPath2 = defaultPath;
                                                                        lastMessageObject = lastMessageObject4;
                                                                        priority2 = count;
                                                                        dismissIntent = dismissIntent2;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                        notifyOverride2 = false;
                                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                        if (VERSION.SDK_INT > 19) {
                                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                        } else {
                                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                        }
                                                                        if (VERSION.SDK_INT < 26) {
                                                                            j = dialog_id2;
                                                                            i2 = notifyDelay;
                                                                            size = notifyOverride;
                                                                            j2 = override_dialog_id;
                                                                            i3 = priorityOverride;
                                                                            i4 = vibrateOverride;
                                                                            sharedPreferences = preferences;
                                                                            i5 = user_id;
                                                                            i6 = chat_id;
                                                                            user2 = user;
                                                                            pendingIntent = contentIntent;
                                                                            silent3 = silent;
                                                                            dismissDate2 = needVibrate2;
                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                            str3 = defaultPath2;
                                                                            i7 = priority2;
                                                                            intent = dismissIntent;
                                                                            fileLocation2 = fileLocation;
                                                                            notifyDelay = notifyAboutLast;
                                                                        } else {
                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                            notifyOverride = name;
                                                                            override_dialog_id = lastMessageObject;
                                                                            priorityOverride = chat2;
                                                                            silent3 = silent;
                                                                            notifyDelay = notifyAboutLast;
                                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                        }
                                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                        r12.lastNotificationIsNoData = false;
                                                                        scheduleNotificationRepeat();
                                                                        return;
                                                                    }
                                                                }
                                                                choosenSoundPath9 = LocaleController.getString("AppName", R.string.AppName);
                                                                replace = false;
                                                                str5 = choosenSoundPath9;
                                                                chat_id = chat_id2;
                                                                if (UserConfig.getActivatedAccountsCount() <= 1) {
                                                                    choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                                                } else if (r12.pushDialogs.size() != 1) {
                                                                    stringBuilder = new StringBuilder();
                                                                    stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                                                    stringBuilder.append("\u30fb");
                                                                    choosenSoundPath9 = stringBuilder.toString();
                                                                } else {
                                                                    choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                                                }
                                                                if (r12.pushDialogs.size() == 1) {
                                                                    if (VERSION.SDK_INT >= 23) {
                                                                        detailText = choosenSoundPath9;
                                                                        chatName = choosenSoundPath5;
                                                                        z4 = inAppVibrate;
                                                                        mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                                        vibrationPattern3 = null;
                                                                        mBuilder.setCategory("msg");
                                                                        stringBuilder = new StringBuilder();
                                                                        i = 0;
                                                                        stringBuilder.append("tel:+");
                                                                        stringBuilder.append(user3.phone);
                                                                        mBuilder.addPerson(stringBuilder.toString());
                                                                        silent2 = 2;
                                                                        user = user3;
                                                                        if (r12.pushMessages.size() == 1) {
                                                                            lastMessage2 = null;
                                                                            sound = null;
                                                                            mBuilder.setContentText(detailText);
                                                                            inboxStyle = new InboxStyle();
                                                                            inboxStyle.setBigContentTitle(str5);
                                                                            count2 = Math.min(10, r12.pushMessages.size());
                                                                            text2 = new boolean[1];
                                                                            contentIntent = contentIntent2;
                                                                            count = silent2;
                                                                            chat_id2 = 0;
                                                                            while (chat_id2 < count2) {
                                                                                count3 = count2;
                                                                                count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                                                dialog_id = dialog_id2;
                                                                                message2 = getStringForMessage(count4, 0, text2);
                                                                                if (message2 != null) {
                                                                                    defaultPath4 = defaultPath3;
                                                                                    notifyDelay = dismissDate2;
                                                                                } else {
                                                                                    defaultPath4 = defaultPath3;
                                                                                    notifyDelay = dismissDate2;
                                                                                    if (count4.messageOwner.date > notifyDelay) {
                                                                                        if (count == 2) {
                                                                                            lastMessage2 = message2;
                                                                                            count = count4.messageOwner.silent;
                                                                                        }
                                                                                        messageObject2 = count4;
                                                                                        if (chat2 != null) {
                                                                                            count2 = new StringBuilder();
                                                                                            count2.append(" @ ");
                                                                                            count2.append(str5);
                                                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                        } else if (text2[0]) {
                                                                                            count2 = new StringBuilder();
                                                                                            count2.append(str5);
                                                                                            count2.append(" ");
                                                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                        } else {
                                                                                            count2 = new StringBuilder();
                                                                                            count2.append(str5);
                                                                                            count2.append(": ");
                                                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                        }
                                                                                        inboxStyle.addLine(message2);
                                                                                    }
                                                                                }
                                                                                chat_id2++;
                                                                                dismissDate2 = notifyDelay;
                                                                                count2 = count3;
                                                                                dialog_id2 = dialog_id;
                                                                                defaultPath3 = defaultPath4;
                                                                            }
                                                                            dialog_id = dialog_id2;
                                                                            defaultPath4 = defaultPath3;
                                                                            notifyDelay = dismissDate2;
                                                                            inboxStyle.setSummaryText(detailText);
                                                                            mBuilder.setStyle(inboxStyle);
                                                                            priorityOverride2 = count;
                                                                            choosenSoundPath9 = lastMessage2;
                                                                        } else {
                                                                            messageObject = (MessageObject) r12.pushMessages.get(0);
                                                                            lastMessage2 = null;
                                                                            text = new boolean[1];
                                                                            stringForMessage = getStringForMessage(messageObject, null, text);
                                                                            message = stringForMessage;
                                                                            lastMessage3 = stringForMessage;
                                                                            choosenSoundPath5 = messageObject.messageOwner.silent;
                                                                            choosenSoundPath9 = message;
                                                                            if (choosenSoundPath9 != null) {
                                                                                if (replace) {
                                                                                    silent3 = choosenSoundPath5;
                                                                                    sound = null;
                                                                                } else {
                                                                                    if (chat2 != null) {
                                                                                        silent3 = choosenSoundPath5;
                                                                                        sound = null;
                                                                                        if (text[null]) {
                                                                                            choosenSoundPath5 = new StringBuilder();
                                                                                            choosenSoundPath5.append(str5);
                                                                                            choosenSoundPath5.append(" ");
                                                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                        } else {
                                                                                            choosenSoundPath5 = new StringBuilder();
                                                                                            choosenSoundPath5.append(str5);
                                                                                            choosenSoundPath5.append(": ");
                                                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                        }
                                                                                    } else {
                                                                                        silent3 = choosenSoundPath5;
                                                                                        choosenSoundPath5 = new StringBuilder();
                                                                                        sound = null;
                                                                                        choosenSoundPath5.append(" @ ");
                                                                                        choosenSoundPath5.append(str5);
                                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    }
                                                                                    choosenSoundPath9 = message;
                                                                                }
                                                                                mBuilder.setContentText(choosenSoundPath9);
                                                                                mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                                                contentIntent = contentIntent2;
                                                                                dialog_id = dialog_id2;
                                                                                defaultPath4 = defaultPath3;
                                                                                notifyDelay = dismissDate2;
                                                                                choosenSoundPath9 = lastMessage3;
                                                                                priorityOverride2 = silent3;
                                                                            } else {
                                                                                return;
                                                                            }
                                                                        }
                                                                        dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                                        dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                                        dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                                        mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                                        if (fileLocation3 != null) {
                                                                            name = str5;
                                                                        } else {
                                                                            img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                                            if (img != null) {
                                                                                file = FileLoader.getPathToAttach(fileLocation3, true);
                                                                                if (file.exists()) {
                                                                                    name = str5;
                                                                                } else {
                                                                                    scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                                    options = new Options();
                                                                                    if (scaleFactor < 1.0f) {
                                                                                        name = str5;
                                                                                        str5 = (int) scaleFactor;
                                                                                    } else {
                                                                                        name = str5;
                                                                                        str5 = true;
                                                                                    }
                                                                                    options.inSampleSize = str5;
                                                                                    str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                                    if (str5 != null) {
                                                                                        mBuilder.setLargeIcon(str5);
                                                                                    }
                                                                                }
                                                                            } else {
                                                                                mBuilder.setLargeIcon(img.getBitmap());
                                                                                name = str5;
                                                                            }
                                                                        }
                                                                        z = notifyAboutLast;
                                                                        if (z) {
                                                                            count = priority;
                                                                        } else if (priorityOverride2 == 1) {
                                                                            if (priority == 0) {
                                                                                count = priority;
                                                                                if (count != 1) {
                                                                                    if (count == 2) {
                                                                                        if (count != 4) {
                                                                                            mBuilder.setPriority(-2);
                                                                                            if (VERSION.SDK_INT >= 26) {
                                                                                                user_id2 = 1;
                                                                                                i = user_id2;
                                                                                            }
                                                                                        } else if (count == 5) {
                                                                                            mBuilder.setPriority(-1);
                                                                                            if (VERSION.SDK_INT >= 26) {
                                                                                                user_id2 = 2;
                                                                                                i = user_id2;
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                                mBuilder.setPriority(1);
                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                    user_id2 = 4;
                                                                                    i = user_id2;
                                                                                }
                                                                            } else {
                                                                                mBuilder.setPriority(0);
                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                    i = 3;
                                                                                }
                                                                                count = priority;
                                                                            }
                                                                            if (priorityOverride2 != 1) {
                                                                            }
                                                                            lastMessage = choosenSoundPath9;
                                                                            silent = priorityOverride2;
                                                                            needVibrate2 = needVibrate;
                                                                            choosenSoundPath = str;
                                                                            priorityOverride2 = ledColor;
                                                                            defaultPath = defaultPath4;
                                                                            jArr = new long[]{0, 0};
                                                                            vibrationPattern = jArr;
                                                                            mBuilder.setVibrate(jArr);
                                                                            vibrationPattern2 = vibrationPattern;
                                                                            sound2 = sound;
                                                                            str2 = lastMessage;
                                                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                                size = rows.size();
                                                                                notifyOverride2 = false;
                                                                                z3 = false;
                                                                                while (true) {
                                                                                    choosenSoundPath2 = choosenSoundPath;
                                                                                    choosenSoundPath = size;
                                                                                    if (z3 < choosenSoundPath) {
                                                                                        break;
                                                                                    }
                                                                                    rows2 = rows;
                                                                                    size2 = choosenSoundPath;
                                                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                    choosenSoundPath = row.buttons.size();
                                                                                    defaultPath2 = defaultPath;
                                                                                    defaultPath = 0;
                                                                                    while (defaultPath < choosenSoundPath) {
                                                                                        size22 = choosenSoundPath;
                                                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                        row2 = row;
                                                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                            priority2 = count;
                                                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                            dismissIntent = dismissIntent2;
                                                                                            dialog_id2 = dialog_id;
                                                                                            callbackIntent.putExtra("did", dialog_id2);
                                                                                            if (choosenSoundPath3.data == null) {
                                                                                                fileLocation = fileLocation3;
                                                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                            } else {
                                                                                                fileLocation = fileLocation3;
                                                                                            }
                                                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                            charSequence = choosenSoundPath3.text;
                                                                                            context = ApplicationLoader.applicationContext;
                                                                                            button = choosenSoundPath3;
                                                                                            choosenSoundPath = r12.lastButtonId;
                                                                                            lastMessageObject = lastMessageObject4;
                                                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                            notifyOverride2 = true;
                                                                                        } else {
                                                                                            lastMessageObject = lastMessageObject4;
                                                                                            priority2 = count;
                                                                                            dismissIntent = dismissIntent2;
                                                                                            fileLocation = fileLocation3;
                                                                                            dialog_id2 = dialog_id;
                                                                                        }
                                                                                        defaultPath++;
                                                                                        dialog_id = dialog_id2;
                                                                                        choosenSoundPath = size22;
                                                                                        row = row2;
                                                                                        count = priority2;
                                                                                        dismissIntent2 = dismissIntent;
                                                                                        fileLocation3 = fileLocation;
                                                                                        lastMessageObject4 = lastMessageObject;
                                                                                        dialog_id2 = notifyAboutLast;
                                                                                    }
                                                                                    priority2 = count;
                                                                                    fileLocation = fileLocation3;
                                                                                    dialog_id2 = dialog_id;
                                                                                    z3++;
                                                                                    choosenSoundPath = choosenSoundPath2;
                                                                                    rows = rows2;
                                                                                    size = size2;
                                                                                    defaultPath = defaultPath2;
                                                                                    dismissIntent2 = dismissIntent2;
                                                                                    dialog_id2 = notifyAboutLast;
                                                                                }
                                                                                defaultPath2 = defaultPath;
                                                                                lastMessageObject = lastMessageObject4;
                                                                                priority2 = count;
                                                                                dismissIntent = dismissIntent2;
                                                                                fileLocation = fileLocation3;
                                                                                dialog_id2 = dialog_id;
                                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                if (VERSION.SDK_INT > 19) {
                                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                } else {
                                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                }
                                                                                if (VERSION.SDK_INT < 26) {
                                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                                    notifyOverride = name;
                                                                                    override_dialog_id = lastMessageObject;
                                                                                    priorityOverride = chat2;
                                                                                    silent3 = silent;
                                                                                    notifyDelay = notifyAboutLast;
                                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                } else {
                                                                                    j = dialog_id2;
                                                                                    i2 = notifyDelay;
                                                                                    size = notifyOverride;
                                                                                    j2 = override_dialog_id;
                                                                                    i3 = priorityOverride;
                                                                                    i4 = vibrateOverride;
                                                                                    sharedPreferences = preferences;
                                                                                    i5 = user_id;
                                                                                    i6 = chat_id;
                                                                                    user2 = user;
                                                                                    pendingIntent = contentIntent;
                                                                                    silent3 = silent;
                                                                                    dismissDate2 = needVibrate2;
                                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                                    str3 = defaultPath2;
                                                                                    i7 = priority2;
                                                                                    intent = dismissIntent;
                                                                                    fileLocation2 = fileLocation;
                                                                                    notifyDelay = notifyAboutLast;
                                                                                }
                                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                r12.lastNotificationIsNoData = false;
                                                                                scheduleNotificationRepeat();
                                                                                return;
                                                                            }
                                                                            choosenSoundPath2 = choosenSoundPath;
                                                                            defaultPath2 = defaultPath;
                                                                            lastMessageObject = lastMessageObject4;
                                                                            priority2 = count;
                                                                            dismissIntent = dismissIntent2;
                                                                            fileLocation = fileLocation3;
                                                                            dialog_id2 = dialog_id;
                                                                            notifyOverride2 = false;
                                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                            if (VERSION.SDK_INT > 19) {
                                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                            } else {
                                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                            }
                                                                            if (VERSION.SDK_INT < 26) {
                                                                                j = dialog_id2;
                                                                                i2 = notifyDelay;
                                                                                size = notifyOverride;
                                                                                j2 = override_dialog_id;
                                                                                i3 = priorityOverride;
                                                                                i4 = vibrateOverride;
                                                                                sharedPreferences = preferences;
                                                                                i5 = user_id;
                                                                                i6 = chat_id;
                                                                                user2 = user;
                                                                                pendingIntent = contentIntent;
                                                                                silent3 = silent;
                                                                                dismissDate2 = needVibrate2;
                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                str3 = defaultPath2;
                                                                                i7 = priority2;
                                                                                intent = dismissIntent;
                                                                                fileLocation2 = fileLocation;
                                                                                notifyDelay = notifyAboutLast;
                                                                            } else {
                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                notifyOverride = name;
                                                                                override_dialog_id = lastMessageObject;
                                                                                priorityOverride = chat2;
                                                                                silent3 = silent;
                                                                                notifyDelay = notifyAboutLast;
                                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                            }
                                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                            r12.lastNotificationIsNoData = false;
                                                                            scheduleNotificationRepeat();
                                                                            return;
                                                                        } else {
                                                                            count = priority;
                                                                        }
                                                                        mBuilder.setPriority(-1);
                                                                        if (VERSION.SDK_INT >= 26) {
                                                                            user_id2 = 2;
                                                                            i = user_id2;
                                                                        }
                                                                        if (priorityOverride2 != 1) {
                                                                        }
                                                                        lastMessage = choosenSoundPath9;
                                                                        silent = priorityOverride2;
                                                                        needVibrate2 = needVibrate;
                                                                        choosenSoundPath = str;
                                                                        priorityOverride2 = ledColor;
                                                                        defaultPath = defaultPath4;
                                                                        jArr = new long[]{0, 0};
                                                                        vibrationPattern = jArr;
                                                                        mBuilder.setVibrate(jArr);
                                                                        vibrationPattern2 = vibrationPattern;
                                                                        sound2 = sound;
                                                                        str2 = lastMessage;
                                                                        if (AndroidUtilities.needShowPasscode(false)) {
                                                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                            size = rows.size();
                                                                            notifyOverride2 = false;
                                                                            z3 = false;
                                                                            while (true) {
                                                                                choosenSoundPath2 = choosenSoundPath;
                                                                                choosenSoundPath = size;
                                                                                if (z3 < choosenSoundPath) {
                                                                                    break;
                                                                                }
                                                                                rows2 = rows;
                                                                                size2 = choosenSoundPath;
                                                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                choosenSoundPath = row.buttons.size();
                                                                                defaultPath2 = defaultPath;
                                                                                defaultPath = 0;
                                                                                while (defaultPath < choosenSoundPath) {
                                                                                    size22 = choosenSoundPath;
                                                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                    row2 = row;
                                                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                        lastMessageObject = lastMessageObject4;
                                                                                        priority2 = count;
                                                                                        dismissIntent = dismissIntent2;
                                                                                        fileLocation = fileLocation3;
                                                                                        dialog_id2 = dialog_id;
                                                                                    } else {
                                                                                        priority2 = count;
                                                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                        dismissIntent = dismissIntent2;
                                                                                        dialog_id2 = dialog_id;
                                                                                        callbackIntent.putExtra("did", dialog_id2);
                                                                                        if (choosenSoundPath3.data == null) {
                                                                                            fileLocation = fileLocation3;
                                                                                        } else {
                                                                                            fileLocation = fileLocation3;
                                                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                        }
                                                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                        charSequence = choosenSoundPath3.text;
                                                                                        context = ApplicationLoader.applicationContext;
                                                                                        button = choosenSoundPath3;
                                                                                        choosenSoundPath = r12.lastButtonId;
                                                                                        lastMessageObject = lastMessageObject4;
                                                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                        notifyOverride2 = true;
                                                                                    }
                                                                                    defaultPath++;
                                                                                    dialog_id = dialog_id2;
                                                                                    choosenSoundPath = size22;
                                                                                    row = row2;
                                                                                    count = priority2;
                                                                                    dismissIntent2 = dismissIntent;
                                                                                    fileLocation3 = fileLocation;
                                                                                    lastMessageObject4 = lastMessageObject;
                                                                                    dialog_id2 = notifyAboutLast;
                                                                                }
                                                                                priority2 = count;
                                                                                fileLocation = fileLocation3;
                                                                                dialog_id2 = dialog_id;
                                                                                z3++;
                                                                                choosenSoundPath = choosenSoundPath2;
                                                                                rows = rows2;
                                                                                size = size2;
                                                                                defaultPath = defaultPath2;
                                                                                dismissIntent2 = dismissIntent2;
                                                                                dialog_id2 = notifyAboutLast;
                                                                            }
                                                                            defaultPath2 = defaultPath;
                                                                            lastMessageObject = lastMessageObject4;
                                                                            priority2 = count;
                                                                            dismissIntent = dismissIntent2;
                                                                            fileLocation = fileLocation3;
                                                                            dialog_id2 = dialog_id;
                                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                            if (VERSION.SDK_INT > 19) {
                                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                            } else {
                                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                            }
                                                                            if (VERSION.SDK_INT < 26) {
                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                notifyOverride = name;
                                                                                override_dialog_id = lastMessageObject;
                                                                                priorityOverride = chat2;
                                                                                silent3 = silent;
                                                                                notifyDelay = notifyAboutLast;
                                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                            } else {
                                                                                j = dialog_id2;
                                                                                i2 = notifyDelay;
                                                                                size = notifyOverride;
                                                                                j2 = override_dialog_id;
                                                                                i3 = priorityOverride;
                                                                                i4 = vibrateOverride;
                                                                                sharedPreferences = preferences;
                                                                                i5 = user_id;
                                                                                i6 = chat_id;
                                                                                user2 = user;
                                                                                pendingIntent = contentIntent;
                                                                                silent3 = silent;
                                                                                dismissDate2 = needVibrate2;
                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                str3 = defaultPath2;
                                                                                i7 = priority2;
                                                                                intent = dismissIntent;
                                                                                fileLocation2 = fileLocation;
                                                                                notifyDelay = notifyAboutLast;
                                                                            }
                                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                            r12.lastNotificationIsNoData = false;
                                                                            scheduleNotificationRepeat();
                                                                            return;
                                                                        }
                                                                        choosenSoundPath2 = choosenSoundPath;
                                                                        defaultPath2 = defaultPath;
                                                                        lastMessageObject = lastMessageObject4;
                                                                        priority2 = count;
                                                                        dismissIntent = dismissIntent2;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                        notifyOverride2 = false;
                                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                        if (VERSION.SDK_INT > 19) {
                                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                        } else {
                                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                        }
                                                                        if (VERSION.SDK_INT < 26) {
                                                                            j = dialog_id2;
                                                                            i2 = notifyDelay;
                                                                            size = notifyOverride;
                                                                            j2 = override_dialog_id;
                                                                            i3 = priorityOverride;
                                                                            i4 = vibrateOverride;
                                                                            sharedPreferences = preferences;
                                                                            i5 = user_id;
                                                                            i6 = chat_id;
                                                                            user2 = user;
                                                                            pendingIntent = contentIntent;
                                                                            silent3 = silent;
                                                                            dismissDate2 = needVibrate2;
                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                            str3 = defaultPath2;
                                                                            i7 = priority2;
                                                                            intent = dismissIntent;
                                                                            fileLocation2 = fileLocation;
                                                                            notifyDelay = notifyAboutLast;
                                                                        } else {
                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                            notifyOverride = name;
                                                                            override_dialog_id = lastMessageObject;
                                                                            priorityOverride = chat2;
                                                                            silent3 = silent;
                                                                            notifyDelay = notifyAboutLast;
                                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                        }
                                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                        r12.lastNotificationIsNoData = false;
                                                                        scheduleNotificationRepeat();
                                                                        return;
                                                                    }
                                                                }
                                                                if (r12.pushDialogs.size() != 1) {
                                                                    stringBuilder4 = new StringBuilder();
                                                                    stringBuilder4.append(choosenSoundPath9);
                                                                    objArr = new Object[2];
                                                                    chatName = choosenSoundPath5;
                                                                    objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                                                    objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                                                    stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                                                    detailText = stringBuilder4.toString();
                                                                } else {
                                                                    stringBuilder4 = new StringBuilder();
                                                                    stringBuilder4.append(choosenSoundPath9);
                                                                    stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                                                    detailText = stringBuilder4.toString();
                                                                    chatName = choosenSoundPath5;
                                                                }
                                                                mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                                vibrationPattern3 = null;
                                                                mBuilder.setCategory("msg");
                                                                stringBuilder = new StringBuilder();
                                                                i = 0;
                                                                stringBuilder.append("tel:+");
                                                                stringBuilder.append(user3.phone);
                                                                mBuilder.addPerson(stringBuilder.toString());
                                                                silent2 = 2;
                                                                user = user3;
                                                                if (r12.pushMessages.size() == 1) {
                                                                    messageObject = (MessageObject) r12.pushMessages.get(0);
                                                                    lastMessage2 = null;
                                                                    text = new boolean[1];
                                                                    stringForMessage = getStringForMessage(messageObject, null, text);
                                                                    message = stringForMessage;
                                                                    lastMessage3 = stringForMessage;
                                                                    choosenSoundPath5 = messageObject.messageOwner.silent;
                                                                    choosenSoundPath9 = message;
                                                                    if (choosenSoundPath9 != null) {
                                                                        if (replace) {
                                                                            if (chat2 != null) {
                                                                                silent3 = choosenSoundPath5;
                                                                                choosenSoundPath5 = new StringBuilder();
                                                                                sound = null;
                                                                                choosenSoundPath5.append(" @ ");
                                                                                choosenSoundPath5.append(str5);
                                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            } else {
                                                                                silent3 = choosenSoundPath5;
                                                                                sound = null;
                                                                                if (text[null]) {
                                                                                    choosenSoundPath5 = new StringBuilder();
                                                                                    choosenSoundPath5.append(str5);
                                                                                    choosenSoundPath5.append(": ");
                                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                } else {
                                                                                    choosenSoundPath5 = new StringBuilder();
                                                                                    choosenSoundPath5.append(str5);
                                                                                    choosenSoundPath5.append(" ");
                                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                }
                                                                            }
                                                                            choosenSoundPath9 = message;
                                                                        } else {
                                                                            silent3 = choosenSoundPath5;
                                                                            sound = null;
                                                                        }
                                                                        mBuilder.setContentText(choosenSoundPath9);
                                                                        mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                                        contentIntent = contentIntent2;
                                                                        dialog_id = dialog_id2;
                                                                        defaultPath4 = defaultPath3;
                                                                        notifyDelay = dismissDate2;
                                                                        choosenSoundPath9 = lastMessage3;
                                                                        priorityOverride2 = silent3;
                                                                    } else {
                                                                        return;
                                                                    }
                                                                }
                                                                lastMessage2 = null;
                                                                sound = null;
                                                                mBuilder.setContentText(detailText);
                                                                inboxStyle = new InboxStyle();
                                                                inboxStyle.setBigContentTitle(str5);
                                                                count2 = Math.min(10, r12.pushMessages.size());
                                                                text2 = new boolean[1];
                                                                contentIntent = contentIntent2;
                                                                count = silent2;
                                                                chat_id2 = 0;
                                                                while (chat_id2 < count2) {
                                                                    count3 = count2;
                                                                    count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                                    dialog_id = dialog_id2;
                                                                    message2 = getStringForMessage(count4, 0, text2);
                                                                    if (message2 != null) {
                                                                        defaultPath4 = defaultPath3;
                                                                        notifyDelay = dismissDate2;
                                                                        if (count4.messageOwner.date > notifyDelay) {
                                                                            if (count == 2) {
                                                                                lastMessage2 = message2;
                                                                                count = count4.messageOwner.silent;
                                                                            }
                                                                            messageObject2 = count4;
                                                                            if (chat2 != null) {
                                                                                count2 = new StringBuilder();
                                                                                count2.append(" @ ");
                                                                                count2.append(str5);
                                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            } else if (text2[0]) {
                                                                                count2 = new StringBuilder();
                                                                                count2.append(str5);
                                                                                count2.append(": ");
                                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            } else {
                                                                                count2 = new StringBuilder();
                                                                                count2.append(str5);
                                                                                count2.append(" ");
                                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            }
                                                                            inboxStyle.addLine(message2);
                                                                        }
                                                                    } else {
                                                                        defaultPath4 = defaultPath3;
                                                                        notifyDelay = dismissDate2;
                                                                    }
                                                                    chat_id2++;
                                                                    dismissDate2 = notifyDelay;
                                                                    count2 = count3;
                                                                    dialog_id2 = dialog_id;
                                                                    defaultPath3 = defaultPath4;
                                                                }
                                                                dialog_id = dialog_id2;
                                                                defaultPath4 = defaultPath3;
                                                                notifyDelay = dismissDate2;
                                                                inboxStyle.setSummaryText(detailText);
                                                                mBuilder.setStyle(inboxStyle);
                                                                priorityOverride2 = count;
                                                                choosenSoundPath9 = lastMessage2;
                                                                dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                                dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                                dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                                mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                                if (fileLocation3 != null) {
                                                                    img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                                    if (img != null) {
                                                                        mBuilder.setLargeIcon(img.getBitmap());
                                                                        name = str5;
                                                                    } else {
                                                                        file = FileLoader.getPathToAttach(fileLocation3, true);
                                                                        if (file.exists()) {
                                                                            scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                            options = new Options();
                                                                            if (scaleFactor < 1.0f) {
                                                                                name = str5;
                                                                                str5 = true;
                                                                            } else {
                                                                                name = str5;
                                                                                str5 = (int) scaleFactor;
                                                                            }
                                                                            options.inSampleSize = str5;
                                                                            str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                            if (str5 != null) {
                                                                                mBuilder.setLargeIcon(str5);
                                                                            }
                                                                        } else {
                                                                            name = str5;
                                                                        }
                                                                    }
                                                                } else {
                                                                    name = str5;
                                                                }
                                                                z = notifyAboutLast;
                                                                if (z) {
                                                                    count = priority;
                                                                } else if (priorityOverride2 == 1) {
                                                                    count = priority;
                                                                } else {
                                                                    if (priority == 0) {
                                                                        mBuilder.setPriority(0);
                                                                        if (VERSION.SDK_INT >= 26) {
                                                                            i = 3;
                                                                        }
                                                                        count = priority;
                                                                    } else {
                                                                        count = priority;
                                                                        if (count != 1) {
                                                                            if (count == 2) {
                                                                                if (count != 4) {
                                                                                    mBuilder.setPriority(-2);
                                                                                    if (VERSION.SDK_INT >= 26) {
                                                                                        user_id2 = 1;
                                                                                        i = user_id2;
                                                                                    }
                                                                                } else if (count == 5) {
                                                                                    mBuilder.setPriority(-1);
                                                                                    if (VERSION.SDK_INT >= 26) {
                                                                                        user_id2 = 2;
                                                                                        i = user_id2;
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                        mBuilder.setPriority(1);
                                                                        if (VERSION.SDK_INT >= 26) {
                                                                            user_id2 = 4;
                                                                            i = user_id2;
                                                                        }
                                                                    }
                                                                    if (priorityOverride2 != 1) {
                                                                    }
                                                                    lastMessage = choosenSoundPath9;
                                                                    silent = priorityOverride2;
                                                                    needVibrate2 = needVibrate;
                                                                    choosenSoundPath = str;
                                                                    priorityOverride2 = ledColor;
                                                                    defaultPath = defaultPath4;
                                                                    jArr = new long[]{0, 0};
                                                                    vibrationPattern = jArr;
                                                                    mBuilder.setVibrate(jArr);
                                                                    vibrationPattern2 = vibrationPattern;
                                                                    sound2 = sound;
                                                                    str2 = lastMessage;
                                                                    if (AndroidUtilities.needShowPasscode(false)) {
                                                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                        size = rows.size();
                                                                        notifyOverride2 = false;
                                                                        z3 = false;
                                                                        while (true) {
                                                                            choosenSoundPath2 = choosenSoundPath;
                                                                            choosenSoundPath = size;
                                                                            if (z3 < choosenSoundPath) {
                                                                                break;
                                                                            }
                                                                            rows2 = rows;
                                                                            size2 = choosenSoundPath;
                                                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                                                            choosenSoundPath = row.buttons.size();
                                                                            defaultPath2 = defaultPath;
                                                                            defaultPath = 0;
                                                                            while (defaultPath < choosenSoundPath) {
                                                                                size22 = choosenSoundPath;
                                                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                row2 = row;
                                                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                    priority2 = count;
                                                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                    dismissIntent = dismissIntent2;
                                                                                    dialog_id2 = dialog_id;
                                                                                    callbackIntent.putExtra("did", dialog_id2);
                                                                                    if (choosenSoundPath3.data == null) {
                                                                                        fileLocation = fileLocation3;
                                                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                    } else {
                                                                                        fileLocation = fileLocation3;
                                                                                    }
                                                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                    charSequence = choosenSoundPath3.text;
                                                                                    context = ApplicationLoader.applicationContext;
                                                                                    button = choosenSoundPath3;
                                                                                    choosenSoundPath = r12.lastButtonId;
                                                                                    lastMessageObject = lastMessageObject4;
                                                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                    notifyOverride2 = true;
                                                                                } else {
                                                                                    lastMessageObject = lastMessageObject4;
                                                                                    priority2 = count;
                                                                                    dismissIntent = dismissIntent2;
                                                                                    fileLocation = fileLocation3;
                                                                                    dialog_id2 = dialog_id;
                                                                                }
                                                                                defaultPath++;
                                                                                dialog_id = dialog_id2;
                                                                                choosenSoundPath = size22;
                                                                                row = row2;
                                                                                count = priority2;
                                                                                dismissIntent2 = dismissIntent;
                                                                                fileLocation3 = fileLocation;
                                                                                lastMessageObject4 = lastMessageObject;
                                                                                dialog_id2 = notifyAboutLast;
                                                                            }
                                                                            priority2 = count;
                                                                            fileLocation = fileLocation3;
                                                                            dialog_id2 = dialog_id;
                                                                            z3++;
                                                                            choosenSoundPath = choosenSoundPath2;
                                                                            rows = rows2;
                                                                            size = size2;
                                                                            defaultPath = defaultPath2;
                                                                            dismissIntent2 = dismissIntent2;
                                                                            dialog_id2 = notifyAboutLast;
                                                                        }
                                                                        defaultPath2 = defaultPath;
                                                                        lastMessageObject = lastMessageObject4;
                                                                        priority2 = count;
                                                                        dismissIntent = dismissIntent2;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                        if (VERSION.SDK_INT > 19) {
                                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                        } else {
                                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                        }
                                                                        if (VERSION.SDK_INT < 26) {
                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                            notifyOverride = name;
                                                                            override_dialog_id = lastMessageObject;
                                                                            priorityOverride = chat2;
                                                                            silent3 = silent;
                                                                            notifyDelay = notifyAboutLast;
                                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                        } else {
                                                                            j = dialog_id2;
                                                                            i2 = notifyDelay;
                                                                            size = notifyOverride;
                                                                            j2 = override_dialog_id;
                                                                            i3 = priorityOverride;
                                                                            i4 = vibrateOverride;
                                                                            sharedPreferences = preferences;
                                                                            i5 = user_id;
                                                                            i6 = chat_id;
                                                                            user2 = user;
                                                                            pendingIntent = contentIntent;
                                                                            silent3 = silent;
                                                                            dismissDate2 = needVibrate2;
                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                            str3 = defaultPath2;
                                                                            i7 = priority2;
                                                                            intent = dismissIntent;
                                                                            fileLocation2 = fileLocation;
                                                                            notifyDelay = notifyAboutLast;
                                                                        }
                                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                        r12.lastNotificationIsNoData = false;
                                                                        scheduleNotificationRepeat();
                                                                        return;
                                                                    }
                                                                    choosenSoundPath2 = choosenSoundPath;
                                                                    defaultPath2 = defaultPath;
                                                                    lastMessageObject = lastMessageObject4;
                                                                    priority2 = count;
                                                                    dismissIntent = dismissIntent2;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                    notifyOverride2 = false;
                                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                    if (VERSION.SDK_INT > 19) {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    } else {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    }
                                                                    if (VERSION.SDK_INT < 26) {
                                                                        j = dialog_id2;
                                                                        i2 = notifyDelay;
                                                                        size = notifyOverride;
                                                                        j2 = override_dialog_id;
                                                                        i3 = priorityOverride;
                                                                        i4 = vibrateOverride;
                                                                        sharedPreferences = preferences;
                                                                        i5 = user_id;
                                                                        i6 = chat_id;
                                                                        user2 = user;
                                                                        pendingIntent = contentIntent;
                                                                        silent3 = silent;
                                                                        dismissDate2 = needVibrate2;
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        str3 = defaultPath2;
                                                                        i7 = priority2;
                                                                        intent = dismissIntent;
                                                                        fileLocation2 = fileLocation;
                                                                        notifyDelay = notifyAboutLast;
                                                                    } else {
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        notifyOverride = name;
                                                                        override_dialog_id = lastMessageObject;
                                                                        priorityOverride = chat2;
                                                                        silent3 = silent;
                                                                        notifyDelay = notifyAboutLast;
                                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                    }
                                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                    r12.lastNotificationIsNoData = false;
                                                                    scheduleNotificationRepeat();
                                                                    return;
                                                                }
                                                                mBuilder.setPriority(-1);
                                                                if (VERSION.SDK_INT >= 26) {
                                                                    user_id2 = 2;
                                                                    i = user_id2;
                                                                }
                                                                if (priorityOverride2 != 1) {
                                                                }
                                                                lastMessage = choosenSoundPath9;
                                                                silent = priorityOverride2;
                                                                needVibrate2 = needVibrate;
                                                                choosenSoundPath = str;
                                                                priorityOverride2 = ledColor;
                                                                defaultPath = defaultPath4;
                                                                jArr = new long[]{0, 0};
                                                                vibrationPattern = jArr;
                                                                mBuilder.setVibrate(jArr);
                                                                vibrationPattern2 = vibrationPattern;
                                                                sound2 = sound;
                                                                str2 = lastMessage;
                                                                if (AndroidUtilities.needShowPasscode(false)) {
                                                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                    size = rows.size();
                                                                    notifyOverride2 = false;
                                                                    z3 = false;
                                                                    while (true) {
                                                                        choosenSoundPath2 = choosenSoundPath;
                                                                        choosenSoundPath = size;
                                                                        if (z3 < choosenSoundPath) {
                                                                            break;
                                                                        }
                                                                        rows2 = rows;
                                                                        size2 = choosenSoundPath;
                                                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                                                        choosenSoundPath = row.buttons.size();
                                                                        defaultPath2 = defaultPath;
                                                                        defaultPath = 0;
                                                                        while (defaultPath < choosenSoundPath) {
                                                                            size22 = choosenSoundPath;
                                                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                            row2 = row;
                                                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                lastMessageObject = lastMessageObject4;
                                                                                priority2 = count;
                                                                                dismissIntent = dismissIntent2;
                                                                                fileLocation = fileLocation3;
                                                                                dialog_id2 = dialog_id;
                                                                            } else {
                                                                                priority2 = count;
                                                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                dismissIntent = dismissIntent2;
                                                                                dialog_id2 = dialog_id;
                                                                                callbackIntent.putExtra("did", dialog_id2);
                                                                                if (choosenSoundPath3.data == null) {
                                                                                    fileLocation = fileLocation3;
                                                                                } else {
                                                                                    fileLocation = fileLocation3;
                                                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                }
                                                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                charSequence = choosenSoundPath3.text;
                                                                                context = ApplicationLoader.applicationContext;
                                                                                button = choosenSoundPath3;
                                                                                choosenSoundPath = r12.lastButtonId;
                                                                                lastMessageObject = lastMessageObject4;
                                                                                r12.lastButtonId = choosenSoundPath + 1;
                                                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                notifyOverride2 = true;
                                                                            }
                                                                            defaultPath++;
                                                                            dialog_id = dialog_id2;
                                                                            choosenSoundPath = size22;
                                                                            row = row2;
                                                                            count = priority2;
                                                                            dismissIntent2 = dismissIntent;
                                                                            fileLocation3 = fileLocation;
                                                                            lastMessageObject4 = lastMessageObject;
                                                                            dialog_id2 = notifyAboutLast;
                                                                        }
                                                                        priority2 = count;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                        z3++;
                                                                        choosenSoundPath = choosenSoundPath2;
                                                                        rows = rows2;
                                                                        size = size2;
                                                                        defaultPath = defaultPath2;
                                                                        dismissIntent2 = dismissIntent2;
                                                                        dialog_id2 = notifyAboutLast;
                                                                    }
                                                                    defaultPath2 = defaultPath;
                                                                    lastMessageObject = lastMessageObject4;
                                                                    priority2 = count;
                                                                    dismissIntent = dismissIntent2;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                    if (VERSION.SDK_INT > 19) {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    } else {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    }
                                                                    if (VERSION.SDK_INT < 26) {
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        notifyOverride = name;
                                                                        override_dialog_id = lastMessageObject;
                                                                        priorityOverride = chat2;
                                                                        silent3 = silent;
                                                                        notifyDelay = notifyAboutLast;
                                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                    } else {
                                                                        j = dialog_id2;
                                                                        i2 = notifyDelay;
                                                                        size = notifyOverride;
                                                                        j2 = override_dialog_id;
                                                                        i3 = priorityOverride;
                                                                        i4 = vibrateOverride;
                                                                        sharedPreferences = preferences;
                                                                        i5 = user_id;
                                                                        i6 = chat_id;
                                                                        user2 = user;
                                                                        pendingIntent = contentIntent;
                                                                        silent3 = silent;
                                                                        dismissDate2 = needVibrate2;
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        str3 = defaultPath2;
                                                                        i7 = priority2;
                                                                        intent = dismissIntent;
                                                                        fileLocation2 = fileLocation;
                                                                        notifyDelay = notifyAboutLast;
                                                                    }
                                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                    r12.lastNotificationIsNoData = false;
                                                                    scheduleNotificationRepeat();
                                                                    return;
                                                                }
                                                                choosenSoundPath2 = choosenSoundPath;
                                                                defaultPath2 = defaultPath;
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                                notifyOverride2 = false;
                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                if (VERSION.SDK_INT > 19) {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                } else {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                }
                                                                if (VERSION.SDK_INT < 26) {
                                                                    j = dialog_id2;
                                                                    i2 = notifyDelay;
                                                                    size = notifyOverride;
                                                                    j2 = override_dialog_id;
                                                                    i3 = priorityOverride;
                                                                    i4 = vibrateOverride;
                                                                    sharedPreferences = preferences;
                                                                    i5 = user_id;
                                                                    i6 = chat_id;
                                                                    user2 = user;
                                                                    pendingIntent = contentIntent;
                                                                    silent3 = silent;
                                                                    dismissDate2 = needVibrate2;
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    str3 = defaultPath2;
                                                                    i7 = priority2;
                                                                    intent = dismissIntent;
                                                                    fileLocation2 = fileLocation;
                                                                    notifyDelay = notifyAboutLast;
                                                                } else {
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    notifyOverride = name;
                                                                    override_dialog_id = lastMessageObject;
                                                                    priorityOverride = chat2;
                                                                    silent3 = silent;
                                                                    notifyDelay = notifyAboutLast;
                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                }
                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                r12.lastNotificationIsNoData = false;
                                                                scheduleNotificationRepeat();
                                                                return;
                                                            }
                                                        }
                                                        chat2 = chat3;
                                                        str = choosenSoundPath9;
                                                        user_id = user_id2;
                                                        priority = needVibrate4;
                                                        ledColor = count;
                                                    }
                                                    str = choosenSoundPath9;
                                                    user_id = user_id2;
                                                } else {
                                                    chat2 = chat;
                                                    if (user3 != null || user3.photo == null || user3.photo.photo_small == null) {
                                                        str = choosenSoundPath9;
                                                        user_id = user_id2;
                                                        priority = needVibrate4;
                                                        ledColor = count;
                                                    } else {
                                                        str = choosenSoundPath9;
                                                        user_id = user_id2;
                                                        if (!(user3.photo.photo_small.volume_id == null || user3.photo.photo_small.local_id == null)) {
                                                            choosenSoundPath9 = user3.photo.photo_small;
                                                            fileLocation3 = choosenSoundPath9;
                                                            priority = needVibrate4;
                                                            ledColor = count;
                                                            intent2.putExtra("currentAccount", r12.currentAccount);
                                                            contentIntent2 = PendingIntent.getActivity(ApplicationLoader.applicationContext, 0, intent2, NUM);
                                                            if (chat_id2 == 0) {
                                                            }
                                                            lastMessageObject4 = lastMessageObject3;
                                                            if (chat2 != null) {
                                                                str5 = UserObject.getUserName(user3);
                                                            } else {
                                                                str5 = chat2.title;
                                                            }
                                                            choosenSoundPath5 = str5;
                                                            if (((int) dialog_id2) == 0) {
                                                                replace = true;
                                                                if (SharedConfig.isWaitingForPasscodeEnter) {
                                                                    choosenSoundPath9 = choosenSoundPath5;
                                                                    str5 = choosenSoundPath9;
                                                                    chat_id = chat_id2;
                                                                    if (UserConfig.getActivatedAccountsCount() <= 1) {
                                                                        choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                                                    } else if (r12.pushDialogs.size() != 1) {
                                                                        choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                                                    } else {
                                                                        stringBuilder = new StringBuilder();
                                                                        stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                                                        stringBuilder.append("\u30fb");
                                                                        choosenSoundPath9 = stringBuilder.toString();
                                                                    }
                                                                    if (r12.pushDialogs.size() == 1) {
                                                                        if (VERSION.SDK_INT >= 23) {
                                                                            detailText = choosenSoundPath9;
                                                                            chatName = choosenSoundPath5;
                                                                            z4 = inAppVibrate;
                                                                            mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                                            vibrationPattern3 = null;
                                                                            mBuilder.setCategory("msg");
                                                                            stringBuilder = new StringBuilder();
                                                                            i = 0;
                                                                            stringBuilder.append("tel:+");
                                                                            stringBuilder.append(user3.phone);
                                                                            mBuilder.addPerson(stringBuilder.toString());
                                                                            silent2 = 2;
                                                                            user = user3;
                                                                            if (r12.pushMessages.size() == 1) {
                                                                                lastMessage2 = null;
                                                                                sound = null;
                                                                                mBuilder.setContentText(detailText);
                                                                                inboxStyle = new InboxStyle();
                                                                                inboxStyle.setBigContentTitle(str5);
                                                                                count2 = Math.min(10, r12.pushMessages.size());
                                                                                text2 = new boolean[1];
                                                                                contentIntent = contentIntent2;
                                                                                count = silent2;
                                                                                chat_id2 = 0;
                                                                                while (chat_id2 < count2) {
                                                                                    count3 = count2;
                                                                                    count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                                                    dialog_id = dialog_id2;
                                                                                    message2 = getStringForMessage(count4, 0, text2);
                                                                                    if (message2 != null) {
                                                                                        defaultPath4 = defaultPath3;
                                                                                        notifyDelay = dismissDate2;
                                                                                    } else {
                                                                                        defaultPath4 = defaultPath3;
                                                                                        notifyDelay = dismissDate2;
                                                                                        if (count4.messageOwner.date > notifyDelay) {
                                                                                            if (count == 2) {
                                                                                                lastMessage2 = message2;
                                                                                                count = count4.messageOwner.silent;
                                                                                            }
                                                                                            messageObject2 = count4;
                                                                                            if (chat2 != null) {
                                                                                                count2 = new StringBuilder();
                                                                                                count2.append(" @ ");
                                                                                                count2.append(str5);
                                                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                            } else if (text2[0]) {
                                                                                                count2 = new StringBuilder();
                                                                                                count2.append(str5);
                                                                                                count2.append(" ");
                                                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                            } else {
                                                                                                count2 = new StringBuilder();
                                                                                                count2.append(str5);
                                                                                                count2.append(": ");
                                                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                            }
                                                                                            inboxStyle.addLine(message2);
                                                                                        }
                                                                                    }
                                                                                    chat_id2++;
                                                                                    dismissDate2 = notifyDelay;
                                                                                    count2 = count3;
                                                                                    dialog_id2 = dialog_id;
                                                                                    defaultPath3 = defaultPath4;
                                                                                }
                                                                                dialog_id = dialog_id2;
                                                                                defaultPath4 = defaultPath3;
                                                                                notifyDelay = dismissDate2;
                                                                                inboxStyle.setSummaryText(detailText);
                                                                                mBuilder.setStyle(inboxStyle);
                                                                                priorityOverride2 = count;
                                                                                choosenSoundPath9 = lastMessage2;
                                                                            } else {
                                                                                messageObject = (MessageObject) r12.pushMessages.get(0);
                                                                                lastMessage2 = null;
                                                                                text = new boolean[1];
                                                                                stringForMessage = getStringForMessage(messageObject, null, text);
                                                                                message = stringForMessage;
                                                                                lastMessage3 = stringForMessage;
                                                                                choosenSoundPath5 = messageObject.messageOwner.silent;
                                                                                choosenSoundPath9 = message;
                                                                                if (choosenSoundPath9 != null) {
                                                                                    if (replace) {
                                                                                        silent3 = choosenSoundPath5;
                                                                                        sound = null;
                                                                                    } else {
                                                                                        if (chat2 != null) {
                                                                                            silent3 = choosenSoundPath5;
                                                                                            sound = null;
                                                                                            if (text[null]) {
                                                                                                choosenSoundPath5 = new StringBuilder();
                                                                                                choosenSoundPath5.append(str5);
                                                                                                choosenSoundPath5.append(" ");
                                                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                            } else {
                                                                                                choosenSoundPath5 = new StringBuilder();
                                                                                                choosenSoundPath5.append(str5);
                                                                                                choosenSoundPath5.append(": ");
                                                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                            }
                                                                                        } else {
                                                                                            silent3 = choosenSoundPath5;
                                                                                            choosenSoundPath5 = new StringBuilder();
                                                                                            sound = null;
                                                                                            choosenSoundPath5.append(" @ ");
                                                                                            choosenSoundPath5.append(str5);
                                                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                        }
                                                                                        choosenSoundPath9 = message;
                                                                                    }
                                                                                    mBuilder.setContentText(choosenSoundPath9);
                                                                                    mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                                                    contentIntent = contentIntent2;
                                                                                    dialog_id = dialog_id2;
                                                                                    defaultPath4 = defaultPath3;
                                                                                    notifyDelay = dismissDate2;
                                                                                    choosenSoundPath9 = lastMessage3;
                                                                                    priorityOverride2 = silent3;
                                                                                } else {
                                                                                    return;
                                                                                }
                                                                            }
                                                                            dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                                            dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                                            dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                                            mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                                            if (fileLocation3 != null) {
                                                                                name = str5;
                                                                            } else {
                                                                                img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                                                if (img != null) {
                                                                                    file = FileLoader.getPathToAttach(fileLocation3, true);
                                                                                    if (file.exists()) {
                                                                                        name = str5;
                                                                                    } else {
                                                                                        scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                                        options = new Options();
                                                                                        if (scaleFactor < 1.0f) {
                                                                                            name = str5;
                                                                                            str5 = (int) scaleFactor;
                                                                                        } else {
                                                                                            name = str5;
                                                                                            str5 = true;
                                                                                        }
                                                                                        options.inSampleSize = str5;
                                                                                        str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                                        if (str5 != null) {
                                                                                            mBuilder.setLargeIcon(str5);
                                                                                        }
                                                                                    }
                                                                                } else {
                                                                                    mBuilder.setLargeIcon(img.getBitmap());
                                                                                    name = str5;
                                                                                }
                                                                            }
                                                                            z = notifyAboutLast;
                                                                            if (z) {
                                                                                count = priority;
                                                                            } else if (priorityOverride2 == 1) {
                                                                                if (priority == 0) {
                                                                                    count = priority;
                                                                                    if (count != 1) {
                                                                                        if (count == 2) {
                                                                                            if (count != 4) {
                                                                                                mBuilder.setPriority(-2);
                                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                                    user_id2 = 1;
                                                                                                    i = user_id2;
                                                                                                }
                                                                                            } else if (count == 5) {
                                                                                                mBuilder.setPriority(-1);
                                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                                    user_id2 = 2;
                                                                                                    i = user_id2;
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                    mBuilder.setPriority(1);
                                                                                    if (VERSION.SDK_INT >= 26) {
                                                                                        user_id2 = 4;
                                                                                        i = user_id2;
                                                                                    }
                                                                                } else {
                                                                                    mBuilder.setPriority(0);
                                                                                    if (VERSION.SDK_INT >= 26) {
                                                                                        i = 3;
                                                                                    }
                                                                                    count = priority;
                                                                                }
                                                                                if (priorityOverride2 != 1) {
                                                                                }
                                                                                lastMessage = choosenSoundPath9;
                                                                                silent = priorityOverride2;
                                                                                needVibrate2 = needVibrate;
                                                                                choosenSoundPath = str;
                                                                                priorityOverride2 = ledColor;
                                                                                defaultPath = defaultPath4;
                                                                                jArr = new long[]{0, 0};
                                                                                vibrationPattern = jArr;
                                                                                mBuilder.setVibrate(jArr);
                                                                                vibrationPattern2 = vibrationPattern;
                                                                                sound2 = sound;
                                                                                str2 = lastMessage;
                                                                                if (AndroidUtilities.needShowPasscode(false)) {
                                                                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                                    size = rows.size();
                                                                                    notifyOverride2 = false;
                                                                                    z3 = false;
                                                                                    while (true) {
                                                                                        choosenSoundPath2 = choosenSoundPath;
                                                                                        choosenSoundPath = size;
                                                                                        if (z3 < choosenSoundPath) {
                                                                                            break;
                                                                                        }
                                                                                        rows2 = rows;
                                                                                        size2 = choosenSoundPath;
                                                                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                        choosenSoundPath = row.buttons.size();
                                                                                        defaultPath2 = defaultPath;
                                                                                        defaultPath = 0;
                                                                                        while (defaultPath < choosenSoundPath) {
                                                                                            size22 = choosenSoundPath;
                                                                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                            row2 = row;
                                                                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                                priority2 = count;
                                                                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                                dismissIntent = dismissIntent2;
                                                                                                dialog_id2 = dialog_id;
                                                                                                callbackIntent.putExtra("did", dialog_id2);
                                                                                                if (choosenSoundPath3.data == null) {
                                                                                                    fileLocation = fileLocation3;
                                                                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                                } else {
                                                                                                    fileLocation = fileLocation3;
                                                                                                }
                                                                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                                charSequence = choosenSoundPath3.text;
                                                                                                context = ApplicationLoader.applicationContext;
                                                                                                button = choosenSoundPath3;
                                                                                                choosenSoundPath = r12.lastButtonId;
                                                                                                lastMessageObject = lastMessageObject4;
                                                                                                r12.lastButtonId = choosenSoundPath + 1;
                                                                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                                notifyOverride2 = true;
                                                                                            } else {
                                                                                                lastMessageObject = lastMessageObject4;
                                                                                                priority2 = count;
                                                                                                dismissIntent = dismissIntent2;
                                                                                                fileLocation = fileLocation3;
                                                                                                dialog_id2 = dialog_id;
                                                                                            }
                                                                                            defaultPath++;
                                                                                            dialog_id = dialog_id2;
                                                                                            choosenSoundPath = size22;
                                                                                            row = row2;
                                                                                            count = priority2;
                                                                                            dismissIntent2 = dismissIntent;
                                                                                            fileLocation3 = fileLocation;
                                                                                            lastMessageObject4 = lastMessageObject;
                                                                                            dialog_id2 = notifyAboutLast;
                                                                                        }
                                                                                        priority2 = count;
                                                                                        fileLocation = fileLocation3;
                                                                                        dialog_id2 = dialog_id;
                                                                                        z3++;
                                                                                        choosenSoundPath = choosenSoundPath2;
                                                                                        rows = rows2;
                                                                                        size = size2;
                                                                                        defaultPath = defaultPath2;
                                                                                        dismissIntent2 = dismissIntent2;
                                                                                        dialog_id2 = notifyAboutLast;
                                                                                    }
                                                                                    defaultPath2 = defaultPath;
                                                                                    lastMessageObject = lastMessageObject4;
                                                                                    priority2 = count;
                                                                                    dismissIntent = dismissIntent2;
                                                                                    fileLocation = fileLocation3;
                                                                                    dialog_id2 = dialog_id;
                                                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                    if (VERSION.SDK_INT > 19) {
                                                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                    } else {
                                                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                    }
                                                                                    if (VERSION.SDK_INT < 26) {
                                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                                        notifyOverride = name;
                                                                                        override_dialog_id = lastMessageObject;
                                                                                        priorityOverride = chat2;
                                                                                        silent3 = silent;
                                                                                        notifyDelay = notifyAboutLast;
                                                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                    } else {
                                                                                        j = dialog_id2;
                                                                                        i2 = notifyDelay;
                                                                                        size = notifyOverride;
                                                                                        j2 = override_dialog_id;
                                                                                        i3 = priorityOverride;
                                                                                        i4 = vibrateOverride;
                                                                                        sharedPreferences = preferences;
                                                                                        i5 = user_id;
                                                                                        i6 = chat_id;
                                                                                        user2 = user;
                                                                                        pendingIntent = contentIntent;
                                                                                        silent3 = silent;
                                                                                        dismissDate2 = needVibrate2;
                                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                                        str3 = defaultPath2;
                                                                                        i7 = priority2;
                                                                                        intent = dismissIntent;
                                                                                        fileLocation2 = fileLocation;
                                                                                        notifyDelay = notifyAboutLast;
                                                                                    }
                                                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                    r12.lastNotificationIsNoData = false;
                                                                                    scheduleNotificationRepeat();
                                                                                    return;
                                                                                }
                                                                                choosenSoundPath2 = choosenSoundPath;
                                                                                defaultPath2 = defaultPath;
                                                                                lastMessageObject = lastMessageObject4;
                                                                                priority2 = count;
                                                                                dismissIntent = dismissIntent2;
                                                                                fileLocation = fileLocation3;
                                                                                dialog_id2 = dialog_id;
                                                                                notifyOverride2 = false;
                                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                if (VERSION.SDK_INT > 19) {
                                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                } else {
                                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                }
                                                                                if (VERSION.SDK_INT < 26) {
                                                                                    j = dialog_id2;
                                                                                    i2 = notifyDelay;
                                                                                    size = notifyOverride;
                                                                                    j2 = override_dialog_id;
                                                                                    i3 = priorityOverride;
                                                                                    i4 = vibrateOverride;
                                                                                    sharedPreferences = preferences;
                                                                                    i5 = user_id;
                                                                                    i6 = chat_id;
                                                                                    user2 = user;
                                                                                    pendingIntent = contentIntent;
                                                                                    silent3 = silent;
                                                                                    dismissDate2 = needVibrate2;
                                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                                    str3 = defaultPath2;
                                                                                    i7 = priority2;
                                                                                    intent = dismissIntent;
                                                                                    fileLocation2 = fileLocation;
                                                                                    notifyDelay = notifyAboutLast;
                                                                                } else {
                                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                                    notifyOverride = name;
                                                                                    override_dialog_id = lastMessageObject;
                                                                                    priorityOverride = chat2;
                                                                                    silent3 = silent;
                                                                                    notifyDelay = notifyAboutLast;
                                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                }
                                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                r12.lastNotificationIsNoData = false;
                                                                                scheduleNotificationRepeat();
                                                                                return;
                                                                            } else {
                                                                                count = priority;
                                                                            }
                                                                            mBuilder.setPriority(-1);
                                                                            if (VERSION.SDK_INT >= 26) {
                                                                                user_id2 = 2;
                                                                                i = user_id2;
                                                                            }
                                                                            if (priorityOverride2 != 1) {
                                                                            }
                                                                            lastMessage = choosenSoundPath9;
                                                                            silent = priorityOverride2;
                                                                            needVibrate2 = needVibrate;
                                                                            choosenSoundPath = str;
                                                                            priorityOverride2 = ledColor;
                                                                            defaultPath = defaultPath4;
                                                                            jArr = new long[]{0, 0};
                                                                            vibrationPattern = jArr;
                                                                            mBuilder.setVibrate(jArr);
                                                                            vibrationPattern2 = vibrationPattern;
                                                                            sound2 = sound;
                                                                            str2 = lastMessage;
                                                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                                size = rows.size();
                                                                                notifyOverride2 = false;
                                                                                z3 = false;
                                                                                while (true) {
                                                                                    choosenSoundPath2 = choosenSoundPath;
                                                                                    choosenSoundPath = size;
                                                                                    if (z3 < choosenSoundPath) {
                                                                                        break;
                                                                                    }
                                                                                    rows2 = rows;
                                                                                    size2 = choosenSoundPath;
                                                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                    choosenSoundPath = row.buttons.size();
                                                                                    defaultPath2 = defaultPath;
                                                                                    defaultPath = 0;
                                                                                    while (defaultPath < choosenSoundPath) {
                                                                                        size22 = choosenSoundPath;
                                                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                        row2 = row;
                                                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                            lastMessageObject = lastMessageObject4;
                                                                                            priority2 = count;
                                                                                            dismissIntent = dismissIntent2;
                                                                                            fileLocation = fileLocation3;
                                                                                            dialog_id2 = dialog_id;
                                                                                        } else {
                                                                                            priority2 = count;
                                                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                            dismissIntent = dismissIntent2;
                                                                                            dialog_id2 = dialog_id;
                                                                                            callbackIntent.putExtra("did", dialog_id2);
                                                                                            if (choosenSoundPath3.data == null) {
                                                                                                fileLocation = fileLocation3;
                                                                                            } else {
                                                                                                fileLocation = fileLocation3;
                                                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                            }
                                                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                            charSequence = choosenSoundPath3.text;
                                                                                            context = ApplicationLoader.applicationContext;
                                                                                            button = choosenSoundPath3;
                                                                                            choosenSoundPath = r12.lastButtonId;
                                                                                            lastMessageObject = lastMessageObject4;
                                                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                            notifyOverride2 = true;
                                                                                        }
                                                                                        defaultPath++;
                                                                                        dialog_id = dialog_id2;
                                                                                        choosenSoundPath = size22;
                                                                                        row = row2;
                                                                                        count = priority2;
                                                                                        dismissIntent2 = dismissIntent;
                                                                                        fileLocation3 = fileLocation;
                                                                                        lastMessageObject4 = lastMessageObject;
                                                                                        dialog_id2 = notifyAboutLast;
                                                                                    }
                                                                                    priority2 = count;
                                                                                    fileLocation = fileLocation3;
                                                                                    dialog_id2 = dialog_id;
                                                                                    z3++;
                                                                                    choosenSoundPath = choosenSoundPath2;
                                                                                    rows = rows2;
                                                                                    size = size2;
                                                                                    defaultPath = defaultPath2;
                                                                                    dismissIntent2 = dismissIntent2;
                                                                                    dialog_id2 = notifyAboutLast;
                                                                                }
                                                                                defaultPath2 = defaultPath;
                                                                                lastMessageObject = lastMessageObject4;
                                                                                priority2 = count;
                                                                                dismissIntent = dismissIntent2;
                                                                                fileLocation = fileLocation3;
                                                                                dialog_id2 = dialog_id;
                                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                if (VERSION.SDK_INT > 19) {
                                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                } else {
                                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                                }
                                                                                if (VERSION.SDK_INT < 26) {
                                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                                    notifyOverride = name;
                                                                                    override_dialog_id = lastMessageObject;
                                                                                    priorityOverride = chat2;
                                                                                    silent3 = silent;
                                                                                    notifyDelay = notifyAboutLast;
                                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                                } else {
                                                                                    j = dialog_id2;
                                                                                    i2 = notifyDelay;
                                                                                    size = notifyOverride;
                                                                                    j2 = override_dialog_id;
                                                                                    i3 = priorityOverride;
                                                                                    i4 = vibrateOverride;
                                                                                    sharedPreferences = preferences;
                                                                                    i5 = user_id;
                                                                                    i6 = chat_id;
                                                                                    user2 = user;
                                                                                    pendingIntent = contentIntent;
                                                                                    silent3 = silent;
                                                                                    dismissDate2 = needVibrate2;
                                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                                    str3 = defaultPath2;
                                                                                    i7 = priority2;
                                                                                    intent = dismissIntent;
                                                                                    fileLocation2 = fileLocation;
                                                                                    notifyDelay = notifyAboutLast;
                                                                                }
                                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                                r12.lastNotificationIsNoData = false;
                                                                                scheduleNotificationRepeat();
                                                                                return;
                                                                            }
                                                                            choosenSoundPath2 = choosenSoundPath;
                                                                            defaultPath2 = defaultPath;
                                                                            lastMessageObject = lastMessageObject4;
                                                                            priority2 = count;
                                                                            dismissIntent = dismissIntent2;
                                                                            fileLocation = fileLocation3;
                                                                            dialog_id2 = dialog_id;
                                                                            notifyOverride2 = false;
                                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                            if (VERSION.SDK_INT > 19) {
                                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                            } else {
                                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                            }
                                                                            if (VERSION.SDK_INT < 26) {
                                                                                j = dialog_id2;
                                                                                i2 = notifyDelay;
                                                                                size = notifyOverride;
                                                                                j2 = override_dialog_id;
                                                                                i3 = priorityOverride;
                                                                                i4 = vibrateOverride;
                                                                                sharedPreferences = preferences;
                                                                                i5 = user_id;
                                                                                i6 = chat_id;
                                                                                user2 = user;
                                                                                pendingIntent = contentIntent;
                                                                                silent3 = silent;
                                                                                dismissDate2 = needVibrate2;
                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                str3 = defaultPath2;
                                                                                i7 = priority2;
                                                                                intent = dismissIntent;
                                                                                fileLocation2 = fileLocation;
                                                                                notifyDelay = notifyAboutLast;
                                                                            } else {
                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                notifyOverride = name;
                                                                                override_dialog_id = lastMessageObject;
                                                                                priorityOverride = chat2;
                                                                                silent3 = silent;
                                                                                notifyDelay = notifyAboutLast;
                                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                            }
                                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                            r12.lastNotificationIsNoData = false;
                                                                            scheduleNotificationRepeat();
                                                                            return;
                                                                        }
                                                                    }
                                                                    if (r12.pushDialogs.size() != 1) {
                                                                        stringBuilder4 = new StringBuilder();
                                                                        stringBuilder4.append(choosenSoundPath9);
                                                                        stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                                                        detailText = stringBuilder4.toString();
                                                                        chatName = choosenSoundPath5;
                                                                    } else {
                                                                        stringBuilder4 = new StringBuilder();
                                                                        stringBuilder4.append(choosenSoundPath9);
                                                                        objArr = new Object[2];
                                                                        chatName = choosenSoundPath5;
                                                                        objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                                                        objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                                                        stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                                                        detailText = stringBuilder4.toString();
                                                                    }
                                                                    mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                                    vibrationPattern3 = null;
                                                                    mBuilder.setCategory("msg");
                                                                    stringBuilder = new StringBuilder();
                                                                    i = 0;
                                                                    stringBuilder.append("tel:+");
                                                                    stringBuilder.append(user3.phone);
                                                                    mBuilder.addPerson(stringBuilder.toString());
                                                                    silent2 = 2;
                                                                    user = user3;
                                                                    if (r12.pushMessages.size() == 1) {
                                                                        messageObject = (MessageObject) r12.pushMessages.get(0);
                                                                        lastMessage2 = null;
                                                                        text = new boolean[1];
                                                                        stringForMessage = getStringForMessage(messageObject, null, text);
                                                                        message = stringForMessage;
                                                                        lastMessage3 = stringForMessage;
                                                                        choosenSoundPath5 = messageObject.messageOwner.silent;
                                                                        choosenSoundPath9 = message;
                                                                        if (choosenSoundPath9 != null) {
                                                                            if (replace) {
                                                                                if (chat2 != null) {
                                                                                    silent3 = choosenSoundPath5;
                                                                                    choosenSoundPath5 = new StringBuilder();
                                                                                    sound = null;
                                                                                    choosenSoundPath5.append(" @ ");
                                                                                    choosenSoundPath5.append(str5);
                                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                } else {
                                                                                    silent3 = choosenSoundPath5;
                                                                                    sound = null;
                                                                                    if (text[null]) {
                                                                                        choosenSoundPath5 = new StringBuilder();
                                                                                        choosenSoundPath5.append(str5);
                                                                                        choosenSoundPath5.append(": ");
                                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    } else {
                                                                                        choosenSoundPath5 = new StringBuilder();
                                                                                        choosenSoundPath5.append(str5);
                                                                                        choosenSoundPath5.append(" ");
                                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    }
                                                                                }
                                                                                choosenSoundPath9 = message;
                                                                            } else {
                                                                                silent3 = choosenSoundPath5;
                                                                                sound = null;
                                                                            }
                                                                            mBuilder.setContentText(choosenSoundPath9);
                                                                            mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                                            contentIntent = contentIntent2;
                                                                            dialog_id = dialog_id2;
                                                                            defaultPath4 = defaultPath3;
                                                                            notifyDelay = dismissDate2;
                                                                            choosenSoundPath9 = lastMessage3;
                                                                            priorityOverride2 = silent3;
                                                                        } else {
                                                                            return;
                                                                        }
                                                                    }
                                                                    lastMessage2 = null;
                                                                    sound = null;
                                                                    mBuilder.setContentText(detailText);
                                                                    inboxStyle = new InboxStyle();
                                                                    inboxStyle.setBigContentTitle(str5);
                                                                    count2 = Math.min(10, r12.pushMessages.size());
                                                                    text2 = new boolean[1];
                                                                    contentIntent = contentIntent2;
                                                                    count = silent2;
                                                                    chat_id2 = 0;
                                                                    while (chat_id2 < count2) {
                                                                        count3 = count2;
                                                                        count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                                        dialog_id = dialog_id2;
                                                                        message2 = getStringForMessage(count4, 0, text2);
                                                                        if (message2 != null) {
                                                                            defaultPath4 = defaultPath3;
                                                                            notifyDelay = dismissDate2;
                                                                            if (count4.messageOwner.date > notifyDelay) {
                                                                                if (count == 2) {
                                                                                    lastMessage2 = message2;
                                                                                    count = count4.messageOwner.silent;
                                                                                }
                                                                                messageObject2 = count4;
                                                                                if (chat2 != null) {
                                                                                    count2 = new StringBuilder();
                                                                                    count2.append(" @ ");
                                                                                    count2.append(str5);
                                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                } else if (text2[0]) {
                                                                                    count2 = new StringBuilder();
                                                                                    count2.append(str5);
                                                                                    count2.append(": ");
                                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                } else {
                                                                                    count2 = new StringBuilder();
                                                                                    count2.append(str5);
                                                                                    count2.append(" ");
                                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                }
                                                                                inboxStyle.addLine(message2);
                                                                            }
                                                                        } else {
                                                                            defaultPath4 = defaultPath3;
                                                                            notifyDelay = dismissDate2;
                                                                        }
                                                                        chat_id2++;
                                                                        dismissDate2 = notifyDelay;
                                                                        count2 = count3;
                                                                        dialog_id2 = dialog_id;
                                                                        defaultPath3 = defaultPath4;
                                                                    }
                                                                    dialog_id = dialog_id2;
                                                                    defaultPath4 = defaultPath3;
                                                                    notifyDelay = dismissDate2;
                                                                    inboxStyle.setSummaryText(detailText);
                                                                    mBuilder.setStyle(inboxStyle);
                                                                    priorityOverride2 = count;
                                                                    choosenSoundPath9 = lastMessage2;
                                                                    dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                                    dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                                    dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                                    mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                                    if (fileLocation3 != null) {
                                                                        img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                                        if (img != null) {
                                                                            mBuilder.setLargeIcon(img.getBitmap());
                                                                            name = str5;
                                                                        } else {
                                                                            file = FileLoader.getPathToAttach(fileLocation3, true);
                                                                            if (file.exists()) {
                                                                                scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                                options = new Options();
                                                                                if (scaleFactor < 1.0f) {
                                                                                    name = str5;
                                                                                    str5 = true;
                                                                                } else {
                                                                                    name = str5;
                                                                                    str5 = (int) scaleFactor;
                                                                                }
                                                                                options.inSampleSize = str5;
                                                                                str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                                if (str5 != null) {
                                                                                    mBuilder.setLargeIcon(str5);
                                                                                }
                                                                            } else {
                                                                                name = str5;
                                                                            }
                                                                        }
                                                                    } else {
                                                                        name = str5;
                                                                    }
                                                                    z = notifyAboutLast;
                                                                    if (z) {
                                                                        count = priority;
                                                                    } else if (priorityOverride2 == 1) {
                                                                        count = priority;
                                                                    } else {
                                                                        if (priority == 0) {
                                                                            mBuilder.setPriority(0);
                                                                            if (VERSION.SDK_INT >= 26) {
                                                                                i = 3;
                                                                            }
                                                                            count = priority;
                                                                        } else {
                                                                            count = priority;
                                                                            if (count != 1) {
                                                                                if (count == 2) {
                                                                                    if (count != 4) {
                                                                                        mBuilder.setPriority(-2);
                                                                                        if (VERSION.SDK_INT >= 26) {
                                                                                            user_id2 = 1;
                                                                                            i = user_id2;
                                                                                        }
                                                                                    } else if (count == 5) {
                                                                                        mBuilder.setPriority(-1);
                                                                                        if (VERSION.SDK_INT >= 26) {
                                                                                            user_id2 = 2;
                                                                                            i = user_id2;
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                            mBuilder.setPriority(1);
                                                                            if (VERSION.SDK_INT >= 26) {
                                                                                user_id2 = 4;
                                                                                i = user_id2;
                                                                            }
                                                                        }
                                                                        if (priorityOverride2 != 1) {
                                                                        }
                                                                        lastMessage = choosenSoundPath9;
                                                                        silent = priorityOverride2;
                                                                        needVibrate2 = needVibrate;
                                                                        choosenSoundPath = str;
                                                                        priorityOverride2 = ledColor;
                                                                        defaultPath = defaultPath4;
                                                                        jArr = new long[]{0, 0};
                                                                        vibrationPattern = jArr;
                                                                        mBuilder.setVibrate(jArr);
                                                                        vibrationPattern2 = vibrationPattern;
                                                                        sound2 = sound;
                                                                        str2 = lastMessage;
                                                                        if (AndroidUtilities.needShowPasscode(false)) {
                                                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                            size = rows.size();
                                                                            notifyOverride2 = false;
                                                                            z3 = false;
                                                                            while (true) {
                                                                                choosenSoundPath2 = choosenSoundPath;
                                                                                choosenSoundPath = size;
                                                                                if (z3 < choosenSoundPath) {
                                                                                    break;
                                                                                }
                                                                                rows2 = rows;
                                                                                size2 = choosenSoundPath;
                                                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                choosenSoundPath = row.buttons.size();
                                                                                defaultPath2 = defaultPath;
                                                                                defaultPath = 0;
                                                                                while (defaultPath < choosenSoundPath) {
                                                                                    size22 = choosenSoundPath;
                                                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                    row2 = row;
                                                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                        priority2 = count;
                                                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                        dismissIntent = dismissIntent2;
                                                                                        dialog_id2 = dialog_id;
                                                                                        callbackIntent.putExtra("did", dialog_id2);
                                                                                        if (choosenSoundPath3.data == null) {
                                                                                            fileLocation = fileLocation3;
                                                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                        } else {
                                                                                            fileLocation = fileLocation3;
                                                                                        }
                                                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                        charSequence = choosenSoundPath3.text;
                                                                                        context = ApplicationLoader.applicationContext;
                                                                                        button = choosenSoundPath3;
                                                                                        choosenSoundPath = r12.lastButtonId;
                                                                                        lastMessageObject = lastMessageObject4;
                                                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                        notifyOverride2 = true;
                                                                                    } else {
                                                                                        lastMessageObject = lastMessageObject4;
                                                                                        priority2 = count;
                                                                                        dismissIntent = dismissIntent2;
                                                                                        fileLocation = fileLocation3;
                                                                                        dialog_id2 = dialog_id;
                                                                                    }
                                                                                    defaultPath++;
                                                                                    dialog_id = dialog_id2;
                                                                                    choosenSoundPath = size22;
                                                                                    row = row2;
                                                                                    count = priority2;
                                                                                    dismissIntent2 = dismissIntent;
                                                                                    fileLocation3 = fileLocation;
                                                                                    lastMessageObject4 = lastMessageObject;
                                                                                    dialog_id2 = notifyAboutLast;
                                                                                }
                                                                                priority2 = count;
                                                                                fileLocation = fileLocation3;
                                                                                dialog_id2 = dialog_id;
                                                                                z3++;
                                                                                choosenSoundPath = choosenSoundPath2;
                                                                                rows = rows2;
                                                                                size = size2;
                                                                                defaultPath = defaultPath2;
                                                                                dismissIntent2 = dismissIntent2;
                                                                                dialog_id2 = notifyAboutLast;
                                                                            }
                                                                            defaultPath2 = defaultPath;
                                                                            lastMessageObject = lastMessageObject4;
                                                                            priority2 = count;
                                                                            dismissIntent = dismissIntent2;
                                                                            fileLocation = fileLocation3;
                                                                            dialog_id2 = dialog_id;
                                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                            if (VERSION.SDK_INT > 19) {
                                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                            } else {
                                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                            }
                                                                            if (VERSION.SDK_INT < 26) {
                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                notifyOverride = name;
                                                                                override_dialog_id = lastMessageObject;
                                                                                priorityOverride = chat2;
                                                                                silent3 = silent;
                                                                                notifyDelay = notifyAboutLast;
                                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                            } else {
                                                                                j = dialog_id2;
                                                                                i2 = notifyDelay;
                                                                                size = notifyOverride;
                                                                                j2 = override_dialog_id;
                                                                                i3 = priorityOverride;
                                                                                i4 = vibrateOverride;
                                                                                sharedPreferences = preferences;
                                                                                i5 = user_id;
                                                                                i6 = chat_id;
                                                                                user2 = user;
                                                                                pendingIntent = contentIntent;
                                                                                silent3 = silent;
                                                                                dismissDate2 = needVibrate2;
                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                str3 = defaultPath2;
                                                                                i7 = priority2;
                                                                                intent = dismissIntent;
                                                                                fileLocation2 = fileLocation;
                                                                                notifyDelay = notifyAboutLast;
                                                                            }
                                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                            r12.lastNotificationIsNoData = false;
                                                                            scheduleNotificationRepeat();
                                                                            return;
                                                                        }
                                                                        choosenSoundPath2 = choosenSoundPath;
                                                                        defaultPath2 = defaultPath;
                                                                        lastMessageObject = lastMessageObject4;
                                                                        priority2 = count;
                                                                        dismissIntent = dismissIntent2;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                        notifyOverride2 = false;
                                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                        if (VERSION.SDK_INT > 19) {
                                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                        } else {
                                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                        }
                                                                        if (VERSION.SDK_INT < 26) {
                                                                            j = dialog_id2;
                                                                            i2 = notifyDelay;
                                                                            size = notifyOverride;
                                                                            j2 = override_dialog_id;
                                                                            i3 = priorityOverride;
                                                                            i4 = vibrateOverride;
                                                                            sharedPreferences = preferences;
                                                                            i5 = user_id;
                                                                            i6 = chat_id;
                                                                            user2 = user;
                                                                            pendingIntent = contentIntent;
                                                                            silent3 = silent;
                                                                            dismissDate2 = needVibrate2;
                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                            str3 = defaultPath2;
                                                                            i7 = priority2;
                                                                            intent = dismissIntent;
                                                                            fileLocation2 = fileLocation;
                                                                            notifyDelay = notifyAboutLast;
                                                                        } else {
                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                            notifyOverride = name;
                                                                            override_dialog_id = lastMessageObject;
                                                                            priorityOverride = chat2;
                                                                            silent3 = silent;
                                                                            notifyDelay = notifyAboutLast;
                                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                        }
                                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                        r12.lastNotificationIsNoData = false;
                                                                        scheduleNotificationRepeat();
                                                                        return;
                                                                    }
                                                                    mBuilder.setPriority(-1);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        user_id2 = 2;
                                                                        i = user_id2;
                                                                    }
                                                                    if (priorityOverride2 != 1) {
                                                                    }
                                                                    lastMessage = choosenSoundPath9;
                                                                    silent = priorityOverride2;
                                                                    needVibrate2 = needVibrate;
                                                                    choosenSoundPath = str;
                                                                    priorityOverride2 = ledColor;
                                                                    defaultPath = defaultPath4;
                                                                    jArr = new long[]{0, 0};
                                                                    vibrationPattern = jArr;
                                                                    mBuilder.setVibrate(jArr);
                                                                    vibrationPattern2 = vibrationPattern;
                                                                    sound2 = sound;
                                                                    str2 = lastMessage;
                                                                    if (AndroidUtilities.needShowPasscode(false)) {
                                                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                        size = rows.size();
                                                                        notifyOverride2 = false;
                                                                        z3 = false;
                                                                        while (true) {
                                                                            choosenSoundPath2 = choosenSoundPath;
                                                                            choosenSoundPath = size;
                                                                            if (z3 < choosenSoundPath) {
                                                                                break;
                                                                            }
                                                                            rows2 = rows;
                                                                            size2 = choosenSoundPath;
                                                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                                                            choosenSoundPath = row.buttons.size();
                                                                            defaultPath2 = defaultPath;
                                                                            defaultPath = 0;
                                                                            while (defaultPath < choosenSoundPath) {
                                                                                size22 = choosenSoundPath;
                                                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                row2 = row;
                                                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                    lastMessageObject = lastMessageObject4;
                                                                                    priority2 = count;
                                                                                    dismissIntent = dismissIntent2;
                                                                                    fileLocation = fileLocation3;
                                                                                    dialog_id2 = dialog_id;
                                                                                } else {
                                                                                    priority2 = count;
                                                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                    dismissIntent = dismissIntent2;
                                                                                    dialog_id2 = dialog_id;
                                                                                    callbackIntent.putExtra("did", dialog_id2);
                                                                                    if (choosenSoundPath3.data == null) {
                                                                                        fileLocation = fileLocation3;
                                                                                    } else {
                                                                                        fileLocation = fileLocation3;
                                                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                    }
                                                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                    charSequence = choosenSoundPath3.text;
                                                                                    context = ApplicationLoader.applicationContext;
                                                                                    button = choosenSoundPath3;
                                                                                    choosenSoundPath = r12.lastButtonId;
                                                                                    lastMessageObject = lastMessageObject4;
                                                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                    notifyOverride2 = true;
                                                                                }
                                                                                defaultPath++;
                                                                                dialog_id = dialog_id2;
                                                                                choosenSoundPath = size22;
                                                                                row = row2;
                                                                                count = priority2;
                                                                                dismissIntent2 = dismissIntent;
                                                                                fileLocation3 = fileLocation;
                                                                                lastMessageObject4 = lastMessageObject;
                                                                                dialog_id2 = notifyAboutLast;
                                                                            }
                                                                            priority2 = count;
                                                                            fileLocation = fileLocation3;
                                                                            dialog_id2 = dialog_id;
                                                                            z3++;
                                                                            choosenSoundPath = choosenSoundPath2;
                                                                            rows = rows2;
                                                                            size = size2;
                                                                            defaultPath = defaultPath2;
                                                                            dismissIntent2 = dismissIntent2;
                                                                            dialog_id2 = notifyAboutLast;
                                                                        }
                                                                        defaultPath2 = defaultPath;
                                                                        lastMessageObject = lastMessageObject4;
                                                                        priority2 = count;
                                                                        dismissIntent = dismissIntent2;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                        if (VERSION.SDK_INT > 19) {
                                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                        } else {
                                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                        }
                                                                        if (VERSION.SDK_INT < 26) {
                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                            notifyOverride = name;
                                                                            override_dialog_id = lastMessageObject;
                                                                            priorityOverride = chat2;
                                                                            silent3 = silent;
                                                                            notifyDelay = notifyAboutLast;
                                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                        } else {
                                                                            j = dialog_id2;
                                                                            i2 = notifyDelay;
                                                                            size = notifyOverride;
                                                                            j2 = override_dialog_id;
                                                                            i3 = priorityOverride;
                                                                            i4 = vibrateOverride;
                                                                            sharedPreferences = preferences;
                                                                            i5 = user_id;
                                                                            i6 = chat_id;
                                                                            user2 = user;
                                                                            pendingIntent = contentIntent;
                                                                            silent3 = silent;
                                                                            dismissDate2 = needVibrate2;
                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                            str3 = defaultPath2;
                                                                            i7 = priority2;
                                                                            intent = dismissIntent;
                                                                            fileLocation2 = fileLocation;
                                                                            notifyDelay = notifyAboutLast;
                                                                        }
                                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                        r12.lastNotificationIsNoData = false;
                                                                        scheduleNotificationRepeat();
                                                                        return;
                                                                    }
                                                                    choosenSoundPath2 = choosenSoundPath;
                                                                    defaultPath2 = defaultPath;
                                                                    lastMessageObject = lastMessageObject4;
                                                                    priority2 = count;
                                                                    dismissIntent = dismissIntent2;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                    notifyOverride2 = false;
                                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                    if (VERSION.SDK_INT > 19) {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    } else {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    }
                                                                    if (VERSION.SDK_INT < 26) {
                                                                        j = dialog_id2;
                                                                        i2 = notifyDelay;
                                                                        size = notifyOverride;
                                                                        j2 = override_dialog_id;
                                                                        i3 = priorityOverride;
                                                                        i4 = vibrateOverride;
                                                                        sharedPreferences = preferences;
                                                                        i5 = user_id;
                                                                        i6 = chat_id;
                                                                        user2 = user;
                                                                        pendingIntent = contentIntent;
                                                                        silent3 = silent;
                                                                        dismissDate2 = needVibrate2;
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        str3 = defaultPath2;
                                                                        i7 = priority2;
                                                                        intent = dismissIntent;
                                                                        fileLocation2 = fileLocation;
                                                                        notifyDelay = notifyAboutLast;
                                                                    } else {
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        notifyOverride = name;
                                                                        override_dialog_id = lastMessageObject;
                                                                        priorityOverride = chat2;
                                                                        silent3 = silent;
                                                                        notifyDelay = notifyAboutLast;
                                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                    }
                                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                    r12.lastNotificationIsNoData = false;
                                                                    scheduleNotificationRepeat();
                                                                    return;
                                                                }
                                                            } else {
                                                                replace = true;
                                                            }
                                                            choosenSoundPath9 = LocaleController.getString("AppName", R.string.AppName);
                                                            replace = false;
                                                            str5 = choosenSoundPath9;
                                                            chat_id = chat_id2;
                                                            if (UserConfig.getActivatedAccountsCount() <= 1) {
                                                                choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                                            } else if (r12.pushDialogs.size() != 1) {
                                                                stringBuilder = new StringBuilder();
                                                                stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                                                stringBuilder.append("\u30fb");
                                                                choosenSoundPath9 = stringBuilder.toString();
                                                            } else {
                                                                choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                                            }
                                                            if (r12.pushDialogs.size() == 1) {
                                                                if (VERSION.SDK_INT >= 23) {
                                                                    detailText = choosenSoundPath9;
                                                                    chatName = choosenSoundPath5;
                                                                    z4 = inAppVibrate;
                                                                    mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                                    vibrationPattern3 = null;
                                                                    mBuilder.setCategory("msg");
                                                                    stringBuilder = new StringBuilder();
                                                                    i = 0;
                                                                    stringBuilder.append("tel:+");
                                                                    stringBuilder.append(user3.phone);
                                                                    mBuilder.addPerson(stringBuilder.toString());
                                                                    silent2 = 2;
                                                                    user = user3;
                                                                    if (r12.pushMessages.size() == 1) {
                                                                        lastMessage2 = null;
                                                                        sound = null;
                                                                        mBuilder.setContentText(detailText);
                                                                        inboxStyle = new InboxStyle();
                                                                        inboxStyle.setBigContentTitle(str5);
                                                                        count2 = Math.min(10, r12.pushMessages.size());
                                                                        text2 = new boolean[1];
                                                                        contentIntent = contentIntent2;
                                                                        count = silent2;
                                                                        chat_id2 = 0;
                                                                        while (chat_id2 < count2) {
                                                                            count3 = count2;
                                                                            count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                                            dialog_id = dialog_id2;
                                                                            message2 = getStringForMessage(count4, 0, text2);
                                                                            if (message2 != null) {
                                                                                defaultPath4 = defaultPath3;
                                                                                notifyDelay = dismissDate2;
                                                                            } else {
                                                                                defaultPath4 = defaultPath3;
                                                                                notifyDelay = dismissDate2;
                                                                                if (count4.messageOwner.date > notifyDelay) {
                                                                                    if (count == 2) {
                                                                                        lastMessage2 = message2;
                                                                                        count = count4.messageOwner.silent;
                                                                                    }
                                                                                    messageObject2 = count4;
                                                                                    if (chat2 != null) {
                                                                                        count2 = new StringBuilder();
                                                                                        count2.append(" @ ");
                                                                                        count2.append(str5);
                                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    } else if (text2[0]) {
                                                                                        count2 = new StringBuilder();
                                                                                        count2.append(str5);
                                                                                        count2.append(" ");
                                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    } else {
                                                                                        count2 = new StringBuilder();
                                                                                        count2.append(str5);
                                                                                        count2.append(": ");
                                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    }
                                                                                    inboxStyle.addLine(message2);
                                                                                }
                                                                            }
                                                                            chat_id2++;
                                                                            dismissDate2 = notifyDelay;
                                                                            count2 = count3;
                                                                            dialog_id2 = dialog_id;
                                                                            defaultPath3 = defaultPath4;
                                                                        }
                                                                        dialog_id = dialog_id2;
                                                                        defaultPath4 = defaultPath3;
                                                                        notifyDelay = dismissDate2;
                                                                        inboxStyle.setSummaryText(detailText);
                                                                        mBuilder.setStyle(inboxStyle);
                                                                        priorityOverride2 = count;
                                                                        choosenSoundPath9 = lastMessage2;
                                                                    } else {
                                                                        messageObject = (MessageObject) r12.pushMessages.get(0);
                                                                        lastMessage2 = null;
                                                                        text = new boolean[1];
                                                                        stringForMessage = getStringForMessage(messageObject, null, text);
                                                                        message = stringForMessage;
                                                                        lastMessage3 = stringForMessage;
                                                                        choosenSoundPath5 = messageObject.messageOwner.silent;
                                                                        choosenSoundPath9 = message;
                                                                        if (choosenSoundPath9 != null) {
                                                                            if (replace) {
                                                                                silent3 = choosenSoundPath5;
                                                                                sound = null;
                                                                            } else {
                                                                                if (chat2 != null) {
                                                                                    silent3 = choosenSoundPath5;
                                                                                    sound = null;
                                                                                    if (text[null]) {
                                                                                        choosenSoundPath5 = new StringBuilder();
                                                                                        choosenSoundPath5.append(str5);
                                                                                        choosenSoundPath5.append(" ");
                                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    } else {
                                                                                        choosenSoundPath5 = new StringBuilder();
                                                                                        choosenSoundPath5.append(str5);
                                                                                        choosenSoundPath5.append(": ");
                                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    }
                                                                                } else {
                                                                                    silent3 = choosenSoundPath5;
                                                                                    choosenSoundPath5 = new StringBuilder();
                                                                                    sound = null;
                                                                                    choosenSoundPath5.append(" @ ");
                                                                                    choosenSoundPath5.append(str5);
                                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                }
                                                                                choosenSoundPath9 = message;
                                                                            }
                                                                            mBuilder.setContentText(choosenSoundPath9);
                                                                            mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                                            contentIntent = contentIntent2;
                                                                            dialog_id = dialog_id2;
                                                                            defaultPath4 = defaultPath3;
                                                                            notifyDelay = dismissDate2;
                                                                            choosenSoundPath9 = lastMessage3;
                                                                            priorityOverride2 = silent3;
                                                                        } else {
                                                                            return;
                                                                        }
                                                                    }
                                                                    dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                                    dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                                    dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                                    mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                                    if (fileLocation3 != null) {
                                                                        name = str5;
                                                                    } else {
                                                                        img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                                        if (img != null) {
                                                                            file = FileLoader.getPathToAttach(fileLocation3, true);
                                                                            if (file.exists()) {
                                                                                name = str5;
                                                                            } else {
                                                                                scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                                options = new Options();
                                                                                if (scaleFactor < 1.0f) {
                                                                                    name = str5;
                                                                                    str5 = (int) scaleFactor;
                                                                                } else {
                                                                                    name = str5;
                                                                                    str5 = true;
                                                                                }
                                                                                options.inSampleSize = str5;
                                                                                str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                                if (str5 != null) {
                                                                                    mBuilder.setLargeIcon(str5);
                                                                                }
                                                                            }
                                                                        } else {
                                                                            mBuilder.setLargeIcon(img.getBitmap());
                                                                            name = str5;
                                                                        }
                                                                    }
                                                                    z = notifyAboutLast;
                                                                    if (z) {
                                                                        count = priority;
                                                                    } else if (priorityOverride2 == 1) {
                                                                        if (priority == 0) {
                                                                            count = priority;
                                                                            if (count != 1) {
                                                                                if (count == 2) {
                                                                                    if (count != 4) {
                                                                                        mBuilder.setPriority(-2);
                                                                                        if (VERSION.SDK_INT >= 26) {
                                                                                            user_id2 = 1;
                                                                                            i = user_id2;
                                                                                        }
                                                                                    } else if (count == 5) {
                                                                                        mBuilder.setPriority(-1);
                                                                                        if (VERSION.SDK_INT >= 26) {
                                                                                            user_id2 = 2;
                                                                                            i = user_id2;
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                            mBuilder.setPriority(1);
                                                                            if (VERSION.SDK_INT >= 26) {
                                                                                user_id2 = 4;
                                                                                i = user_id2;
                                                                            }
                                                                        } else {
                                                                            mBuilder.setPriority(0);
                                                                            if (VERSION.SDK_INT >= 26) {
                                                                                i = 3;
                                                                            }
                                                                            count = priority;
                                                                        }
                                                                        if (priorityOverride2 != 1) {
                                                                        }
                                                                        lastMessage = choosenSoundPath9;
                                                                        silent = priorityOverride2;
                                                                        needVibrate2 = needVibrate;
                                                                        choosenSoundPath = str;
                                                                        priorityOverride2 = ledColor;
                                                                        defaultPath = defaultPath4;
                                                                        jArr = new long[]{0, 0};
                                                                        vibrationPattern = jArr;
                                                                        mBuilder.setVibrate(jArr);
                                                                        vibrationPattern2 = vibrationPattern;
                                                                        sound2 = sound;
                                                                        str2 = lastMessage;
                                                                        if (AndroidUtilities.needShowPasscode(false)) {
                                                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                            size = rows.size();
                                                                            notifyOverride2 = false;
                                                                            z3 = false;
                                                                            while (true) {
                                                                                choosenSoundPath2 = choosenSoundPath;
                                                                                choosenSoundPath = size;
                                                                                if (z3 < choosenSoundPath) {
                                                                                    break;
                                                                                }
                                                                                rows2 = rows;
                                                                                size2 = choosenSoundPath;
                                                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                choosenSoundPath = row.buttons.size();
                                                                                defaultPath2 = defaultPath;
                                                                                defaultPath = 0;
                                                                                while (defaultPath < choosenSoundPath) {
                                                                                    size22 = choosenSoundPath;
                                                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                    row2 = row;
                                                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                        priority2 = count;
                                                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                        dismissIntent = dismissIntent2;
                                                                                        dialog_id2 = dialog_id;
                                                                                        callbackIntent.putExtra("did", dialog_id2);
                                                                                        if (choosenSoundPath3.data == null) {
                                                                                            fileLocation = fileLocation3;
                                                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                        } else {
                                                                                            fileLocation = fileLocation3;
                                                                                        }
                                                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                        charSequence = choosenSoundPath3.text;
                                                                                        context = ApplicationLoader.applicationContext;
                                                                                        button = choosenSoundPath3;
                                                                                        choosenSoundPath = r12.lastButtonId;
                                                                                        lastMessageObject = lastMessageObject4;
                                                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                        notifyOverride2 = true;
                                                                                    } else {
                                                                                        lastMessageObject = lastMessageObject4;
                                                                                        priority2 = count;
                                                                                        dismissIntent = dismissIntent2;
                                                                                        fileLocation = fileLocation3;
                                                                                        dialog_id2 = dialog_id;
                                                                                    }
                                                                                    defaultPath++;
                                                                                    dialog_id = dialog_id2;
                                                                                    choosenSoundPath = size22;
                                                                                    row = row2;
                                                                                    count = priority2;
                                                                                    dismissIntent2 = dismissIntent;
                                                                                    fileLocation3 = fileLocation;
                                                                                    lastMessageObject4 = lastMessageObject;
                                                                                    dialog_id2 = notifyAboutLast;
                                                                                }
                                                                                priority2 = count;
                                                                                fileLocation = fileLocation3;
                                                                                dialog_id2 = dialog_id;
                                                                                z3++;
                                                                                choosenSoundPath = choosenSoundPath2;
                                                                                rows = rows2;
                                                                                size = size2;
                                                                                defaultPath = defaultPath2;
                                                                                dismissIntent2 = dismissIntent2;
                                                                                dialog_id2 = notifyAboutLast;
                                                                            }
                                                                            defaultPath2 = defaultPath;
                                                                            lastMessageObject = lastMessageObject4;
                                                                            priority2 = count;
                                                                            dismissIntent = dismissIntent2;
                                                                            fileLocation = fileLocation3;
                                                                            dialog_id2 = dialog_id;
                                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                            if (VERSION.SDK_INT > 19) {
                                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                            } else {
                                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                            }
                                                                            if (VERSION.SDK_INT < 26) {
                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                notifyOverride = name;
                                                                                override_dialog_id = lastMessageObject;
                                                                                priorityOverride = chat2;
                                                                                silent3 = silent;
                                                                                notifyDelay = notifyAboutLast;
                                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                            } else {
                                                                                j = dialog_id2;
                                                                                i2 = notifyDelay;
                                                                                size = notifyOverride;
                                                                                j2 = override_dialog_id;
                                                                                i3 = priorityOverride;
                                                                                i4 = vibrateOverride;
                                                                                sharedPreferences = preferences;
                                                                                i5 = user_id;
                                                                                i6 = chat_id;
                                                                                user2 = user;
                                                                                pendingIntent = contentIntent;
                                                                                silent3 = silent;
                                                                                dismissDate2 = needVibrate2;
                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                str3 = defaultPath2;
                                                                                i7 = priority2;
                                                                                intent = dismissIntent;
                                                                                fileLocation2 = fileLocation;
                                                                                notifyDelay = notifyAboutLast;
                                                                            }
                                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                            r12.lastNotificationIsNoData = false;
                                                                            scheduleNotificationRepeat();
                                                                            return;
                                                                        }
                                                                        choosenSoundPath2 = choosenSoundPath;
                                                                        defaultPath2 = defaultPath;
                                                                        lastMessageObject = lastMessageObject4;
                                                                        priority2 = count;
                                                                        dismissIntent = dismissIntent2;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                        notifyOverride2 = false;
                                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                        if (VERSION.SDK_INT > 19) {
                                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                        } else {
                                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                        }
                                                                        if (VERSION.SDK_INT < 26) {
                                                                            j = dialog_id2;
                                                                            i2 = notifyDelay;
                                                                            size = notifyOverride;
                                                                            j2 = override_dialog_id;
                                                                            i3 = priorityOverride;
                                                                            i4 = vibrateOverride;
                                                                            sharedPreferences = preferences;
                                                                            i5 = user_id;
                                                                            i6 = chat_id;
                                                                            user2 = user;
                                                                            pendingIntent = contentIntent;
                                                                            silent3 = silent;
                                                                            dismissDate2 = needVibrate2;
                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                            str3 = defaultPath2;
                                                                            i7 = priority2;
                                                                            intent = dismissIntent;
                                                                            fileLocation2 = fileLocation;
                                                                            notifyDelay = notifyAboutLast;
                                                                        } else {
                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                            notifyOverride = name;
                                                                            override_dialog_id = lastMessageObject;
                                                                            priorityOverride = chat2;
                                                                            silent3 = silent;
                                                                            notifyDelay = notifyAboutLast;
                                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                        }
                                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                        r12.lastNotificationIsNoData = false;
                                                                        scheduleNotificationRepeat();
                                                                        return;
                                                                    } else {
                                                                        count = priority;
                                                                    }
                                                                    mBuilder.setPriority(-1);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        user_id2 = 2;
                                                                        i = user_id2;
                                                                    }
                                                                    if (priorityOverride2 != 1) {
                                                                    }
                                                                    lastMessage = choosenSoundPath9;
                                                                    silent = priorityOverride2;
                                                                    needVibrate2 = needVibrate;
                                                                    choosenSoundPath = str;
                                                                    priorityOverride2 = ledColor;
                                                                    defaultPath = defaultPath4;
                                                                    jArr = new long[]{0, 0};
                                                                    vibrationPattern = jArr;
                                                                    mBuilder.setVibrate(jArr);
                                                                    vibrationPattern2 = vibrationPattern;
                                                                    sound2 = sound;
                                                                    str2 = lastMessage;
                                                                    if (AndroidUtilities.needShowPasscode(false)) {
                                                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                        size = rows.size();
                                                                        notifyOverride2 = false;
                                                                        z3 = false;
                                                                        while (true) {
                                                                            choosenSoundPath2 = choosenSoundPath;
                                                                            choosenSoundPath = size;
                                                                            if (z3 < choosenSoundPath) {
                                                                                break;
                                                                            }
                                                                            rows2 = rows;
                                                                            size2 = choosenSoundPath;
                                                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                                                            choosenSoundPath = row.buttons.size();
                                                                            defaultPath2 = defaultPath;
                                                                            defaultPath = 0;
                                                                            while (defaultPath < choosenSoundPath) {
                                                                                size22 = choosenSoundPath;
                                                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                row2 = row;
                                                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                    lastMessageObject = lastMessageObject4;
                                                                                    priority2 = count;
                                                                                    dismissIntent = dismissIntent2;
                                                                                    fileLocation = fileLocation3;
                                                                                    dialog_id2 = dialog_id;
                                                                                } else {
                                                                                    priority2 = count;
                                                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                    dismissIntent = dismissIntent2;
                                                                                    dialog_id2 = dialog_id;
                                                                                    callbackIntent.putExtra("did", dialog_id2);
                                                                                    if (choosenSoundPath3.data == null) {
                                                                                        fileLocation = fileLocation3;
                                                                                    } else {
                                                                                        fileLocation = fileLocation3;
                                                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                    }
                                                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                    charSequence = choosenSoundPath3.text;
                                                                                    context = ApplicationLoader.applicationContext;
                                                                                    button = choosenSoundPath3;
                                                                                    choosenSoundPath = r12.lastButtonId;
                                                                                    lastMessageObject = lastMessageObject4;
                                                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                    notifyOverride2 = true;
                                                                                }
                                                                                defaultPath++;
                                                                                dialog_id = dialog_id2;
                                                                                choosenSoundPath = size22;
                                                                                row = row2;
                                                                                count = priority2;
                                                                                dismissIntent2 = dismissIntent;
                                                                                fileLocation3 = fileLocation;
                                                                                lastMessageObject4 = lastMessageObject;
                                                                                dialog_id2 = notifyAboutLast;
                                                                            }
                                                                            priority2 = count;
                                                                            fileLocation = fileLocation3;
                                                                            dialog_id2 = dialog_id;
                                                                            z3++;
                                                                            choosenSoundPath = choosenSoundPath2;
                                                                            rows = rows2;
                                                                            size = size2;
                                                                            defaultPath = defaultPath2;
                                                                            dismissIntent2 = dismissIntent2;
                                                                            dialog_id2 = notifyAboutLast;
                                                                        }
                                                                        defaultPath2 = defaultPath;
                                                                        lastMessageObject = lastMessageObject4;
                                                                        priority2 = count;
                                                                        dismissIntent = dismissIntent2;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                        if (VERSION.SDK_INT > 19) {
                                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                        } else {
                                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                        }
                                                                        if (VERSION.SDK_INT < 26) {
                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                            notifyOverride = name;
                                                                            override_dialog_id = lastMessageObject;
                                                                            priorityOverride = chat2;
                                                                            silent3 = silent;
                                                                            notifyDelay = notifyAboutLast;
                                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                        } else {
                                                                            j = dialog_id2;
                                                                            i2 = notifyDelay;
                                                                            size = notifyOverride;
                                                                            j2 = override_dialog_id;
                                                                            i3 = priorityOverride;
                                                                            i4 = vibrateOverride;
                                                                            sharedPreferences = preferences;
                                                                            i5 = user_id;
                                                                            i6 = chat_id;
                                                                            user2 = user;
                                                                            pendingIntent = contentIntent;
                                                                            silent3 = silent;
                                                                            dismissDate2 = needVibrate2;
                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                            str3 = defaultPath2;
                                                                            i7 = priority2;
                                                                            intent = dismissIntent;
                                                                            fileLocation2 = fileLocation;
                                                                            notifyDelay = notifyAboutLast;
                                                                        }
                                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                        r12.lastNotificationIsNoData = false;
                                                                        scheduleNotificationRepeat();
                                                                        return;
                                                                    }
                                                                    choosenSoundPath2 = choosenSoundPath;
                                                                    defaultPath2 = defaultPath;
                                                                    lastMessageObject = lastMessageObject4;
                                                                    priority2 = count;
                                                                    dismissIntent = dismissIntent2;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                    notifyOverride2 = false;
                                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                    if (VERSION.SDK_INT > 19) {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    } else {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    }
                                                                    if (VERSION.SDK_INT < 26) {
                                                                        j = dialog_id2;
                                                                        i2 = notifyDelay;
                                                                        size = notifyOverride;
                                                                        j2 = override_dialog_id;
                                                                        i3 = priorityOverride;
                                                                        i4 = vibrateOverride;
                                                                        sharedPreferences = preferences;
                                                                        i5 = user_id;
                                                                        i6 = chat_id;
                                                                        user2 = user;
                                                                        pendingIntent = contentIntent;
                                                                        silent3 = silent;
                                                                        dismissDate2 = needVibrate2;
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        str3 = defaultPath2;
                                                                        i7 = priority2;
                                                                        intent = dismissIntent;
                                                                        fileLocation2 = fileLocation;
                                                                        notifyDelay = notifyAboutLast;
                                                                    } else {
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        notifyOverride = name;
                                                                        override_dialog_id = lastMessageObject;
                                                                        priorityOverride = chat2;
                                                                        silent3 = silent;
                                                                        notifyDelay = notifyAboutLast;
                                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                    }
                                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                    r12.lastNotificationIsNoData = false;
                                                                    scheduleNotificationRepeat();
                                                                    return;
                                                                }
                                                            }
                                                            if (r12.pushDialogs.size() != 1) {
                                                                stringBuilder4 = new StringBuilder();
                                                                stringBuilder4.append(choosenSoundPath9);
                                                                objArr = new Object[2];
                                                                chatName = choosenSoundPath5;
                                                                objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                                                objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                                                stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                                                detailText = stringBuilder4.toString();
                                                            } else {
                                                                stringBuilder4 = new StringBuilder();
                                                                stringBuilder4.append(choosenSoundPath9);
                                                                stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                                                detailText = stringBuilder4.toString();
                                                                chatName = choosenSoundPath5;
                                                            }
                                                            mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                            vibrationPattern3 = null;
                                                            mBuilder.setCategory("msg");
                                                            stringBuilder = new StringBuilder();
                                                            i = 0;
                                                            stringBuilder.append("tel:+");
                                                            stringBuilder.append(user3.phone);
                                                            mBuilder.addPerson(stringBuilder.toString());
                                                            silent2 = 2;
                                                            user = user3;
                                                            if (r12.pushMessages.size() == 1) {
                                                                messageObject = (MessageObject) r12.pushMessages.get(0);
                                                                lastMessage2 = null;
                                                                text = new boolean[1];
                                                                stringForMessage = getStringForMessage(messageObject, null, text);
                                                                message = stringForMessage;
                                                                lastMessage3 = stringForMessage;
                                                                choosenSoundPath5 = messageObject.messageOwner.silent;
                                                                choosenSoundPath9 = message;
                                                                if (choosenSoundPath9 != null) {
                                                                    if (replace) {
                                                                        if (chat2 != null) {
                                                                            silent3 = choosenSoundPath5;
                                                                            choosenSoundPath5 = new StringBuilder();
                                                                            sound = null;
                                                                            choosenSoundPath5.append(" @ ");
                                                                            choosenSoundPath5.append(str5);
                                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                        } else {
                                                                            silent3 = choosenSoundPath5;
                                                                            sound = null;
                                                                            if (text[null]) {
                                                                                choosenSoundPath5 = new StringBuilder();
                                                                                choosenSoundPath5.append(str5);
                                                                                choosenSoundPath5.append(": ");
                                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            } else {
                                                                                choosenSoundPath5 = new StringBuilder();
                                                                                choosenSoundPath5.append(str5);
                                                                                choosenSoundPath5.append(" ");
                                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            }
                                                                        }
                                                                        choosenSoundPath9 = message;
                                                                    } else {
                                                                        silent3 = choosenSoundPath5;
                                                                        sound = null;
                                                                    }
                                                                    mBuilder.setContentText(choosenSoundPath9);
                                                                    mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                                    contentIntent = contentIntent2;
                                                                    dialog_id = dialog_id2;
                                                                    defaultPath4 = defaultPath3;
                                                                    notifyDelay = dismissDate2;
                                                                    choosenSoundPath9 = lastMessage3;
                                                                    priorityOverride2 = silent3;
                                                                } else {
                                                                    return;
                                                                }
                                                            }
                                                            lastMessage2 = null;
                                                            sound = null;
                                                            mBuilder.setContentText(detailText);
                                                            inboxStyle = new InboxStyle();
                                                            inboxStyle.setBigContentTitle(str5);
                                                            count2 = Math.min(10, r12.pushMessages.size());
                                                            text2 = new boolean[1];
                                                            contentIntent = contentIntent2;
                                                            count = silent2;
                                                            chat_id2 = 0;
                                                            while (chat_id2 < count2) {
                                                                count3 = count2;
                                                                count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                                dialog_id = dialog_id2;
                                                                message2 = getStringForMessage(count4, 0, text2);
                                                                if (message2 != null) {
                                                                    defaultPath4 = defaultPath3;
                                                                    notifyDelay = dismissDate2;
                                                                    if (count4.messageOwner.date > notifyDelay) {
                                                                        if (count == 2) {
                                                                            lastMessage2 = message2;
                                                                            count = count4.messageOwner.silent;
                                                                        }
                                                                        messageObject2 = count4;
                                                                        if (chat2 != null) {
                                                                            count2 = new StringBuilder();
                                                                            count2.append(" @ ");
                                                                            count2.append(str5);
                                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                        } else if (text2[0]) {
                                                                            count2 = new StringBuilder();
                                                                            count2.append(str5);
                                                                            count2.append(": ");
                                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                        } else {
                                                                            count2 = new StringBuilder();
                                                                            count2.append(str5);
                                                                            count2.append(" ");
                                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                        }
                                                                        inboxStyle.addLine(message2);
                                                                    }
                                                                } else {
                                                                    defaultPath4 = defaultPath3;
                                                                    notifyDelay = dismissDate2;
                                                                }
                                                                chat_id2++;
                                                                dismissDate2 = notifyDelay;
                                                                count2 = count3;
                                                                dialog_id2 = dialog_id;
                                                                defaultPath3 = defaultPath4;
                                                            }
                                                            dialog_id = dialog_id2;
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                            inboxStyle.setSummaryText(detailText);
                                                            mBuilder.setStyle(inboxStyle);
                                                            priorityOverride2 = count;
                                                            choosenSoundPath9 = lastMessage2;
                                                            dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                            dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                            dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                            mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                            if (fileLocation3 != null) {
                                                                img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                                if (img != null) {
                                                                    mBuilder.setLargeIcon(img.getBitmap());
                                                                    name = str5;
                                                                } else {
                                                                    file = FileLoader.getPathToAttach(fileLocation3, true);
                                                                    if (file.exists()) {
                                                                        scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                        options = new Options();
                                                                        if (scaleFactor < 1.0f) {
                                                                            name = str5;
                                                                            str5 = true;
                                                                        } else {
                                                                            name = str5;
                                                                            str5 = (int) scaleFactor;
                                                                        }
                                                                        options.inSampleSize = str5;
                                                                        str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                        if (str5 != null) {
                                                                            mBuilder.setLargeIcon(str5);
                                                                        }
                                                                    } else {
                                                                        name = str5;
                                                                    }
                                                                }
                                                            } else {
                                                                name = str5;
                                                            }
                                                            z = notifyAboutLast;
                                                            if (z) {
                                                                count = priority;
                                                            } else if (priorityOverride2 == 1) {
                                                                count = priority;
                                                            } else {
                                                                if (priority == 0) {
                                                                    mBuilder.setPriority(0);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        i = 3;
                                                                    }
                                                                    count = priority;
                                                                } else {
                                                                    count = priority;
                                                                    if (count != 1) {
                                                                        if (count == 2) {
                                                                            if (count != 4) {
                                                                                mBuilder.setPriority(-2);
                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                    user_id2 = 1;
                                                                                    i = user_id2;
                                                                                }
                                                                            } else if (count == 5) {
                                                                                mBuilder.setPriority(-1);
                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                    user_id2 = 2;
                                                                                    i = user_id2;
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                    mBuilder.setPriority(1);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        user_id2 = 4;
                                                                        i = user_id2;
                                                                    }
                                                                }
                                                                if (priorityOverride2 != 1) {
                                                                }
                                                                lastMessage = choosenSoundPath9;
                                                                silent = priorityOverride2;
                                                                needVibrate2 = needVibrate;
                                                                choosenSoundPath = str;
                                                                priorityOverride2 = ledColor;
                                                                defaultPath = defaultPath4;
                                                                jArr = new long[]{0, 0};
                                                                vibrationPattern = jArr;
                                                                mBuilder.setVibrate(jArr);
                                                                vibrationPattern2 = vibrationPattern;
                                                                sound2 = sound;
                                                                str2 = lastMessage;
                                                                if (AndroidUtilities.needShowPasscode(false)) {
                                                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                    size = rows.size();
                                                                    notifyOverride2 = false;
                                                                    z3 = false;
                                                                    while (true) {
                                                                        choosenSoundPath2 = choosenSoundPath;
                                                                        choosenSoundPath = size;
                                                                        if (z3 < choosenSoundPath) {
                                                                            break;
                                                                        }
                                                                        rows2 = rows;
                                                                        size2 = choosenSoundPath;
                                                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                                                        choosenSoundPath = row.buttons.size();
                                                                        defaultPath2 = defaultPath;
                                                                        defaultPath = 0;
                                                                        while (defaultPath < choosenSoundPath) {
                                                                            size22 = choosenSoundPath;
                                                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                            row2 = row;
                                                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                priority2 = count;
                                                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                dismissIntent = dismissIntent2;
                                                                                dialog_id2 = dialog_id;
                                                                                callbackIntent.putExtra("did", dialog_id2);
                                                                                if (choosenSoundPath3.data == null) {
                                                                                    fileLocation = fileLocation3;
                                                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                } else {
                                                                                    fileLocation = fileLocation3;
                                                                                }
                                                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                charSequence = choosenSoundPath3.text;
                                                                                context = ApplicationLoader.applicationContext;
                                                                                button = choosenSoundPath3;
                                                                                choosenSoundPath = r12.lastButtonId;
                                                                                lastMessageObject = lastMessageObject4;
                                                                                r12.lastButtonId = choosenSoundPath + 1;
                                                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                notifyOverride2 = true;
                                                                            } else {
                                                                                lastMessageObject = lastMessageObject4;
                                                                                priority2 = count;
                                                                                dismissIntent = dismissIntent2;
                                                                                fileLocation = fileLocation3;
                                                                                dialog_id2 = dialog_id;
                                                                            }
                                                                            defaultPath++;
                                                                            dialog_id = dialog_id2;
                                                                            choosenSoundPath = size22;
                                                                            row = row2;
                                                                            count = priority2;
                                                                            dismissIntent2 = dismissIntent;
                                                                            fileLocation3 = fileLocation;
                                                                            lastMessageObject4 = lastMessageObject;
                                                                            dialog_id2 = notifyAboutLast;
                                                                        }
                                                                        priority2 = count;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                        z3++;
                                                                        choosenSoundPath = choosenSoundPath2;
                                                                        rows = rows2;
                                                                        size = size2;
                                                                        defaultPath = defaultPath2;
                                                                        dismissIntent2 = dismissIntent2;
                                                                        dialog_id2 = notifyAboutLast;
                                                                    }
                                                                    defaultPath2 = defaultPath;
                                                                    lastMessageObject = lastMessageObject4;
                                                                    priority2 = count;
                                                                    dismissIntent = dismissIntent2;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                    if (VERSION.SDK_INT > 19) {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    } else {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    }
                                                                    if (VERSION.SDK_INT < 26) {
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        notifyOverride = name;
                                                                        override_dialog_id = lastMessageObject;
                                                                        priorityOverride = chat2;
                                                                        silent3 = silent;
                                                                        notifyDelay = notifyAboutLast;
                                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                    } else {
                                                                        j = dialog_id2;
                                                                        i2 = notifyDelay;
                                                                        size = notifyOverride;
                                                                        j2 = override_dialog_id;
                                                                        i3 = priorityOverride;
                                                                        i4 = vibrateOverride;
                                                                        sharedPreferences = preferences;
                                                                        i5 = user_id;
                                                                        i6 = chat_id;
                                                                        user2 = user;
                                                                        pendingIntent = contentIntent;
                                                                        silent3 = silent;
                                                                        dismissDate2 = needVibrate2;
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        str3 = defaultPath2;
                                                                        i7 = priority2;
                                                                        intent = dismissIntent;
                                                                        fileLocation2 = fileLocation;
                                                                        notifyDelay = notifyAboutLast;
                                                                    }
                                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                    r12.lastNotificationIsNoData = false;
                                                                    scheduleNotificationRepeat();
                                                                    return;
                                                                }
                                                                choosenSoundPath2 = choosenSoundPath;
                                                                defaultPath2 = defaultPath;
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                                notifyOverride2 = false;
                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                if (VERSION.SDK_INT > 19) {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                } else {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                }
                                                                if (VERSION.SDK_INT < 26) {
                                                                    j = dialog_id2;
                                                                    i2 = notifyDelay;
                                                                    size = notifyOverride;
                                                                    j2 = override_dialog_id;
                                                                    i3 = priorityOverride;
                                                                    i4 = vibrateOverride;
                                                                    sharedPreferences = preferences;
                                                                    i5 = user_id;
                                                                    i6 = chat_id;
                                                                    user2 = user;
                                                                    pendingIntent = contentIntent;
                                                                    silent3 = silent;
                                                                    dismissDate2 = needVibrate2;
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    str3 = defaultPath2;
                                                                    i7 = priority2;
                                                                    intent = dismissIntent;
                                                                    fileLocation2 = fileLocation;
                                                                    notifyDelay = notifyAboutLast;
                                                                } else {
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    notifyOverride = name;
                                                                    override_dialog_id = lastMessageObject;
                                                                    priorityOverride = chat2;
                                                                    silent3 = silent;
                                                                    notifyDelay = notifyAboutLast;
                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                }
                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                r12.lastNotificationIsNoData = false;
                                                                scheduleNotificationRepeat();
                                                                return;
                                                            }
                                                            mBuilder.setPriority(-1);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 2;
                                                                i = user_id2;
                                                            }
                                                            if (priorityOverride2 != 1) {
                                                            }
                                                            lastMessage = choosenSoundPath9;
                                                            silent = priorityOverride2;
                                                            needVibrate2 = needVibrate;
                                                            choosenSoundPath = str;
                                                            priorityOverride2 = ledColor;
                                                            defaultPath = defaultPath4;
                                                            jArr = new long[]{0, 0};
                                                            vibrationPattern = jArr;
                                                            mBuilder.setVibrate(jArr);
                                                            vibrationPattern2 = vibrationPattern;
                                                            sound2 = sound;
                                                            str2 = lastMessage;
                                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                size = rows.size();
                                                                notifyOverride2 = false;
                                                                z3 = false;
                                                                while (true) {
                                                                    choosenSoundPath2 = choosenSoundPath;
                                                                    choosenSoundPath = size;
                                                                    if (z3 < choosenSoundPath) {
                                                                        break;
                                                                    }
                                                                    rows2 = rows;
                                                                    size2 = choosenSoundPath;
                                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                                    choosenSoundPath = row.buttons.size();
                                                                    defaultPath2 = defaultPath;
                                                                    defaultPath = 0;
                                                                    while (defaultPath < choosenSoundPath) {
                                                                        size22 = choosenSoundPath;
                                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                        row2 = row;
                                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                            lastMessageObject = lastMessageObject4;
                                                                            priority2 = count;
                                                                            dismissIntent = dismissIntent2;
                                                                            fileLocation = fileLocation3;
                                                                            dialog_id2 = dialog_id;
                                                                        } else {
                                                                            priority2 = count;
                                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                            dismissIntent = dismissIntent2;
                                                                            dialog_id2 = dialog_id;
                                                                            callbackIntent.putExtra("did", dialog_id2);
                                                                            if (choosenSoundPath3.data == null) {
                                                                                fileLocation = fileLocation3;
                                                                            } else {
                                                                                fileLocation = fileLocation3;
                                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                            }
                                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                            charSequence = choosenSoundPath3.text;
                                                                            context = ApplicationLoader.applicationContext;
                                                                            button = choosenSoundPath3;
                                                                            choosenSoundPath = r12.lastButtonId;
                                                                            lastMessageObject = lastMessageObject4;
                                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                            notifyOverride2 = true;
                                                                        }
                                                                        defaultPath++;
                                                                        dialog_id = dialog_id2;
                                                                        choosenSoundPath = size22;
                                                                        row = row2;
                                                                        count = priority2;
                                                                        dismissIntent2 = dismissIntent;
                                                                        fileLocation3 = fileLocation;
                                                                        lastMessageObject4 = lastMessageObject;
                                                                        dialog_id2 = notifyAboutLast;
                                                                    }
                                                                    priority2 = count;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                    z3++;
                                                                    choosenSoundPath = choosenSoundPath2;
                                                                    rows = rows2;
                                                                    size = size2;
                                                                    defaultPath = defaultPath2;
                                                                    dismissIntent2 = dismissIntent2;
                                                                    dialog_id2 = notifyAboutLast;
                                                                }
                                                                defaultPath2 = defaultPath;
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                if (VERSION.SDK_INT > 19) {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                } else {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                }
                                                                if (VERSION.SDK_INT < 26) {
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    notifyOverride = name;
                                                                    override_dialog_id = lastMessageObject;
                                                                    priorityOverride = chat2;
                                                                    silent3 = silent;
                                                                    notifyDelay = notifyAboutLast;
                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                } else {
                                                                    j = dialog_id2;
                                                                    i2 = notifyDelay;
                                                                    size = notifyOverride;
                                                                    j2 = override_dialog_id;
                                                                    i3 = priorityOverride;
                                                                    i4 = vibrateOverride;
                                                                    sharedPreferences = preferences;
                                                                    i5 = user_id;
                                                                    i6 = chat_id;
                                                                    user2 = user;
                                                                    pendingIntent = contentIntent;
                                                                    silent3 = silent;
                                                                    dismissDate2 = needVibrate2;
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    str3 = defaultPath2;
                                                                    i7 = priority2;
                                                                    intent = dismissIntent;
                                                                    fileLocation2 = fileLocation;
                                                                    notifyDelay = notifyAboutLast;
                                                                }
                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                r12.lastNotificationIsNoData = false;
                                                                scheduleNotificationRepeat();
                                                                return;
                                                            }
                                                            choosenSoundPath2 = choosenSoundPath;
                                                            defaultPath2 = defaultPath;
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            notifyOverride2 = false;
                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                            if (VERSION.SDK_INT > 19) {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            } else {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            }
                                                            if (VERSION.SDK_INT < 26) {
                                                                j = dialog_id2;
                                                                i2 = notifyDelay;
                                                                size = notifyOverride;
                                                                j2 = override_dialog_id;
                                                                i3 = priorityOverride;
                                                                i4 = vibrateOverride;
                                                                sharedPreferences = preferences;
                                                                i5 = user_id;
                                                                i6 = chat_id;
                                                                user2 = user;
                                                                pendingIntent = contentIntent;
                                                                silent3 = silent;
                                                                dismissDate2 = needVibrate2;
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                str3 = defaultPath2;
                                                                i7 = priority2;
                                                                intent = dismissIntent;
                                                                fileLocation2 = fileLocation;
                                                                notifyDelay = notifyAboutLast;
                                                            } else {
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                notifyOverride = name;
                                                                override_dialog_id = lastMessageObject;
                                                                priorityOverride = chat2;
                                                                silent3 = silent;
                                                                notifyDelay = notifyAboutLast;
                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                            }
                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                            r12.lastNotificationIsNoData = false;
                                                            scheduleNotificationRepeat();
                                                            return;
                                                        }
                                                    }
                                                }
                                                priority = needVibrate4;
                                                ledColor = count;
                                            } else {
                                                str = choosenSoundPath9;
                                                user_id = user_id2;
                                                chat2 = chat;
                                                priority = needVibrate4;
                                                ledColor = count;
                                            }
                                            choosenSoundPath9 = null;
                                            fileLocation3 = choosenSoundPath9;
                                            priority = needVibrate4;
                                            ledColor = count;
                                            intent2.putExtra("currentAccount", r12.currentAccount);
                                            contentIntent2 = PendingIntent.getActivity(ApplicationLoader.applicationContext, 0, intent2, NUM);
                                            if (chat_id2 == 0) {
                                            }
                                            lastMessageObject4 = lastMessageObject3;
                                            if (chat2 != null) {
                                                str5 = chat2.title;
                                            } else {
                                                str5 = UserObject.getUserName(user3);
                                            }
                                            choosenSoundPath5 = str5;
                                            if (((int) dialog_id2) == 0) {
                                                replace = true;
                                            } else {
                                                replace = true;
                                                if (SharedConfig.isWaitingForPasscodeEnter) {
                                                    choosenSoundPath9 = choosenSoundPath5;
                                                    str5 = choosenSoundPath9;
                                                    chat_id = chat_id2;
                                                    if (UserConfig.getActivatedAccountsCount() <= 1) {
                                                        choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                                    } else if (r12.pushDialogs.size() != 1) {
                                                        choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                                    } else {
                                                        stringBuilder = new StringBuilder();
                                                        stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                                        stringBuilder.append("\u30fb");
                                                        choosenSoundPath9 = stringBuilder.toString();
                                                    }
                                                    if (r12.pushDialogs.size() == 1) {
                                                        if (VERSION.SDK_INT >= 23) {
                                                            detailText = choosenSoundPath9;
                                                            chatName = choosenSoundPath5;
                                                            z4 = inAppVibrate;
                                                            mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                            vibrationPattern3 = null;
                                                            mBuilder.setCategory("msg");
                                                            stringBuilder = new StringBuilder();
                                                            i = 0;
                                                            stringBuilder.append("tel:+");
                                                            stringBuilder.append(user3.phone);
                                                            mBuilder.addPerson(stringBuilder.toString());
                                                            silent2 = 2;
                                                            user = user3;
                                                            if (r12.pushMessages.size() == 1) {
                                                                lastMessage2 = null;
                                                                sound = null;
                                                                mBuilder.setContentText(detailText);
                                                                inboxStyle = new InboxStyle();
                                                                inboxStyle.setBigContentTitle(str5);
                                                                count2 = Math.min(10, r12.pushMessages.size());
                                                                text2 = new boolean[1];
                                                                contentIntent = contentIntent2;
                                                                count = silent2;
                                                                chat_id2 = 0;
                                                                while (chat_id2 < count2) {
                                                                    count3 = count2;
                                                                    count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                                    dialog_id = dialog_id2;
                                                                    message2 = getStringForMessage(count4, 0, text2);
                                                                    if (message2 != null) {
                                                                        defaultPath4 = defaultPath3;
                                                                        notifyDelay = dismissDate2;
                                                                    } else {
                                                                        defaultPath4 = defaultPath3;
                                                                        notifyDelay = dismissDate2;
                                                                        if (count4.messageOwner.date > notifyDelay) {
                                                                            if (count == 2) {
                                                                                lastMessage2 = message2;
                                                                                count = count4.messageOwner.silent;
                                                                            }
                                                                            messageObject2 = count4;
                                                                            if (chat2 != null) {
                                                                                count2 = new StringBuilder();
                                                                                count2.append(" @ ");
                                                                                count2.append(str5);
                                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            } else if (text2[0]) {
                                                                                count2 = new StringBuilder();
                                                                                count2.append(str5);
                                                                                count2.append(" ");
                                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            } else {
                                                                                count2 = new StringBuilder();
                                                                                count2.append(str5);
                                                                                count2.append(": ");
                                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            }
                                                                            inboxStyle.addLine(message2);
                                                                        }
                                                                    }
                                                                    chat_id2++;
                                                                    dismissDate2 = notifyDelay;
                                                                    count2 = count3;
                                                                    dialog_id2 = dialog_id;
                                                                    defaultPath3 = defaultPath4;
                                                                }
                                                                dialog_id = dialog_id2;
                                                                defaultPath4 = defaultPath3;
                                                                notifyDelay = dismissDate2;
                                                                inboxStyle.setSummaryText(detailText);
                                                                mBuilder.setStyle(inboxStyle);
                                                                priorityOverride2 = count;
                                                                choosenSoundPath9 = lastMessage2;
                                                            } else {
                                                                messageObject = (MessageObject) r12.pushMessages.get(0);
                                                                lastMessage2 = null;
                                                                text = new boolean[1];
                                                                stringForMessage = getStringForMessage(messageObject, null, text);
                                                                message = stringForMessage;
                                                                lastMessage3 = stringForMessage;
                                                                choosenSoundPath5 = messageObject.messageOwner.silent;
                                                                choosenSoundPath9 = message;
                                                                if (choosenSoundPath9 != null) {
                                                                    if (replace) {
                                                                        silent3 = choosenSoundPath5;
                                                                        sound = null;
                                                                    } else {
                                                                        if (chat2 != null) {
                                                                            silent3 = choosenSoundPath5;
                                                                            sound = null;
                                                                            if (text[null]) {
                                                                                choosenSoundPath5 = new StringBuilder();
                                                                                choosenSoundPath5.append(str5);
                                                                                choosenSoundPath5.append(" ");
                                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            } else {
                                                                                choosenSoundPath5 = new StringBuilder();
                                                                                choosenSoundPath5.append(str5);
                                                                                choosenSoundPath5.append(": ");
                                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            }
                                                                        } else {
                                                                            silent3 = choosenSoundPath5;
                                                                            choosenSoundPath5 = new StringBuilder();
                                                                            sound = null;
                                                                            choosenSoundPath5.append(" @ ");
                                                                            choosenSoundPath5.append(str5);
                                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                        }
                                                                        choosenSoundPath9 = message;
                                                                    }
                                                                    mBuilder.setContentText(choosenSoundPath9);
                                                                    mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                                    contentIntent = contentIntent2;
                                                                    dialog_id = dialog_id2;
                                                                    defaultPath4 = defaultPath3;
                                                                    notifyDelay = dismissDate2;
                                                                    choosenSoundPath9 = lastMessage3;
                                                                    priorityOverride2 = silent3;
                                                                } else {
                                                                    return;
                                                                }
                                                            }
                                                            dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                            dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                            dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                            mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                            if (fileLocation3 != null) {
                                                                name = str5;
                                                            } else {
                                                                img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                                if (img != null) {
                                                                    file = FileLoader.getPathToAttach(fileLocation3, true);
                                                                    if (file.exists()) {
                                                                        name = str5;
                                                                    } else {
                                                                        scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                        options = new Options();
                                                                        if (scaleFactor < 1.0f) {
                                                                            name = str5;
                                                                            str5 = (int) scaleFactor;
                                                                        } else {
                                                                            name = str5;
                                                                            str5 = true;
                                                                        }
                                                                        options.inSampleSize = str5;
                                                                        str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                        if (str5 != null) {
                                                                            mBuilder.setLargeIcon(str5);
                                                                        }
                                                                    }
                                                                } else {
                                                                    mBuilder.setLargeIcon(img.getBitmap());
                                                                    name = str5;
                                                                }
                                                            }
                                                            z = notifyAboutLast;
                                                            if (z) {
                                                                count = priority;
                                                            } else if (priorityOverride2 == 1) {
                                                                if (priority == 0) {
                                                                    count = priority;
                                                                    if (count != 1) {
                                                                        if (count == 2) {
                                                                            if (count != 4) {
                                                                                mBuilder.setPriority(-2);
                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                    user_id2 = 1;
                                                                                    i = user_id2;
                                                                                }
                                                                            } else if (count == 5) {
                                                                                mBuilder.setPriority(-1);
                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                    user_id2 = 2;
                                                                                    i = user_id2;
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                    mBuilder.setPriority(1);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        user_id2 = 4;
                                                                        i = user_id2;
                                                                    }
                                                                } else {
                                                                    mBuilder.setPriority(0);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        i = 3;
                                                                    }
                                                                    count = priority;
                                                                }
                                                                if (priorityOverride2 != 1) {
                                                                }
                                                                lastMessage = choosenSoundPath9;
                                                                silent = priorityOverride2;
                                                                needVibrate2 = needVibrate;
                                                                choosenSoundPath = str;
                                                                priorityOverride2 = ledColor;
                                                                defaultPath = defaultPath4;
                                                                jArr = new long[]{0, 0};
                                                                vibrationPattern = jArr;
                                                                mBuilder.setVibrate(jArr);
                                                                vibrationPattern2 = vibrationPattern;
                                                                sound2 = sound;
                                                                str2 = lastMessage;
                                                                if (AndroidUtilities.needShowPasscode(false)) {
                                                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                    size = rows.size();
                                                                    notifyOverride2 = false;
                                                                    z3 = false;
                                                                    while (true) {
                                                                        choosenSoundPath2 = choosenSoundPath;
                                                                        choosenSoundPath = size;
                                                                        if (z3 < choosenSoundPath) {
                                                                            break;
                                                                        }
                                                                        rows2 = rows;
                                                                        size2 = choosenSoundPath;
                                                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                                                        choosenSoundPath = row.buttons.size();
                                                                        defaultPath2 = defaultPath;
                                                                        defaultPath = 0;
                                                                        while (defaultPath < choosenSoundPath) {
                                                                            size22 = choosenSoundPath;
                                                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                            row2 = row;
                                                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                priority2 = count;
                                                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                dismissIntent = dismissIntent2;
                                                                                dialog_id2 = dialog_id;
                                                                                callbackIntent.putExtra("did", dialog_id2);
                                                                                if (choosenSoundPath3.data == null) {
                                                                                    fileLocation = fileLocation3;
                                                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                } else {
                                                                                    fileLocation = fileLocation3;
                                                                                }
                                                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                charSequence = choosenSoundPath3.text;
                                                                                context = ApplicationLoader.applicationContext;
                                                                                button = choosenSoundPath3;
                                                                                choosenSoundPath = r12.lastButtonId;
                                                                                lastMessageObject = lastMessageObject4;
                                                                                r12.lastButtonId = choosenSoundPath + 1;
                                                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                notifyOverride2 = true;
                                                                            } else {
                                                                                lastMessageObject = lastMessageObject4;
                                                                                priority2 = count;
                                                                                dismissIntent = dismissIntent2;
                                                                                fileLocation = fileLocation3;
                                                                                dialog_id2 = dialog_id;
                                                                            }
                                                                            defaultPath++;
                                                                            dialog_id = dialog_id2;
                                                                            choosenSoundPath = size22;
                                                                            row = row2;
                                                                            count = priority2;
                                                                            dismissIntent2 = dismissIntent;
                                                                            fileLocation3 = fileLocation;
                                                                            lastMessageObject4 = lastMessageObject;
                                                                            dialog_id2 = notifyAboutLast;
                                                                        }
                                                                        priority2 = count;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                        z3++;
                                                                        choosenSoundPath = choosenSoundPath2;
                                                                        rows = rows2;
                                                                        size = size2;
                                                                        defaultPath = defaultPath2;
                                                                        dismissIntent2 = dismissIntent2;
                                                                        dialog_id2 = notifyAboutLast;
                                                                    }
                                                                    defaultPath2 = defaultPath;
                                                                    lastMessageObject = lastMessageObject4;
                                                                    priority2 = count;
                                                                    dismissIntent = dismissIntent2;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                    if (VERSION.SDK_INT > 19) {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    } else {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    }
                                                                    if (VERSION.SDK_INT < 26) {
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        notifyOverride = name;
                                                                        override_dialog_id = lastMessageObject;
                                                                        priorityOverride = chat2;
                                                                        silent3 = silent;
                                                                        notifyDelay = notifyAboutLast;
                                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                    } else {
                                                                        j = dialog_id2;
                                                                        i2 = notifyDelay;
                                                                        size = notifyOverride;
                                                                        j2 = override_dialog_id;
                                                                        i3 = priorityOverride;
                                                                        i4 = vibrateOverride;
                                                                        sharedPreferences = preferences;
                                                                        i5 = user_id;
                                                                        i6 = chat_id;
                                                                        user2 = user;
                                                                        pendingIntent = contentIntent;
                                                                        silent3 = silent;
                                                                        dismissDate2 = needVibrate2;
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        str3 = defaultPath2;
                                                                        i7 = priority2;
                                                                        intent = dismissIntent;
                                                                        fileLocation2 = fileLocation;
                                                                        notifyDelay = notifyAboutLast;
                                                                    }
                                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                    r12.lastNotificationIsNoData = false;
                                                                    scheduleNotificationRepeat();
                                                                    return;
                                                                }
                                                                choosenSoundPath2 = choosenSoundPath;
                                                                defaultPath2 = defaultPath;
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                                notifyOverride2 = false;
                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                if (VERSION.SDK_INT > 19) {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                } else {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                }
                                                                if (VERSION.SDK_INT < 26) {
                                                                    j = dialog_id2;
                                                                    i2 = notifyDelay;
                                                                    size = notifyOverride;
                                                                    j2 = override_dialog_id;
                                                                    i3 = priorityOverride;
                                                                    i4 = vibrateOverride;
                                                                    sharedPreferences = preferences;
                                                                    i5 = user_id;
                                                                    i6 = chat_id;
                                                                    user2 = user;
                                                                    pendingIntent = contentIntent;
                                                                    silent3 = silent;
                                                                    dismissDate2 = needVibrate2;
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    str3 = defaultPath2;
                                                                    i7 = priority2;
                                                                    intent = dismissIntent;
                                                                    fileLocation2 = fileLocation;
                                                                    notifyDelay = notifyAboutLast;
                                                                } else {
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    notifyOverride = name;
                                                                    override_dialog_id = lastMessageObject;
                                                                    priorityOverride = chat2;
                                                                    silent3 = silent;
                                                                    notifyDelay = notifyAboutLast;
                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                }
                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                r12.lastNotificationIsNoData = false;
                                                                scheduleNotificationRepeat();
                                                                return;
                                                            } else {
                                                                count = priority;
                                                            }
                                                            mBuilder.setPriority(-1);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 2;
                                                                i = user_id2;
                                                            }
                                                            if (priorityOverride2 != 1) {
                                                            }
                                                            lastMessage = choosenSoundPath9;
                                                            silent = priorityOverride2;
                                                            needVibrate2 = needVibrate;
                                                            choosenSoundPath = str;
                                                            priorityOverride2 = ledColor;
                                                            defaultPath = defaultPath4;
                                                            jArr = new long[]{0, 0};
                                                            vibrationPattern = jArr;
                                                            mBuilder.setVibrate(jArr);
                                                            vibrationPattern2 = vibrationPattern;
                                                            sound2 = sound;
                                                            str2 = lastMessage;
                                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                size = rows.size();
                                                                notifyOverride2 = false;
                                                                z3 = false;
                                                                while (true) {
                                                                    choosenSoundPath2 = choosenSoundPath;
                                                                    choosenSoundPath = size;
                                                                    if (z3 < choosenSoundPath) {
                                                                        break;
                                                                    }
                                                                    rows2 = rows;
                                                                    size2 = choosenSoundPath;
                                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                                    choosenSoundPath = row.buttons.size();
                                                                    defaultPath2 = defaultPath;
                                                                    defaultPath = 0;
                                                                    while (defaultPath < choosenSoundPath) {
                                                                        size22 = choosenSoundPath;
                                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                        row2 = row;
                                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                            lastMessageObject = lastMessageObject4;
                                                                            priority2 = count;
                                                                            dismissIntent = dismissIntent2;
                                                                            fileLocation = fileLocation3;
                                                                            dialog_id2 = dialog_id;
                                                                        } else {
                                                                            priority2 = count;
                                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                            dismissIntent = dismissIntent2;
                                                                            dialog_id2 = dialog_id;
                                                                            callbackIntent.putExtra("did", dialog_id2);
                                                                            if (choosenSoundPath3.data == null) {
                                                                                fileLocation = fileLocation3;
                                                                            } else {
                                                                                fileLocation = fileLocation3;
                                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                            }
                                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                            charSequence = choosenSoundPath3.text;
                                                                            context = ApplicationLoader.applicationContext;
                                                                            button = choosenSoundPath3;
                                                                            choosenSoundPath = r12.lastButtonId;
                                                                            lastMessageObject = lastMessageObject4;
                                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                            notifyOverride2 = true;
                                                                        }
                                                                        defaultPath++;
                                                                        dialog_id = dialog_id2;
                                                                        choosenSoundPath = size22;
                                                                        row = row2;
                                                                        count = priority2;
                                                                        dismissIntent2 = dismissIntent;
                                                                        fileLocation3 = fileLocation;
                                                                        lastMessageObject4 = lastMessageObject;
                                                                        dialog_id2 = notifyAboutLast;
                                                                    }
                                                                    priority2 = count;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                    z3++;
                                                                    choosenSoundPath = choosenSoundPath2;
                                                                    rows = rows2;
                                                                    size = size2;
                                                                    defaultPath = defaultPath2;
                                                                    dismissIntent2 = dismissIntent2;
                                                                    dialog_id2 = notifyAboutLast;
                                                                }
                                                                defaultPath2 = defaultPath;
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                if (VERSION.SDK_INT > 19) {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                } else {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                }
                                                                if (VERSION.SDK_INT < 26) {
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    notifyOverride = name;
                                                                    override_dialog_id = lastMessageObject;
                                                                    priorityOverride = chat2;
                                                                    silent3 = silent;
                                                                    notifyDelay = notifyAboutLast;
                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                } else {
                                                                    j = dialog_id2;
                                                                    i2 = notifyDelay;
                                                                    size = notifyOverride;
                                                                    j2 = override_dialog_id;
                                                                    i3 = priorityOverride;
                                                                    i4 = vibrateOverride;
                                                                    sharedPreferences = preferences;
                                                                    i5 = user_id;
                                                                    i6 = chat_id;
                                                                    user2 = user;
                                                                    pendingIntent = contentIntent;
                                                                    silent3 = silent;
                                                                    dismissDate2 = needVibrate2;
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    str3 = defaultPath2;
                                                                    i7 = priority2;
                                                                    intent = dismissIntent;
                                                                    fileLocation2 = fileLocation;
                                                                    notifyDelay = notifyAboutLast;
                                                                }
                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                r12.lastNotificationIsNoData = false;
                                                                scheduleNotificationRepeat();
                                                                return;
                                                            }
                                                            choosenSoundPath2 = choosenSoundPath;
                                                            defaultPath2 = defaultPath;
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            notifyOverride2 = false;
                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                            if (VERSION.SDK_INT > 19) {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            } else {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            }
                                                            if (VERSION.SDK_INT < 26) {
                                                                j = dialog_id2;
                                                                i2 = notifyDelay;
                                                                size = notifyOverride;
                                                                j2 = override_dialog_id;
                                                                i3 = priorityOverride;
                                                                i4 = vibrateOverride;
                                                                sharedPreferences = preferences;
                                                                i5 = user_id;
                                                                i6 = chat_id;
                                                                user2 = user;
                                                                pendingIntent = contentIntent;
                                                                silent3 = silent;
                                                                dismissDate2 = needVibrate2;
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                str3 = defaultPath2;
                                                                i7 = priority2;
                                                                intent = dismissIntent;
                                                                fileLocation2 = fileLocation;
                                                                notifyDelay = notifyAboutLast;
                                                            } else {
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                notifyOverride = name;
                                                                override_dialog_id = lastMessageObject;
                                                                priorityOverride = chat2;
                                                                silent3 = silent;
                                                                notifyDelay = notifyAboutLast;
                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                            }
                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                            r12.lastNotificationIsNoData = false;
                                                            scheduleNotificationRepeat();
                                                            return;
                                                        }
                                                    }
                                                    if (r12.pushDialogs.size() != 1) {
                                                        stringBuilder4 = new StringBuilder();
                                                        stringBuilder4.append(choosenSoundPath9);
                                                        stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                                        detailText = stringBuilder4.toString();
                                                        chatName = choosenSoundPath5;
                                                    } else {
                                                        stringBuilder4 = new StringBuilder();
                                                        stringBuilder4.append(choosenSoundPath9);
                                                        objArr = new Object[2];
                                                        chatName = choosenSoundPath5;
                                                        objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                                        objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                                        stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                                        detailText = stringBuilder4.toString();
                                                    }
                                                    mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                    vibrationPattern3 = null;
                                                    mBuilder.setCategory("msg");
                                                    stringBuilder = new StringBuilder();
                                                    i = 0;
                                                    stringBuilder.append("tel:+");
                                                    stringBuilder.append(user3.phone);
                                                    mBuilder.addPerson(stringBuilder.toString());
                                                    silent2 = 2;
                                                    user = user3;
                                                    if (r12.pushMessages.size() == 1) {
                                                        messageObject = (MessageObject) r12.pushMessages.get(0);
                                                        lastMessage2 = null;
                                                        text = new boolean[1];
                                                        stringForMessage = getStringForMessage(messageObject, null, text);
                                                        message = stringForMessage;
                                                        lastMessage3 = stringForMessage;
                                                        choosenSoundPath5 = messageObject.messageOwner.silent;
                                                        choosenSoundPath9 = message;
                                                        if (choosenSoundPath9 != null) {
                                                            if (replace) {
                                                                if (chat2 != null) {
                                                                    silent3 = choosenSoundPath5;
                                                                    choosenSoundPath5 = new StringBuilder();
                                                                    sound = null;
                                                                    choosenSoundPath5.append(" @ ");
                                                                    choosenSoundPath5.append(str5);
                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                } else {
                                                                    silent3 = choosenSoundPath5;
                                                                    sound = null;
                                                                    if (text[null]) {
                                                                        choosenSoundPath5 = new StringBuilder();
                                                                        choosenSoundPath5.append(str5);
                                                                        choosenSoundPath5.append(": ");
                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    } else {
                                                                        choosenSoundPath5 = new StringBuilder();
                                                                        choosenSoundPath5.append(str5);
                                                                        choosenSoundPath5.append(" ");
                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    }
                                                                }
                                                                choosenSoundPath9 = message;
                                                            } else {
                                                                silent3 = choosenSoundPath5;
                                                                sound = null;
                                                            }
                                                            mBuilder.setContentText(choosenSoundPath9);
                                                            mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                            contentIntent = contentIntent2;
                                                            dialog_id = dialog_id2;
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                            choosenSoundPath9 = lastMessage3;
                                                            priorityOverride2 = silent3;
                                                        } else {
                                                            return;
                                                        }
                                                    }
                                                    lastMessage2 = null;
                                                    sound = null;
                                                    mBuilder.setContentText(detailText);
                                                    inboxStyle = new InboxStyle();
                                                    inboxStyle.setBigContentTitle(str5);
                                                    count2 = Math.min(10, r12.pushMessages.size());
                                                    text2 = new boolean[1];
                                                    contentIntent = contentIntent2;
                                                    count = silent2;
                                                    chat_id2 = 0;
                                                    while (chat_id2 < count2) {
                                                        count3 = count2;
                                                        count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                        dialog_id = dialog_id2;
                                                        message2 = getStringForMessage(count4, 0, text2);
                                                        if (message2 != null) {
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                            if (count4.messageOwner.date > notifyDelay) {
                                                                if (count == 2) {
                                                                    lastMessage2 = message2;
                                                                    count = count4.messageOwner.silent;
                                                                }
                                                                messageObject2 = count4;
                                                                if (chat2 != null) {
                                                                    count2 = new StringBuilder();
                                                                    count2.append(" @ ");
                                                                    count2.append(str5);
                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                } else if (text2[0]) {
                                                                    count2 = new StringBuilder();
                                                                    count2.append(str5);
                                                                    count2.append(": ");
                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                } else {
                                                                    count2 = new StringBuilder();
                                                                    count2.append(str5);
                                                                    count2.append(" ");
                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                }
                                                                inboxStyle.addLine(message2);
                                                            }
                                                        } else {
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                        }
                                                        chat_id2++;
                                                        dismissDate2 = notifyDelay;
                                                        count2 = count3;
                                                        dialog_id2 = dialog_id;
                                                        defaultPath3 = defaultPath4;
                                                    }
                                                    dialog_id = dialog_id2;
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                    inboxStyle.setSummaryText(detailText);
                                                    mBuilder.setStyle(inboxStyle);
                                                    priorityOverride2 = count;
                                                    choosenSoundPath9 = lastMessage2;
                                                    dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                    dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                    dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                    mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                    if (fileLocation3 != null) {
                                                        img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                        if (img != null) {
                                                            mBuilder.setLargeIcon(img.getBitmap());
                                                            name = str5;
                                                        } else {
                                                            file = FileLoader.getPathToAttach(fileLocation3, true);
                                                            if (file.exists()) {
                                                                scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                options = new Options();
                                                                if (scaleFactor < 1.0f) {
                                                                    name = str5;
                                                                    str5 = true;
                                                                } else {
                                                                    name = str5;
                                                                    str5 = (int) scaleFactor;
                                                                }
                                                                options.inSampleSize = str5;
                                                                str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                if (str5 != null) {
                                                                    mBuilder.setLargeIcon(str5);
                                                                }
                                                            } else {
                                                                name = str5;
                                                            }
                                                        }
                                                    } else {
                                                        name = str5;
                                                    }
                                                    z = notifyAboutLast;
                                                    if (z) {
                                                        count = priority;
                                                    } else if (priorityOverride2 == 1) {
                                                        count = priority;
                                                    } else {
                                                        if (priority == 0) {
                                                            mBuilder.setPriority(0);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                i = 3;
                                                            }
                                                            count = priority;
                                                        } else {
                                                            count = priority;
                                                            if (count != 1) {
                                                                if (count == 2) {
                                                                    if (count != 4) {
                                                                        mBuilder.setPriority(-2);
                                                                        if (VERSION.SDK_INT >= 26) {
                                                                            user_id2 = 1;
                                                                            i = user_id2;
                                                                        }
                                                                    } else if (count == 5) {
                                                                        mBuilder.setPriority(-1);
                                                                        if (VERSION.SDK_INT >= 26) {
                                                                            user_id2 = 2;
                                                                            i = user_id2;
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                            mBuilder.setPriority(1);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 4;
                                                                i = user_id2;
                                                            }
                                                        }
                                                        if (priorityOverride2 != 1) {
                                                        }
                                                        lastMessage = choosenSoundPath9;
                                                        silent = priorityOverride2;
                                                        needVibrate2 = needVibrate;
                                                        choosenSoundPath = str;
                                                        priorityOverride2 = ledColor;
                                                        defaultPath = defaultPath4;
                                                        jArr = new long[]{0, 0};
                                                        vibrationPattern = jArr;
                                                        mBuilder.setVibrate(jArr);
                                                        vibrationPattern2 = vibrationPattern;
                                                        sound2 = sound;
                                                        str2 = lastMessage;
                                                        if (AndroidUtilities.needShowPasscode(false)) {
                                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                            size = rows.size();
                                                            notifyOverride2 = false;
                                                            z3 = false;
                                                            while (true) {
                                                                choosenSoundPath2 = choosenSoundPath;
                                                                choosenSoundPath = size;
                                                                if (z3 < choosenSoundPath) {
                                                                    break;
                                                                }
                                                                rows2 = rows;
                                                                size2 = choosenSoundPath;
                                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                                choosenSoundPath = row.buttons.size();
                                                                defaultPath2 = defaultPath;
                                                                defaultPath = 0;
                                                                while (defaultPath < choosenSoundPath) {
                                                                    size22 = choosenSoundPath;
                                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                    row2 = row;
                                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                        priority2 = count;
                                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                        dismissIntent = dismissIntent2;
                                                                        dialog_id2 = dialog_id;
                                                                        callbackIntent.putExtra("did", dialog_id2);
                                                                        if (choosenSoundPath3.data == null) {
                                                                            fileLocation = fileLocation3;
                                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                        } else {
                                                                            fileLocation = fileLocation3;
                                                                        }
                                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                        charSequence = choosenSoundPath3.text;
                                                                        context = ApplicationLoader.applicationContext;
                                                                        button = choosenSoundPath3;
                                                                        choosenSoundPath = r12.lastButtonId;
                                                                        lastMessageObject = lastMessageObject4;
                                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                        notifyOverride2 = true;
                                                                    } else {
                                                                        lastMessageObject = lastMessageObject4;
                                                                        priority2 = count;
                                                                        dismissIntent = dismissIntent2;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                    }
                                                                    defaultPath++;
                                                                    dialog_id = dialog_id2;
                                                                    choosenSoundPath = size22;
                                                                    row = row2;
                                                                    count = priority2;
                                                                    dismissIntent2 = dismissIntent;
                                                                    fileLocation3 = fileLocation;
                                                                    lastMessageObject4 = lastMessageObject;
                                                                    dialog_id2 = notifyAboutLast;
                                                                }
                                                                priority2 = count;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                                z3++;
                                                                choosenSoundPath = choosenSoundPath2;
                                                                rows = rows2;
                                                                size = size2;
                                                                defaultPath = defaultPath2;
                                                                dismissIntent2 = dismissIntent2;
                                                                dialog_id2 = notifyAboutLast;
                                                            }
                                                            defaultPath2 = defaultPath;
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                            if (VERSION.SDK_INT > 19) {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            } else {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            }
                                                            if (VERSION.SDK_INT < 26) {
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                notifyOverride = name;
                                                                override_dialog_id = lastMessageObject;
                                                                priorityOverride = chat2;
                                                                silent3 = silent;
                                                                notifyDelay = notifyAboutLast;
                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                            } else {
                                                                j = dialog_id2;
                                                                i2 = notifyDelay;
                                                                size = notifyOverride;
                                                                j2 = override_dialog_id;
                                                                i3 = priorityOverride;
                                                                i4 = vibrateOverride;
                                                                sharedPreferences = preferences;
                                                                i5 = user_id;
                                                                i6 = chat_id;
                                                                user2 = user;
                                                                pendingIntent = contentIntent;
                                                                silent3 = silent;
                                                                dismissDate2 = needVibrate2;
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                str3 = defaultPath2;
                                                                i7 = priority2;
                                                                intent = dismissIntent;
                                                                fileLocation2 = fileLocation;
                                                                notifyDelay = notifyAboutLast;
                                                            }
                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                            r12.lastNotificationIsNoData = false;
                                                            scheduleNotificationRepeat();
                                                            return;
                                                        }
                                                        choosenSoundPath2 = choosenSoundPath;
                                                        defaultPath2 = defaultPath;
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        notifyOverride2 = false;
                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                        if (VERSION.SDK_INT > 19) {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        } else {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        }
                                                        if (VERSION.SDK_INT < 26) {
                                                            j = dialog_id2;
                                                            i2 = notifyDelay;
                                                            size = notifyOverride;
                                                            j2 = override_dialog_id;
                                                            i3 = priorityOverride;
                                                            i4 = vibrateOverride;
                                                            sharedPreferences = preferences;
                                                            i5 = user_id;
                                                            i6 = chat_id;
                                                            user2 = user;
                                                            pendingIntent = contentIntent;
                                                            silent3 = silent;
                                                            dismissDate2 = needVibrate2;
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            str3 = defaultPath2;
                                                            i7 = priority2;
                                                            intent = dismissIntent;
                                                            fileLocation2 = fileLocation;
                                                            notifyDelay = notifyAboutLast;
                                                        } else {
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            notifyOverride = name;
                                                            override_dialog_id = lastMessageObject;
                                                            priorityOverride = chat2;
                                                            silent3 = silent;
                                                            notifyDelay = notifyAboutLast;
                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                        }
                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                        r12.lastNotificationIsNoData = false;
                                                        scheduleNotificationRepeat();
                                                        return;
                                                    }
                                                    mBuilder.setPriority(-1);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        user_id2 = 2;
                                                        i = user_id2;
                                                    }
                                                    if (priorityOverride2 != 1) {
                                                    }
                                                    lastMessage = choosenSoundPath9;
                                                    silent = priorityOverride2;
                                                    needVibrate2 = needVibrate;
                                                    choosenSoundPath = str;
                                                    priorityOverride2 = ledColor;
                                                    defaultPath = defaultPath4;
                                                    jArr = new long[]{0, 0};
                                                    vibrationPattern = jArr;
                                                    mBuilder.setVibrate(jArr);
                                                    vibrationPattern2 = vibrationPattern;
                                                    sound2 = sound;
                                                    str2 = lastMessage;
                                                    if (AndroidUtilities.needShowPasscode(false)) {
                                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                        size = rows.size();
                                                        notifyOverride2 = false;
                                                        z3 = false;
                                                        while (true) {
                                                            choosenSoundPath2 = choosenSoundPath;
                                                            choosenSoundPath = size;
                                                            if (z3 < choosenSoundPath) {
                                                                break;
                                                            }
                                                            rows2 = rows;
                                                            size2 = choosenSoundPath;
                                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                                            choosenSoundPath = row.buttons.size();
                                                            defaultPath2 = defaultPath;
                                                            defaultPath = 0;
                                                            while (defaultPath < choosenSoundPath) {
                                                                size22 = choosenSoundPath;
                                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                row2 = row;
                                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                    lastMessageObject = lastMessageObject4;
                                                                    priority2 = count;
                                                                    dismissIntent = dismissIntent2;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                } else {
                                                                    priority2 = count;
                                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                    dismissIntent = dismissIntent2;
                                                                    dialog_id2 = dialog_id;
                                                                    callbackIntent.putExtra("did", dialog_id2);
                                                                    if (choosenSoundPath3.data == null) {
                                                                        fileLocation = fileLocation3;
                                                                    } else {
                                                                        fileLocation = fileLocation3;
                                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                    }
                                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                    charSequence = choosenSoundPath3.text;
                                                                    context = ApplicationLoader.applicationContext;
                                                                    button = choosenSoundPath3;
                                                                    choosenSoundPath = r12.lastButtonId;
                                                                    lastMessageObject = lastMessageObject4;
                                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                    notifyOverride2 = true;
                                                                }
                                                                defaultPath++;
                                                                dialog_id = dialog_id2;
                                                                choosenSoundPath = size22;
                                                                row = row2;
                                                                count = priority2;
                                                                dismissIntent2 = dismissIntent;
                                                                fileLocation3 = fileLocation;
                                                                lastMessageObject4 = lastMessageObject;
                                                                dialog_id2 = notifyAboutLast;
                                                            }
                                                            priority2 = count;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            z3++;
                                                            choosenSoundPath = choosenSoundPath2;
                                                            rows = rows2;
                                                            size = size2;
                                                            defaultPath = defaultPath2;
                                                            dismissIntent2 = dismissIntent2;
                                                            dialog_id2 = notifyAboutLast;
                                                        }
                                                        defaultPath2 = defaultPath;
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                        if (VERSION.SDK_INT > 19) {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        } else {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        }
                                                        if (VERSION.SDK_INT < 26) {
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            notifyOverride = name;
                                                            override_dialog_id = lastMessageObject;
                                                            priorityOverride = chat2;
                                                            silent3 = silent;
                                                            notifyDelay = notifyAboutLast;
                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                        } else {
                                                            j = dialog_id2;
                                                            i2 = notifyDelay;
                                                            size = notifyOverride;
                                                            j2 = override_dialog_id;
                                                            i3 = priorityOverride;
                                                            i4 = vibrateOverride;
                                                            sharedPreferences = preferences;
                                                            i5 = user_id;
                                                            i6 = chat_id;
                                                            user2 = user;
                                                            pendingIntent = contentIntent;
                                                            silent3 = silent;
                                                            dismissDate2 = needVibrate2;
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            str3 = defaultPath2;
                                                            i7 = priority2;
                                                            intent = dismissIntent;
                                                            fileLocation2 = fileLocation;
                                                            notifyDelay = notifyAboutLast;
                                                        }
                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                        r12.lastNotificationIsNoData = false;
                                                        scheduleNotificationRepeat();
                                                        return;
                                                    }
                                                    choosenSoundPath2 = choosenSoundPath;
                                                    defaultPath2 = defaultPath;
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    notifyOverride2 = false;
                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                    if (VERSION.SDK_INT > 19) {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    } else {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    }
                                                    if (VERSION.SDK_INT < 26) {
                                                        j = dialog_id2;
                                                        i2 = notifyDelay;
                                                        size = notifyOverride;
                                                        j2 = override_dialog_id;
                                                        i3 = priorityOverride;
                                                        i4 = vibrateOverride;
                                                        sharedPreferences = preferences;
                                                        i5 = user_id;
                                                        i6 = chat_id;
                                                        user2 = user;
                                                        pendingIntent = contentIntent;
                                                        silent3 = silent;
                                                        dismissDate2 = needVibrate2;
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        str3 = defaultPath2;
                                                        i7 = priority2;
                                                        intent = dismissIntent;
                                                        fileLocation2 = fileLocation;
                                                        notifyDelay = notifyAboutLast;
                                                    } else {
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        notifyOverride = name;
                                                        override_dialog_id = lastMessageObject;
                                                        priorityOverride = chat2;
                                                        silent3 = silent;
                                                        notifyDelay = notifyAboutLast;
                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                    }
                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                    r12.lastNotificationIsNoData = false;
                                                    scheduleNotificationRepeat();
                                                    return;
                                                }
                                            }
                                            choosenSoundPath9 = LocaleController.getString("AppName", R.string.AppName);
                                            replace = false;
                                            str5 = choosenSoundPath9;
                                            chat_id = chat_id2;
                                            if (UserConfig.getActivatedAccountsCount() <= 1) {
                                                choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                            } else if (r12.pushDialogs.size() != 1) {
                                                stringBuilder = new StringBuilder();
                                                stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                                stringBuilder.append("\u30fb");
                                                choosenSoundPath9 = stringBuilder.toString();
                                            } else {
                                                choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                            }
                                            if (r12.pushDialogs.size() == 1) {
                                                if (VERSION.SDK_INT >= 23) {
                                                    detailText = choosenSoundPath9;
                                                    chatName = choosenSoundPath5;
                                                    z4 = inAppVibrate;
                                                    mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                    vibrationPattern3 = null;
                                                    mBuilder.setCategory("msg");
                                                    stringBuilder = new StringBuilder();
                                                    i = 0;
                                                    stringBuilder.append("tel:+");
                                                    stringBuilder.append(user3.phone);
                                                    mBuilder.addPerson(stringBuilder.toString());
                                                    silent2 = 2;
                                                    user = user3;
                                                    if (r12.pushMessages.size() == 1) {
                                                        lastMessage2 = null;
                                                        sound = null;
                                                        mBuilder.setContentText(detailText);
                                                        inboxStyle = new InboxStyle();
                                                        inboxStyle.setBigContentTitle(str5);
                                                        count2 = Math.min(10, r12.pushMessages.size());
                                                        text2 = new boolean[1];
                                                        contentIntent = contentIntent2;
                                                        count = silent2;
                                                        chat_id2 = 0;
                                                        while (chat_id2 < count2) {
                                                            count3 = count2;
                                                            count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                            dialog_id = dialog_id2;
                                                            message2 = getStringForMessage(count4, 0, text2);
                                                            if (message2 != null) {
                                                                defaultPath4 = defaultPath3;
                                                                notifyDelay = dismissDate2;
                                                            } else {
                                                                defaultPath4 = defaultPath3;
                                                                notifyDelay = dismissDate2;
                                                                if (count4.messageOwner.date > notifyDelay) {
                                                                    if (count == 2) {
                                                                        lastMessage2 = message2;
                                                                        count = count4.messageOwner.silent;
                                                                    }
                                                                    messageObject2 = count4;
                                                                    if (chat2 != null) {
                                                                        count2 = new StringBuilder();
                                                                        count2.append(" @ ");
                                                                        count2.append(str5);
                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    } else if (text2[0]) {
                                                                        count2 = new StringBuilder();
                                                                        count2.append(str5);
                                                                        count2.append(" ");
                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    } else {
                                                                        count2 = new StringBuilder();
                                                                        count2.append(str5);
                                                                        count2.append(": ");
                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    }
                                                                    inboxStyle.addLine(message2);
                                                                }
                                                            }
                                                            chat_id2++;
                                                            dismissDate2 = notifyDelay;
                                                            count2 = count3;
                                                            dialog_id2 = dialog_id;
                                                            defaultPath3 = defaultPath4;
                                                        }
                                                        dialog_id = dialog_id2;
                                                        defaultPath4 = defaultPath3;
                                                        notifyDelay = dismissDate2;
                                                        inboxStyle.setSummaryText(detailText);
                                                        mBuilder.setStyle(inboxStyle);
                                                        priorityOverride2 = count;
                                                        choosenSoundPath9 = lastMessage2;
                                                    } else {
                                                        messageObject = (MessageObject) r12.pushMessages.get(0);
                                                        lastMessage2 = null;
                                                        text = new boolean[1];
                                                        stringForMessage = getStringForMessage(messageObject, null, text);
                                                        message = stringForMessage;
                                                        lastMessage3 = stringForMessage;
                                                        choosenSoundPath5 = messageObject.messageOwner.silent;
                                                        choosenSoundPath9 = message;
                                                        if (choosenSoundPath9 != null) {
                                                            if (replace) {
                                                                silent3 = choosenSoundPath5;
                                                                sound = null;
                                                            } else {
                                                                if (chat2 != null) {
                                                                    silent3 = choosenSoundPath5;
                                                                    sound = null;
                                                                    if (text[null]) {
                                                                        choosenSoundPath5 = new StringBuilder();
                                                                        choosenSoundPath5.append(str5);
                                                                        choosenSoundPath5.append(" ");
                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    } else {
                                                                        choosenSoundPath5 = new StringBuilder();
                                                                        choosenSoundPath5.append(str5);
                                                                        choosenSoundPath5.append(": ");
                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    }
                                                                } else {
                                                                    silent3 = choosenSoundPath5;
                                                                    choosenSoundPath5 = new StringBuilder();
                                                                    sound = null;
                                                                    choosenSoundPath5.append(" @ ");
                                                                    choosenSoundPath5.append(str5);
                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                }
                                                                choosenSoundPath9 = message;
                                                            }
                                                            mBuilder.setContentText(choosenSoundPath9);
                                                            mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                            contentIntent = contentIntent2;
                                                            dialog_id = dialog_id2;
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                            choosenSoundPath9 = lastMessage3;
                                                            priorityOverride2 = silent3;
                                                        } else {
                                                            return;
                                                        }
                                                    }
                                                    dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                    dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                    dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                    mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                    if (fileLocation3 != null) {
                                                        name = str5;
                                                    } else {
                                                        img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                        if (img != null) {
                                                            file = FileLoader.getPathToAttach(fileLocation3, true);
                                                            if (file.exists()) {
                                                                name = str5;
                                                            } else {
                                                                scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                options = new Options();
                                                                if (scaleFactor < 1.0f) {
                                                                    name = str5;
                                                                    str5 = (int) scaleFactor;
                                                                } else {
                                                                    name = str5;
                                                                    str5 = true;
                                                                }
                                                                options.inSampleSize = str5;
                                                                str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                if (str5 != null) {
                                                                    mBuilder.setLargeIcon(str5);
                                                                }
                                                            }
                                                        } else {
                                                            mBuilder.setLargeIcon(img.getBitmap());
                                                            name = str5;
                                                        }
                                                    }
                                                    z = notifyAboutLast;
                                                    if (z) {
                                                        count = priority;
                                                    } else if (priorityOverride2 == 1) {
                                                        if (priority == 0) {
                                                            count = priority;
                                                            if (count != 1) {
                                                                if (count == 2) {
                                                                    if (count != 4) {
                                                                        mBuilder.setPriority(-2);
                                                                        if (VERSION.SDK_INT >= 26) {
                                                                            user_id2 = 1;
                                                                            i = user_id2;
                                                                        }
                                                                    } else if (count == 5) {
                                                                        mBuilder.setPriority(-1);
                                                                        if (VERSION.SDK_INT >= 26) {
                                                                            user_id2 = 2;
                                                                            i = user_id2;
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                            mBuilder.setPriority(1);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 4;
                                                                i = user_id2;
                                                            }
                                                        } else {
                                                            mBuilder.setPriority(0);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                i = 3;
                                                            }
                                                            count = priority;
                                                        }
                                                        if (priorityOverride2 != 1) {
                                                        }
                                                        lastMessage = choosenSoundPath9;
                                                        silent = priorityOverride2;
                                                        needVibrate2 = needVibrate;
                                                        choosenSoundPath = str;
                                                        priorityOverride2 = ledColor;
                                                        defaultPath = defaultPath4;
                                                        jArr = new long[]{0, 0};
                                                        vibrationPattern = jArr;
                                                        mBuilder.setVibrate(jArr);
                                                        vibrationPattern2 = vibrationPattern;
                                                        sound2 = sound;
                                                        str2 = lastMessage;
                                                        if (AndroidUtilities.needShowPasscode(false)) {
                                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                            size = rows.size();
                                                            notifyOverride2 = false;
                                                            z3 = false;
                                                            while (true) {
                                                                choosenSoundPath2 = choosenSoundPath;
                                                                choosenSoundPath = size;
                                                                if (z3 < choosenSoundPath) {
                                                                    break;
                                                                }
                                                                rows2 = rows;
                                                                size2 = choosenSoundPath;
                                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                                choosenSoundPath = row.buttons.size();
                                                                defaultPath2 = defaultPath;
                                                                defaultPath = 0;
                                                                while (defaultPath < choosenSoundPath) {
                                                                    size22 = choosenSoundPath;
                                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                    row2 = row;
                                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                        priority2 = count;
                                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                        dismissIntent = dismissIntent2;
                                                                        dialog_id2 = dialog_id;
                                                                        callbackIntent.putExtra("did", dialog_id2);
                                                                        if (choosenSoundPath3.data == null) {
                                                                            fileLocation = fileLocation3;
                                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                        } else {
                                                                            fileLocation = fileLocation3;
                                                                        }
                                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                        charSequence = choosenSoundPath3.text;
                                                                        context = ApplicationLoader.applicationContext;
                                                                        button = choosenSoundPath3;
                                                                        choosenSoundPath = r12.lastButtonId;
                                                                        lastMessageObject = lastMessageObject4;
                                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                        notifyOverride2 = true;
                                                                    } else {
                                                                        lastMessageObject = lastMessageObject4;
                                                                        priority2 = count;
                                                                        dismissIntent = dismissIntent2;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                    }
                                                                    defaultPath++;
                                                                    dialog_id = dialog_id2;
                                                                    choosenSoundPath = size22;
                                                                    row = row2;
                                                                    count = priority2;
                                                                    dismissIntent2 = dismissIntent;
                                                                    fileLocation3 = fileLocation;
                                                                    lastMessageObject4 = lastMessageObject;
                                                                    dialog_id2 = notifyAboutLast;
                                                                }
                                                                priority2 = count;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                                z3++;
                                                                choosenSoundPath = choosenSoundPath2;
                                                                rows = rows2;
                                                                size = size2;
                                                                defaultPath = defaultPath2;
                                                                dismissIntent2 = dismissIntent2;
                                                                dialog_id2 = notifyAboutLast;
                                                            }
                                                            defaultPath2 = defaultPath;
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                            if (VERSION.SDK_INT > 19) {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            } else {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            }
                                                            if (VERSION.SDK_INT < 26) {
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                notifyOverride = name;
                                                                override_dialog_id = lastMessageObject;
                                                                priorityOverride = chat2;
                                                                silent3 = silent;
                                                                notifyDelay = notifyAboutLast;
                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                            } else {
                                                                j = dialog_id2;
                                                                i2 = notifyDelay;
                                                                size = notifyOverride;
                                                                j2 = override_dialog_id;
                                                                i3 = priorityOverride;
                                                                i4 = vibrateOverride;
                                                                sharedPreferences = preferences;
                                                                i5 = user_id;
                                                                i6 = chat_id;
                                                                user2 = user;
                                                                pendingIntent = contentIntent;
                                                                silent3 = silent;
                                                                dismissDate2 = needVibrate2;
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                str3 = defaultPath2;
                                                                i7 = priority2;
                                                                intent = dismissIntent;
                                                                fileLocation2 = fileLocation;
                                                                notifyDelay = notifyAboutLast;
                                                            }
                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                            r12.lastNotificationIsNoData = false;
                                                            scheduleNotificationRepeat();
                                                            return;
                                                        }
                                                        choosenSoundPath2 = choosenSoundPath;
                                                        defaultPath2 = defaultPath;
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        notifyOverride2 = false;
                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                        if (VERSION.SDK_INT > 19) {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        } else {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        }
                                                        if (VERSION.SDK_INT < 26) {
                                                            j = dialog_id2;
                                                            i2 = notifyDelay;
                                                            size = notifyOverride;
                                                            j2 = override_dialog_id;
                                                            i3 = priorityOverride;
                                                            i4 = vibrateOverride;
                                                            sharedPreferences = preferences;
                                                            i5 = user_id;
                                                            i6 = chat_id;
                                                            user2 = user;
                                                            pendingIntent = contentIntent;
                                                            silent3 = silent;
                                                            dismissDate2 = needVibrate2;
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            str3 = defaultPath2;
                                                            i7 = priority2;
                                                            intent = dismissIntent;
                                                            fileLocation2 = fileLocation;
                                                            notifyDelay = notifyAboutLast;
                                                        } else {
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            notifyOverride = name;
                                                            override_dialog_id = lastMessageObject;
                                                            priorityOverride = chat2;
                                                            silent3 = silent;
                                                            notifyDelay = notifyAboutLast;
                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                        }
                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                        r12.lastNotificationIsNoData = false;
                                                        scheduleNotificationRepeat();
                                                        return;
                                                    } else {
                                                        count = priority;
                                                    }
                                                    mBuilder.setPriority(-1);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        user_id2 = 2;
                                                        i = user_id2;
                                                    }
                                                    if (priorityOverride2 != 1) {
                                                    }
                                                    lastMessage = choosenSoundPath9;
                                                    silent = priorityOverride2;
                                                    needVibrate2 = needVibrate;
                                                    choosenSoundPath = str;
                                                    priorityOverride2 = ledColor;
                                                    defaultPath = defaultPath4;
                                                    jArr = new long[]{0, 0};
                                                    vibrationPattern = jArr;
                                                    mBuilder.setVibrate(jArr);
                                                    vibrationPattern2 = vibrationPattern;
                                                    sound2 = sound;
                                                    str2 = lastMessage;
                                                    if (AndroidUtilities.needShowPasscode(false)) {
                                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                        size = rows.size();
                                                        notifyOverride2 = false;
                                                        z3 = false;
                                                        while (true) {
                                                            choosenSoundPath2 = choosenSoundPath;
                                                            choosenSoundPath = size;
                                                            if (z3 < choosenSoundPath) {
                                                                break;
                                                            }
                                                            rows2 = rows;
                                                            size2 = choosenSoundPath;
                                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                                            choosenSoundPath = row.buttons.size();
                                                            defaultPath2 = defaultPath;
                                                            defaultPath = 0;
                                                            while (defaultPath < choosenSoundPath) {
                                                                size22 = choosenSoundPath;
                                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                row2 = row;
                                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                    lastMessageObject = lastMessageObject4;
                                                                    priority2 = count;
                                                                    dismissIntent = dismissIntent2;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                } else {
                                                                    priority2 = count;
                                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                    dismissIntent = dismissIntent2;
                                                                    dialog_id2 = dialog_id;
                                                                    callbackIntent.putExtra("did", dialog_id2);
                                                                    if (choosenSoundPath3.data == null) {
                                                                        fileLocation = fileLocation3;
                                                                    } else {
                                                                        fileLocation = fileLocation3;
                                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                    }
                                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                    charSequence = choosenSoundPath3.text;
                                                                    context = ApplicationLoader.applicationContext;
                                                                    button = choosenSoundPath3;
                                                                    choosenSoundPath = r12.lastButtonId;
                                                                    lastMessageObject = lastMessageObject4;
                                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                    notifyOverride2 = true;
                                                                }
                                                                defaultPath++;
                                                                dialog_id = dialog_id2;
                                                                choosenSoundPath = size22;
                                                                row = row2;
                                                                count = priority2;
                                                                dismissIntent2 = dismissIntent;
                                                                fileLocation3 = fileLocation;
                                                                lastMessageObject4 = lastMessageObject;
                                                                dialog_id2 = notifyAboutLast;
                                                            }
                                                            priority2 = count;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            z3++;
                                                            choosenSoundPath = choosenSoundPath2;
                                                            rows = rows2;
                                                            size = size2;
                                                            defaultPath = defaultPath2;
                                                            dismissIntent2 = dismissIntent2;
                                                            dialog_id2 = notifyAboutLast;
                                                        }
                                                        defaultPath2 = defaultPath;
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                        if (VERSION.SDK_INT > 19) {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        } else {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        }
                                                        if (VERSION.SDK_INT < 26) {
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            notifyOverride = name;
                                                            override_dialog_id = lastMessageObject;
                                                            priorityOverride = chat2;
                                                            silent3 = silent;
                                                            notifyDelay = notifyAboutLast;
                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                        } else {
                                                            j = dialog_id2;
                                                            i2 = notifyDelay;
                                                            size = notifyOverride;
                                                            j2 = override_dialog_id;
                                                            i3 = priorityOverride;
                                                            i4 = vibrateOverride;
                                                            sharedPreferences = preferences;
                                                            i5 = user_id;
                                                            i6 = chat_id;
                                                            user2 = user;
                                                            pendingIntent = contentIntent;
                                                            silent3 = silent;
                                                            dismissDate2 = needVibrate2;
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            str3 = defaultPath2;
                                                            i7 = priority2;
                                                            intent = dismissIntent;
                                                            fileLocation2 = fileLocation;
                                                            notifyDelay = notifyAboutLast;
                                                        }
                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                        r12.lastNotificationIsNoData = false;
                                                        scheduleNotificationRepeat();
                                                        return;
                                                    }
                                                    choosenSoundPath2 = choosenSoundPath;
                                                    defaultPath2 = defaultPath;
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    notifyOverride2 = false;
                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                    if (VERSION.SDK_INT > 19) {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    } else {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    }
                                                    if (VERSION.SDK_INT < 26) {
                                                        j = dialog_id2;
                                                        i2 = notifyDelay;
                                                        size = notifyOverride;
                                                        j2 = override_dialog_id;
                                                        i3 = priorityOverride;
                                                        i4 = vibrateOverride;
                                                        sharedPreferences = preferences;
                                                        i5 = user_id;
                                                        i6 = chat_id;
                                                        user2 = user;
                                                        pendingIntent = contentIntent;
                                                        silent3 = silent;
                                                        dismissDate2 = needVibrate2;
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        str3 = defaultPath2;
                                                        i7 = priority2;
                                                        intent = dismissIntent;
                                                        fileLocation2 = fileLocation;
                                                        notifyDelay = notifyAboutLast;
                                                    } else {
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        notifyOverride = name;
                                                        override_dialog_id = lastMessageObject;
                                                        priorityOverride = chat2;
                                                        silent3 = silent;
                                                        notifyDelay = notifyAboutLast;
                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                    }
                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                    r12.lastNotificationIsNoData = false;
                                                    scheduleNotificationRepeat();
                                                    return;
                                                }
                                            }
                                            if (r12.pushDialogs.size() != 1) {
                                                stringBuilder4 = new StringBuilder();
                                                stringBuilder4.append(choosenSoundPath9);
                                                objArr = new Object[2];
                                                chatName = choosenSoundPath5;
                                                objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                                objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                                stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                                detailText = stringBuilder4.toString();
                                            } else {
                                                stringBuilder4 = new StringBuilder();
                                                stringBuilder4.append(choosenSoundPath9);
                                                stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                                detailText = stringBuilder4.toString();
                                                chatName = choosenSoundPath5;
                                            }
                                            mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                            vibrationPattern3 = null;
                                            mBuilder.setCategory("msg");
                                            stringBuilder = new StringBuilder();
                                            i = 0;
                                            stringBuilder.append("tel:+");
                                            stringBuilder.append(user3.phone);
                                            mBuilder.addPerson(stringBuilder.toString());
                                            silent2 = 2;
                                            user = user3;
                                            if (r12.pushMessages.size() == 1) {
                                                messageObject = (MessageObject) r12.pushMessages.get(0);
                                                lastMessage2 = null;
                                                text = new boolean[1];
                                                stringForMessage = getStringForMessage(messageObject, null, text);
                                                message = stringForMessage;
                                                lastMessage3 = stringForMessage;
                                                choosenSoundPath5 = messageObject.messageOwner.silent;
                                                choosenSoundPath9 = message;
                                                if (choosenSoundPath9 != null) {
                                                    if (replace) {
                                                        if (chat2 != null) {
                                                            silent3 = choosenSoundPath5;
                                                            choosenSoundPath5 = new StringBuilder();
                                                            sound = null;
                                                            choosenSoundPath5.append(" @ ");
                                                            choosenSoundPath5.append(str5);
                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        } else {
                                                            silent3 = choosenSoundPath5;
                                                            sound = null;
                                                            if (text[null]) {
                                                                choosenSoundPath5 = new StringBuilder();
                                                                choosenSoundPath5.append(str5);
                                                                choosenSoundPath5.append(": ");
                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            } else {
                                                                choosenSoundPath5 = new StringBuilder();
                                                                choosenSoundPath5.append(str5);
                                                                choosenSoundPath5.append(" ");
                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            }
                                                        }
                                                        choosenSoundPath9 = message;
                                                    } else {
                                                        silent3 = choosenSoundPath5;
                                                        sound = null;
                                                    }
                                                    mBuilder.setContentText(choosenSoundPath9);
                                                    mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                    contentIntent = contentIntent2;
                                                    dialog_id = dialog_id2;
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                    choosenSoundPath9 = lastMessage3;
                                                    priorityOverride2 = silent3;
                                                } else {
                                                    return;
                                                }
                                            }
                                            lastMessage2 = null;
                                            sound = null;
                                            mBuilder.setContentText(detailText);
                                            inboxStyle = new InboxStyle();
                                            inboxStyle.setBigContentTitle(str5);
                                            count2 = Math.min(10, r12.pushMessages.size());
                                            text2 = new boolean[1];
                                            contentIntent = contentIntent2;
                                            count = silent2;
                                            chat_id2 = 0;
                                            while (chat_id2 < count2) {
                                                count3 = count2;
                                                count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                dialog_id = dialog_id2;
                                                message2 = getStringForMessage(count4, 0, text2);
                                                if (message2 != null) {
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                    if (count4.messageOwner.date > notifyDelay) {
                                                        if (count == 2) {
                                                            lastMessage2 = message2;
                                                            count = count4.messageOwner.silent;
                                                        }
                                                        messageObject2 = count4;
                                                        if (chat2 != null) {
                                                            count2 = new StringBuilder();
                                                            count2.append(" @ ");
                                                            count2.append(str5);
                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        } else if (text2[0]) {
                                                            count2 = new StringBuilder();
                                                            count2.append(str5);
                                                            count2.append(": ");
                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        } else {
                                                            count2 = new StringBuilder();
                                                            count2.append(str5);
                                                            count2.append(" ");
                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        }
                                                        inboxStyle.addLine(message2);
                                                    }
                                                } else {
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                }
                                                chat_id2++;
                                                dismissDate2 = notifyDelay;
                                                count2 = count3;
                                                dialog_id2 = dialog_id;
                                                defaultPath3 = defaultPath4;
                                            }
                                            dialog_id = dialog_id2;
                                            defaultPath4 = defaultPath3;
                                            notifyDelay = dismissDate2;
                                            inboxStyle.setSummaryText(detailText);
                                            mBuilder.setStyle(inboxStyle);
                                            priorityOverride2 = count;
                                            choosenSoundPath9 = lastMessage2;
                                            dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                            dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                            dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                            mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                            if (fileLocation3 != null) {
                                                img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                if (img != null) {
                                                    mBuilder.setLargeIcon(img.getBitmap());
                                                    name = str5;
                                                } else {
                                                    file = FileLoader.getPathToAttach(fileLocation3, true);
                                                    if (file.exists()) {
                                                        scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                        options = new Options();
                                                        if (scaleFactor < 1.0f) {
                                                            name = str5;
                                                            str5 = true;
                                                        } else {
                                                            name = str5;
                                                            str5 = (int) scaleFactor;
                                                        }
                                                        options.inSampleSize = str5;
                                                        str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                        if (str5 != null) {
                                                            mBuilder.setLargeIcon(str5);
                                                        }
                                                    } else {
                                                        name = str5;
                                                    }
                                                }
                                            } else {
                                                name = str5;
                                            }
                                            z = notifyAboutLast;
                                            if (z) {
                                                count = priority;
                                            } else if (priorityOverride2 == 1) {
                                                count = priority;
                                            } else {
                                                if (priority == 0) {
                                                    mBuilder.setPriority(0);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        i = 3;
                                                    }
                                                    count = priority;
                                                } else {
                                                    count = priority;
                                                    if (count != 1) {
                                                        if (count == 2) {
                                                            if (count != 4) {
                                                                mBuilder.setPriority(-2);
                                                                if (VERSION.SDK_INT >= 26) {
                                                                    user_id2 = 1;
                                                                    i = user_id2;
                                                                }
                                                            } else if (count == 5) {
                                                                mBuilder.setPriority(-1);
                                                                if (VERSION.SDK_INT >= 26) {
                                                                    user_id2 = 2;
                                                                    i = user_id2;
                                                                }
                                                            }
                                                        }
                                                    }
                                                    mBuilder.setPriority(1);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        user_id2 = 4;
                                                        i = user_id2;
                                                    }
                                                }
                                                if (priorityOverride2 != 1) {
                                                }
                                                lastMessage = choosenSoundPath9;
                                                silent = priorityOverride2;
                                                needVibrate2 = needVibrate;
                                                choosenSoundPath = str;
                                                priorityOverride2 = ledColor;
                                                defaultPath = defaultPath4;
                                                jArr = new long[]{0, 0};
                                                vibrationPattern = jArr;
                                                mBuilder.setVibrate(jArr);
                                                vibrationPattern2 = vibrationPattern;
                                                sound2 = sound;
                                                str2 = lastMessage;
                                                if (AndroidUtilities.needShowPasscode(false)) {
                                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                    size = rows.size();
                                                    notifyOverride2 = false;
                                                    z3 = false;
                                                    while (true) {
                                                        choosenSoundPath2 = choosenSoundPath;
                                                        choosenSoundPath = size;
                                                        if (z3 < choosenSoundPath) {
                                                            break;
                                                        }
                                                        rows2 = rows;
                                                        size2 = choosenSoundPath;
                                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                                        choosenSoundPath = row.buttons.size();
                                                        defaultPath2 = defaultPath;
                                                        defaultPath = 0;
                                                        while (defaultPath < choosenSoundPath) {
                                                            size22 = choosenSoundPath;
                                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                            row2 = row;
                                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                priority2 = count;
                                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                dismissIntent = dismissIntent2;
                                                                dialog_id2 = dialog_id;
                                                                callbackIntent.putExtra("did", dialog_id2);
                                                                if (choosenSoundPath3.data == null) {
                                                                    fileLocation = fileLocation3;
                                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                } else {
                                                                    fileLocation = fileLocation3;
                                                                }
                                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                charSequence = choosenSoundPath3.text;
                                                                context = ApplicationLoader.applicationContext;
                                                                button = choosenSoundPath3;
                                                                choosenSoundPath = r12.lastButtonId;
                                                                lastMessageObject = lastMessageObject4;
                                                                r12.lastButtonId = choosenSoundPath + 1;
                                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                notifyOverride2 = true;
                                                            } else {
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                            }
                                                            defaultPath++;
                                                            dialog_id = dialog_id2;
                                                            choosenSoundPath = size22;
                                                            row = row2;
                                                            count = priority2;
                                                            dismissIntent2 = dismissIntent;
                                                            fileLocation3 = fileLocation;
                                                            lastMessageObject4 = lastMessageObject;
                                                            dialog_id2 = notifyAboutLast;
                                                        }
                                                        priority2 = count;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        z3++;
                                                        choosenSoundPath = choosenSoundPath2;
                                                        rows = rows2;
                                                        size = size2;
                                                        defaultPath = defaultPath2;
                                                        dismissIntent2 = dismissIntent2;
                                                        dialog_id2 = notifyAboutLast;
                                                    }
                                                    defaultPath2 = defaultPath;
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                    if (VERSION.SDK_INT > 19) {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    } else {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    }
                                                    if (VERSION.SDK_INT < 26) {
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        notifyOverride = name;
                                                        override_dialog_id = lastMessageObject;
                                                        priorityOverride = chat2;
                                                        silent3 = silent;
                                                        notifyDelay = notifyAboutLast;
                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                    } else {
                                                        j = dialog_id2;
                                                        i2 = notifyDelay;
                                                        size = notifyOverride;
                                                        j2 = override_dialog_id;
                                                        i3 = priorityOverride;
                                                        i4 = vibrateOverride;
                                                        sharedPreferences = preferences;
                                                        i5 = user_id;
                                                        i6 = chat_id;
                                                        user2 = user;
                                                        pendingIntent = contentIntent;
                                                        silent3 = silent;
                                                        dismissDate2 = needVibrate2;
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        str3 = defaultPath2;
                                                        i7 = priority2;
                                                        intent = dismissIntent;
                                                        fileLocation2 = fileLocation;
                                                        notifyDelay = notifyAboutLast;
                                                    }
                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                    r12.lastNotificationIsNoData = false;
                                                    scheduleNotificationRepeat();
                                                    return;
                                                }
                                                choosenSoundPath2 = choosenSoundPath;
                                                defaultPath2 = defaultPath;
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                notifyOverride2 = false;
                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                if (VERSION.SDK_INT > 19) {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                } else {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                }
                                                if (VERSION.SDK_INT < 26) {
                                                    j = dialog_id2;
                                                    i2 = notifyDelay;
                                                    size = notifyOverride;
                                                    j2 = override_dialog_id;
                                                    i3 = priorityOverride;
                                                    i4 = vibrateOverride;
                                                    sharedPreferences = preferences;
                                                    i5 = user_id;
                                                    i6 = chat_id;
                                                    user2 = user;
                                                    pendingIntent = contentIntent;
                                                    silent3 = silent;
                                                    dismissDate2 = needVibrate2;
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    str3 = defaultPath2;
                                                    i7 = priority2;
                                                    intent = dismissIntent;
                                                    fileLocation2 = fileLocation;
                                                    notifyDelay = notifyAboutLast;
                                                } else {
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    notifyOverride = name;
                                                    override_dialog_id = lastMessageObject;
                                                    priorityOverride = chat2;
                                                    silent3 = silent;
                                                    notifyDelay = notifyAboutLast;
                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                }
                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                r12.lastNotificationIsNoData = false;
                                                scheduleNotificationRepeat();
                                                return;
                                            }
                                            mBuilder.setPriority(-1);
                                            if (VERSION.SDK_INT >= 26) {
                                                user_id2 = 2;
                                                i = user_id2;
                                            }
                                            if (priorityOverride2 != 1) {
                                            }
                                            lastMessage = choosenSoundPath9;
                                            silent = priorityOverride2;
                                            needVibrate2 = needVibrate;
                                            choosenSoundPath = str;
                                            priorityOverride2 = ledColor;
                                            defaultPath = defaultPath4;
                                            jArr = new long[]{0, 0};
                                            vibrationPattern = jArr;
                                            mBuilder.setVibrate(jArr);
                                            vibrationPattern2 = vibrationPattern;
                                            sound2 = sound;
                                            str2 = lastMessage;
                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                size = rows.size();
                                                notifyOverride2 = false;
                                                z3 = false;
                                                while (true) {
                                                    choosenSoundPath2 = choosenSoundPath;
                                                    choosenSoundPath = size;
                                                    if (z3 < choosenSoundPath) {
                                                        break;
                                                    }
                                                    rows2 = rows;
                                                    size2 = choosenSoundPath;
                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                    choosenSoundPath = row.buttons.size();
                                                    defaultPath2 = defaultPath;
                                                    defaultPath = 0;
                                                    while (defaultPath < choosenSoundPath) {
                                                        size22 = choosenSoundPath;
                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                        row2 = row;
                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                        } else {
                                                            priority2 = count;
                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                            dismissIntent = dismissIntent2;
                                                            dialog_id2 = dialog_id;
                                                            callbackIntent.putExtra("did", dialog_id2);
                                                            if (choosenSoundPath3.data == null) {
                                                                fileLocation = fileLocation3;
                                                            } else {
                                                                fileLocation = fileLocation3;
                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                            }
                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                            charSequence = choosenSoundPath3.text;
                                                            context = ApplicationLoader.applicationContext;
                                                            button = choosenSoundPath3;
                                                            choosenSoundPath = r12.lastButtonId;
                                                            lastMessageObject = lastMessageObject4;
                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                            notifyOverride2 = true;
                                                        }
                                                        defaultPath++;
                                                        dialog_id = dialog_id2;
                                                        choosenSoundPath = size22;
                                                        row = row2;
                                                        count = priority2;
                                                        dismissIntent2 = dismissIntent;
                                                        fileLocation3 = fileLocation;
                                                        lastMessageObject4 = lastMessageObject;
                                                        dialog_id2 = notifyAboutLast;
                                                    }
                                                    priority2 = count;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    z3++;
                                                    choosenSoundPath = choosenSoundPath2;
                                                    rows = rows2;
                                                    size = size2;
                                                    defaultPath = defaultPath2;
                                                    dismissIntent2 = dismissIntent2;
                                                    dialog_id2 = notifyAboutLast;
                                                }
                                                defaultPath2 = defaultPath;
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                if (VERSION.SDK_INT > 19) {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                } else {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                }
                                                if (VERSION.SDK_INT < 26) {
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    notifyOverride = name;
                                                    override_dialog_id = lastMessageObject;
                                                    priorityOverride = chat2;
                                                    silent3 = silent;
                                                    notifyDelay = notifyAboutLast;
                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                } else {
                                                    j = dialog_id2;
                                                    i2 = notifyDelay;
                                                    size = notifyOverride;
                                                    j2 = override_dialog_id;
                                                    i3 = priorityOverride;
                                                    i4 = vibrateOverride;
                                                    sharedPreferences = preferences;
                                                    i5 = user_id;
                                                    i6 = chat_id;
                                                    user2 = user;
                                                    pendingIntent = contentIntent;
                                                    silent3 = silent;
                                                    dismissDate2 = needVibrate2;
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    str3 = defaultPath2;
                                                    i7 = priority2;
                                                    intent = dismissIntent;
                                                    fileLocation2 = fileLocation;
                                                    notifyDelay = notifyAboutLast;
                                                }
                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                r12.lastNotificationIsNoData = false;
                                                scheduleNotificationRepeat();
                                                return;
                                            }
                                            choosenSoundPath2 = choosenSoundPath;
                                            defaultPath2 = defaultPath;
                                            lastMessageObject = lastMessageObject4;
                                            priority2 = count;
                                            dismissIntent = dismissIntent2;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            notifyOverride2 = false;
                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                            if (VERSION.SDK_INT > 19) {
                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            } else {
                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            }
                                            if (VERSION.SDK_INT < 26) {
                                                j = dialog_id2;
                                                i2 = notifyDelay;
                                                size = notifyOverride;
                                                j2 = override_dialog_id;
                                                i3 = priorityOverride;
                                                i4 = vibrateOverride;
                                                sharedPreferences = preferences;
                                                i5 = user_id;
                                                i6 = chat_id;
                                                user2 = user;
                                                pendingIntent = contentIntent;
                                                silent3 = silent;
                                                dismissDate2 = needVibrate2;
                                                choosenSoundPath8 = choosenSoundPath2;
                                                str3 = defaultPath2;
                                                i7 = priority2;
                                                intent = dismissIntent;
                                                fileLocation2 = fileLocation;
                                                notifyDelay = notifyAboutLast;
                                            } else {
                                                choosenSoundPath8 = choosenSoundPath2;
                                                notifyOverride = name;
                                                override_dialog_id = lastMessageObject;
                                                priorityOverride = chat2;
                                                silent3 = silent;
                                                notifyDelay = notifyAboutLast;
                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                            }
                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                            r12.lastNotificationIsNoData = false;
                                            scheduleNotificationRepeat();
                                            return;
                                        }
                                        str = choosenSoundPath9;
                                        user_id = user_id2;
                                        chat2 = chat;
                                        if (r12.pushDialogs.size() != 1) {
                                            priority = needVibrate4;
                                            ledColor = count;
                                            intent2.putExtra("encId", (int) (dialog_id2 >> 32));
                                        } else {
                                            priority = needVibrate4;
                                            ledColor = count;
                                        }
                                        fileLocation3 = photoPath;
                                        intent2.putExtra("currentAccount", r12.currentAccount);
                                        contentIntent2 = PendingIntent.getActivity(ApplicationLoader.applicationContext, 0, intent2, NUM);
                                        if (chat_id2 == 0) {
                                        }
                                        lastMessageObject4 = lastMessageObject3;
                                        if (chat2 != null) {
                                            str5 = UserObject.getUserName(user3);
                                        } else {
                                            str5 = chat2.title;
                                        }
                                        choosenSoundPath5 = str5;
                                        if (((int) dialog_id2) == 0) {
                                            replace = true;
                                            if (SharedConfig.isWaitingForPasscodeEnter) {
                                                choosenSoundPath9 = choosenSoundPath5;
                                                str5 = choosenSoundPath9;
                                                chat_id = chat_id2;
                                                if (UserConfig.getActivatedAccountsCount() <= 1) {
                                                    choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                                } else if (r12.pushDialogs.size() != 1) {
                                                    choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                                } else {
                                                    stringBuilder = new StringBuilder();
                                                    stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                                    stringBuilder.append("\u30fb");
                                                    choosenSoundPath9 = stringBuilder.toString();
                                                }
                                                if (r12.pushDialogs.size() == 1) {
                                                    if (VERSION.SDK_INT >= 23) {
                                                        detailText = choosenSoundPath9;
                                                        chatName = choosenSoundPath5;
                                                        z4 = inAppVibrate;
                                                        mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                        vibrationPattern3 = null;
                                                        mBuilder.setCategory("msg");
                                                        stringBuilder = new StringBuilder();
                                                        i = 0;
                                                        stringBuilder.append("tel:+");
                                                        stringBuilder.append(user3.phone);
                                                        mBuilder.addPerson(stringBuilder.toString());
                                                        silent2 = 2;
                                                        user = user3;
                                                        if (r12.pushMessages.size() == 1) {
                                                            lastMessage2 = null;
                                                            sound = null;
                                                            mBuilder.setContentText(detailText);
                                                            inboxStyle = new InboxStyle();
                                                            inboxStyle.setBigContentTitle(str5);
                                                            count2 = Math.min(10, r12.pushMessages.size());
                                                            text2 = new boolean[1];
                                                            contentIntent = contentIntent2;
                                                            count = silent2;
                                                            chat_id2 = 0;
                                                            while (chat_id2 < count2) {
                                                                count3 = count2;
                                                                count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                                dialog_id = dialog_id2;
                                                                message2 = getStringForMessage(count4, 0, text2);
                                                                if (message2 != null) {
                                                                    defaultPath4 = defaultPath3;
                                                                    notifyDelay = dismissDate2;
                                                                } else {
                                                                    defaultPath4 = defaultPath3;
                                                                    notifyDelay = dismissDate2;
                                                                    if (count4.messageOwner.date > notifyDelay) {
                                                                        if (count == 2) {
                                                                            lastMessage2 = message2;
                                                                            count = count4.messageOwner.silent;
                                                                        }
                                                                        messageObject2 = count4;
                                                                        if (chat2 != null) {
                                                                            count2 = new StringBuilder();
                                                                            count2.append(" @ ");
                                                                            count2.append(str5);
                                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                        } else if (text2[0]) {
                                                                            count2 = new StringBuilder();
                                                                            count2.append(str5);
                                                                            count2.append(" ");
                                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                        } else {
                                                                            count2 = new StringBuilder();
                                                                            count2.append(str5);
                                                                            count2.append(": ");
                                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                        }
                                                                        inboxStyle.addLine(message2);
                                                                    }
                                                                }
                                                                chat_id2++;
                                                                dismissDate2 = notifyDelay;
                                                                count2 = count3;
                                                                dialog_id2 = dialog_id;
                                                                defaultPath3 = defaultPath4;
                                                            }
                                                            dialog_id = dialog_id2;
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                            inboxStyle.setSummaryText(detailText);
                                                            mBuilder.setStyle(inboxStyle);
                                                            priorityOverride2 = count;
                                                            choosenSoundPath9 = lastMessage2;
                                                        } else {
                                                            messageObject = (MessageObject) r12.pushMessages.get(0);
                                                            lastMessage2 = null;
                                                            text = new boolean[1];
                                                            stringForMessage = getStringForMessage(messageObject, null, text);
                                                            message = stringForMessage;
                                                            lastMessage3 = stringForMessage;
                                                            choosenSoundPath5 = messageObject.messageOwner.silent;
                                                            choosenSoundPath9 = message;
                                                            if (choosenSoundPath9 != null) {
                                                                if (replace) {
                                                                    silent3 = choosenSoundPath5;
                                                                    sound = null;
                                                                } else {
                                                                    if (chat2 != null) {
                                                                        silent3 = choosenSoundPath5;
                                                                        sound = null;
                                                                        if (text[null]) {
                                                                            choosenSoundPath5 = new StringBuilder();
                                                                            choosenSoundPath5.append(str5);
                                                                            choosenSoundPath5.append(" ");
                                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                        } else {
                                                                            choosenSoundPath5 = new StringBuilder();
                                                                            choosenSoundPath5.append(str5);
                                                                            choosenSoundPath5.append(": ");
                                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                        }
                                                                    } else {
                                                                        silent3 = choosenSoundPath5;
                                                                        choosenSoundPath5 = new StringBuilder();
                                                                        sound = null;
                                                                        choosenSoundPath5.append(" @ ");
                                                                        choosenSoundPath5.append(str5);
                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    }
                                                                    choosenSoundPath9 = message;
                                                                }
                                                                mBuilder.setContentText(choosenSoundPath9);
                                                                mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                                contentIntent = contentIntent2;
                                                                dialog_id = dialog_id2;
                                                                defaultPath4 = defaultPath3;
                                                                notifyDelay = dismissDate2;
                                                                choosenSoundPath9 = lastMessage3;
                                                                priorityOverride2 = silent3;
                                                            } else {
                                                                return;
                                                            }
                                                        }
                                                        dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                        dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                        dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                        mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                        if (fileLocation3 != null) {
                                                            name = str5;
                                                        } else {
                                                            img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                            if (img != null) {
                                                                file = FileLoader.getPathToAttach(fileLocation3, true);
                                                                if (file.exists()) {
                                                                    name = str5;
                                                                } else {
                                                                    scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                    options = new Options();
                                                                    if (scaleFactor < 1.0f) {
                                                                        name = str5;
                                                                        str5 = (int) scaleFactor;
                                                                    } else {
                                                                        name = str5;
                                                                        str5 = true;
                                                                    }
                                                                    options.inSampleSize = str5;
                                                                    str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                    if (str5 != null) {
                                                                        mBuilder.setLargeIcon(str5);
                                                                    }
                                                                }
                                                            } else {
                                                                mBuilder.setLargeIcon(img.getBitmap());
                                                                name = str5;
                                                            }
                                                        }
                                                        z = notifyAboutLast;
                                                        if (z) {
                                                            count = priority;
                                                        } else if (priorityOverride2 == 1) {
                                                            if (priority == 0) {
                                                                count = priority;
                                                                if (count != 1) {
                                                                    if (count == 2) {
                                                                        if (count != 4) {
                                                                            mBuilder.setPriority(-2);
                                                                            if (VERSION.SDK_INT >= 26) {
                                                                                user_id2 = 1;
                                                                                i = user_id2;
                                                                            }
                                                                        } else if (count == 5) {
                                                                            mBuilder.setPriority(-1);
                                                                            if (VERSION.SDK_INT >= 26) {
                                                                                user_id2 = 2;
                                                                                i = user_id2;
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                                mBuilder.setPriority(1);
                                                                if (VERSION.SDK_INT >= 26) {
                                                                    user_id2 = 4;
                                                                    i = user_id2;
                                                                }
                                                            } else {
                                                                mBuilder.setPriority(0);
                                                                if (VERSION.SDK_INT >= 26) {
                                                                    i = 3;
                                                                }
                                                                count = priority;
                                                            }
                                                            if (priorityOverride2 != 1) {
                                                            }
                                                            lastMessage = choosenSoundPath9;
                                                            silent = priorityOverride2;
                                                            needVibrate2 = needVibrate;
                                                            choosenSoundPath = str;
                                                            priorityOverride2 = ledColor;
                                                            defaultPath = defaultPath4;
                                                            jArr = new long[]{0, 0};
                                                            vibrationPattern = jArr;
                                                            mBuilder.setVibrate(jArr);
                                                            vibrationPattern2 = vibrationPattern;
                                                            sound2 = sound;
                                                            str2 = lastMessage;
                                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                size = rows.size();
                                                                notifyOverride2 = false;
                                                                z3 = false;
                                                                while (true) {
                                                                    choosenSoundPath2 = choosenSoundPath;
                                                                    choosenSoundPath = size;
                                                                    if (z3 < choosenSoundPath) {
                                                                        break;
                                                                    }
                                                                    rows2 = rows;
                                                                    size2 = choosenSoundPath;
                                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                                    choosenSoundPath = row.buttons.size();
                                                                    defaultPath2 = defaultPath;
                                                                    defaultPath = 0;
                                                                    while (defaultPath < choosenSoundPath) {
                                                                        size22 = choosenSoundPath;
                                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                        row2 = row;
                                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                            priority2 = count;
                                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                            dismissIntent = dismissIntent2;
                                                                            dialog_id2 = dialog_id;
                                                                            callbackIntent.putExtra("did", dialog_id2);
                                                                            if (choosenSoundPath3.data == null) {
                                                                                fileLocation = fileLocation3;
                                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                            } else {
                                                                                fileLocation = fileLocation3;
                                                                            }
                                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                            charSequence = choosenSoundPath3.text;
                                                                            context = ApplicationLoader.applicationContext;
                                                                            button = choosenSoundPath3;
                                                                            choosenSoundPath = r12.lastButtonId;
                                                                            lastMessageObject = lastMessageObject4;
                                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                            notifyOverride2 = true;
                                                                        } else {
                                                                            lastMessageObject = lastMessageObject4;
                                                                            priority2 = count;
                                                                            dismissIntent = dismissIntent2;
                                                                            fileLocation = fileLocation3;
                                                                            dialog_id2 = dialog_id;
                                                                        }
                                                                        defaultPath++;
                                                                        dialog_id = dialog_id2;
                                                                        choosenSoundPath = size22;
                                                                        row = row2;
                                                                        count = priority2;
                                                                        dismissIntent2 = dismissIntent;
                                                                        fileLocation3 = fileLocation;
                                                                        lastMessageObject4 = lastMessageObject;
                                                                        dialog_id2 = notifyAboutLast;
                                                                    }
                                                                    priority2 = count;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                    z3++;
                                                                    choosenSoundPath = choosenSoundPath2;
                                                                    rows = rows2;
                                                                    size = size2;
                                                                    defaultPath = defaultPath2;
                                                                    dismissIntent2 = dismissIntent2;
                                                                    dialog_id2 = notifyAboutLast;
                                                                }
                                                                defaultPath2 = defaultPath;
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                if (VERSION.SDK_INT > 19) {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                } else {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                }
                                                                if (VERSION.SDK_INT < 26) {
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    notifyOverride = name;
                                                                    override_dialog_id = lastMessageObject;
                                                                    priorityOverride = chat2;
                                                                    silent3 = silent;
                                                                    notifyDelay = notifyAboutLast;
                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                } else {
                                                                    j = dialog_id2;
                                                                    i2 = notifyDelay;
                                                                    size = notifyOverride;
                                                                    j2 = override_dialog_id;
                                                                    i3 = priorityOverride;
                                                                    i4 = vibrateOverride;
                                                                    sharedPreferences = preferences;
                                                                    i5 = user_id;
                                                                    i6 = chat_id;
                                                                    user2 = user;
                                                                    pendingIntent = contentIntent;
                                                                    silent3 = silent;
                                                                    dismissDate2 = needVibrate2;
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    str3 = defaultPath2;
                                                                    i7 = priority2;
                                                                    intent = dismissIntent;
                                                                    fileLocation2 = fileLocation;
                                                                    notifyDelay = notifyAboutLast;
                                                                }
                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                r12.lastNotificationIsNoData = false;
                                                                scheduleNotificationRepeat();
                                                                return;
                                                            }
                                                            choosenSoundPath2 = choosenSoundPath;
                                                            defaultPath2 = defaultPath;
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            notifyOverride2 = false;
                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                            if (VERSION.SDK_INT > 19) {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            } else {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            }
                                                            if (VERSION.SDK_INT < 26) {
                                                                j = dialog_id2;
                                                                i2 = notifyDelay;
                                                                size = notifyOverride;
                                                                j2 = override_dialog_id;
                                                                i3 = priorityOverride;
                                                                i4 = vibrateOverride;
                                                                sharedPreferences = preferences;
                                                                i5 = user_id;
                                                                i6 = chat_id;
                                                                user2 = user;
                                                                pendingIntent = contentIntent;
                                                                silent3 = silent;
                                                                dismissDate2 = needVibrate2;
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                str3 = defaultPath2;
                                                                i7 = priority2;
                                                                intent = dismissIntent;
                                                                fileLocation2 = fileLocation;
                                                                notifyDelay = notifyAboutLast;
                                                            } else {
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                notifyOverride = name;
                                                                override_dialog_id = lastMessageObject;
                                                                priorityOverride = chat2;
                                                                silent3 = silent;
                                                                notifyDelay = notifyAboutLast;
                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                            }
                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                            r12.lastNotificationIsNoData = false;
                                                            scheduleNotificationRepeat();
                                                            return;
                                                        } else {
                                                            count = priority;
                                                        }
                                                        mBuilder.setPriority(-1);
                                                        if (VERSION.SDK_INT >= 26) {
                                                            user_id2 = 2;
                                                            i = user_id2;
                                                        }
                                                        if (priorityOverride2 != 1) {
                                                        }
                                                        lastMessage = choosenSoundPath9;
                                                        silent = priorityOverride2;
                                                        needVibrate2 = needVibrate;
                                                        choosenSoundPath = str;
                                                        priorityOverride2 = ledColor;
                                                        defaultPath = defaultPath4;
                                                        jArr = new long[]{0, 0};
                                                        vibrationPattern = jArr;
                                                        mBuilder.setVibrate(jArr);
                                                        vibrationPattern2 = vibrationPattern;
                                                        sound2 = sound;
                                                        str2 = lastMessage;
                                                        if (AndroidUtilities.needShowPasscode(false)) {
                                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                            size = rows.size();
                                                            notifyOverride2 = false;
                                                            z3 = false;
                                                            while (true) {
                                                                choosenSoundPath2 = choosenSoundPath;
                                                                choosenSoundPath = size;
                                                                if (z3 < choosenSoundPath) {
                                                                    break;
                                                                }
                                                                rows2 = rows;
                                                                size2 = choosenSoundPath;
                                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                                choosenSoundPath = row.buttons.size();
                                                                defaultPath2 = defaultPath;
                                                                defaultPath = 0;
                                                                while (defaultPath < choosenSoundPath) {
                                                                    size22 = choosenSoundPath;
                                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                    row2 = row;
                                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                        lastMessageObject = lastMessageObject4;
                                                                        priority2 = count;
                                                                        dismissIntent = dismissIntent2;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                    } else {
                                                                        priority2 = count;
                                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                        dismissIntent = dismissIntent2;
                                                                        dialog_id2 = dialog_id;
                                                                        callbackIntent.putExtra("did", dialog_id2);
                                                                        if (choosenSoundPath3.data == null) {
                                                                            fileLocation = fileLocation3;
                                                                        } else {
                                                                            fileLocation = fileLocation3;
                                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                        }
                                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                        charSequence = choosenSoundPath3.text;
                                                                        context = ApplicationLoader.applicationContext;
                                                                        button = choosenSoundPath3;
                                                                        choosenSoundPath = r12.lastButtonId;
                                                                        lastMessageObject = lastMessageObject4;
                                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                        notifyOverride2 = true;
                                                                    }
                                                                    defaultPath++;
                                                                    dialog_id = dialog_id2;
                                                                    choosenSoundPath = size22;
                                                                    row = row2;
                                                                    count = priority2;
                                                                    dismissIntent2 = dismissIntent;
                                                                    fileLocation3 = fileLocation;
                                                                    lastMessageObject4 = lastMessageObject;
                                                                    dialog_id2 = notifyAboutLast;
                                                                }
                                                                priority2 = count;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                                z3++;
                                                                choosenSoundPath = choosenSoundPath2;
                                                                rows = rows2;
                                                                size = size2;
                                                                defaultPath = defaultPath2;
                                                                dismissIntent2 = dismissIntent2;
                                                                dialog_id2 = notifyAboutLast;
                                                            }
                                                            defaultPath2 = defaultPath;
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                            if (VERSION.SDK_INT > 19) {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            } else {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            }
                                                            if (VERSION.SDK_INT < 26) {
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                notifyOverride = name;
                                                                override_dialog_id = lastMessageObject;
                                                                priorityOverride = chat2;
                                                                silent3 = silent;
                                                                notifyDelay = notifyAboutLast;
                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                            } else {
                                                                j = dialog_id2;
                                                                i2 = notifyDelay;
                                                                size = notifyOverride;
                                                                j2 = override_dialog_id;
                                                                i3 = priorityOverride;
                                                                i4 = vibrateOverride;
                                                                sharedPreferences = preferences;
                                                                i5 = user_id;
                                                                i6 = chat_id;
                                                                user2 = user;
                                                                pendingIntent = contentIntent;
                                                                silent3 = silent;
                                                                dismissDate2 = needVibrate2;
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                str3 = defaultPath2;
                                                                i7 = priority2;
                                                                intent = dismissIntent;
                                                                fileLocation2 = fileLocation;
                                                                notifyDelay = notifyAboutLast;
                                                            }
                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                            r12.lastNotificationIsNoData = false;
                                                            scheduleNotificationRepeat();
                                                            return;
                                                        }
                                                        choosenSoundPath2 = choosenSoundPath;
                                                        defaultPath2 = defaultPath;
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        notifyOverride2 = false;
                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                        if (VERSION.SDK_INT > 19) {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        } else {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        }
                                                        if (VERSION.SDK_INT < 26) {
                                                            j = dialog_id2;
                                                            i2 = notifyDelay;
                                                            size = notifyOverride;
                                                            j2 = override_dialog_id;
                                                            i3 = priorityOverride;
                                                            i4 = vibrateOverride;
                                                            sharedPreferences = preferences;
                                                            i5 = user_id;
                                                            i6 = chat_id;
                                                            user2 = user;
                                                            pendingIntent = contentIntent;
                                                            silent3 = silent;
                                                            dismissDate2 = needVibrate2;
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            str3 = defaultPath2;
                                                            i7 = priority2;
                                                            intent = dismissIntent;
                                                            fileLocation2 = fileLocation;
                                                            notifyDelay = notifyAboutLast;
                                                        } else {
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            notifyOverride = name;
                                                            override_dialog_id = lastMessageObject;
                                                            priorityOverride = chat2;
                                                            silent3 = silent;
                                                            notifyDelay = notifyAboutLast;
                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                        }
                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                        r12.lastNotificationIsNoData = false;
                                                        scheduleNotificationRepeat();
                                                        return;
                                                    }
                                                }
                                                if (r12.pushDialogs.size() != 1) {
                                                    stringBuilder4 = new StringBuilder();
                                                    stringBuilder4.append(choosenSoundPath9);
                                                    stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                                    detailText = stringBuilder4.toString();
                                                    chatName = choosenSoundPath5;
                                                } else {
                                                    stringBuilder4 = new StringBuilder();
                                                    stringBuilder4.append(choosenSoundPath9);
                                                    objArr = new Object[2];
                                                    chatName = choosenSoundPath5;
                                                    objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                                    objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                                    stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                                    detailText = stringBuilder4.toString();
                                                }
                                                mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                vibrationPattern3 = null;
                                                mBuilder.setCategory("msg");
                                                stringBuilder = new StringBuilder();
                                                i = 0;
                                                stringBuilder.append("tel:+");
                                                stringBuilder.append(user3.phone);
                                                mBuilder.addPerson(stringBuilder.toString());
                                                silent2 = 2;
                                                user = user3;
                                                if (r12.pushMessages.size() == 1) {
                                                    messageObject = (MessageObject) r12.pushMessages.get(0);
                                                    lastMessage2 = null;
                                                    text = new boolean[1];
                                                    stringForMessage = getStringForMessage(messageObject, null, text);
                                                    message = stringForMessage;
                                                    lastMessage3 = stringForMessage;
                                                    choosenSoundPath5 = messageObject.messageOwner.silent;
                                                    choosenSoundPath9 = message;
                                                    if (choosenSoundPath9 != null) {
                                                        if (replace) {
                                                            if (chat2 != null) {
                                                                silent3 = choosenSoundPath5;
                                                                choosenSoundPath5 = new StringBuilder();
                                                                sound = null;
                                                                choosenSoundPath5.append(" @ ");
                                                                choosenSoundPath5.append(str5);
                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            } else {
                                                                silent3 = choosenSoundPath5;
                                                                sound = null;
                                                                if (text[null]) {
                                                                    choosenSoundPath5 = new StringBuilder();
                                                                    choosenSoundPath5.append(str5);
                                                                    choosenSoundPath5.append(": ");
                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                } else {
                                                                    choosenSoundPath5 = new StringBuilder();
                                                                    choosenSoundPath5.append(str5);
                                                                    choosenSoundPath5.append(" ");
                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                }
                                                            }
                                                            choosenSoundPath9 = message;
                                                        } else {
                                                            silent3 = choosenSoundPath5;
                                                            sound = null;
                                                        }
                                                        mBuilder.setContentText(choosenSoundPath9);
                                                        mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                        contentIntent = contentIntent2;
                                                        dialog_id = dialog_id2;
                                                        defaultPath4 = defaultPath3;
                                                        notifyDelay = dismissDate2;
                                                        choosenSoundPath9 = lastMessage3;
                                                        priorityOverride2 = silent3;
                                                    } else {
                                                        return;
                                                    }
                                                }
                                                lastMessage2 = null;
                                                sound = null;
                                                mBuilder.setContentText(detailText);
                                                inboxStyle = new InboxStyle();
                                                inboxStyle.setBigContentTitle(str5);
                                                count2 = Math.min(10, r12.pushMessages.size());
                                                text2 = new boolean[1];
                                                contentIntent = contentIntent2;
                                                count = silent2;
                                                chat_id2 = 0;
                                                while (chat_id2 < count2) {
                                                    count3 = count2;
                                                    count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                    dialog_id = dialog_id2;
                                                    message2 = getStringForMessage(count4, 0, text2);
                                                    if (message2 != null) {
                                                        defaultPath4 = defaultPath3;
                                                        notifyDelay = dismissDate2;
                                                        if (count4.messageOwner.date > notifyDelay) {
                                                            if (count == 2) {
                                                                lastMessage2 = message2;
                                                                count = count4.messageOwner.silent;
                                                            }
                                                            messageObject2 = count4;
                                                            if (chat2 != null) {
                                                                count2 = new StringBuilder();
                                                                count2.append(" @ ");
                                                                count2.append(str5);
                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            } else if (text2[0]) {
                                                                count2 = new StringBuilder();
                                                                count2.append(str5);
                                                                count2.append(": ");
                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            } else {
                                                                count2 = new StringBuilder();
                                                                count2.append(str5);
                                                                count2.append(" ");
                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            }
                                                            inboxStyle.addLine(message2);
                                                        }
                                                    } else {
                                                        defaultPath4 = defaultPath3;
                                                        notifyDelay = dismissDate2;
                                                    }
                                                    chat_id2++;
                                                    dismissDate2 = notifyDelay;
                                                    count2 = count3;
                                                    dialog_id2 = dialog_id;
                                                    defaultPath3 = defaultPath4;
                                                }
                                                dialog_id = dialog_id2;
                                                defaultPath4 = defaultPath3;
                                                notifyDelay = dismissDate2;
                                                inboxStyle.setSummaryText(detailText);
                                                mBuilder.setStyle(inboxStyle);
                                                priorityOverride2 = count;
                                                choosenSoundPath9 = lastMessage2;
                                                dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                if (fileLocation3 != null) {
                                                    img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                    if (img != null) {
                                                        mBuilder.setLargeIcon(img.getBitmap());
                                                        name = str5;
                                                    } else {
                                                        file = FileLoader.getPathToAttach(fileLocation3, true);
                                                        if (file.exists()) {
                                                            scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                            options = new Options();
                                                            if (scaleFactor < 1.0f) {
                                                                name = str5;
                                                                str5 = true;
                                                            } else {
                                                                name = str5;
                                                                str5 = (int) scaleFactor;
                                                            }
                                                            options.inSampleSize = str5;
                                                            str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                            if (str5 != null) {
                                                                mBuilder.setLargeIcon(str5);
                                                            }
                                                        } else {
                                                            name = str5;
                                                        }
                                                    }
                                                } else {
                                                    name = str5;
                                                }
                                                z = notifyAboutLast;
                                                if (z) {
                                                    count = priority;
                                                } else if (priorityOverride2 == 1) {
                                                    count = priority;
                                                } else {
                                                    if (priority == 0) {
                                                        mBuilder.setPriority(0);
                                                        if (VERSION.SDK_INT >= 26) {
                                                            i = 3;
                                                        }
                                                        count = priority;
                                                    } else {
                                                        count = priority;
                                                        if (count != 1) {
                                                            if (count == 2) {
                                                                if (count != 4) {
                                                                    mBuilder.setPriority(-2);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        user_id2 = 1;
                                                                        i = user_id2;
                                                                    }
                                                                } else if (count == 5) {
                                                                    mBuilder.setPriority(-1);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        user_id2 = 2;
                                                                        i = user_id2;
                                                                    }
                                                                }
                                                            }
                                                        }
                                                        mBuilder.setPriority(1);
                                                        if (VERSION.SDK_INT >= 26) {
                                                            user_id2 = 4;
                                                            i = user_id2;
                                                        }
                                                    }
                                                    if (priorityOverride2 != 1) {
                                                    }
                                                    lastMessage = choosenSoundPath9;
                                                    silent = priorityOverride2;
                                                    needVibrate2 = needVibrate;
                                                    choosenSoundPath = str;
                                                    priorityOverride2 = ledColor;
                                                    defaultPath = defaultPath4;
                                                    jArr = new long[]{0, 0};
                                                    vibrationPattern = jArr;
                                                    mBuilder.setVibrate(jArr);
                                                    vibrationPattern2 = vibrationPattern;
                                                    sound2 = sound;
                                                    str2 = lastMessage;
                                                    if (AndroidUtilities.needShowPasscode(false)) {
                                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                        size = rows.size();
                                                        notifyOverride2 = false;
                                                        z3 = false;
                                                        while (true) {
                                                            choosenSoundPath2 = choosenSoundPath;
                                                            choosenSoundPath = size;
                                                            if (z3 < choosenSoundPath) {
                                                                break;
                                                            }
                                                            rows2 = rows;
                                                            size2 = choosenSoundPath;
                                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                                            choosenSoundPath = row.buttons.size();
                                                            defaultPath2 = defaultPath;
                                                            defaultPath = 0;
                                                            while (defaultPath < choosenSoundPath) {
                                                                size22 = choosenSoundPath;
                                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                row2 = row;
                                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                    priority2 = count;
                                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                    dismissIntent = dismissIntent2;
                                                                    dialog_id2 = dialog_id;
                                                                    callbackIntent.putExtra("did", dialog_id2);
                                                                    if (choosenSoundPath3.data == null) {
                                                                        fileLocation = fileLocation3;
                                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                    } else {
                                                                        fileLocation = fileLocation3;
                                                                    }
                                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                    charSequence = choosenSoundPath3.text;
                                                                    context = ApplicationLoader.applicationContext;
                                                                    button = choosenSoundPath3;
                                                                    choosenSoundPath = r12.lastButtonId;
                                                                    lastMessageObject = lastMessageObject4;
                                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                    notifyOverride2 = true;
                                                                } else {
                                                                    lastMessageObject = lastMessageObject4;
                                                                    priority2 = count;
                                                                    dismissIntent = dismissIntent2;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                }
                                                                defaultPath++;
                                                                dialog_id = dialog_id2;
                                                                choosenSoundPath = size22;
                                                                row = row2;
                                                                count = priority2;
                                                                dismissIntent2 = dismissIntent;
                                                                fileLocation3 = fileLocation;
                                                                lastMessageObject4 = lastMessageObject;
                                                                dialog_id2 = notifyAboutLast;
                                                            }
                                                            priority2 = count;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            z3++;
                                                            choosenSoundPath = choosenSoundPath2;
                                                            rows = rows2;
                                                            size = size2;
                                                            defaultPath = defaultPath2;
                                                            dismissIntent2 = dismissIntent2;
                                                            dialog_id2 = notifyAboutLast;
                                                        }
                                                        defaultPath2 = defaultPath;
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                        if (VERSION.SDK_INT > 19) {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        } else {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        }
                                                        if (VERSION.SDK_INT < 26) {
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            notifyOverride = name;
                                                            override_dialog_id = lastMessageObject;
                                                            priorityOverride = chat2;
                                                            silent3 = silent;
                                                            notifyDelay = notifyAboutLast;
                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                        } else {
                                                            j = dialog_id2;
                                                            i2 = notifyDelay;
                                                            size = notifyOverride;
                                                            j2 = override_dialog_id;
                                                            i3 = priorityOverride;
                                                            i4 = vibrateOverride;
                                                            sharedPreferences = preferences;
                                                            i5 = user_id;
                                                            i6 = chat_id;
                                                            user2 = user;
                                                            pendingIntent = contentIntent;
                                                            silent3 = silent;
                                                            dismissDate2 = needVibrate2;
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            str3 = defaultPath2;
                                                            i7 = priority2;
                                                            intent = dismissIntent;
                                                            fileLocation2 = fileLocation;
                                                            notifyDelay = notifyAboutLast;
                                                        }
                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                        r12.lastNotificationIsNoData = false;
                                                        scheduleNotificationRepeat();
                                                        return;
                                                    }
                                                    choosenSoundPath2 = choosenSoundPath;
                                                    defaultPath2 = defaultPath;
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    notifyOverride2 = false;
                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                    if (VERSION.SDK_INT > 19) {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    } else {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    }
                                                    if (VERSION.SDK_INT < 26) {
                                                        j = dialog_id2;
                                                        i2 = notifyDelay;
                                                        size = notifyOverride;
                                                        j2 = override_dialog_id;
                                                        i3 = priorityOverride;
                                                        i4 = vibrateOverride;
                                                        sharedPreferences = preferences;
                                                        i5 = user_id;
                                                        i6 = chat_id;
                                                        user2 = user;
                                                        pendingIntent = contentIntent;
                                                        silent3 = silent;
                                                        dismissDate2 = needVibrate2;
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        str3 = defaultPath2;
                                                        i7 = priority2;
                                                        intent = dismissIntent;
                                                        fileLocation2 = fileLocation;
                                                        notifyDelay = notifyAboutLast;
                                                    } else {
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        notifyOverride = name;
                                                        override_dialog_id = lastMessageObject;
                                                        priorityOverride = chat2;
                                                        silent3 = silent;
                                                        notifyDelay = notifyAboutLast;
                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                    }
                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                    r12.lastNotificationIsNoData = false;
                                                    scheduleNotificationRepeat();
                                                    return;
                                                }
                                                mBuilder.setPriority(-1);
                                                if (VERSION.SDK_INT >= 26) {
                                                    user_id2 = 2;
                                                    i = user_id2;
                                                }
                                                if (priorityOverride2 != 1) {
                                                }
                                                lastMessage = choosenSoundPath9;
                                                silent = priorityOverride2;
                                                needVibrate2 = needVibrate;
                                                choosenSoundPath = str;
                                                priorityOverride2 = ledColor;
                                                defaultPath = defaultPath4;
                                                jArr = new long[]{0, 0};
                                                vibrationPattern = jArr;
                                                mBuilder.setVibrate(jArr);
                                                vibrationPattern2 = vibrationPattern;
                                                sound2 = sound;
                                                str2 = lastMessage;
                                                if (AndroidUtilities.needShowPasscode(false)) {
                                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                    size = rows.size();
                                                    notifyOverride2 = false;
                                                    z3 = false;
                                                    while (true) {
                                                        choosenSoundPath2 = choosenSoundPath;
                                                        choosenSoundPath = size;
                                                        if (z3 < choosenSoundPath) {
                                                            break;
                                                        }
                                                        rows2 = rows;
                                                        size2 = choosenSoundPath;
                                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                                        choosenSoundPath = row.buttons.size();
                                                        defaultPath2 = defaultPath;
                                                        defaultPath = 0;
                                                        while (defaultPath < choosenSoundPath) {
                                                            size22 = choosenSoundPath;
                                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                            row2 = row;
                                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                            } else {
                                                                priority2 = count;
                                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                dismissIntent = dismissIntent2;
                                                                dialog_id2 = dialog_id;
                                                                callbackIntent.putExtra("did", dialog_id2);
                                                                if (choosenSoundPath3.data == null) {
                                                                    fileLocation = fileLocation3;
                                                                } else {
                                                                    fileLocation = fileLocation3;
                                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                }
                                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                charSequence = choosenSoundPath3.text;
                                                                context = ApplicationLoader.applicationContext;
                                                                button = choosenSoundPath3;
                                                                choosenSoundPath = r12.lastButtonId;
                                                                lastMessageObject = lastMessageObject4;
                                                                r12.lastButtonId = choosenSoundPath + 1;
                                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                notifyOverride2 = true;
                                                            }
                                                            defaultPath++;
                                                            dialog_id = dialog_id2;
                                                            choosenSoundPath = size22;
                                                            row = row2;
                                                            count = priority2;
                                                            dismissIntent2 = dismissIntent;
                                                            fileLocation3 = fileLocation;
                                                            lastMessageObject4 = lastMessageObject;
                                                            dialog_id2 = notifyAboutLast;
                                                        }
                                                        priority2 = count;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        z3++;
                                                        choosenSoundPath = choosenSoundPath2;
                                                        rows = rows2;
                                                        size = size2;
                                                        defaultPath = defaultPath2;
                                                        dismissIntent2 = dismissIntent2;
                                                        dialog_id2 = notifyAboutLast;
                                                    }
                                                    defaultPath2 = defaultPath;
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                    if (VERSION.SDK_INT > 19) {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    } else {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    }
                                                    if (VERSION.SDK_INT < 26) {
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        notifyOverride = name;
                                                        override_dialog_id = lastMessageObject;
                                                        priorityOverride = chat2;
                                                        silent3 = silent;
                                                        notifyDelay = notifyAboutLast;
                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                    } else {
                                                        j = dialog_id2;
                                                        i2 = notifyDelay;
                                                        size = notifyOverride;
                                                        j2 = override_dialog_id;
                                                        i3 = priorityOverride;
                                                        i4 = vibrateOverride;
                                                        sharedPreferences = preferences;
                                                        i5 = user_id;
                                                        i6 = chat_id;
                                                        user2 = user;
                                                        pendingIntent = contentIntent;
                                                        silent3 = silent;
                                                        dismissDate2 = needVibrate2;
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        str3 = defaultPath2;
                                                        i7 = priority2;
                                                        intent = dismissIntent;
                                                        fileLocation2 = fileLocation;
                                                        notifyDelay = notifyAboutLast;
                                                    }
                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                    r12.lastNotificationIsNoData = false;
                                                    scheduleNotificationRepeat();
                                                    return;
                                                }
                                                choosenSoundPath2 = choosenSoundPath;
                                                defaultPath2 = defaultPath;
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                notifyOverride2 = false;
                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                if (VERSION.SDK_INT > 19) {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                } else {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                }
                                                if (VERSION.SDK_INT < 26) {
                                                    j = dialog_id2;
                                                    i2 = notifyDelay;
                                                    size = notifyOverride;
                                                    j2 = override_dialog_id;
                                                    i3 = priorityOverride;
                                                    i4 = vibrateOverride;
                                                    sharedPreferences = preferences;
                                                    i5 = user_id;
                                                    i6 = chat_id;
                                                    user2 = user;
                                                    pendingIntent = contentIntent;
                                                    silent3 = silent;
                                                    dismissDate2 = needVibrate2;
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    str3 = defaultPath2;
                                                    i7 = priority2;
                                                    intent = dismissIntent;
                                                    fileLocation2 = fileLocation;
                                                    notifyDelay = notifyAboutLast;
                                                } else {
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    notifyOverride = name;
                                                    override_dialog_id = lastMessageObject;
                                                    priorityOverride = chat2;
                                                    silent3 = silent;
                                                    notifyDelay = notifyAboutLast;
                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                }
                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                r12.lastNotificationIsNoData = false;
                                                scheduleNotificationRepeat();
                                                return;
                                            }
                                        } else {
                                            replace = true;
                                        }
                                        choosenSoundPath9 = LocaleController.getString("AppName", R.string.AppName);
                                        replace = false;
                                        str5 = choosenSoundPath9;
                                        chat_id = chat_id2;
                                        if (UserConfig.getActivatedAccountsCount() <= 1) {
                                            choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                        } else if (r12.pushDialogs.size() != 1) {
                                            stringBuilder = new StringBuilder();
                                            stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                            stringBuilder.append("\u30fb");
                                            choosenSoundPath9 = stringBuilder.toString();
                                        } else {
                                            choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                        }
                                        if (r12.pushDialogs.size() == 1) {
                                            if (VERSION.SDK_INT >= 23) {
                                                detailText = choosenSoundPath9;
                                                chatName = choosenSoundPath5;
                                                z4 = inAppVibrate;
                                                mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                vibrationPattern3 = null;
                                                mBuilder.setCategory("msg");
                                                stringBuilder = new StringBuilder();
                                                i = 0;
                                                stringBuilder.append("tel:+");
                                                stringBuilder.append(user3.phone);
                                                mBuilder.addPerson(stringBuilder.toString());
                                                silent2 = 2;
                                                user = user3;
                                                if (r12.pushMessages.size() == 1) {
                                                    lastMessage2 = null;
                                                    sound = null;
                                                    mBuilder.setContentText(detailText);
                                                    inboxStyle = new InboxStyle();
                                                    inboxStyle.setBigContentTitle(str5);
                                                    count2 = Math.min(10, r12.pushMessages.size());
                                                    text2 = new boolean[1];
                                                    contentIntent = contentIntent2;
                                                    count = silent2;
                                                    chat_id2 = 0;
                                                    while (chat_id2 < count2) {
                                                        count3 = count2;
                                                        count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                        dialog_id = dialog_id2;
                                                        message2 = getStringForMessage(count4, 0, text2);
                                                        if (message2 != null) {
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                        } else {
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                            if (count4.messageOwner.date > notifyDelay) {
                                                                if (count == 2) {
                                                                    lastMessage2 = message2;
                                                                    count = count4.messageOwner.silent;
                                                                }
                                                                messageObject2 = count4;
                                                                if (chat2 != null) {
                                                                    count2 = new StringBuilder();
                                                                    count2.append(" @ ");
                                                                    count2.append(str5);
                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                } else if (text2[0]) {
                                                                    count2 = new StringBuilder();
                                                                    count2.append(str5);
                                                                    count2.append(" ");
                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                } else {
                                                                    count2 = new StringBuilder();
                                                                    count2.append(str5);
                                                                    count2.append(": ");
                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                }
                                                                inboxStyle.addLine(message2);
                                                            }
                                                        }
                                                        chat_id2++;
                                                        dismissDate2 = notifyDelay;
                                                        count2 = count3;
                                                        dialog_id2 = dialog_id;
                                                        defaultPath3 = defaultPath4;
                                                    }
                                                    dialog_id = dialog_id2;
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                    inboxStyle.setSummaryText(detailText);
                                                    mBuilder.setStyle(inboxStyle);
                                                    priorityOverride2 = count;
                                                    choosenSoundPath9 = lastMessage2;
                                                } else {
                                                    messageObject = (MessageObject) r12.pushMessages.get(0);
                                                    lastMessage2 = null;
                                                    text = new boolean[1];
                                                    stringForMessage = getStringForMessage(messageObject, null, text);
                                                    message = stringForMessage;
                                                    lastMessage3 = stringForMessage;
                                                    choosenSoundPath5 = messageObject.messageOwner.silent;
                                                    choosenSoundPath9 = message;
                                                    if (choosenSoundPath9 != null) {
                                                        if (replace) {
                                                            silent3 = choosenSoundPath5;
                                                            sound = null;
                                                        } else {
                                                            if (chat2 != null) {
                                                                silent3 = choosenSoundPath5;
                                                                sound = null;
                                                                if (text[null]) {
                                                                    choosenSoundPath5 = new StringBuilder();
                                                                    choosenSoundPath5.append(str5);
                                                                    choosenSoundPath5.append(" ");
                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                } else {
                                                                    choosenSoundPath5 = new StringBuilder();
                                                                    choosenSoundPath5.append(str5);
                                                                    choosenSoundPath5.append(": ");
                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                }
                                                            } else {
                                                                silent3 = choosenSoundPath5;
                                                                choosenSoundPath5 = new StringBuilder();
                                                                sound = null;
                                                                choosenSoundPath5.append(" @ ");
                                                                choosenSoundPath5.append(str5);
                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            }
                                                            choosenSoundPath9 = message;
                                                        }
                                                        mBuilder.setContentText(choosenSoundPath9);
                                                        mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                        contentIntent = contentIntent2;
                                                        dialog_id = dialog_id2;
                                                        defaultPath4 = defaultPath3;
                                                        notifyDelay = dismissDate2;
                                                        choosenSoundPath9 = lastMessage3;
                                                        priorityOverride2 = silent3;
                                                    } else {
                                                        return;
                                                    }
                                                }
                                                dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                if (fileLocation3 != null) {
                                                    name = str5;
                                                } else {
                                                    img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                    if (img != null) {
                                                        file = FileLoader.getPathToAttach(fileLocation3, true);
                                                        if (file.exists()) {
                                                            name = str5;
                                                        } else {
                                                            scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                            options = new Options();
                                                            if (scaleFactor < 1.0f) {
                                                                name = str5;
                                                                str5 = (int) scaleFactor;
                                                            } else {
                                                                name = str5;
                                                                str5 = true;
                                                            }
                                                            options.inSampleSize = str5;
                                                            str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                            if (str5 != null) {
                                                                mBuilder.setLargeIcon(str5);
                                                            }
                                                        }
                                                    } else {
                                                        mBuilder.setLargeIcon(img.getBitmap());
                                                        name = str5;
                                                    }
                                                }
                                                z = notifyAboutLast;
                                                if (z) {
                                                    count = priority;
                                                } else if (priorityOverride2 == 1) {
                                                    if (priority == 0) {
                                                        count = priority;
                                                        if (count != 1) {
                                                            if (count == 2) {
                                                                if (count != 4) {
                                                                    mBuilder.setPriority(-2);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        user_id2 = 1;
                                                                        i = user_id2;
                                                                    }
                                                                } else if (count == 5) {
                                                                    mBuilder.setPriority(-1);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        user_id2 = 2;
                                                                        i = user_id2;
                                                                    }
                                                                }
                                                            }
                                                        }
                                                        mBuilder.setPriority(1);
                                                        if (VERSION.SDK_INT >= 26) {
                                                            user_id2 = 4;
                                                            i = user_id2;
                                                        }
                                                    } else {
                                                        mBuilder.setPriority(0);
                                                        if (VERSION.SDK_INT >= 26) {
                                                            i = 3;
                                                        }
                                                        count = priority;
                                                    }
                                                    if (priorityOverride2 != 1) {
                                                    }
                                                    lastMessage = choosenSoundPath9;
                                                    silent = priorityOverride2;
                                                    needVibrate2 = needVibrate;
                                                    choosenSoundPath = str;
                                                    priorityOverride2 = ledColor;
                                                    defaultPath = defaultPath4;
                                                    jArr = new long[]{0, 0};
                                                    vibrationPattern = jArr;
                                                    mBuilder.setVibrate(jArr);
                                                    vibrationPattern2 = vibrationPattern;
                                                    sound2 = sound;
                                                    str2 = lastMessage;
                                                    if (AndroidUtilities.needShowPasscode(false)) {
                                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                        size = rows.size();
                                                        notifyOverride2 = false;
                                                        z3 = false;
                                                        while (true) {
                                                            choosenSoundPath2 = choosenSoundPath;
                                                            choosenSoundPath = size;
                                                            if (z3 < choosenSoundPath) {
                                                                break;
                                                            }
                                                            rows2 = rows;
                                                            size2 = choosenSoundPath;
                                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                                            choosenSoundPath = row.buttons.size();
                                                            defaultPath2 = defaultPath;
                                                            defaultPath = 0;
                                                            while (defaultPath < choosenSoundPath) {
                                                                size22 = choosenSoundPath;
                                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                row2 = row;
                                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                    priority2 = count;
                                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                    dismissIntent = dismissIntent2;
                                                                    dialog_id2 = dialog_id;
                                                                    callbackIntent.putExtra("did", dialog_id2);
                                                                    if (choosenSoundPath3.data == null) {
                                                                        fileLocation = fileLocation3;
                                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                    } else {
                                                                        fileLocation = fileLocation3;
                                                                    }
                                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                    charSequence = choosenSoundPath3.text;
                                                                    context = ApplicationLoader.applicationContext;
                                                                    button = choosenSoundPath3;
                                                                    choosenSoundPath = r12.lastButtonId;
                                                                    lastMessageObject = lastMessageObject4;
                                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                    notifyOverride2 = true;
                                                                } else {
                                                                    lastMessageObject = lastMessageObject4;
                                                                    priority2 = count;
                                                                    dismissIntent = dismissIntent2;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                }
                                                                defaultPath++;
                                                                dialog_id = dialog_id2;
                                                                choosenSoundPath = size22;
                                                                row = row2;
                                                                count = priority2;
                                                                dismissIntent2 = dismissIntent;
                                                                fileLocation3 = fileLocation;
                                                                lastMessageObject4 = lastMessageObject;
                                                                dialog_id2 = notifyAboutLast;
                                                            }
                                                            priority2 = count;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            z3++;
                                                            choosenSoundPath = choosenSoundPath2;
                                                            rows = rows2;
                                                            size = size2;
                                                            defaultPath = defaultPath2;
                                                            dismissIntent2 = dismissIntent2;
                                                            dialog_id2 = notifyAboutLast;
                                                        }
                                                        defaultPath2 = defaultPath;
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                        if (VERSION.SDK_INT > 19) {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        } else {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        }
                                                        if (VERSION.SDK_INT < 26) {
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            notifyOverride = name;
                                                            override_dialog_id = lastMessageObject;
                                                            priorityOverride = chat2;
                                                            silent3 = silent;
                                                            notifyDelay = notifyAboutLast;
                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                        } else {
                                                            j = dialog_id2;
                                                            i2 = notifyDelay;
                                                            size = notifyOverride;
                                                            j2 = override_dialog_id;
                                                            i3 = priorityOverride;
                                                            i4 = vibrateOverride;
                                                            sharedPreferences = preferences;
                                                            i5 = user_id;
                                                            i6 = chat_id;
                                                            user2 = user;
                                                            pendingIntent = contentIntent;
                                                            silent3 = silent;
                                                            dismissDate2 = needVibrate2;
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            str3 = defaultPath2;
                                                            i7 = priority2;
                                                            intent = dismissIntent;
                                                            fileLocation2 = fileLocation;
                                                            notifyDelay = notifyAboutLast;
                                                        }
                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                        r12.lastNotificationIsNoData = false;
                                                        scheduleNotificationRepeat();
                                                        return;
                                                    }
                                                    choosenSoundPath2 = choosenSoundPath;
                                                    defaultPath2 = defaultPath;
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    notifyOverride2 = false;
                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                    if (VERSION.SDK_INT > 19) {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    } else {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    }
                                                    if (VERSION.SDK_INT < 26) {
                                                        j = dialog_id2;
                                                        i2 = notifyDelay;
                                                        size = notifyOverride;
                                                        j2 = override_dialog_id;
                                                        i3 = priorityOverride;
                                                        i4 = vibrateOverride;
                                                        sharedPreferences = preferences;
                                                        i5 = user_id;
                                                        i6 = chat_id;
                                                        user2 = user;
                                                        pendingIntent = contentIntent;
                                                        silent3 = silent;
                                                        dismissDate2 = needVibrate2;
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        str3 = defaultPath2;
                                                        i7 = priority2;
                                                        intent = dismissIntent;
                                                        fileLocation2 = fileLocation;
                                                        notifyDelay = notifyAboutLast;
                                                    } else {
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        notifyOverride = name;
                                                        override_dialog_id = lastMessageObject;
                                                        priorityOverride = chat2;
                                                        silent3 = silent;
                                                        notifyDelay = notifyAboutLast;
                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                    }
                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                    r12.lastNotificationIsNoData = false;
                                                    scheduleNotificationRepeat();
                                                    return;
                                                } else {
                                                    count = priority;
                                                }
                                                mBuilder.setPriority(-1);
                                                if (VERSION.SDK_INT >= 26) {
                                                    user_id2 = 2;
                                                    i = user_id2;
                                                }
                                                if (priorityOverride2 != 1) {
                                                }
                                                lastMessage = choosenSoundPath9;
                                                silent = priorityOverride2;
                                                needVibrate2 = needVibrate;
                                                choosenSoundPath = str;
                                                priorityOverride2 = ledColor;
                                                defaultPath = defaultPath4;
                                                jArr = new long[]{0, 0};
                                                vibrationPattern = jArr;
                                                mBuilder.setVibrate(jArr);
                                                vibrationPattern2 = vibrationPattern;
                                                sound2 = sound;
                                                str2 = lastMessage;
                                                if (AndroidUtilities.needShowPasscode(false)) {
                                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                    size = rows.size();
                                                    notifyOverride2 = false;
                                                    z3 = false;
                                                    while (true) {
                                                        choosenSoundPath2 = choosenSoundPath;
                                                        choosenSoundPath = size;
                                                        if (z3 < choosenSoundPath) {
                                                            break;
                                                        }
                                                        rows2 = rows;
                                                        size2 = choosenSoundPath;
                                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                                        choosenSoundPath = row.buttons.size();
                                                        defaultPath2 = defaultPath;
                                                        defaultPath = 0;
                                                        while (defaultPath < choosenSoundPath) {
                                                            size22 = choosenSoundPath;
                                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                            row2 = row;
                                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                            } else {
                                                                priority2 = count;
                                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                dismissIntent = dismissIntent2;
                                                                dialog_id2 = dialog_id;
                                                                callbackIntent.putExtra("did", dialog_id2);
                                                                if (choosenSoundPath3.data == null) {
                                                                    fileLocation = fileLocation3;
                                                                } else {
                                                                    fileLocation = fileLocation3;
                                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                }
                                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                charSequence = choosenSoundPath3.text;
                                                                context = ApplicationLoader.applicationContext;
                                                                button = choosenSoundPath3;
                                                                choosenSoundPath = r12.lastButtonId;
                                                                lastMessageObject = lastMessageObject4;
                                                                r12.lastButtonId = choosenSoundPath + 1;
                                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                notifyOverride2 = true;
                                                            }
                                                            defaultPath++;
                                                            dialog_id = dialog_id2;
                                                            choosenSoundPath = size22;
                                                            row = row2;
                                                            count = priority2;
                                                            dismissIntent2 = dismissIntent;
                                                            fileLocation3 = fileLocation;
                                                            lastMessageObject4 = lastMessageObject;
                                                            dialog_id2 = notifyAboutLast;
                                                        }
                                                        priority2 = count;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        z3++;
                                                        choosenSoundPath = choosenSoundPath2;
                                                        rows = rows2;
                                                        size = size2;
                                                        defaultPath = defaultPath2;
                                                        dismissIntent2 = dismissIntent2;
                                                        dialog_id2 = notifyAboutLast;
                                                    }
                                                    defaultPath2 = defaultPath;
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                    if (VERSION.SDK_INT > 19) {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    } else {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    }
                                                    if (VERSION.SDK_INT < 26) {
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        notifyOverride = name;
                                                        override_dialog_id = lastMessageObject;
                                                        priorityOverride = chat2;
                                                        silent3 = silent;
                                                        notifyDelay = notifyAboutLast;
                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                    } else {
                                                        j = dialog_id2;
                                                        i2 = notifyDelay;
                                                        size = notifyOverride;
                                                        j2 = override_dialog_id;
                                                        i3 = priorityOverride;
                                                        i4 = vibrateOverride;
                                                        sharedPreferences = preferences;
                                                        i5 = user_id;
                                                        i6 = chat_id;
                                                        user2 = user;
                                                        pendingIntent = contentIntent;
                                                        silent3 = silent;
                                                        dismissDate2 = needVibrate2;
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        str3 = defaultPath2;
                                                        i7 = priority2;
                                                        intent = dismissIntent;
                                                        fileLocation2 = fileLocation;
                                                        notifyDelay = notifyAboutLast;
                                                    }
                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                    r12.lastNotificationIsNoData = false;
                                                    scheduleNotificationRepeat();
                                                    return;
                                                }
                                                choosenSoundPath2 = choosenSoundPath;
                                                defaultPath2 = defaultPath;
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                notifyOverride2 = false;
                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                if (VERSION.SDK_INT > 19) {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                } else {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                }
                                                if (VERSION.SDK_INT < 26) {
                                                    j = dialog_id2;
                                                    i2 = notifyDelay;
                                                    size = notifyOverride;
                                                    j2 = override_dialog_id;
                                                    i3 = priorityOverride;
                                                    i4 = vibrateOverride;
                                                    sharedPreferences = preferences;
                                                    i5 = user_id;
                                                    i6 = chat_id;
                                                    user2 = user;
                                                    pendingIntent = contentIntent;
                                                    silent3 = silent;
                                                    dismissDate2 = needVibrate2;
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    str3 = defaultPath2;
                                                    i7 = priority2;
                                                    intent = dismissIntent;
                                                    fileLocation2 = fileLocation;
                                                    notifyDelay = notifyAboutLast;
                                                } else {
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    notifyOverride = name;
                                                    override_dialog_id = lastMessageObject;
                                                    priorityOverride = chat2;
                                                    silent3 = silent;
                                                    notifyDelay = notifyAboutLast;
                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                }
                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                r12.lastNotificationIsNoData = false;
                                                scheduleNotificationRepeat();
                                                return;
                                            }
                                        }
                                        if (r12.pushDialogs.size() != 1) {
                                            stringBuilder4 = new StringBuilder();
                                            stringBuilder4.append(choosenSoundPath9);
                                            objArr = new Object[2];
                                            chatName = choosenSoundPath5;
                                            objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                            objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                            stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                            detailText = stringBuilder4.toString();
                                        } else {
                                            stringBuilder4 = new StringBuilder();
                                            stringBuilder4.append(choosenSoundPath9);
                                            stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                            detailText = stringBuilder4.toString();
                                            chatName = choosenSoundPath5;
                                        }
                                        mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                        vibrationPattern3 = null;
                                        mBuilder.setCategory("msg");
                                        stringBuilder = new StringBuilder();
                                        i = 0;
                                        stringBuilder.append("tel:+");
                                        stringBuilder.append(user3.phone);
                                        mBuilder.addPerson(stringBuilder.toString());
                                        silent2 = 2;
                                        user = user3;
                                        if (r12.pushMessages.size() == 1) {
                                            messageObject = (MessageObject) r12.pushMessages.get(0);
                                            lastMessage2 = null;
                                            text = new boolean[1];
                                            stringForMessage = getStringForMessage(messageObject, null, text);
                                            message = stringForMessage;
                                            lastMessage3 = stringForMessage;
                                            choosenSoundPath5 = messageObject.messageOwner.silent;
                                            choosenSoundPath9 = message;
                                            if (choosenSoundPath9 != null) {
                                                if (replace) {
                                                    if (chat2 != null) {
                                                        silent3 = choosenSoundPath5;
                                                        choosenSoundPath5 = new StringBuilder();
                                                        sound = null;
                                                        choosenSoundPath5.append(" @ ");
                                                        choosenSoundPath5.append(str5);
                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    } else {
                                                        silent3 = choosenSoundPath5;
                                                        sound = null;
                                                        if (text[null]) {
                                                            choosenSoundPath5 = new StringBuilder();
                                                            choosenSoundPath5.append(str5);
                                                            choosenSoundPath5.append(": ");
                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        } else {
                                                            choosenSoundPath5 = new StringBuilder();
                                                            choosenSoundPath5.append(str5);
                                                            choosenSoundPath5.append(" ");
                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        }
                                                    }
                                                    choosenSoundPath9 = message;
                                                } else {
                                                    silent3 = choosenSoundPath5;
                                                    sound = null;
                                                }
                                                mBuilder.setContentText(choosenSoundPath9);
                                                mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                contentIntent = contentIntent2;
                                                dialog_id = dialog_id2;
                                                defaultPath4 = defaultPath3;
                                                notifyDelay = dismissDate2;
                                                choosenSoundPath9 = lastMessage3;
                                                priorityOverride2 = silent3;
                                            } else {
                                                return;
                                            }
                                        }
                                        lastMessage2 = null;
                                        sound = null;
                                        mBuilder.setContentText(detailText);
                                        inboxStyle = new InboxStyle();
                                        inboxStyle.setBigContentTitle(str5);
                                        count2 = Math.min(10, r12.pushMessages.size());
                                        text2 = new boolean[1];
                                        contentIntent = contentIntent2;
                                        count = silent2;
                                        chat_id2 = 0;
                                        while (chat_id2 < count2) {
                                            count3 = count2;
                                            count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                            dialog_id = dialog_id2;
                                            message2 = getStringForMessage(count4, 0, text2);
                                            if (message2 != null) {
                                                defaultPath4 = defaultPath3;
                                                notifyDelay = dismissDate2;
                                                if (count4.messageOwner.date > notifyDelay) {
                                                    if (count == 2) {
                                                        lastMessage2 = message2;
                                                        count = count4.messageOwner.silent;
                                                    }
                                                    messageObject2 = count4;
                                                    if (chat2 != null) {
                                                        count2 = new StringBuilder();
                                                        count2.append(" @ ");
                                                        count2.append(str5);
                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    } else if (text2[0]) {
                                                        count2 = new StringBuilder();
                                                        count2.append(str5);
                                                        count2.append(": ");
                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    } else {
                                                        count2 = new StringBuilder();
                                                        count2.append(str5);
                                                        count2.append(" ");
                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    }
                                                    inboxStyle.addLine(message2);
                                                }
                                            } else {
                                                defaultPath4 = defaultPath3;
                                                notifyDelay = dismissDate2;
                                            }
                                            chat_id2++;
                                            dismissDate2 = notifyDelay;
                                            count2 = count3;
                                            dialog_id2 = dialog_id;
                                            defaultPath3 = defaultPath4;
                                        }
                                        dialog_id = dialog_id2;
                                        defaultPath4 = defaultPath3;
                                        notifyDelay = dismissDate2;
                                        inboxStyle.setSummaryText(detailText);
                                        mBuilder.setStyle(inboxStyle);
                                        priorityOverride2 = count;
                                        choosenSoundPath9 = lastMessage2;
                                        dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                        dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                        dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                        mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                        if (fileLocation3 != null) {
                                            img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                            if (img != null) {
                                                mBuilder.setLargeIcon(img.getBitmap());
                                                name = str5;
                                            } else {
                                                file = FileLoader.getPathToAttach(fileLocation3, true);
                                                if (file.exists()) {
                                                    scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                    options = new Options();
                                                    if (scaleFactor < 1.0f) {
                                                        name = str5;
                                                        str5 = true;
                                                    } else {
                                                        name = str5;
                                                        str5 = (int) scaleFactor;
                                                    }
                                                    options.inSampleSize = str5;
                                                    str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                    if (str5 != null) {
                                                        mBuilder.setLargeIcon(str5);
                                                    }
                                                } else {
                                                    name = str5;
                                                }
                                            }
                                        } else {
                                            name = str5;
                                        }
                                        z = notifyAboutLast;
                                        if (z) {
                                            count = priority;
                                        } else if (priorityOverride2 == 1) {
                                            count = priority;
                                        } else {
                                            if (priority == 0) {
                                                mBuilder.setPriority(0);
                                                if (VERSION.SDK_INT >= 26) {
                                                    i = 3;
                                                }
                                                count = priority;
                                            } else {
                                                count = priority;
                                                if (count != 1) {
                                                    if (count == 2) {
                                                        if (count != 4) {
                                                            mBuilder.setPriority(-2);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 1;
                                                                i = user_id2;
                                                            }
                                                        } else if (count == 5) {
                                                            mBuilder.setPriority(-1);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 2;
                                                                i = user_id2;
                                                            }
                                                        }
                                                    }
                                                }
                                                mBuilder.setPriority(1);
                                                if (VERSION.SDK_INT >= 26) {
                                                    user_id2 = 4;
                                                    i = user_id2;
                                                }
                                            }
                                            if (priorityOverride2 != 1) {
                                            }
                                            lastMessage = choosenSoundPath9;
                                            silent = priorityOverride2;
                                            needVibrate2 = needVibrate;
                                            choosenSoundPath = str;
                                            priorityOverride2 = ledColor;
                                            defaultPath = defaultPath4;
                                            jArr = new long[]{0, 0};
                                            vibrationPattern = jArr;
                                            mBuilder.setVibrate(jArr);
                                            vibrationPattern2 = vibrationPattern;
                                            sound2 = sound;
                                            str2 = lastMessage;
                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                size = rows.size();
                                                notifyOverride2 = false;
                                                z3 = false;
                                                while (true) {
                                                    choosenSoundPath2 = choosenSoundPath;
                                                    choosenSoundPath = size;
                                                    if (z3 < choosenSoundPath) {
                                                        break;
                                                    }
                                                    rows2 = rows;
                                                    size2 = choosenSoundPath;
                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                    choosenSoundPath = row.buttons.size();
                                                    defaultPath2 = defaultPath;
                                                    defaultPath = 0;
                                                    while (defaultPath < choosenSoundPath) {
                                                        size22 = choosenSoundPath;
                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                        row2 = row;
                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                            priority2 = count;
                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                            dismissIntent = dismissIntent2;
                                                            dialog_id2 = dialog_id;
                                                            callbackIntent.putExtra("did", dialog_id2);
                                                            if (choosenSoundPath3.data == null) {
                                                                fileLocation = fileLocation3;
                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                            } else {
                                                                fileLocation = fileLocation3;
                                                            }
                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                            charSequence = choosenSoundPath3.text;
                                                            context = ApplicationLoader.applicationContext;
                                                            button = choosenSoundPath3;
                                                            choosenSoundPath = r12.lastButtonId;
                                                            lastMessageObject = lastMessageObject4;
                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                            notifyOverride2 = true;
                                                        } else {
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                        }
                                                        defaultPath++;
                                                        dialog_id = dialog_id2;
                                                        choosenSoundPath = size22;
                                                        row = row2;
                                                        count = priority2;
                                                        dismissIntent2 = dismissIntent;
                                                        fileLocation3 = fileLocation;
                                                        lastMessageObject4 = lastMessageObject;
                                                        dialog_id2 = notifyAboutLast;
                                                    }
                                                    priority2 = count;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    z3++;
                                                    choosenSoundPath = choosenSoundPath2;
                                                    rows = rows2;
                                                    size = size2;
                                                    defaultPath = defaultPath2;
                                                    dismissIntent2 = dismissIntent2;
                                                    dialog_id2 = notifyAboutLast;
                                                }
                                                defaultPath2 = defaultPath;
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                if (VERSION.SDK_INT > 19) {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                } else {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                }
                                                if (VERSION.SDK_INT < 26) {
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    notifyOverride = name;
                                                    override_dialog_id = lastMessageObject;
                                                    priorityOverride = chat2;
                                                    silent3 = silent;
                                                    notifyDelay = notifyAboutLast;
                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                } else {
                                                    j = dialog_id2;
                                                    i2 = notifyDelay;
                                                    size = notifyOverride;
                                                    j2 = override_dialog_id;
                                                    i3 = priorityOverride;
                                                    i4 = vibrateOverride;
                                                    sharedPreferences = preferences;
                                                    i5 = user_id;
                                                    i6 = chat_id;
                                                    user2 = user;
                                                    pendingIntent = contentIntent;
                                                    silent3 = silent;
                                                    dismissDate2 = needVibrate2;
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    str3 = defaultPath2;
                                                    i7 = priority2;
                                                    intent = dismissIntent;
                                                    fileLocation2 = fileLocation;
                                                    notifyDelay = notifyAboutLast;
                                                }
                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                r12.lastNotificationIsNoData = false;
                                                scheduleNotificationRepeat();
                                                return;
                                            }
                                            choosenSoundPath2 = choosenSoundPath;
                                            defaultPath2 = defaultPath;
                                            lastMessageObject = lastMessageObject4;
                                            priority2 = count;
                                            dismissIntent = dismissIntent2;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            notifyOverride2 = false;
                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                            if (VERSION.SDK_INT > 19) {
                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            } else {
                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            }
                                            if (VERSION.SDK_INT < 26) {
                                                j = dialog_id2;
                                                i2 = notifyDelay;
                                                size = notifyOverride;
                                                j2 = override_dialog_id;
                                                i3 = priorityOverride;
                                                i4 = vibrateOverride;
                                                sharedPreferences = preferences;
                                                i5 = user_id;
                                                i6 = chat_id;
                                                user2 = user;
                                                pendingIntent = contentIntent;
                                                silent3 = silent;
                                                dismissDate2 = needVibrate2;
                                                choosenSoundPath8 = choosenSoundPath2;
                                                str3 = defaultPath2;
                                                i7 = priority2;
                                                intent = dismissIntent;
                                                fileLocation2 = fileLocation;
                                                notifyDelay = notifyAboutLast;
                                            } else {
                                                choosenSoundPath8 = choosenSoundPath2;
                                                notifyOverride = name;
                                                override_dialog_id = lastMessageObject;
                                                priorityOverride = chat2;
                                                silent3 = silent;
                                                notifyDelay = notifyAboutLast;
                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                            }
                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                            r12.lastNotificationIsNoData = false;
                                            scheduleNotificationRepeat();
                                            return;
                                        }
                                        mBuilder.setPriority(-1);
                                        if (VERSION.SDK_INT >= 26) {
                                            user_id2 = 2;
                                            i = user_id2;
                                        }
                                        if (priorityOverride2 != 1) {
                                        }
                                        lastMessage = choosenSoundPath9;
                                        silent = priorityOverride2;
                                        needVibrate2 = needVibrate;
                                        choosenSoundPath = str;
                                        priorityOverride2 = ledColor;
                                        defaultPath = defaultPath4;
                                        jArr = new long[]{0, 0};
                                        vibrationPattern = jArr;
                                        mBuilder.setVibrate(jArr);
                                        vibrationPattern2 = vibrationPattern;
                                        sound2 = sound;
                                        str2 = lastMessage;
                                        if (AndroidUtilities.needShowPasscode(false)) {
                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                            size = rows.size();
                                            notifyOverride2 = false;
                                            z3 = false;
                                            while (true) {
                                                choosenSoundPath2 = choosenSoundPath;
                                                choosenSoundPath = size;
                                                if (z3 < choosenSoundPath) {
                                                    break;
                                                }
                                                rows2 = rows;
                                                size2 = choosenSoundPath;
                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                choosenSoundPath = row.buttons.size();
                                                defaultPath2 = defaultPath;
                                                defaultPath = 0;
                                                while (defaultPath < choosenSoundPath) {
                                                    size22 = choosenSoundPath;
                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                    row2 = row;
                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                    } else {
                                                        priority2 = count;
                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                        dismissIntent = dismissIntent2;
                                                        dialog_id2 = dialog_id;
                                                        callbackIntent.putExtra("did", dialog_id2);
                                                        if (choosenSoundPath3.data == null) {
                                                            fileLocation = fileLocation3;
                                                        } else {
                                                            fileLocation = fileLocation3;
                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                        }
                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                        charSequence = choosenSoundPath3.text;
                                                        context = ApplicationLoader.applicationContext;
                                                        button = choosenSoundPath3;
                                                        choosenSoundPath = r12.lastButtonId;
                                                        lastMessageObject = lastMessageObject4;
                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                        notifyOverride2 = true;
                                                    }
                                                    defaultPath++;
                                                    dialog_id = dialog_id2;
                                                    choosenSoundPath = size22;
                                                    row = row2;
                                                    count = priority2;
                                                    dismissIntent2 = dismissIntent;
                                                    fileLocation3 = fileLocation;
                                                    lastMessageObject4 = lastMessageObject;
                                                    dialog_id2 = notifyAboutLast;
                                                }
                                                priority2 = count;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                z3++;
                                                choosenSoundPath = choosenSoundPath2;
                                                rows = rows2;
                                                size = size2;
                                                defaultPath = defaultPath2;
                                                dismissIntent2 = dismissIntent2;
                                                dialog_id2 = notifyAboutLast;
                                            }
                                            defaultPath2 = defaultPath;
                                            lastMessageObject = lastMessageObject4;
                                            priority2 = count;
                                            dismissIntent = dismissIntent2;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                            if (VERSION.SDK_INT > 19) {
                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            } else {
                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            }
                                            if (VERSION.SDK_INT < 26) {
                                                choosenSoundPath8 = choosenSoundPath2;
                                                notifyOverride = name;
                                                override_dialog_id = lastMessageObject;
                                                priorityOverride = chat2;
                                                silent3 = silent;
                                                notifyDelay = notifyAboutLast;
                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                            } else {
                                                j = dialog_id2;
                                                i2 = notifyDelay;
                                                size = notifyOverride;
                                                j2 = override_dialog_id;
                                                i3 = priorityOverride;
                                                i4 = vibrateOverride;
                                                sharedPreferences = preferences;
                                                i5 = user_id;
                                                i6 = chat_id;
                                                user2 = user;
                                                pendingIntent = contentIntent;
                                                silent3 = silent;
                                                dismissDate2 = needVibrate2;
                                                choosenSoundPath8 = choosenSoundPath2;
                                                str3 = defaultPath2;
                                                i7 = priority2;
                                                intent = dismissIntent;
                                                fileLocation2 = fileLocation;
                                                notifyDelay = notifyAboutLast;
                                            }
                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                            r12.lastNotificationIsNoData = false;
                                            scheduleNotificationRepeat();
                                            return;
                                        }
                                        choosenSoundPath2 = choosenSoundPath;
                                        defaultPath2 = defaultPath;
                                        lastMessageObject = lastMessageObject4;
                                        priority2 = count;
                                        dismissIntent = dismissIntent2;
                                        fileLocation = fileLocation3;
                                        dialog_id2 = dialog_id;
                                        notifyOverride2 = false;
                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                        if (VERSION.SDK_INT > 19) {
                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        } else {
                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        }
                                        if (VERSION.SDK_INT < 26) {
                                            j = dialog_id2;
                                            i2 = notifyDelay;
                                            size = notifyOverride;
                                            j2 = override_dialog_id;
                                            i3 = priorityOverride;
                                            i4 = vibrateOverride;
                                            sharedPreferences = preferences;
                                            i5 = user_id;
                                            i6 = chat_id;
                                            user2 = user;
                                            pendingIntent = contentIntent;
                                            silent3 = silent;
                                            dismissDate2 = needVibrate2;
                                            choosenSoundPath8 = choosenSoundPath2;
                                            str3 = defaultPath2;
                                            i7 = priority2;
                                            intent = dismissIntent;
                                            fileLocation2 = fileLocation;
                                            notifyDelay = notifyAboutLast;
                                        } else {
                                            choosenSoundPath8 = choosenSoundPath2;
                                            notifyOverride = name;
                                            override_dialog_id = lastMessageObject;
                                            priorityOverride = chat2;
                                            silent3 = silent;
                                            notifyDelay = notifyAboutLast;
                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                        }
                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                        r12.lastNotificationIsNoData = false;
                                        scheduleNotificationRepeat();
                                        return;
                                    }
                                    dismissDate = 2;
                                    if (priorityOverride2 == 2) {
                                        priorityOverride2 = 1;
                                    }
                                } else {
                                    dismissDate = 2;
                                }
                                choosenSoundPath8 = str4;
                                if (vibrateOnlyIfSilent2) {
                                }
                                priorityOverride = user_id3;
                                configVibrationPattern2 = null;
                                i9 = 0;
                                configSound = null;
                                vibrateOverride = count;
                                if (VERSION.SDK_INT < 26) {
                                    choosenSoundPath10 = choosenSoundPath8;
                                    configVibrationPattern = null;
                                } else {
                                    if (needVibrate4 != 2) {
                                        configVibrationPattern2 = new long[]{0, 0};
                                    } else if (needVibrate4 != 1) {
                                        if (needVibrate4 != 0) {
                                            if (needVibrate4 != 4) {
                                                if (needVibrate4 == 3) {
                                                    configVibrationPattern2 = new long[]{0, 1000};
                                                }
                                            }
                                        }
                                        configVibrationPattern2 = new long[0];
                                    } else {
                                        configVibrationPattern2 = new long[]{0, 100, 0, 100};
                                    }
                                    choosenSoundPath9 = choosenSoundPath8;
                                    if (choosenSoundPath9 != null) {
                                    }
                                    configSound2 = configSound;
                                    if (priorityOverride2 != 0) {
                                        choosenSoundPath10 = choosenSoundPath9;
                                        if (priorityOverride2 != 1) {
                                            if (priorityOverride2 != 2) {
                                                if (priorityOverride2 != 4) {
                                                    user_id3 = 1;
                                                } else if (priorityOverride2 == 5) {
                                                    user_id3 = 2;
                                                }
                                                i9 = user_id3;
                                            }
                                        }
                                        user_id3 = 4;
                                        i9 = user_id3;
                                    } else {
                                        i9 = 3;
                                        choosenSoundPath10 = choosenSoundPath9;
                                    }
                                    configSound = configSound2;
                                    configVibrationPattern = configVibrationPattern2;
                                }
                                if (notifyDisabled3) {
                                    dismissDate = needVibrate4;
                                    count = i8;
                                    choosenSoundPath9 = choosenSoundPath10;
                                } else {
                                    priorityOverride2 = 0;
                                    count = 0;
                                    dismissDate = 0;
                                    choosenSoundPath9 = null;
                                }
                                needVibrate4 = priorityOverride2;
                                preferences = preferences2;
                                intent2 = new Intent(ApplicationLoader.applicationContext, LaunchActivity.class);
                                stringBuilder2 = new StringBuilder();
                                stringBuilder2.append("com.tmessages.openchat");
                                needVibrate = dismissDate;
                                stringBuilder2.append(Math.random());
                                stringBuilder2.append(ConnectionsManager.DEFAULT_DATACENTER_ID);
                                intent2.setAction(stringBuilder2.toString());
                                intent2.setFlags(32768);
                                if (((int) dialog_id2) == 0) {
                                    str = choosenSoundPath9;
                                    user_id = user_id2;
                                    chat2 = chat;
                                    if (r12.pushDialogs.size() != 1) {
                                        priority = needVibrate4;
                                        ledColor = count;
                                    } else {
                                        priority = needVibrate4;
                                        ledColor = count;
                                        intent2.putExtra("encId", (int) (dialog_id2 >> 32));
                                    }
                                } else {
                                    if (r12.pushDialogs.size() == 1) {
                                        if (chat_id2 == 0) {
                                            intent2.putExtra("chatId", chat_id2);
                                        } else if (user_id2 != 0) {
                                            intent2.putExtra("userId", user_id2);
                                        }
                                    }
                                    if (AndroidUtilities.needShowPasscode(false)) {
                                        str = choosenSoundPath9;
                                        user_id = user_id2;
                                        chat2 = chat;
                                    } else if (!SharedConfig.isWaitingForPasscodeEnter) {
                                        str = choosenSoundPath9;
                                        user_id = user_id2;
                                        chat2 = chat;
                                    } else if (r12.pushDialogs.size() != 1) {
                                        str = choosenSoundPath9;
                                        user_id = user_id2;
                                        chat2 = chat;
                                        priority = needVibrate4;
                                        ledColor = count;
                                    } else {
                                        if (chat == null) {
                                            chat2 = chat;
                                            if (user3 != null) {
                                            }
                                            str = choosenSoundPath9;
                                            user_id = user_id2;
                                            priority = needVibrate4;
                                            ledColor = count;
                                        } else {
                                            chat2 = chat;
                                            chat3 = chat2;
                                            if (chat2.photo.photo_small.volume_id == 0) {
                                                chat2 = chat3;
                                                str = choosenSoundPath9;
                                                user_id = user_id2;
                                                priority = needVibrate4;
                                                ledColor = count;
                                            } else {
                                                chat2 = chat3;
                                                if (chat2.photo.photo_small.local_id != 0) {
                                                    str = choosenSoundPath9;
                                                    user_id = user_id2;
                                                    fileLocation3 = chat2.photo.photo_small;
                                                    priority = needVibrate4;
                                                    ledColor = count;
                                                    intent2.putExtra("currentAccount", r12.currentAccount);
                                                    contentIntent2 = PendingIntent.getActivity(ApplicationLoader.applicationContext, 0, intent2, NUM);
                                                    if (chat_id2 == 0) {
                                                    }
                                                    lastMessageObject4 = lastMessageObject3;
                                                    if (chat2 != null) {
                                                        str5 = chat2.title;
                                                    } else {
                                                        str5 = UserObject.getUserName(user3);
                                                    }
                                                    choosenSoundPath5 = str5;
                                                    if (((int) dialog_id2) == 0) {
                                                        replace = true;
                                                    } else {
                                                        replace = true;
                                                        if (SharedConfig.isWaitingForPasscodeEnter) {
                                                            choosenSoundPath9 = choosenSoundPath5;
                                                            str5 = choosenSoundPath9;
                                                            chat_id = chat_id2;
                                                            if (UserConfig.getActivatedAccountsCount() <= 1) {
                                                                choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                                            } else if (r12.pushDialogs.size() != 1) {
                                                                choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                                            } else {
                                                                stringBuilder = new StringBuilder();
                                                                stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                                                stringBuilder.append("\u30fb");
                                                                choosenSoundPath9 = stringBuilder.toString();
                                                            }
                                                            if (r12.pushDialogs.size() == 1) {
                                                                if (VERSION.SDK_INT >= 23) {
                                                                    detailText = choosenSoundPath9;
                                                                    chatName = choosenSoundPath5;
                                                                    z4 = inAppVibrate;
                                                                    mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                                    vibrationPattern3 = null;
                                                                    mBuilder.setCategory("msg");
                                                                    stringBuilder = new StringBuilder();
                                                                    i = 0;
                                                                    stringBuilder.append("tel:+");
                                                                    stringBuilder.append(user3.phone);
                                                                    mBuilder.addPerson(stringBuilder.toString());
                                                                    silent2 = 2;
                                                                    user = user3;
                                                                    if (r12.pushMessages.size() == 1) {
                                                                        lastMessage2 = null;
                                                                        sound = null;
                                                                        mBuilder.setContentText(detailText);
                                                                        inboxStyle = new InboxStyle();
                                                                        inboxStyle.setBigContentTitle(str5);
                                                                        count2 = Math.min(10, r12.pushMessages.size());
                                                                        text2 = new boolean[1];
                                                                        contentIntent = contentIntent2;
                                                                        count = silent2;
                                                                        chat_id2 = 0;
                                                                        while (chat_id2 < count2) {
                                                                            count3 = count2;
                                                                            count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                                            dialog_id = dialog_id2;
                                                                            message2 = getStringForMessage(count4, 0, text2);
                                                                            if (message2 != null) {
                                                                                defaultPath4 = defaultPath3;
                                                                                notifyDelay = dismissDate2;
                                                                            } else {
                                                                                defaultPath4 = defaultPath3;
                                                                                notifyDelay = dismissDate2;
                                                                                if (count4.messageOwner.date > notifyDelay) {
                                                                                    if (count == 2) {
                                                                                        lastMessage2 = message2;
                                                                                        count = count4.messageOwner.silent;
                                                                                    }
                                                                                    messageObject2 = count4;
                                                                                    if (chat2 != null) {
                                                                                        count2 = new StringBuilder();
                                                                                        count2.append(" @ ");
                                                                                        count2.append(str5);
                                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    } else if (text2[0]) {
                                                                                        count2 = new StringBuilder();
                                                                                        count2.append(str5);
                                                                                        count2.append(" ");
                                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    } else {
                                                                                        count2 = new StringBuilder();
                                                                                        count2.append(str5);
                                                                                        count2.append(": ");
                                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    }
                                                                                    inboxStyle.addLine(message2);
                                                                                }
                                                                            }
                                                                            chat_id2++;
                                                                            dismissDate2 = notifyDelay;
                                                                            count2 = count3;
                                                                            dialog_id2 = dialog_id;
                                                                            defaultPath3 = defaultPath4;
                                                                        }
                                                                        dialog_id = dialog_id2;
                                                                        defaultPath4 = defaultPath3;
                                                                        notifyDelay = dismissDate2;
                                                                        inboxStyle.setSummaryText(detailText);
                                                                        mBuilder.setStyle(inboxStyle);
                                                                        priorityOverride2 = count;
                                                                        choosenSoundPath9 = lastMessage2;
                                                                    } else {
                                                                        messageObject = (MessageObject) r12.pushMessages.get(0);
                                                                        lastMessage2 = null;
                                                                        text = new boolean[1];
                                                                        stringForMessage = getStringForMessage(messageObject, null, text);
                                                                        message = stringForMessage;
                                                                        lastMessage3 = stringForMessage;
                                                                        choosenSoundPath5 = messageObject.messageOwner.silent;
                                                                        choosenSoundPath9 = message;
                                                                        if (choosenSoundPath9 != null) {
                                                                            if (replace) {
                                                                                silent3 = choosenSoundPath5;
                                                                                sound = null;
                                                                            } else {
                                                                                if (chat2 != null) {
                                                                                    silent3 = choosenSoundPath5;
                                                                                    sound = null;
                                                                                    if (text[null]) {
                                                                                        choosenSoundPath5 = new StringBuilder();
                                                                                        choosenSoundPath5.append(str5);
                                                                                        choosenSoundPath5.append(" ");
                                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    } else {
                                                                                        choosenSoundPath5 = new StringBuilder();
                                                                                        choosenSoundPath5.append(str5);
                                                                                        choosenSoundPath5.append(": ");
                                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    }
                                                                                } else {
                                                                                    silent3 = choosenSoundPath5;
                                                                                    choosenSoundPath5 = new StringBuilder();
                                                                                    sound = null;
                                                                                    choosenSoundPath5.append(" @ ");
                                                                                    choosenSoundPath5.append(str5);
                                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                }
                                                                                choosenSoundPath9 = message;
                                                                            }
                                                                            mBuilder.setContentText(choosenSoundPath9);
                                                                            mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                                            contentIntent = contentIntent2;
                                                                            dialog_id = dialog_id2;
                                                                            defaultPath4 = defaultPath3;
                                                                            notifyDelay = dismissDate2;
                                                                            choosenSoundPath9 = lastMessage3;
                                                                            priorityOverride2 = silent3;
                                                                        } else {
                                                                            return;
                                                                        }
                                                                    }
                                                                    dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                                    dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                                    dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                                    mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                                    if (fileLocation3 != null) {
                                                                        name = str5;
                                                                    } else {
                                                                        img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                                        if (img != null) {
                                                                            file = FileLoader.getPathToAttach(fileLocation3, true);
                                                                            if (file.exists()) {
                                                                                name = str5;
                                                                            } else {
                                                                                scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                                options = new Options();
                                                                                if (scaleFactor < 1.0f) {
                                                                                    name = str5;
                                                                                    str5 = (int) scaleFactor;
                                                                                } else {
                                                                                    name = str5;
                                                                                    str5 = true;
                                                                                }
                                                                                options.inSampleSize = str5;
                                                                                str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                                if (str5 != null) {
                                                                                    mBuilder.setLargeIcon(str5);
                                                                                }
                                                                            }
                                                                        } else {
                                                                            mBuilder.setLargeIcon(img.getBitmap());
                                                                            name = str5;
                                                                        }
                                                                    }
                                                                    z = notifyAboutLast;
                                                                    if (z) {
                                                                        count = priority;
                                                                    } else if (priorityOverride2 == 1) {
                                                                        if (priority == 0) {
                                                                            count = priority;
                                                                            if (count != 1) {
                                                                                if (count == 2) {
                                                                                    if (count != 4) {
                                                                                        mBuilder.setPriority(-2);
                                                                                        if (VERSION.SDK_INT >= 26) {
                                                                                            user_id2 = 1;
                                                                                            i = user_id2;
                                                                                        }
                                                                                    } else if (count == 5) {
                                                                                        mBuilder.setPriority(-1);
                                                                                        if (VERSION.SDK_INT >= 26) {
                                                                                            user_id2 = 2;
                                                                                            i = user_id2;
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                            mBuilder.setPriority(1);
                                                                            if (VERSION.SDK_INT >= 26) {
                                                                                user_id2 = 4;
                                                                                i = user_id2;
                                                                            }
                                                                        } else {
                                                                            mBuilder.setPriority(0);
                                                                            if (VERSION.SDK_INT >= 26) {
                                                                                i = 3;
                                                                            }
                                                                            count = priority;
                                                                        }
                                                                        if (priorityOverride2 != 1) {
                                                                        }
                                                                        lastMessage = choosenSoundPath9;
                                                                        silent = priorityOverride2;
                                                                        needVibrate2 = needVibrate;
                                                                        choosenSoundPath = str;
                                                                        priorityOverride2 = ledColor;
                                                                        defaultPath = defaultPath4;
                                                                        jArr = new long[]{0, 0};
                                                                        vibrationPattern = jArr;
                                                                        mBuilder.setVibrate(jArr);
                                                                        vibrationPattern2 = vibrationPattern;
                                                                        sound2 = sound;
                                                                        str2 = lastMessage;
                                                                        if (AndroidUtilities.needShowPasscode(false)) {
                                                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                            size = rows.size();
                                                                            notifyOverride2 = false;
                                                                            z3 = false;
                                                                            while (true) {
                                                                                choosenSoundPath2 = choosenSoundPath;
                                                                                choosenSoundPath = size;
                                                                                if (z3 < choosenSoundPath) {
                                                                                    break;
                                                                                }
                                                                                rows2 = rows;
                                                                                size2 = choosenSoundPath;
                                                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                choosenSoundPath = row.buttons.size();
                                                                                defaultPath2 = defaultPath;
                                                                                defaultPath = 0;
                                                                                while (defaultPath < choosenSoundPath) {
                                                                                    size22 = choosenSoundPath;
                                                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                    row2 = row;
                                                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                        priority2 = count;
                                                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                        dismissIntent = dismissIntent2;
                                                                                        dialog_id2 = dialog_id;
                                                                                        callbackIntent.putExtra("did", dialog_id2);
                                                                                        if (choosenSoundPath3.data == null) {
                                                                                            fileLocation = fileLocation3;
                                                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                        } else {
                                                                                            fileLocation = fileLocation3;
                                                                                        }
                                                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                        charSequence = choosenSoundPath3.text;
                                                                                        context = ApplicationLoader.applicationContext;
                                                                                        button = choosenSoundPath3;
                                                                                        choosenSoundPath = r12.lastButtonId;
                                                                                        lastMessageObject = lastMessageObject4;
                                                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                        notifyOverride2 = true;
                                                                                    } else {
                                                                                        lastMessageObject = lastMessageObject4;
                                                                                        priority2 = count;
                                                                                        dismissIntent = dismissIntent2;
                                                                                        fileLocation = fileLocation3;
                                                                                        dialog_id2 = dialog_id;
                                                                                    }
                                                                                    defaultPath++;
                                                                                    dialog_id = dialog_id2;
                                                                                    choosenSoundPath = size22;
                                                                                    row = row2;
                                                                                    count = priority2;
                                                                                    dismissIntent2 = dismissIntent;
                                                                                    fileLocation3 = fileLocation;
                                                                                    lastMessageObject4 = lastMessageObject;
                                                                                    dialog_id2 = notifyAboutLast;
                                                                                }
                                                                                priority2 = count;
                                                                                fileLocation = fileLocation3;
                                                                                dialog_id2 = dialog_id;
                                                                                z3++;
                                                                                choosenSoundPath = choosenSoundPath2;
                                                                                rows = rows2;
                                                                                size = size2;
                                                                                defaultPath = defaultPath2;
                                                                                dismissIntent2 = dismissIntent2;
                                                                                dialog_id2 = notifyAboutLast;
                                                                            }
                                                                            defaultPath2 = defaultPath;
                                                                            lastMessageObject = lastMessageObject4;
                                                                            priority2 = count;
                                                                            dismissIntent = dismissIntent2;
                                                                            fileLocation = fileLocation3;
                                                                            dialog_id2 = dialog_id;
                                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                            if (VERSION.SDK_INT > 19) {
                                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                            } else {
                                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                            }
                                                                            if (VERSION.SDK_INT < 26) {
                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                notifyOverride = name;
                                                                                override_dialog_id = lastMessageObject;
                                                                                priorityOverride = chat2;
                                                                                silent3 = silent;
                                                                                notifyDelay = notifyAboutLast;
                                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                            } else {
                                                                                j = dialog_id2;
                                                                                i2 = notifyDelay;
                                                                                size = notifyOverride;
                                                                                j2 = override_dialog_id;
                                                                                i3 = priorityOverride;
                                                                                i4 = vibrateOverride;
                                                                                sharedPreferences = preferences;
                                                                                i5 = user_id;
                                                                                i6 = chat_id;
                                                                                user2 = user;
                                                                                pendingIntent = contentIntent;
                                                                                silent3 = silent;
                                                                                dismissDate2 = needVibrate2;
                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                str3 = defaultPath2;
                                                                                i7 = priority2;
                                                                                intent = dismissIntent;
                                                                                fileLocation2 = fileLocation;
                                                                                notifyDelay = notifyAboutLast;
                                                                            }
                                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                            r12.lastNotificationIsNoData = false;
                                                                            scheduleNotificationRepeat();
                                                                            return;
                                                                        }
                                                                        choosenSoundPath2 = choosenSoundPath;
                                                                        defaultPath2 = defaultPath;
                                                                        lastMessageObject = lastMessageObject4;
                                                                        priority2 = count;
                                                                        dismissIntent = dismissIntent2;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                        notifyOverride2 = false;
                                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                        if (VERSION.SDK_INT > 19) {
                                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                        } else {
                                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                        }
                                                                        if (VERSION.SDK_INT < 26) {
                                                                            j = dialog_id2;
                                                                            i2 = notifyDelay;
                                                                            size = notifyOverride;
                                                                            j2 = override_dialog_id;
                                                                            i3 = priorityOverride;
                                                                            i4 = vibrateOverride;
                                                                            sharedPreferences = preferences;
                                                                            i5 = user_id;
                                                                            i6 = chat_id;
                                                                            user2 = user;
                                                                            pendingIntent = contentIntent;
                                                                            silent3 = silent;
                                                                            dismissDate2 = needVibrate2;
                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                            str3 = defaultPath2;
                                                                            i7 = priority2;
                                                                            intent = dismissIntent;
                                                                            fileLocation2 = fileLocation;
                                                                            notifyDelay = notifyAboutLast;
                                                                        } else {
                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                            notifyOverride = name;
                                                                            override_dialog_id = lastMessageObject;
                                                                            priorityOverride = chat2;
                                                                            silent3 = silent;
                                                                            notifyDelay = notifyAboutLast;
                                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                        }
                                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                        r12.lastNotificationIsNoData = false;
                                                                        scheduleNotificationRepeat();
                                                                        return;
                                                                    } else {
                                                                        count = priority;
                                                                    }
                                                                    mBuilder.setPriority(-1);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        user_id2 = 2;
                                                                        i = user_id2;
                                                                    }
                                                                    if (priorityOverride2 != 1) {
                                                                    }
                                                                    lastMessage = choosenSoundPath9;
                                                                    silent = priorityOverride2;
                                                                    needVibrate2 = needVibrate;
                                                                    choosenSoundPath = str;
                                                                    priorityOverride2 = ledColor;
                                                                    defaultPath = defaultPath4;
                                                                    jArr = new long[]{0, 0};
                                                                    vibrationPattern = jArr;
                                                                    mBuilder.setVibrate(jArr);
                                                                    vibrationPattern2 = vibrationPattern;
                                                                    sound2 = sound;
                                                                    str2 = lastMessage;
                                                                    if (AndroidUtilities.needShowPasscode(false)) {
                                                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                        size = rows.size();
                                                                        notifyOverride2 = false;
                                                                        z3 = false;
                                                                        while (true) {
                                                                            choosenSoundPath2 = choosenSoundPath;
                                                                            choosenSoundPath = size;
                                                                            if (z3 < choosenSoundPath) {
                                                                                break;
                                                                            }
                                                                            rows2 = rows;
                                                                            size2 = choosenSoundPath;
                                                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                                                            choosenSoundPath = row.buttons.size();
                                                                            defaultPath2 = defaultPath;
                                                                            defaultPath = 0;
                                                                            while (defaultPath < choosenSoundPath) {
                                                                                size22 = choosenSoundPath;
                                                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                row2 = row;
                                                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                    lastMessageObject = lastMessageObject4;
                                                                                    priority2 = count;
                                                                                    dismissIntent = dismissIntent2;
                                                                                    fileLocation = fileLocation3;
                                                                                    dialog_id2 = dialog_id;
                                                                                } else {
                                                                                    priority2 = count;
                                                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                    dismissIntent = dismissIntent2;
                                                                                    dialog_id2 = dialog_id;
                                                                                    callbackIntent.putExtra("did", dialog_id2);
                                                                                    if (choosenSoundPath3.data == null) {
                                                                                        fileLocation = fileLocation3;
                                                                                    } else {
                                                                                        fileLocation = fileLocation3;
                                                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                    }
                                                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                    charSequence = choosenSoundPath3.text;
                                                                                    context = ApplicationLoader.applicationContext;
                                                                                    button = choosenSoundPath3;
                                                                                    choosenSoundPath = r12.lastButtonId;
                                                                                    lastMessageObject = lastMessageObject4;
                                                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                    notifyOverride2 = true;
                                                                                }
                                                                                defaultPath++;
                                                                                dialog_id = dialog_id2;
                                                                                choosenSoundPath = size22;
                                                                                row = row2;
                                                                                count = priority2;
                                                                                dismissIntent2 = dismissIntent;
                                                                                fileLocation3 = fileLocation;
                                                                                lastMessageObject4 = lastMessageObject;
                                                                                dialog_id2 = notifyAboutLast;
                                                                            }
                                                                            priority2 = count;
                                                                            fileLocation = fileLocation3;
                                                                            dialog_id2 = dialog_id;
                                                                            z3++;
                                                                            choosenSoundPath = choosenSoundPath2;
                                                                            rows = rows2;
                                                                            size = size2;
                                                                            defaultPath = defaultPath2;
                                                                            dismissIntent2 = dismissIntent2;
                                                                            dialog_id2 = notifyAboutLast;
                                                                        }
                                                                        defaultPath2 = defaultPath;
                                                                        lastMessageObject = lastMessageObject4;
                                                                        priority2 = count;
                                                                        dismissIntent = dismissIntent2;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                        if (VERSION.SDK_INT > 19) {
                                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                        } else {
                                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                        }
                                                                        if (VERSION.SDK_INT < 26) {
                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                            notifyOverride = name;
                                                                            override_dialog_id = lastMessageObject;
                                                                            priorityOverride = chat2;
                                                                            silent3 = silent;
                                                                            notifyDelay = notifyAboutLast;
                                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                        } else {
                                                                            j = dialog_id2;
                                                                            i2 = notifyDelay;
                                                                            size = notifyOverride;
                                                                            j2 = override_dialog_id;
                                                                            i3 = priorityOverride;
                                                                            i4 = vibrateOverride;
                                                                            sharedPreferences = preferences;
                                                                            i5 = user_id;
                                                                            i6 = chat_id;
                                                                            user2 = user;
                                                                            pendingIntent = contentIntent;
                                                                            silent3 = silent;
                                                                            dismissDate2 = needVibrate2;
                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                            str3 = defaultPath2;
                                                                            i7 = priority2;
                                                                            intent = dismissIntent;
                                                                            fileLocation2 = fileLocation;
                                                                            notifyDelay = notifyAboutLast;
                                                                        }
                                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                        r12.lastNotificationIsNoData = false;
                                                                        scheduleNotificationRepeat();
                                                                        return;
                                                                    }
                                                                    choosenSoundPath2 = choosenSoundPath;
                                                                    defaultPath2 = defaultPath;
                                                                    lastMessageObject = lastMessageObject4;
                                                                    priority2 = count;
                                                                    dismissIntent = dismissIntent2;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                    notifyOverride2 = false;
                                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                    if (VERSION.SDK_INT > 19) {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    } else {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    }
                                                                    if (VERSION.SDK_INT < 26) {
                                                                        j = dialog_id2;
                                                                        i2 = notifyDelay;
                                                                        size = notifyOverride;
                                                                        j2 = override_dialog_id;
                                                                        i3 = priorityOverride;
                                                                        i4 = vibrateOverride;
                                                                        sharedPreferences = preferences;
                                                                        i5 = user_id;
                                                                        i6 = chat_id;
                                                                        user2 = user;
                                                                        pendingIntent = contentIntent;
                                                                        silent3 = silent;
                                                                        dismissDate2 = needVibrate2;
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        str3 = defaultPath2;
                                                                        i7 = priority2;
                                                                        intent = dismissIntent;
                                                                        fileLocation2 = fileLocation;
                                                                        notifyDelay = notifyAboutLast;
                                                                    } else {
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        notifyOverride = name;
                                                                        override_dialog_id = lastMessageObject;
                                                                        priorityOverride = chat2;
                                                                        silent3 = silent;
                                                                        notifyDelay = notifyAboutLast;
                                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                    }
                                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                    r12.lastNotificationIsNoData = false;
                                                                    scheduleNotificationRepeat();
                                                                    return;
                                                                }
                                                            }
                                                            if (r12.pushDialogs.size() != 1) {
                                                                stringBuilder4 = new StringBuilder();
                                                                stringBuilder4.append(choosenSoundPath9);
                                                                stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                                                detailText = stringBuilder4.toString();
                                                                chatName = choosenSoundPath5;
                                                            } else {
                                                                stringBuilder4 = new StringBuilder();
                                                                stringBuilder4.append(choosenSoundPath9);
                                                                objArr = new Object[2];
                                                                chatName = choosenSoundPath5;
                                                                objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                                                objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                                                stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                                                detailText = stringBuilder4.toString();
                                                            }
                                                            mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                            vibrationPattern3 = null;
                                                            mBuilder.setCategory("msg");
                                                            stringBuilder = new StringBuilder();
                                                            i = 0;
                                                            stringBuilder.append("tel:+");
                                                            stringBuilder.append(user3.phone);
                                                            mBuilder.addPerson(stringBuilder.toString());
                                                            silent2 = 2;
                                                            user = user3;
                                                            if (r12.pushMessages.size() == 1) {
                                                                messageObject = (MessageObject) r12.pushMessages.get(0);
                                                                lastMessage2 = null;
                                                                text = new boolean[1];
                                                                stringForMessage = getStringForMessage(messageObject, null, text);
                                                                message = stringForMessage;
                                                                lastMessage3 = stringForMessage;
                                                                choosenSoundPath5 = messageObject.messageOwner.silent;
                                                                choosenSoundPath9 = message;
                                                                if (choosenSoundPath9 != null) {
                                                                    if (replace) {
                                                                        if (chat2 != null) {
                                                                            silent3 = choosenSoundPath5;
                                                                            choosenSoundPath5 = new StringBuilder();
                                                                            sound = null;
                                                                            choosenSoundPath5.append(" @ ");
                                                                            choosenSoundPath5.append(str5);
                                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                        } else {
                                                                            silent3 = choosenSoundPath5;
                                                                            sound = null;
                                                                            if (text[null]) {
                                                                                choosenSoundPath5 = new StringBuilder();
                                                                                choosenSoundPath5.append(str5);
                                                                                choosenSoundPath5.append(": ");
                                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            } else {
                                                                                choosenSoundPath5 = new StringBuilder();
                                                                                choosenSoundPath5.append(str5);
                                                                                choosenSoundPath5.append(" ");
                                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            }
                                                                        }
                                                                        choosenSoundPath9 = message;
                                                                    } else {
                                                                        silent3 = choosenSoundPath5;
                                                                        sound = null;
                                                                    }
                                                                    mBuilder.setContentText(choosenSoundPath9);
                                                                    mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                                    contentIntent = contentIntent2;
                                                                    dialog_id = dialog_id2;
                                                                    defaultPath4 = defaultPath3;
                                                                    notifyDelay = dismissDate2;
                                                                    choosenSoundPath9 = lastMessage3;
                                                                    priorityOverride2 = silent3;
                                                                } else {
                                                                    return;
                                                                }
                                                            }
                                                            lastMessage2 = null;
                                                            sound = null;
                                                            mBuilder.setContentText(detailText);
                                                            inboxStyle = new InboxStyle();
                                                            inboxStyle.setBigContentTitle(str5);
                                                            count2 = Math.min(10, r12.pushMessages.size());
                                                            text2 = new boolean[1];
                                                            contentIntent = contentIntent2;
                                                            count = silent2;
                                                            chat_id2 = 0;
                                                            while (chat_id2 < count2) {
                                                                count3 = count2;
                                                                count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                                dialog_id = dialog_id2;
                                                                message2 = getStringForMessage(count4, 0, text2);
                                                                if (message2 != null) {
                                                                    defaultPath4 = defaultPath3;
                                                                    notifyDelay = dismissDate2;
                                                                    if (count4.messageOwner.date > notifyDelay) {
                                                                        if (count == 2) {
                                                                            lastMessage2 = message2;
                                                                            count = count4.messageOwner.silent;
                                                                        }
                                                                        messageObject2 = count4;
                                                                        if (chat2 != null) {
                                                                            count2 = new StringBuilder();
                                                                            count2.append(" @ ");
                                                                            count2.append(str5);
                                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                        } else if (text2[0]) {
                                                                            count2 = new StringBuilder();
                                                                            count2.append(str5);
                                                                            count2.append(": ");
                                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                        } else {
                                                                            count2 = new StringBuilder();
                                                                            count2.append(str5);
                                                                            count2.append(" ");
                                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                        }
                                                                        inboxStyle.addLine(message2);
                                                                    }
                                                                } else {
                                                                    defaultPath4 = defaultPath3;
                                                                    notifyDelay = dismissDate2;
                                                                }
                                                                chat_id2++;
                                                                dismissDate2 = notifyDelay;
                                                                count2 = count3;
                                                                dialog_id2 = dialog_id;
                                                                defaultPath3 = defaultPath4;
                                                            }
                                                            dialog_id = dialog_id2;
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                            inboxStyle.setSummaryText(detailText);
                                                            mBuilder.setStyle(inboxStyle);
                                                            priorityOverride2 = count;
                                                            choosenSoundPath9 = lastMessage2;
                                                            dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                            dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                            dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                            mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                            if (fileLocation3 != null) {
                                                                img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                                if (img != null) {
                                                                    mBuilder.setLargeIcon(img.getBitmap());
                                                                    name = str5;
                                                                } else {
                                                                    file = FileLoader.getPathToAttach(fileLocation3, true);
                                                                    if (file.exists()) {
                                                                        scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                        options = new Options();
                                                                        if (scaleFactor < 1.0f) {
                                                                            name = str5;
                                                                            str5 = true;
                                                                        } else {
                                                                            name = str5;
                                                                            str5 = (int) scaleFactor;
                                                                        }
                                                                        options.inSampleSize = str5;
                                                                        str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                        if (str5 != null) {
                                                                            mBuilder.setLargeIcon(str5);
                                                                        }
                                                                    } else {
                                                                        name = str5;
                                                                    }
                                                                }
                                                            } else {
                                                                name = str5;
                                                            }
                                                            z = notifyAboutLast;
                                                            if (z) {
                                                                count = priority;
                                                            } else if (priorityOverride2 == 1) {
                                                                count = priority;
                                                            } else {
                                                                if (priority == 0) {
                                                                    mBuilder.setPriority(0);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        i = 3;
                                                                    }
                                                                    count = priority;
                                                                } else {
                                                                    count = priority;
                                                                    if (count != 1) {
                                                                        if (count == 2) {
                                                                            if (count != 4) {
                                                                                mBuilder.setPriority(-2);
                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                    user_id2 = 1;
                                                                                    i = user_id2;
                                                                                }
                                                                            } else if (count == 5) {
                                                                                mBuilder.setPriority(-1);
                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                    user_id2 = 2;
                                                                                    i = user_id2;
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                    mBuilder.setPriority(1);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        user_id2 = 4;
                                                                        i = user_id2;
                                                                    }
                                                                }
                                                                if (priorityOverride2 != 1) {
                                                                }
                                                                lastMessage = choosenSoundPath9;
                                                                silent = priorityOverride2;
                                                                needVibrate2 = needVibrate;
                                                                choosenSoundPath = str;
                                                                priorityOverride2 = ledColor;
                                                                defaultPath = defaultPath4;
                                                                jArr = new long[]{0, 0};
                                                                vibrationPattern = jArr;
                                                                mBuilder.setVibrate(jArr);
                                                                vibrationPattern2 = vibrationPattern;
                                                                sound2 = sound;
                                                                str2 = lastMessage;
                                                                if (AndroidUtilities.needShowPasscode(false)) {
                                                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                    size = rows.size();
                                                                    notifyOverride2 = false;
                                                                    z3 = false;
                                                                    while (true) {
                                                                        choosenSoundPath2 = choosenSoundPath;
                                                                        choosenSoundPath = size;
                                                                        if (z3 < choosenSoundPath) {
                                                                            break;
                                                                        }
                                                                        rows2 = rows;
                                                                        size2 = choosenSoundPath;
                                                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                                                        choosenSoundPath = row.buttons.size();
                                                                        defaultPath2 = defaultPath;
                                                                        defaultPath = 0;
                                                                        while (defaultPath < choosenSoundPath) {
                                                                            size22 = choosenSoundPath;
                                                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                            row2 = row;
                                                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                priority2 = count;
                                                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                dismissIntent = dismissIntent2;
                                                                                dialog_id2 = dialog_id;
                                                                                callbackIntent.putExtra("did", dialog_id2);
                                                                                if (choosenSoundPath3.data == null) {
                                                                                    fileLocation = fileLocation3;
                                                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                } else {
                                                                                    fileLocation = fileLocation3;
                                                                                }
                                                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                charSequence = choosenSoundPath3.text;
                                                                                context = ApplicationLoader.applicationContext;
                                                                                button = choosenSoundPath3;
                                                                                choosenSoundPath = r12.lastButtonId;
                                                                                lastMessageObject = lastMessageObject4;
                                                                                r12.lastButtonId = choosenSoundPath + 1;
                                                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                notifyOverride2 = true;
                                                                            } else {
                                                                                lastMessageObject = lastMessageObject4;
                                                                                priority2 = count;
                                                                                dismissIntent = dismissIntent2;
                                                                                fileLocation = fileLocation3;
                                                                                dialog_id2 = dialog_id;
                                                                            }
                                                                            defaultPath++;
                                                                            dialog_id = dialog_id2;
                                                                            choosenSoundPath = size22;
                                                                            row = row2;
                                                                            count = priority2;
                                                                            dismissIntent2 = dismissIntent;
                                                                            fileLocation3 = fileLocation;
                                                                            lastMessageObject4 = lastMessageObject;
                                                                            dialog_id2 = notifyAboutLast;
                                                                        }
                                                                        priority2 = count;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                        z3++;
                                                                        choosenSoundPath = choosenSoundPath2;
                                                                        rows = rows2;
                                                                        size = size2;
                                                                        defaultPath = defaultPath2;
                                                                        dismissIntent2 = dismissIntent2;
                                                                        dialog_id2 = notifyAboutLast;
                                                                    }
                                                                    defaultPath2 = defaultPath;
                                                                    lastMessageObject = lastMessageObject4;
                                                                    priority2 = count;
                                                                    dismissIntent = dismissIntent2;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                    if (VERSION.SDK_INT > 19) {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    } else {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    }
                                                                    if (VERSION.SDK_INT < 26) {
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        notifyOverride = name;
                                                                        override_dialog_id = lastMessageObject;
                                                                        priorityOverride = chat2;
                                                                        silent3 = silent;
                                                                        notifyDelay = notifyAboutLast;
                                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                    } else {
                                                                        j = dialog_id2;
                                                                        i2 = notifyDelay;
                                                                        size = notifyOverride;
                                                                        j2 = override_dialog_id;
                                                                        i3 = priorityOverride;
                                                                        i4 = vibrateOverride;
                                                                        sharedPreferences = preferences;
                                                                        i5 = user_id;
                                                                        i6 = chat_id;
                                                                        user2 = user;
                                                                        pendingIntent = contentIntent;
                                                                        silent3 = silent;
                                                                        dismissDate2 = needVibrate2;
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        str3 = defaultPath2;
                                                                        i7 = priority2;
                                                                        intent = dismissIntent;
                                                                        fileLocation2 = fileLocation;
                                                                        notifyDelay = notifyAboutLast;
                                                                    }
                                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                    r12.lastNotificationIsNoData = false;
                                                                    scheduleNotificationRepeat();
                                                                    return;
                                                                }
                                                                choosenSoundPath2 = choosenSoundPath;
                                                                defaultPath2 = defaultPath;
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                                notifyOverride2 = false;
                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                if (VERSION.SDK_INT > 19) {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                } else {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                }
                                                                if (VERSION.SDK_INT < 26) {
                                                                    j = dialog_id2;
                                                                    i2 = notifyDelay;
                                                                    size = notifyOverride;
                                                                    j2 = override_dialog_id;
                                                                    i3 = priorityOverride;
                                                                    i4 = vibrateOverride;
                                                                    sharedPreferences = preferences;
                                                                    i5 = user_id;
                                                                    i6 = chat_id;
                                                                    user2 = user;
                                                                    pendingIntent = contentIntent;
                                                                    silent3 = silent;
                                                                    dismissDate2 = needVibrate2;
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    str3 = defaultPath2;
                                                                    i7 = priority2;
                                                                    intent = dismissIntent;
                                                                    fileLocation2 = fileLocation;
                                                                    notifyDelay = notifyAboutLast;
                                                                } else {
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    notifyOverride = name;
                                                                    override_dialog_id = lastMessageObject;
                                                                    priorityOverride = chat2;
                                                                    silent3 = silent;
                                                                    notifyDelay = notifyAboutLast;
                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                }
                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                r12.lastNotificationIsNoData = false;
                                                                scheduleNotificationRepeat();
                                                                return;
                                                            }
                                                            mBuilder.setPriority(-1);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 2;
                                                                i = user_id2;
                                                            }
                                                            if (priorityOverride2 != 1) {
                                                            }
                                                            lastMessage = choosenSoundPath9;
                                                            silent = priorityOverride2;
                                                            needVibrate2 = needVibrate;
                                                            choosenSoundPath = str;
                                                            priorityOverride2 = ledColor;
                                                            defaultPath = defaultPath4;
                                                            jArr = new long[]{0, 0};
                                                            vibrationPattern = jArr;
                                                            mBuilder.setVibrate(jArr);
                                                            vibrationPattern2 = vibrationPattern;
                                                            sound2 = sound;
                                                            str2 = lastMessage;
                                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                size = rows.size();
                                                                notifyOverride2 = false;
                                                                z3 = false;
                                                                while (true) {
                                                                    choosenSoundPath2 = choosenSoundPath;
                                                                    choosenSoundPath = size;
                                                                    if (z3 < choosenSoundPath) {
                                                                        break;
                                                                    }
                                                                    rows2 = rows;
                                                                    size2 = choosenSoundPath;
                                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                                    choosenSoundPath = row.buttons.size();
                                                                    defaultPath2 = defaultPath;
                                                                    defaultPath = 0;
                                                                    while (defaultPath < choosenSoundPath) {
                                                                        size22 = choosenSoundPath;
                                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                        row2 = row;
                                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                            lastMessageObject = lastMessageObject4;
                                                                            priority2 = count;
                                                                            dismissIntent = dismissIntent2;
                                                                            fileLocation = fileLocation3;
                                                                            dialog_id2 = dialog_id;
                                                                        } else {
                                                                            priority2 = count;
                                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                            dismissIntent = dismissIntent2;
                                                                            dialog_id2 = dialog_id;
                                                                            callbackIntent.putExtra("did", dialog_id2);
                                                                            if (choosenSoundPath3.data == null) {
                                                                                fileLocation = fileLocation3;
                                                                            } else {
                                                                                fileLocation = fileLocation3;
                                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                            }
                                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                            charSequence = choosenSoundPath3.text;
                                                                            context = ApplicationLoader.applicationContext;
                                                                            button = choosenSoundPath3;
                                                                            choosenSoundPath = r12.lastButtonId;
                                                                            lastMessageObject = lastMessageObject4;
                                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                            notifyOverride2 = true;
                                                                        }
                                                                        defaultPath++;
                                                                        dialog_id = dialog_id2;
                                                                        choosenSoundPath = size22;
                                                                        row = row2;
                                                                        count = priority2;
                                                                        dismissIntent2 = dismissIntent;
                                                                        fileLocation3 = fileLocation;
                                                                        lastMessageObject4 = lastMessageObject;
                                                                        dialog_id2 = notifyAboutLast;
                                                                    }
                                                                    priority2 = count;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                    z3++;
                                                                    choosenSoundPath = choosenSoundPath2;
                                                                    rows = rows2;
                                                                    size = size2;
                                                                    defaultPath = defaultPath2;
                                                                    dismissIntent2 = dismissIntent2;
                                                                    dialog_id2 = notifyAboutLast;
                                                                }
                                                                defaultPath2 = defaultPath;
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                if (VERSION.SDK_INT > 19) {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                } else {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                }
                                                                if (VERSION.SDK_INT < 26) {
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    notifyOverride = name;
                                                                    override_dialog_id = lastMessageObject;
                                                                    priorityOverride = chat2;
                                                                    silent3 = silent;
                                                                    notifyDelay = notifyAboutLast;
                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                } else {
                                                                    j = dialog_id2;
                                                                    i2 = notifyDelay;
                                                                    size = notifyOverride;
                                                                    j2 = override_dialog_id;
                                                                    i3 = priorityOverride;
                                                                    i4 = vibrateOverride;
                                                                    sharedPreferences = preferences;
                                                                    i5 = user_id;
                                                                    i6 = chat_id;
                                                                    user2 = user;
                                                                    pendingIntent = contentIntent;
                                                                    silent3 = silent;
                                                                    dismissDate2 = needVibrate2;
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    str3 = defaultPath2;
                                                                    i7 = priority2;
                                                                    intent = dismissIntent;
                                                                    fileLocation2 = fileLocation;
                                                                    notifyDelay = notifyAboutLast;
                                                                }
                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                r12.lastNotificationIsNoData = false;
                                                                scheduleNotificationRepeat();
                                                                return;
                                                            }
                                                            choosenSoundPath2 = choosenSoundPath;
                                                            defaultPath2 = defaultPath;
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            notifyOverride2 = false;
                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                            if (VERSION.SDK_INT > 19) {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            } else {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            }
                                                            if (VERSION.SDK_INT < 26) {
                                                                j = dialog_id2;
                                                                i2 = notifyDelay;
                                                                size = notifyOverride;
                                                                j2 = override_dialog_id;
                                                                i3 = priorityOverride;
                                                                i4 = vibrateOverride;
                                                                sharedPreferences = preferences;
                                                                i5 = user_id;
                                                                i6 = chat_id;
                                                                user2 = user;
                                                                pendingIntent = contentIntent;
                                                                silent3 = silent;
                                                                dismissDate2 = needVibrate2;
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                str3 = defaultPath2;
                                                                i7 = priority2;
                                                                intent = dismissIntent;
                                                                fileLocation2 = fileLocation;
                                                                notifyDelay = notifyAboutLast;
                                                            } else {
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                notifyOverride = name;
                                                                override_dialog_id = lastMessageObject;
                                                                priorityOverride = chat2;
                                                                silent3 = silent;
                                                                notifyDelay = notifyAboutLast;
                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                            }
                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                            r12.lastNotificationIsNoData = false;
                                                            scheduleNotificationRepeat();
                                                            return;
                                                        }
                                                    }
                                                    choosenSoundPath9 = LocaleController.getString("AppName", R.string.AppName);
                                                    replace = false;
                                                    str5 = choosenSoundPath9;
                                                    chat_id = chat_id2;
                                                    if (UserConfig.getActivatedAccountsCount() <= 1) {
                                                        choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                                    } else if (r12.pushDialogs.size() != 1) {
                                                        stringBuilder = new StringBuilder();
                                                        stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                                        stringBuilder.append("\u30fb");
                                                        choosenSoundPath9 = stringBuilder.toString();
                                                    } else {
                                                        choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                                    }
                                                    if (r12.pushDialogs.size() == 1) {
                                                        if (VERSION.SDK_INT >= 23) {
                                                            detailText = choosenSoundPath9;
                                                            chatName = choosenSoundPath5;
                                                            z4 = inAppVibrate;
                                                            mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                            vibrationPattern3 = null;
                                                            mBuilder.setCategory("msg");
                                                            stringBuilder = new StringBuilder();
                                                            i = 0;
                                                            stringBuilder.append("tel:+");
                                                            stringBuilder.append(user3.phone);
                                                            mBuilder.addPerson(stringBuilder.toString());
                                                            silent2 = 2;
                                                            user = user3;
                                                            if (r12.pushMessages.size() == 1) {
                                                                lastMessage2 = null;
                                                                sound = null;
                                                                mBuilder.setContentText(detailText);
                                                                inboxStyle = new InboxStyle();
                                                                inboxStyle.setBigContentTitle(str5);
                                                                count2 = Math.min(10, r12.pushMessages.size());
                                                                text2 = new boolean[1];
                                                                contentIntent = contentIntent2;
                                                                count = silent2;
                                                                chat_id2 = 0;
                                                                while (chat_id2 < count2) {
                                                                    count3 = count2;
                                                                    count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                                    dialog_id = dialog_id2;
                                                                    message2 = getStringForMessage(count4, 0, text2);
                                                                    if (message2 != null) {
                                                                        defaultPath4 = defaultPath3;
                                                                        notifyDelay = dismissDate2;
                                                                    } else {
                                                                        defaultPath4 = defaultPath3;
                                                                        notifyDelay = dismissDate2;
                                                                        if (count4.messageOwner.date > notifyDelay) {
                                                                            if (count == 2) {
                                                                                lastMessage2 = message2;
                                                                                count = count4.messageOwner.silent;
                                                                            }
                                                                            messageObject2 = count4;
                                                                            if (chat2 != null) {
                                                                                count2 = new StringBuilder();
                                                                                count2.append(" @ ");
                                                                                count2.append(str5);
                                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            } else if (text2[0]) {
                                                                                count2 = new StringBuilder();
                                                                                count2.append(str5);
                                                                                count2.append(" ");
                                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            } else {
                                                                                count2 = new StringBuilder();
                                                                                count2.append(str5);
                                                                                count2.append(": ");
                                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            }
                                                                            inboxStyle.addLine(message2);
                                                                        }
                                                                    }
                                                                    chat_id2++;
                                                                    dismissDate2 = notifyDelay;
                                                                    count2 = count3;
                                                                    dialog_id2 = dialog_id;
                                                                    defaultPath3 = defaultPath4;
                                                                }
                                                                dialog_id = dialog_id2;
                                                                defaultPath4 = defaultPath3;
                                                                notifyDelay = dismissDate2;
                                                                inboxStyle.setSummaryText(detailText);
                                                                mBuilder.setStyle(inboxStyle);
                                                                priorityOverride2 = count;
                                                                choosenSoundPath9 = lastMessage2;
                                                            } else {
                                                                messageObject = (MessageObject) r12.pushMessages.get(0);
                                                                lastMessage2 = null;
                                                                text = new boolean[1];
                                                                stringForMessage = getStringForMessage(messageObject, null, text);
                                                                message = stringForMessage;
                                                                lastMessage3 = stringForMessage;
                                                                choosenSoundPath5 = messageObject.messageOwner.silent;
                                                                choosenSoundPath9 = message;
                                                                if (choosenSoundPath9 != null) {
                                                                    if (replace) {
                                                                        silent3 = choosenSoundPath5;
                                                                        sound = null;
                                                                    } else {
                                                                        if (chat2 != null) {
                                                                            silent3 = choosenSoundPath5;
                                                                            sound = null;
                                                                            if (text[null]) {
                                                                                choosenSoundPath5 = new StringBuilder();
                                                                                choosenSoundPath5.append(str5);
                                                                                choosenSoundPath5.append(" ");
                                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            } else {
                                                                                choosenSoundPath5 = new StringBuilder();
                                                                                choosenSoundPath5.append(str5);
                                                                                choosenSoundPath5.append(": ");
                                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            }
                                                                        } else {
                                                                            silent3 = choosenSoundPath5;
                                                                            choosenSoundPath5 = new StringBuilder();
                                                                            sound = null;
                                                                            choosenSoundPath5.append(" @ ");
                                                                            choosenSoundPath5.append(str5);
                                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                        }
                                                                        choosenSoundPath9 = message;
                                                                    }
                                                                    mBuilder.setContentText(choosenSoundPath9);
                                                                    mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                                    contentIntent = contentIntent2;
                                                                    dialog_id = dialog_id2;
                                                                    defaultPath4 = defaultPath3;
                                                                    notifyDelay = dismissDate2;
                                                                    choosenSoundPath9 = lastMessage3;
                                                                    priorityOverride2 = silent3;
                                                                } else {
                                                                    return;
                                                                }
                                                            }
                                                            dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                            dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                            dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                            mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                            if (fileLocation3 != null) {
                                                                name = str5;
                                                            } else {
                                                                img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                                if (img != null) {
                                                                    file = FileLoader.getPathToAttach(fileLocation3, true);
                                                                    if (file.exists()) {
                                                                        name = str5;
                                                                    } else {
                                                                        scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                        options = new Options();
                                                                        if (scaleFactor < 1.0f) {
                                                                            name = str5;
                                                                            str5 = (int) scaleFactor;
                                                                        } else {
                                                                            name = str5;
                                                                            str5 = true;
                                                                        }
                                                                        options.inSampleSize = str5;
                                                                        str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                        if (str5 != null) {
                                                                            mBuilder.setLargeIcon(str5);
                                                                        }
                                                                    }
                                                                } else {
                                                                    mBuilder.setLargeIcon(img.getBitmap());
                                                                    name = str5;
                                                                }
                                                            }
                                                            z = notifyAboutLast;
                                                            if (z) {
                                                                count = priority;
                                                            } else if (priorityOverride2 == 1) {
                                                                if (priority == 0) {
                                                                    count = priority;
                                                                    if (count != 1) {
                                                                        if (count == 2) {
                                                                            if (count != 4) {
                                                                                mBuilder.setPriority(-2);
                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                    user_id2 = 1;
                                                                                    i = user_id2;
                                                                                }
                                                                            } else if (count == 5) {
                                                                                mBuilder.setPriority(-1);
                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                    user_id2 = 2;
                                                                                    i = user_id2;
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                    mBuilder.setPriority(1);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        user_id2 = 4;
                                                                        i = user_id2;
                                                                    }
                                                                } else {
                                                                    mBuilder.setPriority(0);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        i = 3;
                                                                    }
                                                                    count = priority;
                                                                }
                                                                if (priorityOverride2 != 1) {
                                                                }
                                                                lastMessage = choosenSoundPath9;
                                                                silent = priorityOverride2;
                                                                needVibrate2 = needVibrate;
                                                                choosenSoundPath = str;
                                                                priorityOverride2 = ledColor;
                                                                defaultPath = defaultPath4;
                                                                jArr = new long[]{0, 0};
                                                                vibrationPattern = jArr;
                                                                mBuilder.setVibrate(jArr);
                                                                vibrationPattern2 = vibrationPattern;
                                                                sound2 = sound;
                                                                str2 = lastMessage;
                                                                if (AndroidUtilities.needShowPasscode(false)) {
                                                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                    size = rows.size();
                                                                    notifyOverride2 = false;
                                                                    z3 = false;
                                                                    while (true) {
                                                                        choosenSoundPath2 = choosenSoundPath;
                                                                        choosenSoundPath = size;
                                                                        if (z3 < choosenSoundPath) {
                                                                            break;
                                                                        }
                                                                        rows2 = rows;
                                                                        size2 = choosenSoundPath;
                                                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                                                        choosenSoundPath = row.buttons.size();
                                                                        defaultPath2 = defaultPath;
                                                                        defaultPath = 0;
                                                                        while (defaultPath < choosenSoundPath) {
                                                                            size22 = choosenSoundPath;
                                                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                            row2 = row;
                                                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                priority2 = count;
                                                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                dismissIntent = dismissIntent2;
                                                                                dialog_id2 = dialog_id;
                                                                                callbackIntent.putExtra("did", dialog_id2);
                                                                                if (choosenSoundPath3.data == null) {
                                                                                    fileLocation = fileLocation3;
                                                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                } else {
                                                                                    fileLocation = fileLocation3;
                                                                                }
                                                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                charSequence = choosenSoundPath3.text;
                                                                                context = ApplicationLoader.applicationContext;
                                                                                button = choosenSoundPath3;
                                                                                choosenSoundPath = r12.lastButtonId;
                                                                                lastMessageObject = lastMessageObject4;
                                                                                r12.lastButtonId = choosenSoundPath + 1;
                                                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                notifyOverride2 = true;
                                                                            } else {
                                                                                lastMessageObject = lastMessageObject4;
                                                                                priority2 = count;
                                                                                dismissIntent = dismissIntent2;
                                                                                fileLocation = fileLocation3;
                                                                                dialog_id2 = dialog_id;
                                                                            }
                                                                            defaultPath++;
                                                                            dialog_id = dialog_id2;
                                                                            choosenSoundPath = size22;
                                                                            row = row2;
                                                                            count = priority2;
                                                                            dismissIntent2 = dismissIntent;
                                                                            fileLocation3 = fileLocation;
                                                                            lastMessageObject4 = lastMessageObject;
                                                                            dialog_id2 = notifyAboutLast;
                                                                        }
                                                                        priority2 = count;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                        z3++;
                                                                        choosenSoundPath = choosenSoundPath2;
                                                                        rows = rows2;
                                                                        size = size2;
                                                                        defaultPath = defaultPath2;
                                                                        dismissIntent2 = dismissIntent2;
                                                                        dialog_id2 = notifyAboutLast;
                                                                    }
                                                                    defaultPath2 = defaultPath;
                                                                    lastMessageObject = lastMessageObject4;
                                                                    priority2 = count;
                                                                    dismissIntent = dismissIntent2;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                    if (VERSION.SDK_INT > 19) {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    } else {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    }
                                                                    if (VERSION.SDK_INT < 26) {
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        notifyOverride = name;
                                                                        override_dialog_id = lastMessageObject;
                                                                        priorityOverride = chat2;
                                                                        silent3 = silent;
                                                                        notifyDelay = notifyAboutLast;
                                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                    } else {
                                                                        j = dialog_id2;
                                                                        i2 = notifyDelay;
                                                                        size = notifyOverride;
                                                                        j2 = override_dialog_id;
                                                                        i3 = priorityOverride;
                                                                        i4 = vibrateOverride;
                                                                        sharedPreferences = preferences;
                                                                        i5 = user_id;
                                                                        i6 = chat_id;
                                                                        user2 = user;
                                                                        pendingIntent = contentIntent;
                                                                        silent3 = silent;
                                                                        dismissDate2 = needVibrate2;
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        str3 = defaultPath2;
                                                                        i7 = priority2;
                                                                        intent = dismissIntent;
                                                                        fileLocation2 = fileLocation;
                                                                        notifyDelay = notifyAboutLast;
                                                                    }
                                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                    r12.lastNotificationIsNoData = false;
                                                                    scheduleNotificationRepeat();
                                                                    return;
                                                                }
                                                                choosenSoundPath2 = choosenSoundPath;
                                                                defaultPath2 = defaultPath;
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                                notifyOverride2 = false;
                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                if (VERSION.SDK_INT > 19) {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                } else {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                }
                                                                if (VERSION.SDK_INT < 26) {
                                                                    j = dialog_id2;
                                                                    i2 = notifyDelay;
                                                                    size = notifyOverride;
                                                                    j2 = override_dialog_id;
                                                                    i3 = priorityOverride;
                                                                    i4 = vibrateOverride;
                                                                    sharedPreferences = preferences;
                                                                    i5 = user_id;
                                                                    i6 = chat_id;
                                                                    user2 = user;
                                                                    pendingIntent = contentIntent;
                                                                    silent3 = silent;
                                                                    dismissDate2 = needVibrate2;
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    str3 = defaultPath2;
                                                                    i7 = priority2;
                                                                    intent = dismissIntent;
                                                                    fileLocation2 = fileLocation;
                                                                    notifyDelay = notifyAboutLast;
                                                                } else {
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    notifyOverride = name;
                                                                    override_dialog_id = lastMessageObject;
                                                                    priorityOverride = chat2;
                                                                    silent3 = silent;
                                                                    notifyDelay = notifyAboutLast;
                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                }
                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                r12.lastNotificationIsNoData = false;
                                                                scheduleNotificationRepeat();
                                                                return;
                                                            } else {
                                                                count = priority;
                                                            }
                                                            mBuilder.setPriority(-1);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 2;
                                                                i = user_id2;
                                                            }
                                                            if (priorityOverride2 != 1) {
                                                            }
                                                            lastMessage = choosenSoundPath9;
                                                            silent = priorityOverride2;
                                                            needVibrate2 = needVibrate;
                                                            choosenSoundPath = str;
                                                            priorityOverride2 = ledColor;
                                                            defaultPath = defaultPath4;
                                                            jArr = new long[]{0, 0};
                                                            vibrationPattern = jArr;
                                                            mBuilder.setVibrate(jArr);
                                                            vibrationPattern2 = vibrationPattern;
                                                            sound2 = sound;
                                                            str2 = lastMessage;
                                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                size = rows.size();
                                                                notifyOverride2 = false;
                                                                z3 = false;
                                                                while (true) {
                                                                    choosenSoundPath2 = choosenSoundPath;
                                                                    choosenSoundPath = size;
                                                                    if (z3 < choosenSoundPath) {
                                                                        break;
                                                                    }
                                                                    rows2 = rows;
                                                                    size2 = choosenSoundPath;
                                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                                    choosenSoundPath = row.buttons.size();
                                                                    defaultPath2 = defaultPath;
                                                                    defaultPath = 0;
                                                                    while (defaultPath < choosenSoundPath) {
                                                                        size22 = choosenSoundPath;
                                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                        row2 = row;
                                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                            lastMessageObject = lastMessageObject4;
                                                                            priority2 = count;
                                                                            dismissIntent = dismissIntent2;
                                                                            fileLocation = fileLocation3;
                                                                            dialog_id2 = dialog_id;
                                                                        } else {
                                                                            priority2 = count;
                                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                            dismissIntent = dismissIntent2;
                                                                            dialog_id2 = dialog_id;
                                                                            callbackIntent.putExtra("did", dialog_id2);
                                                                            if (choosenSoundPath3.data == null) {
                                                                                fileLocation = fileLocation3;
                                                                            } else {
                                                                                fileLocation = fileLocation3;
                                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                            }
                                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                            charSequence = choosenSoundPath3.text;
                                                                            context = ApplicationLoader.applicationContext;
                                                                            button = choosenSoundPath3;
                                                                            choosenSoundPath = r12.lastButtonId;
                                                                            lastMessageObject = lastMessageObject4;
                                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                            notifyOverride2 = true;
                                                                        }
                                                                        defaultPath++;
                                                                        dialog_id = dialog_id2;
                                                                        choosenSoundPath = size22;
                                                                        row = row2;
                                                                        count = priority2;
                                                                        dismissIntent2 = dismissIntent;
                                                                        fileLocation3 = fileLocation;
                                                                        lastMessageObject4 = lastMessageObject;
                                                                        dialog_id2 = notifyAboutLast;
                                                                    }
                                                                    priority2 = count;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                    z3++;
                                                                    choosenSoundPath = choosenSoundPath2;
                                                                    rows = rows2;
                                                                    size = size2;
                                                                    defaultPath = defaultPath2;
                                                                    dismissIntent2 = dismissIntent2;
                                                                    dialog_id2 = notifyAboutLast;
                                                                }
                                                                defaultPath2 = defaultPath;
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                if (VERSION.SDK_INT > 19) {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                } else {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                }
                                                                if (VERSION.SDK_INT < 26) {
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    notifyOverride = name;
                                                                    override_dialog_id = lastMessageObject;
                                                                    priorityOverride = chat2;
                                                                    silent3 = silent;
                                                                    notifyDelay = notifyAboutLast;
                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                } else {
                                                                    j = dialog_id2;
                                                                    i2 = notifyDelay;
                                                                    size = notifyOverride;
                                                                    j2 = override_dialog_id;
                                                                    i3 = priorityOverride;
                                                                    i4 = vibrateOverride;
                                                                    sharedPreferences = preferences;
                                                                    i5 = user_id;
                                                                    i6 = chat_id;
                                                                    user2 = user;
                                                                    pendingIntent = contentIntent;
                                                                    silent3 = silent;
                                                                    dismissDate2 = needVibrate2;
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    str3 = defaultPath2;
                                                                    i7 = priority2;
                                                                    intent = dismissIntent;
                                                                    fileLocation2 = fileLocation;
                                                                    notifyDelay = notifyAboutLast;
                                                                }
                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                r12.lastNotificationIsNoData = false;
                                                                scheduleNotificationRepeat();
                                                                return;
                                                            }
                                                            choosenSoundPath2 = choosenSoundPath;
                                                            defaultPath2 = defaultPath;
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            notifyOverride2 = false;
                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                            if (VERSION.SDK_INT > 19) {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            } else {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            }
                                                            if (VERSION.SDK_INT < 26) {
                                                                j = dialog_id2;
                                                                i2 = notifyDelay;
                                                                size = notifyOverride;
                                                                j2 = override_dialog_id;
                                                                i3 = priorityOverride;
                                                                i4 = vibrateOverride;
                                                                sharedPreferences = preferences;
                                                                i5 = user_id;
                                                                i6 = chat_id;
                                                                user2 = user;
                                                                pendingIntent = contentIntent;
                                                                silent3 = silent;
                                                                dismissDate2 = needVibrate2;
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                str3 = defaultPath2;
                                                                i7 = priority2;
                                                                intent = dismissIntent;
                                                                fileLocation2 = fileLocation;
                                                                notifyDelay = notifyAboutLast;
                                                            } else {
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                notifyOverride = name;
                                                                override_dialog_id = lastMessageObject;
                                                                priorityOverride = chat2;
                                                                silent3 = silent;
                                                                notifyDelay = notifyAboutLast;
                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                            }
                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                            r12.lastNotificationIsNoData = false;
                                                            scheduleNotificationRepeat();
                                                            return;
                                                        }
                                                    }
                                                    if (r12.pushDialogs.size() != 1) {
                                                        stringBuilder4 = new StringBuilder();
                                                        stringBuilder4.append(choosenSoundPath9);
                                                        objArr = new Object[2];
                                                        chatName = choosenSoundPath5;
                                                        objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                                        objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                                        stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                                        detailText = stringBuilder4.toString();
                                                    } else {
                                                        stringBuilder4 = new StringBuilder();
                                                        stringBuilder4.append(choosenSoundPath9);
                                                        stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                                        detailText = stringBuilder4.toString();
                                                        chatName = choosenSoundPath5;
                                                    }
                                                    mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                    vibrationPattern3 = null;
                                                    mBuilder.setCategory("msg");
                                                    stringBuilder = new StringBuilder();
                                                    i = 0;
                                                    stringBuilder.append("tel:+");
                                                    stringBuilder.append(user3.phone);
                                                    mBuilder.addPerson(stringBuilder.toString());
                                                    silent2 = 2;
                                                    user = user3;
                                                    if (r12.pushMessages.size() == 1) {
                                                        messageObject = (MessageObject) r12.pushMessages.get(0);
                                                        lastMessage2 = null;
                                                        text = new boolean[1];
                                                        stringForMessage = getStringForMessage(messageObject, null, text);
                                                        message = stringForMessage;
                                                        lastMessage3 = stringForMessage;
                                                        choosenSoundPath5 = messageObject.messageOwner.silent;
                                                        choosenSoundPath9 = message;
                                                        if (choosenSoundPath9 != null) {
                                                            if (replace) {
                                                                if (chat2 != null) {
                                                                    silent3 = choosenSoundPath5;
                                                                    choosenSoundPath5 = new StringBuilder();
                                                                    sound = null;
                                                                    choosenSoundPath5.append(" @ ");
                                                                    choosenSoundPath5.append(str5);
                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                } else {
                                                                    silent3 = choosenSoundPath5;
                                                                    sound = null;
                                                                    if (text[null]) {
                                                                        choosenSoundPath5 = new StringBuilder();
                                                                        choosenSoundPath5.append(str5);
                                                                        choosenSoundPath5.append(": ");
                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    } else {
                                                                        choosenSoundPath5 = new StringBuilder();
                                                                        choosenSoundPath5.append(str5);
                                                                        choosenSoundPath5.append(" ");
                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    }
                                                                }
                                                                choosenSoundPath9 = message;
                                                            } else {
                                                                silent3 = choosenSoundPath5;
                                                                sound = null;
                                                            }
                                                            mBuilder.setContentText(choosenSoundPath9);
                                                            mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                            contentIntent = contentIntent2;
                                                            dialog_id = dialog_id2;
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                            choosenSoundPath9 = lastMessage3;
                                                            priorityOverride2 = silent3;
                                                        } else {
                                                            return;
                                                        }
                                                    }
                                                    lastMessage2 = null;
                                                    sound = null;
                                                    mBuilder.setContentText(detailText);
                                                    inboxStyle = new InboxStyle();
                                                    inboxStyle.setBigContentTitle(str5);
                                                    count2 = Math.min(10, r12.pushMessages.size());
                                                    text2 = new boolean[1];
                                                    contentIntent = contentIntent2;
                                                    count = silent2;
                                                    chat_id2 = 0;
                                                    while (chat_id2 < count2) {
                                                        count3 = count2;
                                                        count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                        dialog_id = dialog_id2;
                                                        message2 = getStringForMessage(count4, 0, text2);
                                                        if (message2 != null) {
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                            if (count4.messageOwner.date > notifyDelay) {
                                                                if (count == 2) {
                                                                    lastMessage2 = message2;
                                                                    count = count4.messageOwner.silent;
                                                                }
                                                                messageObject2 = count4;
                                                                if (chat2 != null) {
                                                                    count2 = new StringBuilder();
                                                                    count2.append(" @ ");
                                                                    count2.append(str5);
                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                } else if (text2[0]) {
                                                                    count2 = new StringBuilder();
                                                                    count2.append(str5);
                                                                    count2.append(": ");
                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                } else {
                                                                    count2 = new StringBuilder();
                                                                    count2.append(str5);
                                                                    count2.append(" ");
                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                }
                                                                inboxStyle.addLine(message2);
                                                            }
                                                        } else {
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                        }
                                                        chat_id2++;
                                                        dismissDate2 = notifyDelay;
                                                        count2 = count3;
                                                        dialog_id2 = dialog_id;
                                                        defaultPath3 = defaultPath4;
                                                    }
                                                    dialog_id = dialog_id2;
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                    inboxStyle.setSummaryText(detailText);
                                                    mBuilder.setStyle(inboxStyle);
                                                    priorityOverride2 = count;
                                                    choosenSoundPath9 = lastMessage2;
                                                    dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                    dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                    dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                    mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                    if (fileLocation3 != null) {
                                                        img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                        if (img != null) {
                                                            mBuilder.setLargeIcon(img.getBitmap());
                                                            name = str5;
                                                        } else {
                                                            file = FileLoader.getPathToAttach(fileLocation3, true);
                                                            if (file.exists()) {
                                                                scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                options = new Options();
                                                                if (scaleFactor < 1.0f) {
                                                                    name = str5;
                                                                    str5 = true;
                                                                } else {
                                                                    name = str5;
                                                                    str5 = (int) scaleFactor;
                                                                }
                                                                options.inSampleSize = str5;
                                                                str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                if (str5 != null) {
                                                                    mBuilder.setLargeIcon(str5);
                                                                }
                                                            } else {
                                                                name = str5;
                                                            }
                                                        }
                                                    } else {
                                                        name = str5;
                                                    }
                                                    z = notifyAboutLast;
                                                    if (z) {
                                                        count = priority;
                                                    } else if (priorityOverride2 == 1) {
                                                        count = priority;
                                                    } else {
                                                        if (priority == 0) {
                                                            mBuilder.setPriority(0);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                i = 3;
                                                            }
                                                            count = priority;
                                                        } else {
                                                            count = priority;
                                                            if (count != 1) {
                                                                if (count == 2) {
                                                                    if (count != 4) {
                                                                        mBuilder.setPriority(-2);
                                                                        if (VERSION.SDK_INT >= 26) {
                                                                            user_id2 = 1;
                                                                            i = user_id2;
                                                                        }
                                                                    } else if (count == 5) {
                                                                        mBuilder.setPriority(-1);
                                                                        if (VERSION.SDK_INT >= 26) {
                                                                            user_id2 = 2;
                                                                            i = user_id2;
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                            mBuilder.setPriority(1);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 4;
                                                                i = user_id2;
                                                            }
                                                        }
                                                        if (priorityOverride2 != 1) {
                                                        }
                                                        lastMessage = choosenSoundPath9;
                                                        silent = priorityOverride2;
                                                        needVibrate2 = needVibrate;
                                                        choosenSoundPath = str;
                                                        priorityOverride2 = ledColor;
                                                        defaultPath = defaultPath4;
                                                        jArr = new long[]{0, 0};
                                                        vibrationPattern = jArr;
                                                        mBuilder.setVibrate(jArr);
                                                        vibrationPattern2 = vibrationPattern;
                                                        sound2 = sound;
                                                        str2 = lastMessage;
                                                        if (AndroidUtilities.needShowPasscode(false)) {
                                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                            size = rows.size();
                                                            notifyOverride2 = false;
                                                            z3 = false;
                                                            while (true) {
                                                                choosenSoundPath2 = choosenSoundPath;
                                                                choosenSoundPath = size;
                                                                if (z3 < choosenSoundPath) {
                                                                    break;
                                                                }
                                                                rows2 = rows;
                                                                size2 = choosenSoundPath;
                                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                                choosenSoundPath = row.buttons.size();
                                                                defaultPath2 = defaultPath;
                                                                defaultPath = 0;
                                                                while (defaultPath < choosenSoundPath) {
                                                                    size22 = choosenSoundPath;
                                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                    row2 = row;
                                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                        priority2 = count;
                                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                        dismissIntent = dismissIntent2;
                                                                        dialog_id2 = dialog_id;
                                                                        callbackIntent.putExtra("did", dialog_id2);
                                                                        if (choosenSoundPath3.data == null) {
                                                                            fileLocation = fileLocation3;
                                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                        } else {
                                                                            fileLocation = fileLocation3;
                                                                        }
                                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                        charSequence = choosenSoundPath3.text;
                                                                        context = ApplicationLoader.applicationContext;
                                                                        button = choosenSoundPath3;
                                                                        choosenSoundPath = r12.lastButtonId;
                                                                        lastMessageObject = lastMessageObject4;
                                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                        notifyOverride2 = true;
                                                                    } else {
                                                                        lastMessageObject = lastMessageObject4;
                                                                        priority2 = count;
                                                                        dismissIntent = dismissIntent2;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                    }
                                                                    defaultPath++;
                                                                    dialog_id = dialog_id2;
                                                                    choosenSoundPath = size22;
                                                                    row = row2;
                                                                    count = priority2;
                                                                    dismissIntent2 = dismissIntent;
                                                                    fileLocation3 = fileLocation;
                                                                    lastMessageObject4 = lastMessageObject;
                                                                    dialog_id2 = notifyAboutLast;
                                                                }
                                                                priority2 = count;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                                z3++;
                                                                choosenSoundPath = choosenSoundPath2;
                                                                rows = rows2;
                                                                size = size2;
                                                                defaultPath = defaultPath2;
                                                                dismissIntent2 = dismissIntent2;
                                                                dialog_id2 = notifyAboutLast;
                                                            }
                                                            defaultPath2 = defaultPath;
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                            if (VERSION.SDK_INT > 19) {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            } else {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            }
                                                            if (VERSION.SDK_INT < 26) {
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                notifyOverride = name;
                                                                override_dialog_id = lastMessageObject;
                                                                priorityOverride = chat2;
                                                                silent3 = silent;
                                                                notifyDelay = notifyAboutLast;
                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                            } else {
                                                                j = dialog_id2;
                                                                i2 = notifyDelay;
                                                                size = notifyOverride;
                                                                j2 = override_dialog_id;
                                                                i3 = priorityOverride;
                                                                i4 = vibrateOverride;
                                                                sharedPreferences = preferences;
                                                                i5 = user_id;
                                                                i6 = chat_id;
                                                                user2 = user;
                                                                pendingIntent = contentIntent;
                                                                silent3 = silent;
                                                                dismissDate2 = needVibrate2;
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                str3 = defaultPath2;
                                                                i7 = priority2;
                                                                intent = dismissIntent;
                                                                fileLocation2 = fileLocation;
                                                                notifyDelay = notifyAboutLast;
                                                            }
                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                            r12.lastNotificationIsNoData = false;
                                                            scheduleNotificationRepeat();
                                                            return;
                                                        }
                                                        choosenSoundPath2 = choosenSoundPath;
                                                        defaultPath2 = defaultPath;
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        notifyOverride2 = false;
                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                        if (VERSION.SDK_INT > 19) {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        } else {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        }
                                                        if (VERSION.SDK_INT < 26) {
                                                            j = dialog_id2;
                                                            i2 = notifyDelay;
                                                            size = notifyOverride;
                                                            j2 = override_dialog_id;
                                                            i3 = priorityOverride;
                                                            i4 = vibrateOverride;
                                                            sharedPreferences = preferences;
                                                            i5 = user_id;
                                                            i6 = chat_id;
                                                            user2 = user;
                                                            pendingIntent = contentIntent;
                                                            silent3 = silent;
                                                            dismissDate2 = needVibrate2;
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            str3 = defaultPath2;
                                                            i7 = priority2;
                                                            intent = dismissIntent;
                                                            fileLocation2 = fileLocation;
                                                            notifyDelay = notifyAboutLast;
                                                        } else {
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            notifyOverride = name;
                                                            override_dialog_id = lastMessageObject;
                                                            priorityOverride = chat2;
                                                            silent3 = silent;
                                                            notifyDelay = notifyAboutLast;
                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                        }
                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                        r12.lastNotificationIsNoData = false;
                                                        scheduleNotificationRepeat();
                                                        return;
                                                    }
                                                    mBuilder.setPriority(-1);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        user_id2 = 2;
                                                        i = user_id2;
                                                    }
                                                    if (priorityOverride2 != 1) {
                                                    }
                                                    lastMessage = choosenSoundPath9;
                                                    silent = priorityOverride2;
                                                    needVibrate2 = needVibrate;
                                                    choosenSoundPath = str;
                                                    priorityOverride2 = ledColor;
                                                    defaultPath = defaultPath4;
                                                    jArr = new long[]{0, 0};
                                                    vibrationPattern = jArr;
                                                    mBuilder.setVibrate(jArr);
                                                    vibrationPattern2 = vibrationPattern;
                                                    sound2 = sound;
                                                    str2 = lastMessage;
                                                    if (AndroidUtilities.needShowPasscode(false)) {
                                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                        size = rows.size();
                                                        notifyOverride2 = false;
                                                        z3 = false;
                                                        while (true) {
                                                            choosenSoundPath2 = choosenSoundPath;
                                                            choosenSoundPath = size;
                                                            if (z3 < choosenSoundPath) {
                                                                break;
                                                            }
                                                            rows2 = rows;
                                                            size2 = choosenSoundPath;
                                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                                            choosenSoundPath = row.buttons.size();
                                                            defaultPath2 = defaultPath;
                                                            defaultPath = 0;
                                                            while (defaultPath < choosenSoundPath) {
                                                                size22 = choosenSoundPath;
                                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                row2 = row;
                                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                    lastMessageObject = lastMessageObject4;
                                                                    priority2 = count;
                                                                    dismissIntent = dismissIntent2;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                } else {
                                                                    priority2 = count;
                                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                    dismissIntent = dismissIntent2;
                                                                    dialog_id2 = dialog_id;
                                                                    callbackIntent.putExtra("did", dialog_id2);
                                                                    if (choosenSoundPath3.data == null) {
                                                                        fileLocation = fileLocation3;
                                                                    } else {
                                                                        fileLocation = fileLocation3;
                                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                    }
                                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                    charSequence = choosenSoundPath3.text;
                                                                    context = ApplicationLoader.applicationContext;
                                                                    button = choosenSoundPath3;
                                                                    choosenSoundPath = r12.lastButtonId;
                                                                    lastMessageObject = lastMessageObject4;
                                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                    notifyOverride2 = true;
                                                                }
                                                                defaultPath++;
                                                                dialog_id = dialog_id2;
                                                                choosenSoundPath = size22;
                                                                row = row2;
                                                                count = priority2;
                                                                dismissIntent2 = dismissIntent;
                                                                fileLocation3 = fileLocation;
                                                                lastMessageObject4 = lastMessageObject;
                                                                dialog_id2 = notifyAboutLast;
                                                            }
                                                            priority2 = count;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            z3++;
                                                            choosenSoundPath = choosenSoundPath2;
                                                            rows = rows2;
                                                            size = size2;
                                                            defaultPath = defaultPath2;
                                                            dismissIntent2 = dismissIntent2;
                                                            dialog_id2 = notifyAboutLast;
                                                        }
                                                        defaultPath2 = defaultPath;
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                        if (VERSION.SDK_INT > 19) {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        } else {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        }
                                                        if (VERSION.SDK_INT < 26) {
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            notifyOverride = name;
                                                            override_dialog_id = lastMessageObject;
                                                            priorityOverride = chat2;
                                                            silent3 = silent;
                                                            notifyDelay = notifyAboutLast;
                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                        } else {
                                                            j = dialog_id2;
                                                            i2 = notifyDelay;
                                                            size = notifyOverride;
                                                            j2 = override_dialog_id;
                                                            i3 = priorityOverride;
                                                            i4 = vibrateOverride;
                                                            sharedPreferences = preferences;
                                                            i5 = user_id;
                                                            i6 = chat_id;
                                                            user2 = user;
                                                            pendingIntent = contentIntent;
                                                            silent3 = silent;
                                                            dismissDate2 = needVibrate2;
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            str3 = defaultPath2;
                                                            i7 = priority2;
                                                            intent = dismissIntent;
                                                            fileLocation2 = fileLocation;
                                                            notifyDelay = notifyAboutLast;
                                                        }
                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                        r12.lastNotificationIsNoData = false;
                                                        scheduleNotificationRepeat();
                                                        return;
                                                    }
                                                    choosenSoundPath2 = choosenSoundPath;
                                                    defaultPath2 = defaultPath;
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    notifyOverride2 = false;
                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                    if (VERSION.SDK_INT > 19) {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    } else {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    }
                                                    if (VERSION.SDK_INT < 26) {
                                                        j = dialog_id2;
                                                        i2 = notifyDelay;
                                                        size = notifyOverride;
                                                        j2 = override_dialog_id;
                                                        i3 = priorityOverride;
                                                        i4 = vibrateOverride;
                                                        sharedPreferences = preferences;
                                                        i5 = user_id;
                                                        i6 = chat_id;
                                                        user2 = user;
                                                        pendingIntent = contentIntent;
                                                        silent3 = silent;
                                                        dismissDate2 = needVibrate2;
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        str3 = defaultPath2;
                                                        i7 = priority2;
                                                        intent = dismissIntent;
                                                        fileLocation2 = fileLocation;
                                                        notifyDelay = notifyAboutLast;
                                                    } else {
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        notifyOverride = name;
                                                        override_dialog_id = lastMessageObject;
                                                        priorityOverride = chat2;
                                                        silent3 = silent;
                                                        notifyDelay = notifyAboutLast;
                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                    }
                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                    r12.lastNotificationIsNoData = false;
                                                    scheduleNotificationRepeat();
                                                    return;
                                                }
                                                str = choosenSoundPath9;
                                                user_id = user_id2;
                                            }
                                        }
                                        priority = needVibrate4;
                                        ledColor = count;
                                    }
                                    choosenSoundPath9 = null;
                                    fileLocation3 = choosenSoundPath9;
                                    priority = needVibrate4;
                                    ledColor = count;
                                    intent2.putExtra("currentAccount", r12.currentAccount);
                                    contentIntent2 = PendingIntent.getActivity(ApplicationLoader.applicationContext, 0, intent2, NUM);
                                    if (chat_id2 == 0) {
                                    }
                                    lastMessageObject4 = lastMessageObject3;
                                    if (chat2 != null) {
                                        str5 = UserObject.getUserName(user3);
                                    } else {
                                        str5 = chat2.title;
                                    }
                                    choosenSoundPath5 = str5;
                                    if (((int) dialog_id2) == 0) {
                                        replace = true;
                                        if (SharedConfig.isWaitingForPasscodeEnter) {
                                            choosenSoundPath9 = choosenSoundPath5;
                                            str5 = choosenSoundPath9;
                                            chat_id = chat_id2;
                                            if (UserConfig.getActivatedAccountsCount() <= 1) {
                                                choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                            } else if (r12.pushDialogs.size() != 1) {
                                                choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                            } else {
                                                stringBuilder = new StringBuilder();
                                                stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                                stringBuilder.append("\u30fb");
                                                choosenSoundPath9 = stringBuilder.toString();
                                            }
                                            if (r12.pushDialogs.size() == 1) {
                                                if (VERSION.SDK_INT >= 23) {
                                                    detailText = choosenSoundPath9;
                                                    chatName = choosenSoundPath5;
                                                    z4 = inAppVibrate;
                                                    mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                    vibrationPattern3 = null;
                                                    mBuilder.setCategory("msg");
                                                    stringBuilder = new StringBuilder();
                                                    i = 0;
                                                    stringBuilder.append("tel:+");
                                                    stringBuilder.append(user3.phone);
                                                    mBuilder.addPerson(stringBuilder.toString());
                                                    silent2 = 2;
                                                    user = user3;
                                                    if (r12.pushMessages.size() == 1) {
                                                        lastMessage2 = null;
                                                        sound = null;
                                                        mBuilder.setContentText(detailText);
                                                        inboxStyle = new InboxStyle();
                                                        inboxStyle.setBigContentTitle(str5);
                                                        count2 = Math.min(10, r12.pushMessages.size());
                                                        text2 = new boolean[1];
                                                        contentIntent = contentIntent2;
                                                        count = silent2;
                                                        chat_id2 = 0;
                                                        while (chat_id2 < count2) {
                                                            count3 = count2;
                                                            count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                            dialog_id = dialog_id2;
                                                            message2 = getStringForMessage(count4, 0, text2);
                                                            if (message2 != null) {
                                                                defaultPath4 = defaultPath3;
                                                                notifyDelay = dismissDate2;
                                                            } else {
                                                                defaultPath4 = defaultPath3;
                                                                notifyDelay = dismissDate2;
                                                                if (count4.messageOwner.date > notifyDelay) {
                                                                    if (count == 2) {
                                                                        lastMessage2 = message2;
                                                                        count = count4.messageOwner.silent;
                                                                    }
                                                                    messageObject2 = count4;
                                                                    if (chat2 != null) {
                                                                        count2 = new StringBuilder();
                                                                        count2.append(" @ ");
                                                                        count2.append(str5);
                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    } else if (text2[0]) {
                                                                        count2 = new StringBuilder();
                                                                        count2.append(str5);
                                                                        count2.append(" ");
                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    } else {
                                                                        count2 = new StringBuilder();
                                                                        count2.append(str5);
                                                                        count2.append(": ");
                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    }
                                                                    inboxStyle.addLine(message2);
                                                                }
                                                            }
                                                            chat_id2++;
                                                            dismissDate2 = notifyDelay;
                                                            count2 = count3;
                                                            dialog_id2 = dialog_id;
                                                            defaultPath3 = defaultPath4;
                                                        }
                                                        dialog_id = dialog_id2;
                                                        defaultPath4 = defaultPath3;
                                                        notifyDelay = dismissDate2;
                                                        inboxStyle.setSummaryText(detailText);
                                                        mBuilder.setStyle(inboxStyle);
                                                        priorityOverride2 = count;
                                                        choosenSoundPath9 = lastMessage2;
                                                    } else {
                                                        messageObject = (MessageObject) r12.pushMessages.get(0);
                                                        lastMessage2 = null;
                                                        text = new boolean[1];
                                                        stringForMessage = getStringForMessage(messageObject, null, text);
                                                        message = stringForMessage;
                                                        lastMessage3 = stringForMessage;
                                                        choosenSoundPath5 = messageObject.messageOwner.silent;
                                                        choosenSoundPath9 = message;
                                                        if (choosenSoundPath9 != null) {
                                                            if (replace) {
                                                                silent3 = choosenSoundPath5;
                                                                sound = null;
                                                            } else {
                                                                if (chat2 != null) {
                                                                    silent3 = choosenSoundPath5;
                                                                    sound = null;
                                                                    if (text[null]) {
                                                                        choosenSoundPath5 = new StringBuilder();
                                                                        choosenSoundPath5.append(str5);
                                                                        choosenSoundPath5.append(" ");
                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    } else {
                                                                        choosenSoundPath5 = new StringBuilder();
                                                                        choosenSoundPath5.append(str5);
                                                                        choosenSoundPath5.append(": ");
                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    }
                                                                } else {
                                                                    silent3 = choosenSoundPath5;
                                                                    choosenSoundPath5 = new StringBuilder();
                                                                    sound = null;
                                                                    choosenSoundPath5.append(" @ ");
                                                                    choosenSoundPath5.append(str5);
                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                }
                                                                choosenSoundPath9 = message;
                                                            }
                                                            mBuilder.setContentText(choosenSoundPath9);
                                                            mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                            contentIntent = contentIntent2;
                                                            dialog_id = dialog_id2;
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                            choosenSoundPath9 = lastMessage3;
                                                            priorityOverride2 = silent3;
                                                        } else {
                                                            return;
                                                        }
                                                    }
                                                    dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                    dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                    dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                    mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                    if (fileLocation3 != null) {
                                                        name = str5;
                                                    } else {
                                                        img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                        if (img != null) {
                                                            file = FileLoader.getPathToAttach(fileLocation3, true);
                                                            if (file.exists()) {
                                                                name = str5;
                                                            } else {
                                                                scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                options = new Options();
                                                                if (scaleFactor < 1.0f) {
                                                                    name = str5;
                                                                    str5 = (int) scaleFactor;
                                                                } else {
                                                                    name = str5;
                                                                    str5 = true;
                                                                }
                                                                options.inSampleSize = str5;
                                                                str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                if (str5 != null) {
                                                                    mBuilder.setLargeIcon(str5);
                                                                }
                                                            }
                                                        } else {
                                                            mBuilder.setLargeIcon(img.getBitmap());
                                                            name = str5;
                                                        }
                                                    }
                                                    z = notifyAboutLast;
                                                    if (z) {
                                                        count = priority;
                                                    } else if (priorityOverride2 == 1) {
                                                        if (priority == 0) {
                                                            count = priority;
                                                            if (count != 1) {
                                                                if (count == 2) {
                                                                    if (count != 4) {
                                                                        mBuilder.setPriority(-2);
                                                                        if (VERSION.SDK_INT >= 26) {
                                                                            user_id2 = 1;
                                                                            i = user_id2;
                                                                        }
                                                                    } else if (count == 5) {
                                                                        mBuilder.setPriority(-1);
                                                                        if (VERSION.SDK_INT >= 26) {
                                                                            user_id2 = 2;
                                                                            i = user_id2;
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                            mBuilder.setPriority(1);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 4;
                                                                i = user_id2;
                                                            }
                                                        } else {
                                                            mBuilder.setPriority(0);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                i = 3;
                                                            }
                                                            count = priority;
                                                        }
                                                        if (priorityOverride2 != 1) {
                                                        }
                                                        lastMessage = choosenSoundPath9;
                                                        silent = priorityOverride2;
                                                        needVibrate2 = needVibrate;
                                                        choosenSoundPath = str;
                                                        priorityOverride2 = ledColor;
                                                        defaultPath = defaultPath4;
                                                        jArr = new long[]{0, 0};
                                                        vibrationPattern = jArr;
                                                        mBuilder.setVibrate(jArr);
                                                        vibrationPattern2 = vibrationPattern;
                                                        sound2 = sound;
                                                        str2 = lastMessage;
                                                        if (AndroidUtilities.needShowPasscode(false)) {
                                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                            size = rows.size();
                                                            notifyOverride2 = false;
                                                            z3 = false;
                                                            while (true) {
                                                                choosenSoundPath2 = choosenSoundPath;
                                                                choosenSoundPath = size;
                                                                if (z3 < choosenSoundPath) {
                                                                    break;
                                                                }
                                                                rows2 = rows;
                                                                size2 = choosenSoundPath;
                                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                                choosenSoundPath = row.buttons.size();
                                                                defaultPath2 = defaultPath;
                                                                defaultPath = 0;
                                                                while (defaultPath < choosenSoundPath) {
                                                                    size22 = choosenSoundPath;
                                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                    row2 = row;
                                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                        priority2 = count;
                                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                        dismissIntent = dismissIntent2;
                                                                        dialog_id2 = dialog_id;
                                                                        callbackIntent.putExtra("did", dialog_id2);
                                                                        if (choosenSoundPath3.data == null) {
                                                                            fileLocation = fileLocation3;
                                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                        } else {
                                                                            fileLocation = fileLocation3;
                                                                        }
                                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                        charSequence = choosenSoundPath3.text;
                                                                        context = ApplicationLoader.applicationContext;
                                                                        button = choosenSoundPath3;
                                                                        choosenSoundPath = r12.lastButtonId;
                                                                        lastMessageObject = lastMessageObject4;
                                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                        notifyOverride2 = true;
                                                                    } else {
                                                                        lastMessageObject = lastMessageObject4;
                                                                        priority2 = count;
                                                                        dismissIntent = dismissIntent2;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                    }
                                                                    defaultPath++;
                                                                    dialog_id = dialog_id2;
                                                                    choosenSoundPath = size22;
                                                                    row = row2;
                                                                    count = priority2;
                                                                    dismissIntent2 = dismissIntent;
                                                                    fileLocation3 = fileLocation;
                                                                    lastMessageObject4 = lastMessageObject;
                                                                    dialog_id2 = notifyAboutLast;
                                                                }
                                                                priority2 = count;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                                z3++;
                                                                choosenSoundPath = choosenSoundPath2;
                                                                rows = rows2;
                                                                size = size2;
                                                                defaultPath = defaultPath2;
                                                                dismissIntent2 = dismissIntent2;
                                                                dialog_id2 = notifyAboutLast;
                                                            }
                                                            defaultPath2 = defaultPath;
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                            if (VERSION.SDK_INT > 19) {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            } else {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            }
                                                            if (VERSION.SDK_INT < 26) {
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                notifyOverride = name;
                                                                override_dialog_id = lastMessageObject;
                                                                priorityOverride = chat2;
                                                                silent3 = silent;
                                                                notifyDelay = notifyAboutLast;
                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                            } else {
                                                                j = dialog_id2;
                                                                i2 = notifyDelay;
                                                                size = notifyOverride;
                                                                j2 = override_dialog_id;
                                                                i3 = priorityOverride;
                                                                i4 = vibrateOverride;
                                                                sharedPreferences = preferences;
                                                                i5 = user_id;
                                                                i6 = chat_id;
                                                                user2 = user;
                                                                pendingIntent = contentIntent;
                                                                silent3 = silent;
                                                                dismissDate2 = needVibrate2;
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                str3 = defaultPath2;
                                                                i7 = priority2;
                                                                intent = dismissIntent;
                                                                fileLocation2 = fileLocation;
                                                                notifyDelay = notifyAboutLast;
                                                            }
                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                            r12.lastNotificationIsNoData = false;
                                                            scheduleNotificationRepeat();
                                                            return;
                                                        }
                                                        choosenSoundPath2 = choosenSoundPath;
                                                        defaultPath2 = defaultPath;
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        notifyOverride2 = false;
                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                        if (VERSION.SDK_INT > 19) {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        } else {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        }
                                                        if (VERSION.SDK_INT < 26) {
                                                            j = dialog_id2;
                                                            i2 = notifyDelay;
                                                            size = notifyOverride;
                                                            j2 = override_dialog_id;
                                                            i3 = priorityOverride;
                                                            i4 = vibrateOverride;
                                                            sharedPreferences = preferences;
                                                            i5 = user_id;
                                                            i6 = chat_id;
                                                            user2 = user;
                                                            pendingIntent = contentIntent;
                                                            silent3 = silent;
                                                            dismissDate2 = needVibrate2;
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            str3 = defaultPath2;
                                                            i7 = priority2;
                                                            intent = dismissIntent;
                                                            fileLocation2 = fileLocation;
                                                            notifyDelay = notifyAboutLast;
                                                        } else {
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            notifyOverride = name;
                                                            override_dialog_id = lastMessageObject;
                                                            priorityOverride = chat2;
                                                            silent3 = silent;
                                                            notifyDelay = notifyAboutLast;
                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                        }
                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                        r12.lastNotificationIsNoData = false;
                                                        scheduleNotificationRepeat();
                                                        return;
                                                    } else {
                                                        count = priority;
                                                    }
                                                    mBuilder.setPriority(-1);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        user_id2 = 2;
                                                        i = user_id2;
                                                    }
                                                    if (priorityOverride2 != 1) {
                                                    }
                                                    lastMessage = choosenSoundPath9;
                                                    silent = priorityOverride2;
                                                    needVibrate2 = needVibrate;
                                                    choosenSoundPath = str;
                                                    priorityOverride2 = ledColor;
                                                    defaultPath = defaultPath4;
                                                    jArr = new long[]{0, 0};
                                                    vibrationPattern = jArr;
                                                    mBuilder.setVibrate(jArr);
                                                    vibrationPattern2 = vibrationPattern;
                                                    sound2 = sound;
                                                    str2 = lastMessage;
                                                    if (AndroidUtilities.needShowPasscode(false)) {
                                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                        size = rows.size();
                                                        notifyOverride2 = false;
                                                        z3 = false;
                                                        while (true) {
                                                            choosenSoundPath2 = choosenSoundPath;
                                                            choosenSoundPath = size;
                                                            if (z3 < choosenSoundPath) {
                                                                break;
                                                            }
                                                            rows2 = rows;
                                                            size2 = choosenSoundPath;
                                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                                            choosenSoundPath = row.buttons.size();
                                                            defaultPath2 = defaultPath;
                                                            defaultPath = 0;
                                                            while (defaultPath < choosenSoundPath) {
                                                                size22 = choosenSoundPath;
                                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                row2 = row;
                                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                    lastMessageObject = lastMessageObject4;
                                                                    priority2 = count;
                                                                    dismissIntent = dismissIntent2;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                } else {
                                                                    priority2 = count;
                                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                    dismissIntent = dismissIntent2;
                                                                    dialog_id2 = dialog_id;
                                                                    callbackIntent.putExtra("did", dialog_id2);
                                                                    if (choosenSoundPath3.data == null) {
                                                                        fileLocation = fileLocation3;
                                                                    } else {
                                                                        fileLocation = fileLocation3;
                                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                    }
                                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                    charSequence = choosenSoundPath3.text;
                                                                    context = ApplicationLoader.applicationContext;
                                                                    button = choosenSoundPath3;
                                                                    choosenSoundPath = r12.lastButtonId;
                                                                    lastMessageObject = lastMessageObject4;
                                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                    notifyOverride2 = true;
                                                                }
                                                                defaultPath++;
                                                                dialog_id = dialog_id2;
                                                                choosenSoundPath = size22;
                                                                row = row2;
                                                                count = priority2;
                                                                dismissIntent2 = dismissIntent;
                                                                fileLocation3 = fileLocation;
                                                                lastMessageObject4 = lastMessageObject;
                                                                dialog_id2 = notifyAboutLast;
                                                            }
                                                            priority2 = count;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            z3++;
                                                            choosenSoundPath = choosenSoundPath2;
                                                            rows = rows2;
                                                            size = size2;
                                                            defaultPath = defaultPath2;
                                                            dismissIntent2 = dismissIntent2;
                                                            dialog_id2 = notifyAboutLast;
                                                        }
                                                        defaultPath2 = defaultPath;
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                        if (VERSION.SDK_INT > 19) {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        } else {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        }
                                                        if (VERSION.SDK_INT < 26) {
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            notifyOverride = name;
                                                            override_dialog_id = lastMessageObject;
                                                            priorityOverride = chat2;
                                                            silent3 = silent;
                                                            notifyDelay = notifyAboutLast;
                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                        } else {
                                                            j = dialog_id2;
                                                            i2 = notifyDelay;
                                                            size = notifyOverride;
                                                            j2 = override_dialog_id;
                                                            i3 = priorityOverride;
                                                            i4 = vibrateOverride;
                                                            sharedPreferences = preferences;
                                                            i5 = user_id;
                                                            i6 = chat_id;
                                                            user2 = user;
                                                            pendingIntent = contentIntent;
                                                            silent3 = silent;
                                                            dismissDate2 = needVibrate2;
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            str3 = defaultPath2;
                                                            i7 = priority2;
                                                            intent = dismissIntent;
                                                            fileLocation2 = fileLocation;
                                                            notifyDelay = notifyAboutLast;
                                                        }
                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                        r12.lastNotificationIsNoData = false;
                                                        scheduleNotificationRepeat();
                                                        return;
                                                    }
                                                    choosenSoundPath2 = choosenSoundPath;
                                                    defaultPath2 = defaultPath;
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    notifyOverride2 = false;
                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                    if (VERSION.SDK_INT > 19) {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    } else {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    }
                                                    if (VERSION.SDK_INT < 26) {
                                                        j = dialog_id2;
                                                        i2 = notifyDelay;
                                                        size = notifyOverride;
                                                        j2 = override_dialog_id;
                                                        i3 = priorityOverride;
                                                        i4 = vibrateOverride;
                                                        sharedPreferences = preferences;
                                                        i5 = user_id;
                                                        i6 = chat_id;
                                                        user2 = user;
                                                        pendingIntent = contentIntent;
                                                        silent3 = silent;
                                                        dismissDate2 = needVibrate2;
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        str3 = defaultPath2;
                                                        i7 = priority2;
                                                        intent = dismissIntent;
                                                        fileLocation2 = fileLocation;
                                                        notifyDelay = notifyAboutLast;
                                                    } else {
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        notifyOverride = name;
                                                        override_dialog_id = lastMessageObject;
                                                        priorityOverride = chat2;
                                                        silent3 = silent;
                                                        notifyDelay = notifyAboutLast;
                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                    }
                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                    r12.lastNotificationIsNoData = false;
                                                    scheduleNotificationRepeat();
                                                    return;
                                                }
                                            }
                                            if (r12.pushDialogs.size() != 1) {
                                                stringBuilder4 = new StringBuilder();
                                                stringBuilder4.append(choosenSoundPath9);
                                                stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                                detailText = stringBuilder4.toString();
                                                chatName = choosenSoundPath5;
                                            } else {
                                                stringBuilder4 = new StringBuilder();
                                                stringBuilder4.append(choosenSoundPath9);
                                                objArr = new Object[2];
                                                chatName = choosenSoundPath5;
                                                objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                                objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                                stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                                detailText = stringBuilder4.toString();
                                            }
                                            mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                            vibrationPattern3 = null;
                                            mBuilder.setCategory("msg");
                                            stringBuilder = new StringBuilder();
                                            i = 0;
                                            stringBuilder.append("tel:+");
                                            stringBuilder.append(user3.phone);
                                            mBuilder.addPerson(stringBuilder.toString());
                                            silent2 = 2;
                                            user = user3;
                                            if (r12.pushMessages.size() == 1) {
                                                messageObject = (MessageObject) r12.pushMessages.get(0);
                                                lastMessage2 = null;
                                                text = new boolean[1];
                                                stringForMessage = getStringForMessage(messageObject, null, text);
                                                message = stringForMessage;
                                                lastMessage3 = stringForMessage;
                                                choosenSoundPath5 = messageObject.messageOwner.silent;
                                                choosenSoundPath9 = message;
                                                if (choosenSoundPath9 != null) {
                                                    if (replace) {
                                                        if (chat2 != null) {
                                                            silent3 = choosenSoundPath5;
                                                            choosenSoundPath5 = new StringBuilder();
                                                            sound = null;
                                                            choosenSoundPath5.append(" @ ");
                                                            choosenSoundPath5.append(str5);
                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        } else {
                                                            silent3 = choosenSoundPath5;
                                                            sound = null;
                                                            if (text[null]) {
                                                                choosenSoundPath5 = new StringBuilder();
                                                                choosenSoundPath5.append(str5);
                                                                choosenSoundPath5.append(": ");
                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            } else {
                                                                choosenSoundPath5 = new StringBuilder();
                                                                choosenSoundPath5.append(str5);
                                                                choosenSoundPath5.append(" ");
                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            }
                                                        }
                                                        choosenSoundPath9 = message;
                                                    } else {
                                                        silent3 = choosenSoundPath5;
                                                        sound = null;
                                                    }
                                                    mBuilder.setContentText(choosenSoundPath9);
                                                    mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                    contentIntent = contentIntent2;
                                                    dialog_id = dialog_id2;
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                    choosenSoundPath9 = lastMessage3;
                                                    priorityOverride2 = silent3;
                                                } else {
                                                    return;
                                                }
                                            }
                                            lastMessage2 = null;
                                            sound = null;
                                            mBuilder.setContentText(detailText);
                                            inboxStyle = new InboxStyle();
                                            inboxStyle.setBigContentTitle(str5);
                                            count2 = Math.min(10, r12.pushMessages.size());
                                            text2 = new boolean[1];
                                            contentIntent = contentIntent2;
                                            count = silent2;
                                            chat_id2 = 0;
                                            while (chat_id2 < count2) {
                                                count3 = count2;
                                                count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                dialog_id = dialog_id2;
                                                message2 = getStringForMessage(count4, 0, text2);
                                                if (message2 != null) {
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                    if (count4.messageOwner.date > notifyDelay) {
                                                        if (count == 2) {
                                                            lastMessage2 = message2;
                                                            count = count4.messageOwner.silent;
                                                        }
                                                        messageObject2 = count4;
                                                        if (chat2 != null) {
                                                            count2 = new StringBuilder();
                                                            count2.append(" @ ");
                                                            count2.append(str5);
                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        } else if (text2[0]) {
                                                            count2 = new StringBuilder();
                                                            count2.append(str5);
                                                            count2.append(": ");
                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        } else {
                                                            count2 = new StringBuilder();
                                                            count2.append(str5);
                                                            count2.append(" ");
                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        }
                                                        inboxStyle.addLine(message2);
                                                    }
                                                } else {
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                }
                                                chat_id2++;
                                                dismissDate2 = notifyDelay;
                                                count2 = count3;
                                                dialog_id2 = dialog_id;
                                                defaultPath3 = defaultPath4;
                                            }
                                            dialog_id = dialog_id2;
                                            defaultPath4 = defaultPath3;
                                            notifyDelay = dismissDate2;
                                            inboxStyle.setSummaryText(detailText);
                                            mBuilder.setStyle(inboxStyle);
                                            priorityOverride2 = count;
                                            choosenSoundPath9 = lastMessage2;
                                            dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                            dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                            dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                            mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                            if (fileLocation3 != null) {
                                                img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                if (img != null) {
                                                    mBuilder.setLargeIcon(img.getBitmap());
                                                    name = str5;
                                                } else {
                                                    file = FileLoader.getPathToAttach(fileLocation3, true);
                                                    if (file.exists()) {
                                                        scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                        options = new Options();
                                                        if (scaleFactor < 1.0f) {
                                                            name = str5;
                                                            str5 = true;
                                                        } else {
                                                            name = str5;
                                                            str5 = (int) scaleFactor;
                                                        }
                                                        options.inSampleSize = str5;
                                                        str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                        if (str5 != null) {
                                                            mBuilder.setLargeIcon(str5);
                                                        }
                                                    } else {
                                                        name = str5;
                                                    }
                                                }
                                            } else {
                                                name = str5;
                                            }
                                            z = notifyAboutLast;
                                            if (z) {
                                                count = priority;
                                            } else if (priorityOverride2 == 1) {
                                                count = priority;
                                            } else {
                                                if (priority == 0) {
                                                    mBuilder.setPriority(0);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        i = 3;
                                                    }
                                                    count = priority;
                                                } else {
                                                    count = priority;
                                                    if (count != 1) {
                                                        if (count == 2) {
                                                            if (count != 4) {
                                                                mBuilder.setPriority(-2);
                                                                if (VERSION.SDK_INT >= 26) {
                                                                    user_id2 = 1;
                                                                    i = user_id2;
                                                                }
                                                            } else if (count == 5) {
                                                                mBuilder.setPriority(-1);
                                                                if (VERSION.SDK_INT >= 26) {
                                                                    user_id2 = 2;
                                                                    i = user_id2;
                                                                }
                                                            }
                                                        }
                                                    }
                                                    mBuilder.setPriority(1);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        user_id2 = 4;
                                                        i = user_id2;
                                                    }
                                                }
                                                if (priorityOverride2 != 1) {
                                                }
                                                lastMessage = choosenSoundPath9;
                                                silent = priorityOverride2;
                                                needVibrate2 = needVibrate;
                                                choosenSoundPath = str;
                                                priorityOverride2 = ledColor;
                                                defaultPath = defaultPath4;
                                                jArr = new long[]{0, 0};
                                                vibrationPattern = jArr;
                                                mBuilder.setVibrate(jArr);
                                                vibrationPattern2 = vibrationPattern;
                                                sound2 = sound;
                                                str2 = lastMessage;
                                                if (AndroidUtilities.needShowPasscode(false)) {
                                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                    size = rows.size();
                                                    notifyOverride2 = false;
                                                    z3 = false;
                                                    while (true) {
                                                        choosenSoundPath2 = choosenSoundPath;
                                                        choosenSoundPath = size;
                                                        if (z3 < choosenSoundPath) {
                                                            break;
                                                        }
                                                        rows2 = rows;
                                                        size2 = choosenSoundPath;
                                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                                        choosenSoundPath = row.buttons.size();
                                                        defaultPath2 = defaultPath;
                                                        defaultPath = 0;
                                                        while (defaultPath < choosenSoundPath) {
                                                            size22 = choosenSoundPath;
                                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                            row2 = row;
                                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                priority2 = count;
                                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                dismissIntent = dismissIntent2;
                                                                dialog_id2 = dialog_id;
                                                                callbackIntent.putExtra("did", dialog_id2);
                                                                if (choosenSoundPath3.data == null) {
                                                                    fileLocation = fileLocation3;
                                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                } else {
                                                                    fileLocation = fileLocation3;
                                                                }
                                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                charSequence = choosenSoundPath3.text;
                                                                context = ApplicationLoader.applicationContext;
                                                                button = choosenSoundPath3;
                                                                choosenSoundPath = r12.lastButtonId;
                                                                lastMessageObject = lastMessageObject4;
                                                                r12.lastButtonId = choosenSoundPath + 1;
                                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                notifyOverride2 = true;
                                                            } else {
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                            }
                                                            defaultPath++;
                                                            dialog_id = dialog_id2;
                                                            choosenSoundPath = size22;
                                                            row = row2;
                                                            count = priority2;
                                                            dismissIntent2 = dismissIntent;
                                                            fileLocation3 = fileLocation;
                                                            lastMessageObject4 = lastMessageObject;
                                                            dialog_id2 = notifyAboutLast;
                                                        }
                                                        priority2 = count;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        z3++;
                                                        choosenSoundPath = choosenSoundPath2;
                                                        rows = rows2;
                                                        size = size2;
                                                        defaultPath = defaultPath2;
                                                        dismissIntent2 = dismissIntent2;
                                                        dialog_id2 = notifyAboutLast;
                                                    }
                                                    defaultPath2 = defaultPath;
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                    if (VERSION.SDK_INT > 19) {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    } else {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    }
                                                    if (VERSION.SDK_INT < 26) {
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        notifyOverride = name;
                                                        override_dialog_id = lastMessageObject;
                                                        priorityOverride = chat2;
                                                        silent3 = silent;
                                                        notifyDelay = notifyAboutLast;
                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                    } else {
                                                        j = dialog_id2;
                                                        i2 = notifyDelay;
                                                        size = notifyOverride;
                                                        j2 = override_dialog_id;
                                                        i3 = priorityOverride;
                                                        i4 = vibrateOverride;
                                                        sharedPreferences = preferences;
                                                        i5 = user_id;
                                                        i6 = chat_id;
                                                        user2 = user;
                                                        pendingIntent = contentIntent;
                                                        silent3 = silent;
                                                        dismissDate2 = needVibrate2;
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        str3 = defaultPath2;
                                                        i7 = priority2;
                                                        intent = dismissIntent;
                                                        fileLocation2 = fileLocation;
                                                        notifyDelay = notifyAboutLast;
                                                    }
                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                    r12.lastNotificationIsNoData = false;
                                                    scheduleNotificationRepeat();
                                                    return;
                                                }
                                                choosenSoundPath2 = choosenSoundPath;
                                                defaultPath2 = defaultPath;
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                notifyOverride2 = false;
                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                if (VERSION.SDK_INT > 19) {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                } else {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                }
                                                if (VERSION.SDK_INT < 26) {
                                                    j = dialog_id2;
                                                    i2 = notifyDelay;
                                                    size = notifyOverride;
                                                    j2 = override_dialog_id;
                                                    i3 = priorityOverride;
                                                    i4 = vibrateOverride;
                                                    sharedPreferences = preferences;
                                                    i5 = user_id;
                                                    i6 = chat_id;
                                                    user2 = user;
                                                    pendingIntent = contentIntent;
                                                    silent3 = silent;
                                                    dismissDate2 = needVibrate2;
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    str3 = defaultPath2;
                                                    i7 = priority2;
                                                    intent = dismissIntent;
                                                    fileLocation2 = fileLocation;
                                                    notifyDelay = notifyAboutLast;
                                                } else {
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    notifyOverride = name;
                                                    override_dialog_id = lastMessageObject;
                                                    priorityOverride = chat2;
                                                    silent3 = silent;
                                                    notifyDelay = notifyAboutLast;
                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                }
                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                r12.lastNotificationIsNoData = false;
                                                scheduleNotificationRepeat();
                                                return;
                                            }
                                            mBuilder.setPriority(-1);
                                            if (VERSION.SDK_INT >= 26) {
                                                user_id2 = 2;
                                                i = user_id2;
                                            }
                                            if (priorityOverride2 != 1) {
                                            }
                                            lastMessage = choosenSoundPath9;
                                            silent = priorityOverride2;
                                            needVibrate2 = needVibrate;
                                            choosenSoundPath = str;
                                            priorityOverride2 = ledColor;
                                            defaultPath = defaultPath4;
                                            jArr = new long[]{0, 0};
                                            vibrationPattern = jArr;
                                            mBuilder.setVibrate(jArr);
                                            vibrationPattern2 = vibrationPattern;
                                            sound2 = sound;
                                            str2 = lastMessage;
                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                size = rows.size();
                                                notifyOverride2 = false;
                                                z3 = false;
                                                while (true) {
                                                    choosenSoundPath2 = choosenSoundPath;
                                                    choosenSoundPath = size;
                                                    if (z3 < choosenSoundPath) {
                                                        break;
                                                    }
                                                    rows2 = rows;
                                                    size2 = choosenSoundPath;
                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                    choosenSoundPath = row.buttons.size();
                                                    defaultPath2 = defaultPath;
                                                    defaultPath = 0;
                                                    while (defaultPath < choosenSoundPath) {
                                                        size22 = choosenSoundPath;
                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                        row2 = row;
                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                        } else {
                                                            priority2 = count;
                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                            dismissIntent = dismissIntent2;
                                                            dialog_id2 = dialog_id;
                                                            callbackIntent.putExtra("did", dialog_id2);
                                                            if (choosenSoundPath3.data == null) {
                                                                fileLocation = fileLocation3;
                                                            } else {
                                                                fileLocation = fileLocation3;
                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                            }
                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                            charSequence = choosenSoundPath3.text;
                                                            context = ApplicationLoader.applicationContext;
                                                            button = choosenSoundPath3;
                                                            choosenSoundPath = r12.lastButtonId;
                                                            lastMessageObject = lastMessageObject4;
                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                            notifyOverride2 = true;
                                                        }
                                                        defaultPath++;
                                                        dialog_id = dialog_id2;
                                                        choosenSoundPath = size22;
                                                        row = row2;
                                                        count = priority2;
                                                        dismissIntent2 = dismissIntent;
                                                        fileLocation3 = fileLocation;
                                                        lastMessageObject4 = lastMessageObject;
                                                        dialog_id2 = notifyAboutLast;
                                                    }
                                                    priority2 = count;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    z3++;
                                                    choosenSoundPath = choosenSoundPath2;
                                                    rows = rows2;
                                                    size = size2;
                                                    defaultPath = defaultPath2;
                                                    dismissIntent2 = dismissIntent2;
                                                    dialog_id2 = notifyAboutLast;
                                                }
                                                defaultPath2 = defaultPath;
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                if (VERSION.SDK_INT > 19) {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                } else {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                }
                                                if (VERSION.SDK_INT < 26) {
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    notifyOverride = name;
                                                    override_dialog_id = lastMessageObject;
                                                    priorityOverride = chat2;
                                                    silent3 = silent;
                                                    notifyDelay = notifyAboutLast;
                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                } else {
                                                    j = dialog_id2;
                                                    i2 = notifyDelay;
                                                    size = notifyOverride;
                                                    j2 = override_dialog_id;
                                                    i3 = priorityOverride;
                                                    i4 = vibrateOverride;
                                                    sharedPreferences = preferences;
                                                    i5 = user_id;
                                                    i6 = chat_id;
                                                    user2 = user;
                                                    pendingIntent = contentIntent;
                                                    silent3 = silent;
                                                    dismissDate2 = needVibrate2;
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    str3 = defaultPath2;
                                                    i7 = priority2;
                                                    intent = dismissIntent;
                                                    fileLocation2 = fileLocation;
                                                    notifyDelay = notifyAboutLast;
                                                }
                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                r12.lastNotificationIsNoData = false;
                                                scheduleNotificationRepeat();
                                                return;
                                            }
                                            choosenSoundPath2 = choosenSoundPath;
                                            defaultPath2 = defaultPath;
                                            lastMessageObject = lastMessageObject4;
                                            priority2 = count;
                                            dismissIntent = dismissIntent2;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            notifyOverride2 = false;
                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                            if (VERSION.SDK_INT > 19) {
                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            } else {
                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            }
                                            if (VERSION.SDK_INT < 26) {
                                                j = dialog_id2;
                                                i2 = notifyDelay;
                                                size = notifyOverride;
                                                j2 = override_dialog_id;
                                                i3 = priorityOverride;
                                                i4 = vibrateOverride;
                                                sharedPreferences = preferences;
                                                i5 = user_id;
                                                i6 = chat_id;
                                                user2 = user;
                                                pendingIntent = contentIntent;
                                                silent3 = silent;
                                                dismissDate2 = needVibrate2;
                                                choosenSoundPath8 = choosenSoundPath2;
                                                str3 = defaultPath2;
                                                i7 = priority2;
                                                intent = dismissIntent;
                                                fileLocation2 = fileLocation;
                                                notifyDelay = notifyAboutLast;
                                            } else {
                                                choosenSoundPath8 = choosenSoundPath2;
                                                notifyOverride = name;
                                                override_dialog_id = lastMessageObject;
                                                priorityOverride = chat2;
                                                silent3 = silent;
                                                notifyDelay = notifyAboutLast;
                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                            }
                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                            r12.lastNotificationIsNoData = false;
                                            scheduleNotificationRepeat();
                                            return;
                                        }
                                    } else {
                                        replace = true;
                                    }
                                    choosenSoundPath9 = LocaleController.getString("AppName", R.string.AppName);
                                    replace = false;
                                    str5 = choosenSoundPath9;
                                    chat_id = chat_id2;
                                    if (UserConfig.getActivatedAccountsCount() <= 1) {
                                        choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                    } else if (r12.pushDialogs.size() != 1) {
                                        stringBuilder = new StringBuilder();
                                        stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                        stringBuilder.append("\u30fb");
                                        choosenSoundPath9 = stringBuilder.toString();
                                    } else {
                                        choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                    }
                                    if (r12.pushDialogs.size() == 1) {
                                        if (VERSION.SDK_INT >= 23) {
                                            detailText = choosenSoundPath9;
                                            chatName = choosenSoundPath5;
                                            z4 = inAppVibrate;
                                            mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                            vibrationPattern3 = null;
                                            mBuilder.setCategory("msg");
                                            stringBuilder = new StringBuilder();
                                            i = 0;
                                            stringBuilder.append("tel:+");
                                            stringBuilder.append(user3.phone);
                                            mBuilder.addPerson(stringBuilder.toString());
                                            silent2 = 2;
                                            user = user3;
                                            if (r12.pushMessages.size() == 1) {
                                                lastMessage2 = null;
                                                sound = null;
                                                mBuilder.setContentText(detailText);
                                                inboxStyle = new InboxStyle();
                                                inboxStyle.setBigContentTitle(str5);
                                                count2 = Math.min(10, r12.pushMessages.size());
                                                text2 = new boolean[1];
                                                contentIntent = contentIntent2;
                                                count = silent2;
                                                chat_id2 = 0;
                                                while (chat_id2 < count2) {
                                                    count3 = count2;
                                                    count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                    dialog_id = dialog_id2;
                                                    message2 = getStringForMessage(count4, 0, text2);
                                                    if (message2 != null) {
                                                        defaultPath4 = defaultPath3;
                                                        notifyDelay = dismissDate2;
                                                    } else {
                                                        defaultPath4 = defaultPath3;
                                                        notifyDelay = dismissDate2;
                                                        if (count4.messageOwner.date > notifyDelay) {
                                                            if (count == 2) {
                                                                lastMessage2 = message2;
                                                                count = count4.messageOwner.silent;
                                                            }
                                                            messageObject2 = count4;
                                                            if (chat2 != null) {
                                                                count2 = new StringBuilder();
                                                                count2.append(" @ ");
                                                                count2.append(str5);
                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            } else if (text2[0]) {
                                                                count2 = new StringBuilder();
                                                                count2.append(str5);
                                                                count2.append(" ");
                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            } else {
                                                                count2 = new StringBuilder();
                                                                count2.append(str5);
                                                                count2.append(": ");
                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            }
                                                            inboxStyle.addLine(message2);
                                                        }
                                                    }
                                                    chat_id2++;
                                                    dismissDate2 = notifyDelay;
                                                    count2 = count3;
                                                    dialog_id2 = dialog_id;
                                                    defaultPath3 = defaultPath4;
                                                }
                                                dialog_id = dialog_id2;
                                                defaultPath4 = defaultPath3;
                                                notifyDelay = dismissDate2;
                                                inboxStyle.setSummaryText(detailText);
                                                mBuilder.setStyle(inboxStyle);
                                                priorityOverride2 = count;
                                                choosenSoundPath9 = lastMessage2;
                                            } else {
                                                messageObject = (MessageObject) r12.pushMessages.get(0);
                                                lastMessage2 = null;
                                                text = new boolean[1];
                                                stringForMessage = getStringForMessage(messageObject, null, text);
                                                message = stringForMessage;
                                                lastMessage3 = stringForMessage;
                                                choosenSoundPath5 = messageObject.messageOwner.silent;
                                                choosenSoundPath9 = message;
                                                if (choosenSoundPath9 != null) {
                                                    if (replace) {
                                                        silent3 = choosenSoundPath5;
                                                        sound = null;
                                                    } else {
                                                        if (chat2 != null) {
                                                            silent3 = choosenSoundPath5;
                                                            sound = null;
                                                            if (text[null]) {
                                                                choosenSoundPath5 = new StringBuilder();
                                                                choosenSoundPath5.append(str5);
                                                                choosenSoundPath5.append(" ");
                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            } else {
                                                                choosenSoundPath5 = new StringBuilder();
                                                                choosenSoundPath5.append(str5);
                                                                choosenSoundPath5.append(": ");
                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            }
                                                        } else {
                                                            silent3 = choosenSoundPath5;
                                                            choosenSoundPath5 = new StringBuilder();
                                                            sound = null;
                                                            choosenSoundPath5.append(" @ ");
                                                            choosenSoundPath5.append(str5);
                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        }
                                                        choosenSoundPath9 = message;
                                                    }
                                                    mBuilder.setContentText(choosenSoundPath9);
                                                    mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                    contentIntent = contentIntent2;
                                                    dialog_id = dialog_id2;
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                    choosenSoundPath9 = lastMessage3;
                                                    priorityOverride2 = silent3;
                                                } else {
                                                    return;
                                                }
                                            }
                                            dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                            dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                            dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                            mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                            if (fileLocation3 != null) {
                                                name = str5;
                                            } else {
                                                img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                if (img != null) {
                                                    file = FileLoader.getPathToAttach(fileLocation3, true);
                                                    if (file.exists()) {
                                                        name = str5;
                                                    } else {
                                                        scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                        options = new Options();
                                                        if (scaleFactor < 1.0f) {
                                                            name = str5;
                                                            str5 = (int) scaleFactor;
                                                        } else {
                                                            name = str5;
                                                            str5 = true;
                                                        }
                                                        options.inSampleSize = str5;
                                                        str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                        if (str5 != null) {
                                                            mBuilder.setLargeIcon(str5);
                                                        }
                                                    }
                                                } else {
                                                    mBuilder.setLargeIcon(img.getBitmap());
                                                    name = str5;
                                                }
                                            }
                                            z = notifyAboutLast;
                                            if (z) {
                                                count = priority;
                                            } else if (priorityOverride2 == 1) {
                                                if (priority == 0) {
                                                    count = priority;
                                                    if (count != 1) {
                                                        if (count == 2) {
                                                            if (count != 4) {
                                                                mBuilder.setPriority(-2);
                                                                if (VERSION.SDK_INT >= 26) {
                                                                    user_id2 = 1;
                                                                    i = user_id2;
                                                                }
                                                            } else if (count == 5) {
                                                                mBuilder.setPriority(-1);
                                                                if (VERSION.SDK_INT >= 26) {
                                                                    user_id2 = 2;
                                                                    i = user_id2;
                                                                }
                                                            }
                                                        }
                                                    }
                                                    mBuilder.setPriority(1);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        user_id2 = 4;
                                                        i = user_id2;
                                                    }
                                                } else {
                                                    mBuilder.setPriority(0);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        i = 3;
                                                    }
                                                    count = priority;
                                                }
                                                if (priorityOverride2 != 1) {
                                                }
                                                lastMessage = choosenSoundPath9;
                                                silent = priorityOverride2;
                                                needVibrate2 = needVibrate;
                                                choosenSoundPath = str;
                                                priorityOverride2 = ledColor;
                                                defaultPath = defaultPath4;
                                                jArr = new long[]{0, 0};
                                                vibrationPattern = jArr;
                                                mBuilder.setVibrate(jArr);
                                                vibrationPattern2 = vibrationPattern;
                                                sound2 = sound;
                                                str2 = lastMessage;
                                                if (AndroidUtilities.needShowPasscode(false)) {
                                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                    size = rows.size();
                                                    notifyOverride2 = false;
                                                    z3 = false;
                                                    while (true) {
                                                        choosenSoundPath2 = choosenSoundPath;
                                                        choosenSoundPath = size;
                                                        if (z3 < choosenSoundPath) {
                                                            break;
                                                        }
                                                        rows2 = rows;
                                                        size2 = choosenSoundPath;
                                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                                        choosenSoundPath = row.buttons.size();
                                                        defaultPath2 = defaultPath;
                                                        defaultPath = 0;
                                                        while (defaultPath < choosenSoundPath) {
                                                            size22 = choosenSoundPath;
                                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                            row2 = row;
                                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                priority2 = count;
                                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                dismissIntent = dismissIntent2;
                                                                dialog_id2 = dialog_id;
                                                                callbackIntent.putExtra("did", dialog_id2);
                                                                if (choosenSoundPath3.data == null) {
                                                                    fileLocation = fileLocation3;
                                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                } else {
                                                                    fileLocation = fileLocation3;
                                                                }
                                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                charSequence = choosenSoundPath3.text;
                                                                context = ApplicationLoader.applicationContext;
                                                                button = choosenSoundPath3;
                                                                choosenSoundPath = r12.lastButtonId;
                                                                lastMessageObject = lastMessageObject4;
                                                                r12.lastButtonId = choosenSoundPath + 1;
                                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                notifyOverride2 = true;
                                                            } else {
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                            }
                                                            defaultPath++;
                                                            dialog_id = dialog_id2;
                                                            choosenSoundPath = size22;
                                                            row = row2;
                                                            count = priority2;
                                                            dismissIntent2 = dismissIntent;
                                                            fileLocation3 = fileLocation;
                                                            lastMessageObject4 = lastMessageObject;
                                                            dialog_id2 = notifyAboutLast;
                                                        }
                                                        priority2 = count;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        z3++;
                                                        choosenSoundPath = choosenSoundPath2;
                                                        rows = rows2;
                                                        size = size2;
                                                        defaultPath = defaultPath2;
                                                        dismissIntent2 = dismissIntent2;
                                                        dialog_id2 = notifyAboutLast;
                                                    }
                                                    defaultPath2 = defaultPath;
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                    if (VERSION.SDK_INT > 19) {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    } else {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    }
                                                    if (VERSION.SDK_INT < 26) {
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        notifyOverride = name;
                                                        override_dialog_id = lastMessageObject;
                                                        priorityOverride = chat2;
                                                        silent3 = silent;
                                                        notifyDelay = notifyAboutLast;
                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                    } else {
                                                        j = dialog_id2;
                                                        i2 = notifyDelay;
                                                        size = notifyOverride;
                                                        j2 = override_dialog_id;
                                                        i3 = priorityOverride;
                                                        i4 = vibrateOverride;
                                                        sharedPreferences = preferences;
                                                        i5 = user_id;
                                                        i6 = chat_id;
                                                        user2 = user;
                                                        pendingIntent = contentIntent;
                                                        silent3 = silent;
                                                        dismissDate2 = needVibrate2;
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        str3 = defaultPath2;
                                                        i7 = priority2;
                                                        intent = dismissIntent;
                                                        fileLocation2 = fileLocation;
                                                        notifyDelay = notifyAboutLast;
                                                    }
                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                    r12.lastNotificationIsNoData = false;
                                                    scheduleNotificationRepeat();
                                                    return;
                                                }
                                                choosenSoundPath2 = choosenSoundPath;
                                                defaultPath2 = defaultPath;
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                notifyOverride2 = false;
                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                if (VERSION.SDK_INT > 19) {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                } else {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                }
                                                if (VERSION.SDK_INT < 26) {
                                                    j = dialog_id2;
                                                    i2 = notifyDelay;
                                                    size = notifyOverride;
                                                    j2 = override_dialog_id;
                                                    i3 = priorityOverride;
                                                    i4 = vibrateOverride;
                                                    sharedPreferences = preferences;
                                                    i5 = user_id;
                                                    i6 = chat_id;
                                                    user2 = user;
                                                    pendingIntent = contentIntent;
                                                    silent3 = silent;
                                                    dismissDate2 = needVibrate2;
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    str3 = defaultPath2;
                                                    i7 = priority2;
                                                    intent = dismissIntent;
                                                    fileLocation2 = fileLocation;
                                                    notifyDelay = notifyAboutLast;
                                                } else {
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    notifyOverride = name;
                                                    override_dialog_id = lastMessageObject;
                                                    priorityOverride = chat2;
                                                    silent3 = silent;
                                                    notifyDelay = notifyAboutLast;
                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                }
                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                r12.lastNotificationIsNoData = false;
                                                scheduleNotificationRepeat();
                                                return;
                                            } else {
                                                count = priority;
                                            }
                                            mBuilder.setPriority(-1);
                                            if (VERSION.SDK_INT >= 26) {
                                                user_id2 = 2;
                                                i = user_id2;
                                            }
                                            if (priorityOverride2 != 1) {
                                            }
                                            lastMessage = choosenSoundPath9;
                                            silent = priorityOverride2;
                                            needVibrate2 = needVibrate;
                                            choosenSoundPath = str;
                                            priorityOverride2 = ledColor;
                                            defaultPath = defaultPath4;
                                            jArr = new long[]{0, 0};
                                            vibrationPattern = jArr;
                                            mBuilder.setVibrate(jArr);
                                            vibrationPattern2 = vibrationPattern;
                                            sound2 = sound;
                                            str2 = lastMessage;
                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                size = rows.size();
                                                notifyOverride2 = false;
                                                z3 = false;
                                                while (true) {
                                                    choosenSoundPath2 = choosenSoundPath;
                                                    choosenSoundPath = size;
                                                    if (z3 < choosenSoundPath) {
                                                        break;
                                                    }
                                                    rows2 = rows;
                                                    size2 = choosenSoundPath;
                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                    choosenSoundPath = row.buttons.size();
                                                    defaultPath2 = defaultPath;
                                                    defaultPath = 0;
                                                    while (defaultPath < choosenSoundPath) {
                                                        size22 = choosenSoundPath;
                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                        row2 = row;
                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                        } else {
                                                            priority2 = count;
                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                            dismissIntent = dismissIntent2;
                                                            dialog_id2 = dialog_id;
                                                            callbackIntent.putExtra("did", dialog_id2);
                                                            if (choosenSoundPath3.data == null) {
                                                                fileLocation = fileLocation3;
                                                            } else {
                                                                fileLocation = fileLocation3;
                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                            }
                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                            charSequence = choosenSoundPath3.text;
                                                            context = ApplicationLoader.applicationContext;
                                                            button = choosenSoundPath3;
                                                            choosenSoundPath = r12.lastButtonId;
                                                            lastMessageObject = lastMessageObject4;
                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                            notifyOverride2 = true;
                                                        }
                                                        defaultPath++;
                                                        dialog_id = dialog_id2;
                                                        choosenSoundPath = size22;
                                                        row = row2;
                                                        count = priority2;
                                                        dismissIntent2 = dismissIntent;
                                                        fileLocation3 = fileLocation;
                                                        lastMessageObject4 = lastMessageObject;
                                                        dialog_id2 = notifyAboutLast;
                                                    }
                                                    priority2 = count;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    z3++;
                                                    choosenSoundPath = choosenSoundPath2;
                                                    rows = rows2;
                                                    size = size2;
                                                    defaultPath = defaultPath2;
                                                    dismissIntent2 = dismissIntent2;
                                                    dialog_id2 = notifyAboutLast;
                                                }
                                                defaultPath2 = defaultPath;
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                if (VERSION.SDK_INT > 19) {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                } else {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                }
                                                if (VERSION.SDK_INT < 26) {
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    notifyOverride = name;
                                                    override_dialog_id = lastMessageObject;
                                                    priorityOverride = chat2;
                                                    silent3 = silent;
                                                    notifyDelay = notifyAboutLast;
                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                } else {
                                                    j = dialog_id2;
                                                    i2 = notifyDelay;
                                                    size = notifyOverride;
                                                    j2 = override_dialog_id;
                                                    i3 = priorityOverride;
                                                    i4 = vibrateOverride;
                                                    sharedPreferences = preferences;
                                                    i5 = user_id;
                                                    i6 = chat_id;
                                                    user2 = user;
                                                    pendingIntent = contentIntent;
                                                    silent3 = silent;
                                                    dismissDate2 = needVibrate2;
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    str3 = defaultPath2;
                                                    i7 = priority2;
                                                    intent = dismissIntent;
                                                    fileLocation2 = fileLocation;
                                                    notifyDelay = notifyAboutLast;
                                                }
                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                r12.lastNotificationIsNoData = false;
                                                scheduleNotificationRepeat();
                                                return;
                                            }
                                            choosenSoundPath2 = choosenSoundPath;
                                            defaultPath2 = defaultPath;
                                            lastMessageObject = lastMessageObject4;
                                            priority2 = count;
                                            dismissIntent = dismissIntent2;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            notifyOverride2 = false;
                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                            if (VERSION.SDK_INT > 19) {
                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            } else {
                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            }
                                            if (VERSION.SDK_INT < 26) {
                                                j = dialog_id2;
                                                i2 = notifyDelay;
                                                size = notifyOverride;
                                                j2 = override_dialog_id;
                                                i3 = priorityOverride;
                                                i4 = vibrateOverride;
                                                sharedPreferences = preferences;
                                                i5 = user_id;
                                                i6 = chat_id;
                                                user2 = user;
                                                pendingIntent = contentIntent;
                                                silent3 = silent;
                                                dismissDate2 = needVibrate2;
                                                choosenSoundPath8 = choosenSoundPath2;
                                                str3 = defaultPath2;
                                                i7 = priority2;
                                                intent = dismissIntent;
                                                fileLocation2 = fileLocation;
                                                notifyDelay = notifyAboutLast;
                                            } else {
                                                choosenSoundPath8 = choosenSoundPath2;
                                                notifyOverride = name;
                                                override_dialog_id = lastMessageObject;
                                                priorityOverride = chat2;
                                                silent3 = silent;
                                                notifyDelay = notifyAboutLast;
                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                            }
                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                            r12.lastNotificationIsNoData = false;
                                            scheduleNotificationRepeat();
                                            return;
                                        }
                                    }
                                    if (r12.pushDialogs.size() != 1) {
                                        stringBuilder4 = new StringBuilder();
                                        stringBuilder4.append(choosenSoundPath9);
                                        objArr = new Object[2];
                                        chatName = choosenSoundPath5;
                                        objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                        objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                        stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                        detailText = stringBuilder4.toString();
                                    } else {
                                        stringBuilder4 = new StringBuilder();
                                        stringBuilder4.append(choosenSoundPath9);
                                        stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                        detailText = stringBuilder4.toString();
                                        chatName = choosenSoundPath5;
                                    }
                                    mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                    vibrationPattern3 = null;
                                    mBuilder.setCategory("msg");
                                    stringBuilder = new StringBuilder();
                                    i = 0;
                                    stringBuilder.append("tel:+");
                                    stringBuilder.append(user3.phone);
                                    mBuilder.addPerson(stringBuilder.toString());
                                    silent2 = 2;
                                    user = user3;
                                    if (r12.pushMessages.size() == 1) {
                                        messageObject = (MessageObject) r12.pushMessages.get(0);
                                        lastMessage2 = null;
                                        text = new boolean[1];
                                        stringForMessage = getStringForMessage(messageObject, null, text);
                                        message = stringForMessage;
                                        lastMessage3 = stringForMessage;
                                        choosenSoundPath5 = messageObject.messageOwner.silent;
                                        choosenSoundPath9 = message;
                                        if (choosenSoundPath9 != null) {
                                            if (replace) {
                                                if (chat2 != null) {
                                                    silent3 = choosenSoundPath5;
                                                    choosenSoundPath5 = new StringBuilder();
                                                    sound = null;
                                                    choosenSoundPath5.append(" @ ");
                                                    choosenSoundPath5.append(str5);
                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                } else {
                                                    silent3 = choosenSoundPath5;
                                                    sound = null;
                                                    if (text[null]) {
                                                        choosenSoundPath5 = new StringBuilder();
                                                        choosenSoundPath5.append(str5);
                                                        choosenSoundPath5.append(": ");
                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    } else {
                                                        choosenSoundPath5 = new StringBuilder();
                                                        choosenSoundPath5.append(str5);
                                                        choosenSoundPath5.append(" ");
                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    }
                                                }
                                                choosenSoundPath9 = message;
                                            } else {
                                                silent3 = choosenSoundPath5;
                                                sound = null;
                                            }
                                            mBuilder.setContentText(choosenSoundPath9);
                                            mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                            contentIntent = contentIntent2;
                                            dialog_id = dialog_id2;
                                            defaultPath4 = defaultPath3;
                                            notifyDelay = dismissDate2;
                                            choosenSoundPath9 = lastMessage3;
                                            priorityOverride2 = silent3;
                                        } else {
                                            return;
                                        }
                                    }
                                    lastMessage2 = null;
                                    sound = null;
                                    mBuilder.setContentText(detailText);
                                    inboxStyle = new InboxStyle();
                                    inboxStyle.setBigContentTitle(str5);
                                    count2 = Math.min(10, r12.pushMessages.size());
                                    text2 = new boolean[1];
                                    contentIntent = contentIntent2;
                                    count = silent2;
                                    chat_id2 = 0;
                                    while (chat_id2 < count2) {
                                        count3 = count2;
                                        count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                        dialog_id = dialog_id2;
                                        message2 = getStringForMessage(count4, 0, text2);
                                        if (message2 != null) {
                                            defaultPath4 = defaultPath3;
                                            notifyDelay = dismissDate2;
                                            if (count4.messageOwner.date > notifyDelay) {
                                                if (count == 2) {
                                                    lastMessage2 = message2;
                                                    count = count4.messageOwner.silent;
                                                }
                                                messageObject2 = count4;
                                                if (chat2 != null) {
                                                    count2 = new StringBuilder();
                                                    count2.append(" @ ");
                                                    count2.append(str5);
                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                } else if (text2[0]) {
                                                    count2 = new StringBuilder();
                                                    count2.append(str5);
                                                    count2.append(": ");
                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                } else {
                                                    count2 = new StringBuilder();
                                                    count2.append(str5);
                                                    count2.append(" ");
                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                }
                                                inboxStyle.addLine(message2);
                                            }
                                        } else {
                                            defaultPath4 = defaultPath3;
                                            notifyDelay = dismissDate2;
                                        }
                                        chat_id2++;
                                        dismissDate2 = notifyDelay;
                                        count2 = count3;
                                        dialog_id2 = dialog_id;
                                        defaultPath3 = defaultPath4;
                                    }
                                    dialog_id = dialog_id2;
                                    defaultPath4 = defaultPath3;
                                    notifyDelay = dismissDate2;
                                    inboxStyle.setSummaryText(detailText);
                                    mBuilder.setStyle(inboxStyle);
                                    priorityOverride2 = count;
                                    choosenSoundPath9 = lastMessage2;
                                    dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                    dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                    dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                    mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                    if (fileLocation3 != null) {
                                        img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                        if (img != null) {
                                            mBuilder.setLargeIcon(img.getBitmap());
                                            name = str5;
                                        } else {
                                            file = FileLoader.getPathToAttach(fileLocation3, true);
                                            if (file.exists()) {
                                                scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                options = new Options();
                                                if (scaleFactor < 1.0f) {
                                                    name = str5;
                                                    str5 = true;
                                                } else {
                                                    name = str5;
                                                    str5 = (int) scaleFactor;
                                                }
                                                options.inSampleSize = str5;
                                                str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                if (str5 != null) {
                                                    mBuilder.setLargeIcon(str5);
                                                }
                                            } else {
                                                name = str5;
                                            }
                                        }
                                    } else {
                                        name = str5;
                                    }
                                    z = notifyAboutLast;
                                    if (z) {
                                        count = priority;
                                    } else if (priorityOverride2 == 1) {
                                        count = priority;
                                    } else {
                                        if (priority == 0) {
                                            mBuilder.setPriority(0);
                                            if (VERSION.SDK_INT >= 26) {
                                                i = 3;
                                            }
                                            count = priority;
                                        } else {
                                            count = priority;
                                            if (count != 1) {
                                                if (count == 2) {
                                                    if (count != 4) {
                                                        mBuilder.setPriority(-2);
                                                        if (VERSION.SDK_INT >= 26) {
                                                            user_id2 = 1;
                                                            i = user_id2;
                                                        }
                                                    } else if (count == 5) {
                                                        mBuilder.setPriority(-1);
                                                        if (VERSION.SDK_INT >= 26) {
                                                            user_id2 = 2;
                                                            i = user_id2;
                                                        }
                                                    }
                                                }
                                            }
                                            mBuilder.setPriority(1);
                                            if (VERSION.SDK_INT >= 26) {
                                                user_id2 = 4;
                                                i = user_id2;
                                            }
                                        }
                                        if (priorityOverride2 != 1) {
                                        }
                                        lastMessage = choosenSoundPath9;
                                        silent = priorityOverride2;
                                        needVibrate2 = needVibrate;
                                        choosenSoundPath = str;
                                        priorityOverride2 = ledColor;
                                        defaultPath = defaultPath4;
                                        jArr = new long[]{0, 0};
                                        vibrationPattern = jArr;
                                        mBuilder.setVibrate(jArr);
                                        vibrationPattern2 = vibrationPattern;
                                        sound2 = sound;
                                        str2 = lastMessage;
                                        if (AndroidUtilities.needShowPasscode(false)) {
                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                            size = rows.size();
                                            notifyOverride2 = false;
                                            z3 = false;
                                            while (true) {
                                                choosenSoundPath2 = choosenSoundPath;
                                                choosenSoundPath = size;
                                                if (z3 < choosenSoundPath) {
                                                    break;
                                                }
                                                rows2 = rows;
                                                size2 = choosenSoundPath;
                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                choosenSoundPath = row.buttons.size();
                                                defaultPath2 = defaultPath;
                                                defaultPath = 0;
                                                while (defaultPath < choosenSoundPath) {
                                                    size22 = choosenSoundPath;
                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                    row2 = row;
                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                        priority2 = count;
                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                        dismissIntent = dismissIntent2;
                                                        dialog_id2 = dialog_id;
                                                        callbackIntent.putExtra("did", dialog_id2);
                                                        if (choosenSoundPath3.data == null) {
                                                            fileLocation = fileLocation3;
                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                        } else {
                                                            fileLocation = fileLocation3;
                                                        }
                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                        charSequence = choosenSoundPath3.text;
                                                        context = ApplicationLoader.applicationContext;
                                                        button = choosenSoundPath3;
                                                        choosenSoundPath = r12.lastButtonId;
                                                        lastMessageObject = lastMessageObject4;
                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                        notifyOverride2 = true;
                                                    } else {
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                    }
                                                    defaultPath++;
                                                    dialog_id = dialog_id2;
                                                    choosenSoundPath = size22;
                                                    row = row2;
                                                    count = priority2;
                                                    dismissIntent2 = dismissIntent;
                                                    fileLocation3 = fileLocation;
                                                    lastMessageObject4 = lastMessageObject;
                                                    dialog_id2 = notifyAboutLast;
                                                }
                                                priority2 = count;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                z3++;
                                                choosenSoundPath = choosenSoundPath2;
                                                rows = rows2;
                                                size = size2;
                                                defaultPath = defaultPath2;
                                                dismissIntent2 = dismissIntent2;
                                                dialog_id2 = notifyAboutLast;
                                            }
                                            defaultPath2 = defaultPath;
                                            lastMessageObject = lastMessageObject4;
                                            priority2 = count;
                                            dismissIntent = dismissIntent2;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                            if (VERSION.SDK_INT > 19) {
                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            } else {
                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            }
                                            if (VERSION.SDK_INT < 26) {
                                                choosenSoundPath8 = choosenSoundPath2;
                                                notifyOverride = name;
                                                override_dialog_id = lastMessageObject;
                                                priorityOverride = chat2;
                                                silent3 = silent;
                                                notifyDelay = notifyAboutLast;
                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                            } else {
                                                j = dialog_id2;
                                                i2 = notifyDelay;
                                                size = notifyOverride;
                                                j2 = override_dialog_id;
                                                i3 = priorityOverride;
                                                i4 = vibrateOverride;
                                                sharedPreferences = preferences;
                                                i5 = user_id;
                                                i6 = chat_id;
                                                user2 = user;
                                                pendingIntent = contentIntent;
                                                silent3 = silent;
                                                dismissDate2 = needVibrate2;
                                                choosenSoundPath8 = choosenSoundPath2;
                                                str3 = defaultPath2;
                                                i7 = priority2;
                                                intent = dismissIntent;
                                                fileLocation2 = fileLocation;
                                                notifyDelay = notifyAboutLast;
                                            }
                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                            r12.lastNotificationIsNoData = false;
                                            scheduleNotificationRepeat();
                                            return;
                                        }
                                        choosenSoundPath2 = choosenSoundPath;
                                        defaultPath2 = defaultPath;
                                        lastMessageObject = lastMessageObject4;
                                        priority2 = count;
                                        dismissIntent = dismissIntent2;
                                        fileLocation = fileLocation3;
                                        dialog_id2 = dialog_id;
                                        notifyOverride2 = false;
                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                        if (VERSION.SDK_INT > 19) {
                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        } else {
                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        }
                                        if (VERSION.SDK_INT < 26) {
                                            j = dialog_id2;
                                            i2 = notifyDelay;
                                            size = notifyOverride;
                                            j2 = override_dialog_id;
                                            i3 = priorityOverride;
                                            i4 = vibrateOverride;
                                            sharedPreferences = preferences;
                                            i5 = user_id;
                                            i6 = chat_id;
                                            user2 = user;
                                            pendingIntent = contentIntent;
                                            silent3 = silent;
                                            dismissDate2 = needVibrate2;
                                            choosenSoundPath8 = choosenSoundPath2;
                                            str3 = defaultPath2;
                                            i7 = priority2;
                                            intent = dismissIntent;
                                            fileLocation2 = fileLocation;
                                            notifyDelay = notifyAboutLast;
                                        } else {
                                            choosenSoundPath8 = choosenSoundPath2;
                                            notifyOverride = name;
                                            override_dialog_id = lastMessageObject;
                                            priorityOverride = chat2;
                                            silent3 = silent;
                                            notifyDelay = notifyAboutLast;
                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                        }
                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                        r12.lastNotificationIsNoData = false;
                                        scheduleNotificationRepeat();
                                        return;
                                    }
                                    mBuilder.setPriority(-1);
                                    if (VERSION.SDK_INT >= 26) {
                                        user_id2 = 2;
                                        i = user_id2;
                                    }
                                    if (priorityOverride2 != 1) {
                                    }
                                    lastMessage = choosenSoundPath9;
                                    silent = priorityOverride2;
                                    needVibrate2 = needVibrate;
                                    choosenSoundPath = str;
                                    priorityOverride2 = ledColor;
                                    defaultPath = defaultPath4;
                                    jArr = new long[]{0, 0};
                                    vibrationPattern = jArr;
                                    mBuilder.setVibrate(jArr);
                                    vibrationPattern2 = vibrationPattern;
                                    sound2 = sound;
                                    str2 = lastMessage;
                                    if (AndroidUtilities.needShowPasscode(false)) {
                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                        size = rows.size();
                                        notifyOverride2 = false;
                                        z3 = false;
                                        while (true) {
                                            choosenSoundPath2 = choosenSoundPath;
                                            choosenSoundPath = size;
                                            if (z3 < choosenSoundPath) {
                                                break;
                                            }
                                            rows2 = rows;
                                            size2 = choosenSoundPath;
                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                            choosenSoundPath = row.buttons.size();
                                            defaultPath2 = defaultPath;
                                            defaultPath = 0;
                                            while (defaultPath < choosenSoundPath) {
                                                size22 = choosenSoundPath;
                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                row2 = row;
                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                } else {
                                                    priority2 = count;
                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                    dismissIntent = dismissIntent2;
                                                    dialog_id2 = dialog_id;
                                                    callbackIntent.putExtra("did", dialog_id2);
                                                    if (choosenSoundPath3.data == null) {
                                                        fileLocation = fileLocation3;
                                                    } else {
                                                        fileLocation = fileLocation3;
                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                    }
                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                    charSequence = choosenSoundPath3.text;
                                                    context = ApplicationLoader.applicationContext;
                                                    button = choosenSoundPath3;
                                                    choosenSoundPath = r12.lastButtonId;
                                                    lastMessageObject = lastMessageObject4;
                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                    notifyOverride2 = true;
                                                }
                                                defaultPath++;
                                                dialog_id = dialog_id2;
                                                choosenSoundPath = size22;
                                                row = row2;
                                                count = priority2;
                                                dismissIntent2 = dismissIntent;
                                                fileLocation3 = fileLocation;
                                                lastMessageObject4 = lastMessageObject;
                                                dialog_id2 = notifyAboutLast;
                                            }
                                            priority2 = count;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            z3++;
                                            choosenSoundPath = choosenSoundPath2;
                                            rows = rows2;
                                            size = size2;
                                            defaultPath = defaultPath2;
                                            dismissIntent2 = dismissIntent2;
                                            dialog_id2 = notifyAboutLast;
                                        }
                                        defaultPath2 = defaultPath;
                                        lastMessageObject = lastMessageObject4;
                                        priority2 = count;
                                        dismissIntent = dismissIntent2;
                                        fileLocation = fileLocation3;
                                        dialog_id2 = dialog_id;
                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                        if (VERSION.SDK_INT > 19) {
                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        } else {
                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        }
                                        if (VERSION.SDK_INT < 26) {
                                            choosenSoundPath8 = choosenSoundPath2;
                                            notifyOverride = name;
                                            override_dialog_id = lastMessageObject;
                                            priorityOverride = chat2;
                                            silent3 = silent;
                                            notifyDelay = notifyAboutLast;
                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                        } else {
                                            j = dialog_id2;
                                            i2 = notifyDelay;
                                            size = notifyOverride;
                                            j2 = override_dialog_id;
                                            i3 = priorityOverride;
                                            i4 = vibrateOverride;
                                            sharedPreferences = preferences;
                                            i5 = user_id;
                                            i6 = chat_id;
                                            user2 = user;
                                            pendingIntent = contentIntent;
                                            silent3 = silent;
                                            dismissDate2 = needVibrate2;
                                            choosenSoundPath8 = choosenSoundPath2;
                                            str3 = defaultPath2;
                                            i7 = priority2;
                                            intent = dismissIntent;
                                            fileLocation2 = fileLocation;
                                            notifyDelay = notifyAboutLast;
                                        }
                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                        r12.lastNotificationIsNoData = false;
                                        scheduleNotificationRepeat();
                                        return;
                                    }
                                    choosenSoundPath2 = choosenSoundPath;
                                    defaultPath2 = defaultPath;
                                    lastMessageObject = lastMessageObject4;
                                    priority2 = count;
                                    dismissIntent = dismissIntent2;
                                    fileLocation = fileLocation3;
                                    dialog_id2 = dialog_id;
                                    notifyOverride2 = false;
                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                    if (VERSION.SDK_INT > 19) {
                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    } else {
                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    }
                                    if (VERSION.SDK_INT < 26) {
                                        j = dialog_id2;
                                        i2 = notifyDelay;
                                        size = notifyOverride;
                                        j2 = override_dialog_id;
                                        i3 = priorityOverride;
                                        i4 = vibrateOverride;
                                        sharedPreferences = preferences;
                                        i5 = user_id;
                                        i6 = chat_id;
                                        user2 = user;
                                        pendingIntent = contentIntent;
                                        silent3 = silent;
                                        dismissDate2 = needVibrate2;
                                        choosenSoundPath8 = choosenSoundPath2;
                                        str3 = defaultPath2;
                                        i7 = priority2;
                                        intent = dismissIntent;
                                        fileLocation2 = fileLocation;
                                        notifyDelay = notifyAboutLast;
                                    } else {
                                        choosenSoundPath8 = choosenSoundPath2;
                                        notifyOverride = name;
                                        override_dialog_id = lastMessageObject;
                                        priorityOverride = chat2;
                                        silent3 = silent;
                                        notifyDelay = notifyAboutLast;
                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                    }
                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                    r12.lastNotificationIsNoData = false;
                                    scheduleNotificationRepeat();
                                    return;
                                }
                                fileLocation3 = photoPath;
                                intent2.putExtra("currentAccount", r12.currentAccount);
                                contentIntent2 = PendingIntent.getActivity(ApplicationLoader.applicationContext, 0, intent2, NUM);
                                if (chat_id2 == 0) {
                                }
                                lastMessageObject4 = lastMessageObject3;
                                if (chat2 != null) {
                                    str5 = chat2.title;
                                } else {
                                    str5 = UserObject.getUserName(user3);
                                }
                                choosenSoundPath5 = str5;
                                if (((int) dialog_id2) == 0) {
                                    replace = true;
                                } else {
                                    replace = true;
                                    if (SharedConfig.isWaitingForPasscodeEnter) {
                                        choosenSoundPath9 = choosenSoundPath5;
                                        str5 = choosenSoundPath9;
                                        chat_id = chat_id2;
                                        if (UserConfig.getActivatedAccountsCount() <= 1) {
                                            choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                        } else if (r12.pushDialogs.size() != 1) {
                                            choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                        } else {
                                            stringBuilder = new StringBuilder();
                                            stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                            stringBuilder.append("\u30fb");
                                            choosenSoundPath9 = stringBuilder.toString();
                                        }
                                        if (r12.pushDialogs.size() == 1) {
                                            if (VERSION.SDK_INT >= 23) {
                                                detailText = choosenSoundPath9;
                                                chatName = choosenSoundPath5;
                                                z4 = inAppVibrate;
                                                mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                vibrationPattern3 = null;
                                                mBuilder.setCategory("msg");
                                                stringBuilder = new StringBuilder();
                                                i = 0;
                                                stringBuilder.append("tel:+");
                                                stringBuilder.append(user3.phone);
                                                mBuilder.addPerson(stringBuilder.toString());
                                                silent2 = 2;
                                                user = user3;
                                                if (r12.pushMessages.size() == 1) {
                                                    lastMessage2 = null;
                                                    sound = null;
                                                    mBuilder.setContentText(detailText);
                                                    inboxStyle = new InboxStyle();
                                                    inboxStyle.setBigContentTitle(str5);
                                                    count2 = Math.min(10, r12.pushMessages.size());
                                                    text2 = new boolean[1];
                                                    contentIntent = contentIntent2;
                                                    count = silent2;
                                                    chat_id2 = 0;
                                                    while (chat_id2 < count2) {
                                                        count3 = count2;
                                                        count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                        dialog_id = dialog_id2;
                                                        message2 = getStringForMessage(count4, 0, text2);
                                                        if (message2 != null) {
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                        } else {
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                            if (count4.messageOwner.date > notifyDelay) {
                                                                if (count == 2) {
                                                                    lastMessage2 = message2;
                                                                    count = count4.messageOwner.silent;
                                                                }
                                                                messageObject2 = count4;
                                                                if (chat2 != null) {
                                                                    count2 = new StringBuilder();
                                                                    count2.append(" @ ");
                                                                    count2.append(str5);
                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                } else if (text2[0]) {
                                                                    count2 = new StringBuilder();
                                                                    count2.append(str5);
                                                                    count2.append(" ");
                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                } else {
                                                                    count2 = new StringBuilder();
                                                                    count2.append(str5);
                                                                    count2.append(": ");
                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                }
                                                                inboxStyle.addLine(message2);
                                                            }
                                                        }
                                                        chat_id2++;
                                                        dismissDate2 = notifyDelay;
                                                        count2 = count3;
                                                        dialog_id2 = dialog_id;
                                                        defaultPath3 = defaultPath4;
                                                    }
                                                    dialog_id = dialog_id2;
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                    inboxStyle.setSummaryText(detailText);
                                                    mBuilder.setStyle(inboxStyle);
                                                    priorityOverride2 = count;
                                                    choosenSoundPath9 = lastMessage2;
                                                } else {
                                                    messageObject = (MessageObject) r12.pushMessages.get(0);
                                                    lastMessage2 = null;
                                                    text = new boolean[1];
                                                    stringForMessage = getStringForMessage(messageObject, null, text);
                                                    message = stringForMessage;
                                                    lastMessage3 = stringForMessage;
                                                    choosenSoundPath5 = messageObject.messageOwner.silent;
                                                    choosenSoundPath9 = message;
                                                    if (choosenSoundPath9 != null) {
                                                        if (replace) {
                                                            silent3 = choosenSoundPath5;
                                                            sound = null;
                                                        } else {
                                                            if (chat2 != null) {
                                                                silent3 = choosenSoundPath5;
                                                                sound = null;
                                                                if (text[null]) {
                                                                    choosenSoundPath5 = new StringBuilder();
                                                                    choosenSoundPath5.append(str5);
                                                                    choosenSoundPath5.append(" ");
                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                } else {
                                                                    choosenSoundPath5 = new StringBuilder();
                                                                    choosenSoundPath5.append(str5);
                                                                    choosenSoundPath5.append(": ");
                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                }
                                                            } else {
                                                                silent3 = choosenSoundPath5;
                                                                choosenSoundPath5 = new StringBuilder();
                                                                sound = null;
                                                                choosenSoundPath5.append(" @ ");
                                                                choosenSoundPath5.append(str5);
                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            }
                                                            choosenSoundPath9 = message;
                                                        }
                                                        mBuilder.setContentText(choosenSoundPath9);
                                                        mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                        contentIntent = contentIntent2;
                                                        dialog_id = dialog_id2;
                                                        defaultPath4 = defaultPath3;
                                                        notifyDelay = dismissDate2;
                                                        choosenSoundPath9 = lastMessage3;
                                                        priorityOverride2 = silent3;
                                                    } else {
                                                        return;
                                                    }
                                                }
                                                dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                if (fileLocation3 != null) {
                                                    name = str5;
                                                } else {
                                                    img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                    if (img != null) {
                                                        file = FileLoader.getPathToAttach(fileLocation3, true);
                                                        if (file.exists()) {
                                                            name = str5;
                                                        } else {
                                                            scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                            options = new Options();
                                                            if (scaleFactor < 1.0f) {
                                                                name = str5;
                                                                str5 = (int) scaleFactor;
                                                            } else {
                                                                name = str5;
                                                                str5 = true;
                                                            }
                                                            options.inSampleSize = str5;
                                                            str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                            if (str5 != null) {
                                                                mBuilder.setLargeIcon(str5);
                                                            }
                                                        }
                                                    } else {
                                                        mBuilder.setLargeIcon(img.getBitmap());
                                                        name = str5;
                                                    }
                                                }
                                                z = notifyAboutLast;
                                                if (z) {
                                                    count = priority;
                                                } else if (priorityOverride2 == 1) {
                                                    if (priority == 0) {
                                                        count = priority;
                                                        if (count != 1) {
                                                            if (count == 2) {
                                                                if (count != 4) {
                                                                    mBuilder.setPriority(-2);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        user_id2 = 1;
                                                                        i = user_id2;
                                                                    }
                                                                } else if (count == 5) {
                                                                    mBuilder.setPriority(-1);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        user_id2 = 2;
                                                                        i = user_id2;
                                                                    }
                                                                }
                                                            }
                                                        }
                                                        mBuilder.setPriority(1);
                                                        if (VERSION.SDK_INT >= 26) {
                                                            user_id2 = 4;
                                                            i = user_id2;
                                                        }
                                                    } else {
                                                        mBuilder.setPriority(0);
                                                        if (VERSION.SDK_INT >= 26) {
                                                            i = 3;
                                                        }
                                                        count = priority;
                                                    }
                                                    if (priorityOverride2 != 1) {
                                                    }
                                                    lastMessage = choosenSoundPath9;
                                                    silent = priorityOverride2;
                                                    needVibrate2 = needVibrate;
                                                    choosenSoundPath = str;
                                                    priorityOverride2 = ledColor;
                                                    defaultPath = defaultPath4;
                                                    jArr = new long[]{0, 0};
                                                    vibrationPattern = jArr;
                                                    mBuilder.setVibrate(jArr);
                                                    vibrationPattern2 = vibrationPattern;
                                                    sound2 = sound;
                                                    str2 = lastMessage;
                                                    if (AndroidUtilities.needShowPasscode(false)) {
                                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                        size = rows.size();
                                                        notifyOverride2 = false;
                                                        z3 = false;
                                                        while (true) {
                                                            choosenSoundPath2 = choosenSoundPath;
                                                            choosenSoundPath = size;
                                                            if (z3 < choosenSoundPath) {
                                                                break;
                                                            }
                                                            rows2 = rows;
                                                            size2 = choosenSoundPath;
                                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                                            choosenSoundPath = row.buttons.size();
                                                            defaultPath2 = defaultPath;
                                                            defaultPath = 0;
                                                            while (defaultPath < choosenSoundPath) {
                                                                size22 = choosenSoundPath;
                                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                row2 = row;
                                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                    priority2 = count;
                                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                    dismissIntent = dismissIntent2;
                                                                    dialog_id2 = dialog_id;
                                                                    callbackIntent.putExtra("did", dialog_id2);
                                                                    if (choosenSoundPath3.data == null) {
                                                                        fileLocation = fileLocation3;
                                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                    } else {
                                                                        fileLocation = fileLocation3;
                                                                    }
                                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                    charSequence = choosenSoundPath3.text;
                                                                    context = ApplicationLoader.applicationContext;
                                                                    button = choosenSoundPath3;
                                                                    choosenSoundPath = r12.lastButtonId;
                                                                    lastMessageObject = lastMessageObject4;
                                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                    notifyOverride2 = true;
                                                                } else {
                                                                    lastMessageObject = lastMessageObject4;
                                                                    priority2 = count;
                                                                    dismissIntent = dismissIntent2;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                }
                                                                defaultPath++;
                                                                dialog_id = dialog_id2;
                                                                choosenSoundPath = size22;
                                                                row = row2;
                                                                count = priority2;
                                                                dismissIntent2 = dismissIntent;
                                                                fileLocation3 = fileLocation;
                                                                lastMessageObject4 = lastMessageObject;
                                                                dialog_id2 = notifyAboutLast;
                                                            }
                                                            priority2 = count;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            z3++;
                                                            choosenSoundPath = choosenSoundPath2;
                                                            rows = rows2;
                                                            size = size2;
                                                            defaultPath = defaultPath2;
                                                            dismissIntent2 = dismissIntent2;
                                                            dialog_id2 = notifyAboutLast;
                                                        }
                                                        defaultPath2 = defaultPath;
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                        if (VERSION.SDK_INT > 19) {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        } else {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        }
                                                        if (VERSION.SDK_INT < 26) {
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            notifyOverride = name;
                                                            override_dialog_id = lastMessageObject;
                                                            priorityOverride = chat2;
                                                            silent3 = silent;
                                                            notifyDelay = notifyAboutLast;
                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                        } else {
                                                            j = dialog_id2;
                                                            i2 = notifyDelay;
                                                            size = notifyOverride;
                                                            j2 = override_dialog_id;
                                                            i3 = priorityOverride;
                                                            i4 = vibrateOverride;
                                                            sharedPreferences = preferences;
                                                            i5 = user_id;
                                                            i6 = chat_id;
                                                            user2 = user;
                                                            pendingIntent = contentIntent;
                                                            silent3 = silent;
                                                            dismissDate2 = needVibrate2;
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            str3 = defaultPath2;
                                                            i7 = priority2;
                                                            intent = dismissIntent;
                                                            fileLocation2 = fileLocation;
                                                            notifyDelay = notifyAboutLast;
                                                        }
                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                        r12.lastNotificationIsNoData = false;
                                                        scheduleNotificationRepeat();
                                                        return;
                                                    }
                                                    choosenSoundPath2 = choosenSoundPath;
                                                    defaultPath2 = defaultPath;
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    notifyOverride2 = false;
                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                    if (VERSION.SDK_INT > 19) {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    } else {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    }
                                                    if (VERSION.SDK_INT < 26) {
                                                        j = dialog_id2;
                                                        i2 = notifyDelay;
                                                        size = notifyOverride;
                                                        j2 = override_dialog_id;
                                                        i3 = priorityOverride;
                                                        i4 = vibrateOverride;
                                                        sharedPreferences = preferences;
                                                        i5 = user_id;
                                                        i6 = chat_id;
                                                        user2 = user;
                                                        pendingIntent = contentIntent;
                                                        silent3 = silent;
                                                        dismissDate2 = needVibrate2;
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        str3 = defaultPath2;
                                                        i7 = priority2;
                                                        intent = dismissIntent;
                                                        fileLocation2 = fileLocation;
                                                        notifyDelay = notifyAboutLast;
                                                    } else {
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        notifyOverride = name;
                                                        override_dialog_id = lastMessageObject;
                                                        priorityOverride = chat2;
                                                        silent3 = silent;
                                                        notifyDelay = notifyAboutLast;
                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                    }
                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                    r12.lastNotificationIsNoData = false;
                                                    scheduleNotificationRepeat();
                                                    return;
                                                } else {
                                                    count = priority;
                                                }
                                                mBuilder.setPriority(-1);
                                                if (VERSION.SDK_INT >= 26) {
                                                    user_id2 = 2;
                                                    i = user_id2;
                                                }
                                                if (priorityOverride2 != 1) {
                                                }
                                                lastMessage = choosenSoundPath9;
                                                silent = priorityOverride2;
                                                needVibrate2 = needVibrate;
                                                choosenSoundPath = str;
                                                priorityOverride2 = ledColor;
                                                defaultPath = defaultPath4;
                                                jArr = new long[]{0, 0};
                                                vibrationPattern = jArr;
                                                mBuilder.setVibrate(jArr);
                                                vibrationPattern2 = vibrationPattern;
                                                sound2 = sound;
                                                str2 = lastMessage;
                                                if (AndroidUtilities.needShowPasscode(false)) {
                                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                    size = rows.size();
                                                    notifyOverride2 = false;
                                                    z3 = false;
                                                    while (true) {
                                                        choosenSoundPath2 = choosenSoundPath;
                                                        choosenSoundPath = size;
                                                        if (z3 < choosenSoundPath) {
                                                            break;
                                                        }
                                                        rows2 = rows;
                                                        size2 = choosenSoundPath;
                                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                                        choosenSoundPath = row.buttons.size();
                                                        defaultPath2 = defaultPath;
                                                        defaultPath = 0;
                                                        while (defaultPath < choosenSoundPath) {
                                                            size22 = choosenSoundPath;
                                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                            row2 = row;
                                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                            } else {
                                                                priority2 = count;
                                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                dismissIntent = dismissIntent2;
                                                                dialog_id2 = dialog_id;
                                                                callbackIntent.putExtra("did", dialog_id2);
                                                                if (choosenSoundPath3.data == null) {
                                                                    fileLocation = fileLocation3;
                                                                } else {
                                                                    fileLocation = fileLocation3;
                                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                }
                                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                charSequence = choosenSoundPath3.text;
                                                                context = ApplicationLoader.applicationContext;
                                                                button = choosenSoundPath3;
                                                                choosenSoundPath = r12.lastButtonId;
                                                                lastMessageObject = lastMessageObject4;
                                                                r12.lastButtonId = choosenSoundPath + 1;
                                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                notifyOverride2 = true;
                                                            }
                                                            defaultPath++;
                                                            dialog_id = dialog_id2;
                                                            choosenSoundPath = size22;
                                                            row = row2;
                                                            count = priority2;
                                                            dismissIntent2 = dismissIntent;
                                                            fileLocation3 = fileLocation;
                                                            lastMessageObject4 = lastMessageObject;
                                                            dialog_id2 = notifyAboutLast;
                                                        }
                                                        priority2 = count;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        z3++;
                                                        choosenSoundPath = choosenSoundPath2;
                                                        rows = rows2;
                                                        size = size2;
                                                        defaultPath = defaultPath2;
                                                        dismissIntent2 = dismissIntent2;
                                                        dialog_id2 = notifyAboutLast;
                                                    }
                                                    defaultPath2 = defaultPath;
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                    if (VERSION.SDK_INT > 19) {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    } else {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    }
                                                    if (VERSION.SDK_INT < 26) {
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        notifyOverride = name;
                                                        override_dialog_id = lastMessageObject;
                                                        priorityOverride = chat2;
                                                        silent3 = silent;
                                                        notifyDelay = notifyAboutLast;
                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                    } else {
                                                        j = dialog_id2;
                                                        i2 = notifyDelay;
                                                        size = notifyOverride;
                                                        j2 = override_dialog_id;
                                                        i3 = priorityOverride;
                                                        i4 = vibrateOverride;
                                                        sharedPreferences = preferences;
                                                        i5 = user_id;
                                                        i6 = chat_id;
                                                        user2 = user;
                                                        pendingIntent = contentIntent;
                                                        silent3 = silent;
                                                        dismissDate2 = needVibrate2;
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        str3 = defaultPath2;
                                                        i7 = priority2;
                                                        intent = dismissIntent;
                                                        fileLocation2 = fileLocation;
                                                        notifyDelay = notifyAboutLast;
                                                    }
                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                    r12.lastNotificationIsNoData = false;
                                                    scheduleNotificationRepeat();
                                                    return;
                                                }
                                                choosenSoundPath2 = choosenSoundPath;
                                                defaultPath2 = defaultPath;
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                notifyOverride2 = false;
                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                if (VERSION.SDK_INT > 19) {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                } else {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                }
                                                if (VERSION.SDK_INT < 26) {
                                                    j = dialog_id2;
                                                    i2 = notifyDelay;
                                                    size = notifyOverride;
                                                    j2 = override_dialog_id;
                                                    i3 = priorityOverride;
                                                    i4 = vibrateOverride;
                                                    sharedPreferences = preferences;
                                                    i5 = user_id;
                                                    i6 = chat_id;
                                                    user2 = user;
                                                    pendingIntent = contentIntent;
                                                    silent3 = silent;
                                                    dismissDate2 = needVibrate2;
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    str3 = defaultPath2;
                                                    i7 = priority2;
                                                    intent = dismissIntent;
                                                    fileLocation2 = fileLocation;
                                                    notifyDelay = notifyAboutLast;
                                                } else {
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    notifyOverride = name;
                                                    override_dialog_id = lastMessageObject;
                                                    priorityOverride = chat2;
                                                    silent3 = silent;
                                                    notifyDelay = notifyAboutLast;
                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                }
                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                r12.lastNotificationIsNoData = false;
                                                scheduleNotificationRepeat();
                                                return;
                                            }
                                        }
                                        if (r12.pushDialogs.size() != 1) {
                                            stringBuilder4 = new StringBuilder();
                                            stringBuilder4.append(choosenSoundPath9);
                                            stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                            detailText = stringBuilder4.toString();
                                            chatName = choosenSoundPath5;
                                        } else {
                                            stringBuilder4 = new StringBuilder();
                                            stringBuilder4.append(choosenSoundPath9);
                                            objArr = new Object[2];
                                            chatName = choosenSoundPath5;
                                            objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                            objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                            stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                            detailText = stringBuilder4.toString();
                                        }
                                        mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                        vibrationPattern3 = null;
                                        mBuilder.setCategory("msg");
                                        stringBuilder = new StringBuilder();
                                        i = 0;
                                        stringBuilder.append("tel:+");
                                        stringBuilder.append(user3.phone);
                                        mBuilder.addPerson(stringBuilder.toString());
                                        silent2 = 2;
                                        user = user3;
                                        if (r12.pushMessages.size() == 1) {
                                            messageObject = (MessageObject) r12.pushMessages.get(0);
                                            lastMessage2 = null;
                                            text = new boolean[1];
                                            stringForMessage = getStringForMessage(messageObject, null, text);
                                            message = stringForMessage;
                                            lastMessage3 = stringForMessage;
                                            choosenSoundPath5 = messageObject.messageOwner.silent;
                                            choosenSoundPath9 = message;
                                            if (choosenSoundPath9 != null) {
                                                if (replace) {
                                                    if (chat2 != null) {
                                                        silent3 = choosenSoundPath5;
                                                        choosenSoundPath5 = new StringBuilder();
                                                        sound = null;
                                                        choosenSoundPath5.append(" @ ");
                                                        choosenSoundPath5.append(str5);
                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    } else {
                                                        silent3 = choosenSoundPath5;
                                                        sound = null;
                                                        if (text[null]) {
                                                            choosenSoundPath5 = new StringBuilder();
                                                            choosenSoundPath5.append(str5);
                                                            choosenSoundPath5.append(": ");
                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        } else {
                                                            choosenSoundPath5 = new StringBuilder();
                                                            choosenSoundPath5.append(str5);
                                                            choosenSoundPath5.append(" ");
                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        }
                                                    }
                                                    choosenSoundPath9 = message;
                                                } else {
                                                    silent3 = choosenSoundPath5;
                                                    sound = null;
                                                }
                                                mBuilder.setContentText(choosenSoundPath9);
                                                mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                contentIntent = contentIntent2;
                                                dialog_id = dialog_id2;
                                                defaultPath4 = defaultPath3;
                                                notifyDelay = dismissDate2;
                                                choosenSoundPath9 = lastMessage3;
                                                priorityOverride2 = silent3;
                                            } else {
                                                return;
                                            }
                                        }
                                        lastMessage2 = null;
                                        sound = null;
                                        mBuilder.setContentText(detailText);
                                        inboxStyle = new InboxStyle();
                                        inboxStyle.setBigContentTitle(str5);
                                        count2 = Math.min(10, r12.pushMessages.size());
                                        text2 = new boolean[1];
                                        contentIntent = contentIntent2;
                                        count = silent2;
                                        chat_id2 = 0;
                                        while (chat_id2 < count2) {
                                            count3 = count2;
                                            count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                            dialog_id = dialog_id2;
                                            message2 = getStringForMessage(count4, 0, text2);
                                            if (message2 != null) {
                                                defaultPath4 = defaultPath3;
                                                notifyDelay = dismissDate2;
                                                if (count4.messageOwner.date > notifyDelay) {
                                                    if (count == 2) {
                                                        lastMessage2 = message2;
                                                        count = count4.messageOwner.silent;
                                                    }
                                                    messageObject2 = count4;
                                                    if (chat2 != null) {
                                                        count2 = new StringBuilder();
                                                        count2.append(" @ ");
                                                        count2.append(str5);
                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    } else if (text2[0]) {
                                                        count2 = new StringBuilder();
                                                        count2.append(str5);
                                                        count2.append(": ");
                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    } else {
                                                        count2 = new StringBuilder();
                                                        count2.append(str5);
                                                        count2.append(" ");
                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    }
                                                    inboxStyle.addLine(message2);
                                                }
                                            } else {
                                                defaultPath4 = defaultPath3;
                                                notifyDelay = dismissDate2;
                                            }
                                            chat_id2++;
                                            dismissDate2 = notifyDelay;
                                            count2 = count3;
                                            dialog_id2 = dialog_id;
                                            defaultPath3 = defaultPath4;
                                        }
                                        dialog_id = dialog_id2;
                                        defaultPath4 = defaultPath3;
                                        notifyDelay = dismissDate2;
                                        inboxStyle.setSummaryText(detailText);
                                        mBuilder.setStyle(inboxStyle);
                                        priorityOverride2 = count;
                                        choosenSoundPath9 = lastMessage2;
                                        dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                        dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                        dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                        mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                        if (fileLocation3 != null) {
                                            img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                            if (img != null) {
                                                mBuilder.setLargeIcon(img.getBitmap());
                                                name = str5;
                                            } else {
                                                file = FileLoader.getPathToAttach(fileLocation3, true);
                                                if (file.exists()) {
                                                    scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                    options = new Options();
                                                    if (scaleFactor < 1.0f) {
                                                        name = str5;
                                                        str5 = true;
                                                    } else {
                                                        name = str5;
                                                        str5 = (int) scaleFactor;
                                                    }
                                                    options.inSampleSize = str5;
                                                    str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                    if (str5 != null) {
                                                        mBuilder.setLargeIcon(str5);
                                                    }
                                                } else {
                                                    name = str5;
                                                }
                                            }
                                        } else {
                                            name = str5;
                                        }
                                        z = notifyAboutLast;
                                        if (z) {
                                            count = priority;
                                        } else if (priorityOverride2 == 1) {
                                            count = priority;
                                        } else {
                                            if (priority == 0) {
                                                mBuilder.setPriority(0);
                                                if (VERSION.SDK_INT >= 26) {
                                                    i = 3;
                                                }
                                                count = priority;
                                            } else {
                                                count = priority;
                                                if (count != 1) {
                                                    if (count == 2) {
                                                        if (count != 4) {
                                                            mBuilder.setPriority(-2);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 1;
                                                                i = user_id2;
                                                            }
                                                        } else if (count == 5) {
                                                            mBuilder.setPriority(-1);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 2;
                                                                i = user_id2;
                                                            }
                                                        }
                                                    }
                                                }
                                                mBuilder.setPriority(1);
                                                if (VERSION.SDK_INT >= 26) {
                                                    user_id2 = 4;
                                                    i = user_id2;
                                                }
                                            }
                                            if (priorityOverride2 != 1) {
                                            }
                                            lastMessage = choosenSoundPath9;
                                            silent = priorityOverride2;
                                            needVibrate2 = needVibrate;
                                            choosenSoundPath = str;
                                            priorityOverride2 = ledColor;
                                            defaultPath = defaultPath4;
                                            jArr = new long[]{0, 0};
                                            vibrationPattern = jArr;
                                            mBuilder.setVibrate(jArr);
                                            vibrationPattern2 = vibrationPattern;
                                            sound2 = sound;
                                            str2 = lastMessage;
                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                size = rows.size();
                                                notifyOverride2 = false;
                                                z3 = false;
                                                while (true) {
                                                    choosenSoundPath2 = choosenSoundPath;
                                                    choosenSoundPath = size;
                                                    if (z3 < choosenSoundPath) {
                                                        break;
                                                    }
                                                    rows2 = rows;
                                                    size2 = choosenSoundPath;
                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                    choosenSoundPath = row.buttons.size();
                                                    defaultPath2 = defaultPath;
                                                    defaultPath = 0;
                                                    while (defaultPath < choosenSoundPath) {
                                                        size22 = choosenSoundPath;
                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                        row2 = row;
                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                            priority2 = count;
                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                            dismissIntent = dismissIntent2;
                                                            dialog_id2 = dialog_id;
                                                            callbackIntent.putExtra("did", dialog_id2);
                                                            if (choosenSoundPath3.data == null) {
                                                                fileLocation = fileLocation3;
                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                            } else {
                                                                fileLocation = fileLocation3;
                                                            }
                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                            charSequence = choosenSoundPath3.text;
                                                            context = ApplicationLoader.applicationContext;
                                                            button = choosenSoundPath3;
                                                            choosenSoundPath = r12.lastButtonId;
                                                            lastMessageObject = lastMessageObject4;
                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                            notifyOverride2 = true;
                                                        } else {
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                        }
                                                        defaultPath++;
                                                        dialog_id = dialog_id2;
                                                        choosenSoundPath = size22;
                                                        row = row2;
                                                        count = priority2;
                                                        dismissIntent2 = dismissIntent;
                                                        fileLocation3 = fileLocation;
                                                        lastMessageObject4 = lastMessageObject;
                                                        dialog_id2 = notifyAboutLast;
                                                    }
                                                    priority2 = count;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    z3++;
                                                    choosenSoundPath = choosenSoundPath2;
                                                    rows = rows2;
                                                    size = size2;
                                                    defaultPath = defaultPath2;
                                                    dismissIntent2 = dismissIntent2;
                                                    dialog_id2 = notifyAboutLast;
                                                }
                                                defaultPath2 = defaultPath;
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                if (VERSION.SDK_INT > 19) {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                } else {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                }
                                                if (VERSION.SDK_INT < 26) {
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    notifyOverride = name;
                                                    override_dialog_id = lastMessageObject;
                                                    priorityOverride = chat2;
                                                    silent3 = silent;
                                                    notifyDelay = notifyAboutLast;
                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                } else {
                                                    j = dialog_id2;
                                                    i2 = notifyDelay;
                                                    size = notifyOverride;
                                                    j2 = override_dialog_id;
                                                    i3 = priorityOverride;
                                                    i4 = vibrateOverride;
                                                    sharedPreferences = preferences;
                                                    i5 = user_id;
                                                    i6 = chat_id;
                                                    user2 = user;
                                                    pendingIntent = contentIntent;
                                                    silent3 = silent;
                                                    dismissDate2 = needVibrate2;
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    str3 = defaultPath2;
                                                    i7 = priority2;
                                                    intent = dismissIntent;
                                                    fileLocation2 = fileLocation;
                                                    notifyDelay = notifyAboutLast;
                                                }
                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                r12.lastNotificationIsNoData = false;
                                                scheduleNotificationRepeat();
                                                return;
                                            }
                                            choosenSoundPath2 = choosenSoundPath;
                                            defaultPath2 = defaultPath;
                                            lastMessageObject = lastMessageObject4;
                                            priority2 = count;
                                            dismissIntent = dismissIntent2;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            notifyOverride2 = false;
                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                            if (VERSION.SDK_INT > 19) {
                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            } else {
                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            }
                                            if (VERSION.SDK_INT < 26) {
                                                j = dialog_id2;
                                                i2 = notifyDelay;
                                                size = notifyOverride;
                                                j2 = override_dialog_id;
                                                i3 = priorityOverride;
                                                i4 = vibrateOverride;
                                                sharedPreferences = preferences;
                                                i5 = user_id;
                                                i6 = chat_id;
                                                user2 = user;
                                                pendingIntent = contentIntent;
                                                silent3 = silent;
                                                dismissDate2 = needVibrate2;
                                                choosenSoundPath8 = choosenSoundPath2;
                                                str3 = defaultPath2;
                                                i7 = priority2;
                                                intent = dismissIntent;
                                                fileLocation2 = fileLocation;
                                                notifyDelay = notifyAboutLast;
                                            } else {
                                                choosenSoundPath8 = choosenSoundPath2;
                                                notifyOverride = name;
                                                override_dialog_id = lastMessageObject;
                                                priorityOverride = chat2;
                                                silent3 = silent;
                                                notifyDelay = notifyAboutLast;
                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                            }
                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                            r12.lastNotificationIsNoData = false;
                                            scheduleNotificationRepeat();
                                            return;
                                        }
                                        mBuilder.setPriority(-1);
                                        if (VERSION.SDK_INT >= 26) {
                                            user_id2 = 2;
                                            i = user_id2;
                                        }
                                        if (priorityOverride2 != 1) {
                                        }
                                        lastMessage = choosenSoundPath9;
                                        silent = priorityOverride2;
                                        needVibrate2 = needVibrate;
                                        choosenSoundPath = str;
                                        priorityOverride2 = ledColor;
                                        defaultPath = defaultPath4;
                                        jArr = new long[]{0, 0};
                                        vibrationPattern = jArr;
                                        mBuilder.setVibrate(jArr);
                                        vibrationPattern2 = vibrationPattern;
                                        sound2 = sound;
                                        str2 = lastMessage;
                                        if (AndroidUtilities.needShowPasscode(false)) {
                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                            size = rows.size();
                                            notifyOverride2 = false;
                                            z3 = false;
                                            while (true) {
                                                choosenSoundPath2 = choosenSoundPath;
                                                choosenSoundPath = size;
                                                if (z3 < choosenSoundPath) {
                                                    break;
                                                }
                                                rows2 = rows;
                                                size2 = choosenSoundPath;
                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                choosenSoundPath = row.buttons.size();
                                                defaultPath2 = defaultPath;
                                                defaultPath = 0;
                                                while (defaultPath < choosenSoundPath) {
                                                    size22 = choosenSoundPath;
                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                    row2 = row;
                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                    } else {
                                                        priority2 = count;
                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                        dismissIntent = dismissIntent2;
                                                        dialog_id2 = dialog_id;
                                                        callbackIntent.putExtra("did", dialog_id2);
                                                        if (choosenSoundPath3.data == null) {
                                                            fileLocation = fileLocation3;
                                                        } else {
                                                            fileLocation = fileLocation3;
                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                        }
                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                        charSequence = choosenSoundPath3.text;
                                                        context = ApplicationLoader.applicationContext;
                                                        button = choosenSoundPath3;
                                                        choosenSoundPath = r12.lastButtonId;
                                                        lastMessageObject = lastMessageObject4;
                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                        notifyOverride2 = true;
                                                    }
                                                    defaultPath++;
                                                    dialog_id = dialog_id2;
                                                    choosenSoundPath = size22;
                                                    row = row2;
                                                    count = priority2;
                                                    dismissIntent2 = dismissIntent;
                                                    fileLocation3 = fileLocation;
                                                    lastMessageObject4 = lastMessageObject;
                                                    dialog_id2 = notifyAboutLast;
                                                }
                                                priority2 = count;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                z3++;
                                                choosenSoundPath = choosenSoundPath2;
                                                rows = rows2;
                                                size = size2;
                                                defaultPath = defaultPath2;
                                                dismissIntent2 = dismissIntent2;
                                                dialog_id2 = notifyAboutLast;
                                            }
                                            defaultPath2 = defaultPath;
                                            lastMessageObject = lastMessageObject4;
                                            priority2 = count;
                                            dismissIntent = dismissIntent2;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                            if (VERSION.SDK_INT > 19) {
                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            } else {
                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            }
                                            if (VERSION.SDK_INT < 26) {
                                                choosenSoundPath8 = choosenSoundPath2;
                                                notifyOverride = name;
                                                override_dialog_id = lastMessageObject;
                                                priorityOverride = chat2;
                                                silent3 = silent;
                                                notifyDelay = notifyAboutLast;
                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                            } else {
                                                j = dialog_id2;
                                                i2 = notifyDelay;
                                                size = notifyOverride;
                                                j2 = override_dialog_id;
                                                i3 = priorityOverride;
                                                i4 = vibrateOverride;
                                                sharedPreferences = preferences;
                                                i5 = user_id;
                                                i6 = chat_id;
                                                user2 = user;
                                                pendingIntent = contentIntent;
                                                silent3 = silent;
                                                dismissDate2 = needVibrate2;
                                                choosenSoundPath8 = choosenSoundPath2;
                                                str3 = defaultPath2;
                                                i7 = priority2;
                                                intent = dismissIntent;
                                                fileLocation2 = fileLocation;
                                                notifyDelay = notifyAboutLast;
                                            }
                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                            r12.lastNotificationIsNoData = false;
                                            scheduleNotificationRepeat();
                                            return;
                                        }
                                        choosenSoundPath2 = choosenSoundPath;
                                        defaultPath2 = defaultPath;
                                        lastMessageObject = lastMessageObject4;
                                        priority2 = count;
                                        dismissIntent = dismissIntent2;
                                        fileLocation = fileLocation3;
                                        dialog_id2 = dialog_id;
                                        notifyOverride2 = false;
                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                        if (VERSION.SDK_INT > 19) {
                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        } else {
                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        }
                                        if (VERSION.SDK_INT < 26) {
                                            j = dialog_id2;
                                            i2 = notifyDelay;
                                            size = notifyOverride;
                                            j2 = override_dialog_id;
                                            i3 = priorityOverride;
                                            i4 = vibrateOverride;
                                            sharedPreferences = preferences;
                                            i5 = user_id;
                                            i6 = chat_id;
                                            user2 = user;
                                            pendingIntent = contentIntent;
                                            silent3 = silent;
                                            dismissDate2 = needVibrate2;
                                            choosenSoundPath8 = choosenSoundPath2;
                                            str3 = defaultPath2;
                                            i7 = priority2;
                                            intent = dismissIntent;
                                            fileLocation2 = fileLocation;
                                            notifyDelay = notifyAboutLast;
                                        } else {
                                            choosenSoundPath8 = choosenSoundPath2;
                                            notifyOverride = name;
                                            override_dialog_id = lastMessageObject;
                                            priorityOverride = chat2;
                                            silent3 = silent;
                                            notifyDelay = notifyAboutLast;
                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                        }
                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                        r12.lastNotificationIsNoData = false;
                                        scheduleNotificationRepeat();
                                        return;
                                    }
                                }
                                choosenSoundPath9 = LocaleController.getString("AppName", R.string.AppName);
                                replace = false;
                                str5 = choosenSoundPath9;
                                chat_id = chat_id2;
                                if (UserConfig.getActivatedAccountsCount() <= 1) {
                                    choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                } else if (r12.pushDialogs.size() != 1) {
                                    stringBuilder = new StringBuilder();
                                    stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                    stringBuilder.append("\u30fb");
                                    choosenSoundPath9 = stringBuilder.toString();
                                } else {
                                    choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                }
                                if (r12.pushDialogs.size() == 1) {
                                    if (VERSION.SDK_INT >= 23) {
                                        detailText = choosenSoundPath9;
                                        chatName = choosenSoundPath5;
                                        z4 = inAppVibrate;
                                        mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                        vibrationPattern3 = null;
                                        mBuilder.setCategory("msg");
                                        stringBuilder = new StringBuilder();
                                        i = 0;
                                        stringBuilder.append("tel:+");
                                        stringBuilder.append(user3.phone);
                                        mBuilder.addPerson(stringBuilder.toString());
                                        silent2 = 2;
                                        user = user3;
                                        if (r12.pushMessages.size() == 1) {
                                            lastMessage2 = null;
                                            sound = null;
                                            mBuilder.setContentText(detailText);
                                            inboxStyle = new InboxStyle();
                                            inboxStyle.setBigContentTitle(str5);
                                            count2 = Math.min(10, r12.pushMessages.size());
                                            text2 = new boolean[1];
                                            contentIntent = contentIntent2;
                                            count = silent2;
                                            chat_id2 = 0;
                                            while (chat_id2 < count2) {
                                                count3 = count2;
                                                count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                dialog_id = dialog_id2;
                                                message2 = getStringForMessage(count4, 0, text2);
                                                if (message2 != null) {
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                } else {
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                    if (count4.messageOwner.date > notifyDelay) {
                                                        if (count == 2) {
                                                            lastMessage2 = message2;
                                                            count = count4.messageOwner.silent;
                                                        }
                                                        messageObject2 = count4;
                                                        if (chat2 != null) {
                                                            count2 = new StringBuilder();
                                                            count2.append(" @ ");
                                                            count2.append(str5);
                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        } else if (text2[0]) {
                                                            count2 = new StringBuilder();
                                                            count2.append(str5);
                                                            count2.append(" ");
                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        } else {
                                                            count2 = new StringBuilder();
                                                            count2.append(str5);
                                                            count2.append(": ");
                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        }
                                                        inboxStyle.addLine(message2);
                                                    }
                                                }
                                                chat_id2++;
                                                dismissDate2 = notifyDelay;
                                                count2 = count3;
                                                dialog_id2 = dialog_id;
                                                defaultPath3 = defaultPath4;
                                            }
                                            dialog_id = dialog_id2;
                                            defaultPath4 = defaultPath3;
                                            notifyDelay = dismissDate2;
                                            inboxStyle.setSummaryText(detailText);
                                            mBuilder.setStyle(inboxStyle);
                                            priorityOverride2 = count;
                                            choosenSoundPath9 = lastMessage2;
                                        } else {
                                            messageObject = (MessageObject) r12.pushMessages.get(0);
                                            lastMessage2 = null;
                                            text = new boolean[1];
                                            stringForMessage = getStringForMessage(messageObject, null, text);
                                            message = stringForMessage;
                                            lastMessage3 = stringForMessage;
                                            choosenSoundPath5 = messageObject.messageOwner.silent;
                                            choosenSoundPath9 = message;
                                            if (choosenSoundPath9 != null) {
                                                if (replace) {
                                                    silent3 = choosenSoundPath5;
                                                    sound = null;
                                                } else {
                                                    if (chat2 != null) {
                                                        silent3 = choosenSoundPath5;
                                                        sound = null;
                                                        if (text[null]) {
                                                            choosenSoundPath5 = new StringBuilder();
                                                            choosenSoundPath5.append(str5);
                                                            choosenSoundPath5.append(" ");
                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        } else {
                                                            choosenSoundPath5 = new StringBuilder();
                                                            choosenSoundPath5.append(str5);
                                                            choosenSoundPath5.append(": ");
                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        }
                                                    } else {
                                                        silent3 = choosenSoundPath5;
                                                        choosenSoundPath5 = new StringBuilder();
                                                        sound = null;
                                                        choosenSoundPath5.append(" @ ");
                                                        choosenSoundPath5.append(str5);
                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    }
                                                    choosenSoundPath9 = message;
                                                }
                                                mBuilder.setContentText(choosenSoundPath9);
                                                mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                contentIntent = contentIntent2;
                                                dialog_id = dialog_id2;
                                                defaultPath4 = defaultPath3;
                                                notifyDelay = dismissDate2;
                                                choosenSoundPath9 = lastMessage3;
                                                priorityOverride2 = silent3;
                                            } else {
                                                return;
                                            }
                                        }
                                        dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                        dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                        dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                        mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                        if (fileLocation3 != null) {
                                            name = str5;
                                        } else {
                                            img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                            if (img != null) {
                                                file = FileLoader.getPathToAttach(fileLocation3, true);
                                                if (file.exists()) {
                                                    name = str5;
                                                } else {
                                                    scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                    options = new Options();
                                                    if (scaleFactor < 1.0f) {
                                                        name = str5;
                                                        str5 = (int) scaleFactor;
                                                    } else {
                                                        name = str5;
                                                        str5 = true;
                                                    }
                                                    options.inSampleSize = str5;
                                                    str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                    if (str5 != null) {
                                                        mBuilder.setLargeIcon(str5);
                                                    }
                                                }
                                            } else {
                                                mBuilder.setLargeIcon(img.getBitmap());
                                                name = str5;
                                            }
                                        }
                                        z = notifyAboutLast;
                                        if (z) {
                                            count = priority;
                                        } else if (priorityOverride2 == 1) {
                                            if (priority == 0) {
                                                count = priority;
                                                if (count != 1) {
                                                    if (count == 2) {
                                                        if (count != 4) {
                                                            mBuilder.setPriority(-2);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 1;
                                                                i = user_id2;
                                                            }
                                                        } else if (count == 5) {
                                                            mBuilder.setPriority(-1);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 2;
                                                                i = user_id2;
                                                            }
                                                        }
                                                    }
                                                }
                                                mBuilder.setPriority(1);
                                                if (VERSION.SDK_INT >= 26) {
                                                    user_id2 = 4;
                                                    i = user_id2;
                                                }
                                            } else {
                                                mBuilder.setPriority(0);
                                                if (VERSION.SDK_INT >= 26) {
                                                    i = 3;
                                                }
                                                count = priority;
                                            }
                                            if (priorityOverride2 != 1) {
                                            }
                                            lastMessage = choosenSoundPath9;
                                            silent = priorityOverride2;
                                            needVibrate2 = needVibrate;
                                            choosenSoundPath = str;
                                            priorityOverride2 = ledColor;
                                            defaultPath = defaultPath4;
                                            jArr = new long[]{0, 0};
                                            vibrationPattern = jArr;
                                            mBuilder.setVibrate(jArr);
                                            vibrationPattern2 = vibrationPattern;
                                            sound2 = sound;
                                            str2 = lastMessage;
                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                size = rows.size();
                                                notifyOverride2 = false;
                                                z3 = false;
                                                while (true) {
                                                    choosenSoundPath2 = choosenSoundPath;
                                                    choosenSoundPath = size;
                                                    if (z3 < choosenSoundPath) {
                                                        break;
                                                    }
                                                    rows2 = rows;
                                                    size2 = choosenSoundPath;
                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                    choosenSoundPath = row.buttons.size();
                                                    defaultPath2 = defaultPath;
                                                    defaultPath = 0;
                                                    while (defaultPath < choosenSoundPath) {
                                                        size22 = choosenSoundPath;
                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                        row2 = row;
                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                            priority2 = count;
                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                            dismissIntent = dismissIntent2;
                                                            dialog_id2 = dialog_id;
                                                            callbackIntent.putExtra("did", dialog_id2);
                                                            if (choosenSoundPath3.data == null) {
                                                                fileLocation = fileLocation3;
                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                            } else {
                                                                fileLocation = fileLocation3;
                                                            }
                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                            charSequence = choosenSoundPath3.text;
                                                            context = ApplicationLoader.applicationContext;
                                                            button = choosenSoundPath3;
                                                            choosenSoundPath = r12.lastButtonId;
                                                            lastMessageObject = lastMessageObject4;
                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                            notifyOverride2 = true;
                                                        } else {
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                        }
                                                        defaultPath++;
                                                        dialog_id = dialog_id2;
                                                        choosenSoundPath = size22;
                                                        row = row2;
                                                        count = priority2;
                                                        dismissIntent2 = dismissIntent;
                                                        fileLocation3 = fileLocation;
                                                        lastMessageObject4 = lastMessageObject;
                                                        dialog_id2 = notifyAboutLast;
                                                    }
                                                    priority2 = count;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    z3++;
                                                    choosenSoundPath = choosenSoundPath2;
                                                    rows = rows2;
                                                    size = size2;
                                                    defaultPath = defaultPath2;
                                                    dismissIntent2 = dismissIntent2;
                                                    dialog_id2 = notifyAboutLast;
                                                }
                                                defaultPath2 = defaultPath;
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                if (VERSION.SDK_INT > 19) {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                } else {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                }
                                                if (VERSION.SDK_INT < 26) {
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    notifyOverride = name;
                                                    override_dialog_id = lastMessageObject;
                                                    priorityOverride = chat2;
                                                    silent3 = silent;
                                                    notifyDelay = notifyAboutLast;
                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                } else {
                                                    j = dialog_id2;
                                                    i2 = notifyDelay;
                                                    size = notifyOverride;
                                                    j2 = override_dialog_id;
                                                    i3 = priorityOverride;
                                                    i4 = vibrateOverride;
                                                    sharedPreferences = preferences;
                                                    i5 = user_id;
                                                    i6 = chat_id;
                                                    user2 = user;
                                                    pendingIntent = contentIntent;
                                                    silent3 = silent;
                                                    dismissDate2 = needVibrate2;
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    str3 = defaultPath2;
                                                    i7 = priority2;
                                                    intent = dismissIntent;
                                                    fileLocation2 = fileLocation;
                                                    notifyDelay = notifyAboutLast;
                                                }
                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                r12.lastNotificationIsNoData = false;
                                                scheduleNotificationRepeat();
                                                return;
                                            }
                                            choosenSoundPath2 = choosenSoundPath;
                                            defaultPath2 = defaultPath;
                                            lastMessageObject = lastMessageObject4;
                                            priority2 = count;
                                            dismissIntent = dismissIntent2;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            notifyOverride2 = false;
                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                            if (VERSION.SDK_INT > 19) {
                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            } else {
                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            }
                                            if (VERSION.SDK_INT < 26) {
                                                j = dialog_id2;
                                                i2 = notifyDelay;
                                                size = notifyOverride;
                                                j2 = override_dialog_id;
                                                i3 = priorityOverride;
                                                i4 = vibrateOverride;
                                                sharedPreferences = preferences;
                                                i5 = user_id;
                                                i6 = chat_id;
                                                user2 = user;
                                                pendingIntent = contentIntent;
                                                silent3 = silent;
                                                dismissDate2 = needVibrate2;
                                                choosenSoundPath8 = choosenSoundPath2;
                                                str3 = defaultPath2;
                                                i7 = priority2;
                                                intent = dismissIntent;
                                                fileLocation2 = fileLocation;
                                                notifyDelay = notifyAboutLast;
                                            } else {
                                                choosenSoundPath8 = choosenSoundPath2;
                                                notifyOverride = name;
                                                override_dialog_id = lastMessageObject;
                                                priorityOverride = chat2;
                                                silent3 = silent;
                                                notifyDelay = notifyAboutLast;
                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                            }
                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                            r12.lastNotificationIsNoData = false;
                                            scheduleNotificationRepeat();
                                            return;
                                        } else {
                                            count = priority;
                                        }
                                        mBuilder.setPriority(-1);
                                        if (VERSION.SDK_INT >= 26) {
                                            user_id2 = 2;
                                            i = user_id2;
                                        }
                                        if (priorityOverride2 != 1) {
                                        }
                                        lastMessage = choosenSoundPath9;
                                        silent = priorityOverride2;
                                        needVibrate2 = needVibrate;
                                        choosenSoundPath = str;
                                        priorityOverride2 = ledColor;
                                        defaultPath = defaultPath4;
                                        jArr = new long[]{0, 0};
                                        vibrationPattern = jArr;
                                        mBuilder.setVibrate(jArr);
                                        vibrationPattern2 = vibrationPattern;
                                        sound2 = sound;
                                        str2 = lastMessage;
                                        if (AndroidUtilities.needShowPasscode(false)) {
                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                            size = rows.size();
                                            notifyOverride2 = false;
                                            z3 = false;
                                            while (true) {
                                                choosenSoundPath2 = choosenSoundPath;
                                                choosenSoundPath = size;
                                                if (z3 < choosenSoundPath) {
                                                    break;
                                                }
                                                rows2 = rows;
                                                size2 = choosenSoundPath;
                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                choosenSoundPath = row.buttons.size();
                                                defaultPath2 = defaultPath;
                                                defaultPath = 0;
                                                while (defaultPath < choosenSoundPath) {
                                                    size22 = choosenSoundPath;
                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                    row2 = row;
                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                    } else {
                                                        priority2 = count;
                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                        dismissIntent = dismissIntent2;
                                                        dialog_id2 = dialog_id;
                                                        callbackIntent.putExtra("did", dialog_id2);
                                                        if (choosenSoundPath3.data == null) {
                                                            fileLocation = fileLocation3;
                                                        } else {
                                                            fileLocation = fileLocation3;
                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                        }
                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                        charSequence = choosenSoundPath3.text;
                                                        context = ApplicationLoader.applicationContext;
                                                        button = choosenSoundPath3;
                                                        choosenSoundPath = r12.lastButtonId;
                                                        lastMessageObject = lastMessageObject4;
                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                        notifyOverride2 = true;
                                                    }
                                                    defaultPath++;
                                                    dialog_id = dialog_id2;
                                                    choosenSoundPath = size22;
                                                    row = row2;
                                                    count = priority2;
                                                    dismissIntent2 = dismissIntent;
                                                    fileLocation3 = fileLocation;
                                                    lastMessageObject4 = lastMessageObject;
                                                    dialog_id2 = notifyAboutLast;
                                                }
                                                priority2 = count;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                z3++;
                                                choosenSoundPath = choosenSoundPath2;
                                                rows = rows2;
                                                size = size2;
                                                defaultPath = defaultPath2;
                                                dismissIntent2 = dismissIntent2;
                                                dialog_id2 = notifyAboutLast;
                                            }
                                            defaultPath2 = defaultPath;
                                            lastMessageObject = lastMessageObject4;
                                            priority2 = count;
                                            dismissIntent = dismissIntent2;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                            if (VERSION.SDK_INT > 19) {
                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            } else {
                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            }
                                            if (VERSION.SDK_INT < 26) {
                                                choosenSoundPath8 = choosenSoundPath2;
                                                notifyOverride = name;
                                                override_dialog_id = lastMessageObject;
                                                priorityOverride = chat2;
                                                silent3 = silent;
                                                notifyDelay = notifyAboutLast;
                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                            } else {
                                                j = dialog_id2;
                                                i2 = notifyDelay;
                                                size = notifyOverride;
                                                j2 = override_dialog_id;
                                                i3 = priorityOverride;
                                                i4 = vibrateOverride;
                                                sharedPreferences = preferences;
                                                i5 = user_id;
                                                i6 = chat_id;
                                                user2 = user;
                                                pendingIntent = contentIntent;
                                                silent3 = silent;
                                                dismissDate2 = needVibrate2;
                                                choosenSoundPath8 = choosenSoundPath2;
                                                str3 = defaultPath2;
                                                i7 = priority2;
                                                intent = dismissIntent;
                                                fileLocation2 = fileLocation;
                                                notifyDelay = notifyAboutLast;
                                            }
                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                            r12.lastNotificationIsNoData = false;
                                            scheduleNotificationRepeat();
                                            return;
                                        }
                                        choosenSoundPath2 = choosenSoundPath;
                                        defaultPath2 = defaultPath;
                                        lastMessageObject = lastMessageObject4;
                                        priority2 = count;
                                        dismissIntent = dismissIntent2;
                                        fileLocation = fileLocation3;
                                        dialog_id2 = dialog_id;
                                        notifyOverride2 = false;
                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                        if (VERSION.SDK_INT > 19) {
                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        } else {
                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        }
                                        if (VERSION.SDK_INT < 26) {
                                            j = dialog_id2;
                                            i2 = notifyDelay;
                                            size = notifyOverride;
                                            j2 = override_dialog_id;
                                            i3 = priorityOverride;
                                            i4 = vibrateOverride;
                                            sharedPreferences = preferences;
                                            i5 = user_id;
                                            i6 = chat_id;
                                            user2 = user;
                                            pendingIntent = contentIntent;
                                            silent3 = silent;
                                            dismissDate2 = needVibrate2;
                                            choosenSoundPath8 = choosenSoundPath2;
                                            str3 = defaultPath2;
                                            i7 = priority2;
                                            intent = dismissIntent;
                                            fileLocation2 = fileLocation;
                                            notifyDelay = notifyAboutLast;
                                        } else {
                                            choosenSoundPath8 = choosenSoundPath2;
                                            notifyOverride = name;
                                            override_dialog_id = lastMessageObject;
                                            priorityOverride = chat2;
                                            silent3 = silent;
                                            notifyDelay = notifyAboutLast;
                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                        }
                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                        r12.lastNotificationIsNoData = false;
                                        scheduleNotificationRepeat();
                                        return;
                                    }
                                }
                                if (r12.pushDialogs.size() != 1) {
                                    stringBuilder4 = new StringBuilder();
                                    stringBuilder4.append(choosenSoundPath9);
                                    objArr = new Object[2];
                                    chatName = choosenSoundPath5;
                                    objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                    objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                    stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                    detailText = stringBuilder4.toString();
                                } else {
                                    stringBuilder4 = new StringBuilder();
                                    stringBuilder4.append(choosenSoundPath9);
                                    stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                    detailText = stringBuilder4.toString();
                                    chatName = choosenSoundPath5;
                                }
                                mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                vibrationPattern3 = null;
                                mBuilder.setCategory("msg");
                                stringBuilder = new StringBuilder();
                                i = 0;
                                stringBuilder.append("tel:+");
                                stringBuilder.append(user3.phone);
                                mBuilder.addPerson(stringBuilder.toString());
                                silent2 = 2;
                                user = user3;
                                if (r12.pushMessages.size() == 1) {
                                    messageObject = (MessageObject) r12.pushMessages.get(0);
                                    lastMessage2 = null;
                                    text = new boolean[1];
                                    stringForMessage = getStringForMessage(messageObject, null, text);
                                    message = stringForMessage;
                                    lastMessage3 = stringForMessage;
                                    choosenSoundPath5 = messageObject.messageOwner.silent;
                                    choosenSoundPath9 = message;
                                    if (choosenSoundPath9 != null) {
                                        if (replace) {
                                            if (chat2 != null) {
                                                silent3 = choosenSoundPath5;
                                                choosenSoundPath5 = new StringBuilder();
                                                sound = null;
                                                choosenSoundPath5.append(" @ ");
                                                choosenSoundPath5.append(str5);
                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                            } else {
                                                silent3 = choosenSoundPath5;
                                                sound = null;
                                                if (text[null]) {
                                                    choosenSoundPath5 = new StringBuilder();
                                                    choosenSoundPath5.append(str5);
                                                    choosenSoundPath5.append(": ");
                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                } else {
                                                    choosenSoundPath5 = new StringBuilder();
                                                    choosenSoundPath5.append(str5);
                                                    choosenSoundPath5.append(" ");
                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                }
                                            }
                                            choosenSoundPath9 = message;
                                        } else {
                                            silent3 = choosenSoundPath5;
                                            sound = null;
                                        }
                                        mBuilder.setContentText(choosenSoundPath9);
                                        mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                        contentIntent = contentIntent2;
                                        dialog_id = dialog_id2;
                                        defaultPath4 = defaultPath3;
                                        notifyDelay = dismissDate2;
                                        choosenSoundPath9 = lastMessage3;
                                        priorityOverride2 = silent3;
                                    } else {
                                        return;
                                    }
                                }
                                lastMessage2 = null;
                                sound = null;
                                mBuilder.setContentText(detailText);
                                inboxStyle = new InboxStyle();
                                inboxStyle.setBigContentTitle(str5);
                                count2 = Math.min(10, r12.pushMessages.size());
                                text2 = new boolean[1];
                                contentIntent = contentIntent2;
                                count = silent2;
                                chat_id2 = 0;
                                while (chat_id2 < count2) {
                                    count3 = count2;
                                    count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                    dialog_id = dialog_id2;
                                    message2 = getStringForMessage(count4, 0, text2);
                                    if (message2 != null) {
                                        defaultPath4 = defaultPath3;
                                        notifyDelay = dismissDate2;
                                        if (count4.messageOwner.date > notifyDelay) {
                                            if (count == 2) {
                                                lastMessage2 = message2;
                                                count = count4.messageOwner.silent;
                                            }
                                            messageObject2 = count4;
                                            if (chat2 != null) {
                                                count2 = new StringBuilder();
                                                count2.append(" @ ");
                                                count2.append(str5);
                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                            } else if (text2[0]) {
                                                count2 = new StringBuilder();
                                                count2.append(str5);
                                                count2.append(": ");
                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                            } else {
                                                count2 = new StringBuilder();
                                                count2.append(str5);
                                                count2.append(" ");
                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                            }
                                            inboxStyle.addLine(message2);
                                        }
                                    } else {
                                        defaultPath4 = defaultPath3;
                                        notifyDelay = dismissDate2;
                                    }
                                    chat_id2++;
                                    dismissDate2 = notifyDelay;
                                    count2 = count3;
                                    dialog_id2 = dialog_id;
                                    defaultPath3 = defaultPath4;
                                }
                                dialog_id = dialog_id2;
                                defaultPath4 = defaultPath3;
                                notifyDelay = dismissDate2;
                                inboxStyle.setSummaryText(detailText);
                                mBuilder.setStyle(inboxStyle);
                                priorityOverride2 = count;
                                choosenSoundPath9 = lastMessage2;
                                dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                if (fileLocation3 != null) {
                                    img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                    if (img != null) {
                                        mBuilder.setLargeIcon(img.getBitmap());
                                        name = str5;
                                    } else {
                                        file = FileLoader.getPathToAttach(fileLocation3, true);
                                        if (file.exists()) {
                                            scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                            options = new Options();
                                            if (scaleFactor < 1.0f) {
                                                name = str5;
                                                str5 = true;
                                            } else {
                                                name = str5;
                                                str5 = (int) scaleFactor;
                                            }
                                            options.inSampleSize = str5;
                                            str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                            if (str5 != null) {
                                                mBuilder.setLargeIcon(str5);
                                            }
                                        } else {
                                            name = str5;
                                        }
                                    }
                                } else {
                                    name = str5;
                                }
                                z = notifyAboutLast;
                                if (z) {
                                    count = priority;
                                } else if (priorityOverride2 == 1) {
                                    count = priority;
                                } else {
                                    if (priority == 0) {
                                        mBuilder.setPriority(0);
                                        if (VERSION.SDK_INT >= 26) {
                                            i = 3;
                                        }
                                        count = priority;
                                    } else {
                                        count = priority;
                                        if (count != 1) {
                                            if (count == 2) {
                                                if (count != 4) {
                                                    mBuilder.setPriority(-2);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        user_id2 = 1;
                                                        i = user_id2;
                                                    }
                                                } else if (count == 5) {
                                                    mBuilder.setPriority(-1);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        user_id2 = 2;
                                                        i = user_id2;
                                                    }
                                                }
                                            }
                                        }
                                        mBuilder.setPriority(1);
                                        if (VERSION.SDK_INT >= 26) {
                                            user_id2 = 4;
                                            i = user_id2;
                                        }
                                    }
                                    if (priorityOverride2 != 1) {
                                    }
                                    lastMessage = choosenSoundPath9;
                                    silent = priorityOverride2;
                                    needVibrate2 = needVibrate;
                                    choosenSoundPath = str;
                                    priorityOverride2 = ledColor;
                                    defaultPath = defaultPath4;
                                    jArr = new long[]{0, 0};
                                    vibrationPattern = jArr;
                                    mBuilder.setVibrate(jArr);
                                    vibrationPattern2 = vibrationPattern;
                                    sound2 = sound;
                                    str2 = lastMessage;
                                    if (AndroidUtilities.needShowPasscode(false)) {
                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                        size = rows.size();
                                        notifyOverride2 = false;
                                        z3 = false;
                                        while (true) {
                                            choosenSoundPath2 = choosenSoundPath;
                                            choosenSoundPath = size;
                                            if (z3 < choosenSoundPath) {
                                                break;
                                            }
                                            rows2 = rows;
                                            size2 = choosenSoundPath;
                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                            choosenSoundPath = row.buttons.size();
                                            defaultPath2 = defaultPath;
                                            defaultPath = 0;
                                            while (defaultPath < choosenSoundPath) {
                                                size22 = choosenSoundPath;
                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                row2 = row;
                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                    priority2 = count;
                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                    dismissIntent = dismissIntent2;
                                                    dialog_id2 = dialog_id;
                                                    callbackIntent.putExtra("did", dialog_id2);
                                                    if (choosenSoundPath3.data == null) {
                                                        fileLocation = fileLocation3;
                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                    } else {
                                                        fileLocation = fileLocation3;
                                                    }
                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                    charSequence = choosenSoundPath3.text;
                                                    context = ApplicationLoader.applicationContext;
                                                    button = choosenSoundPath3;
                                                    choosenSoundPath = r12.lastButtonId;
                                                    lastMessageObject = lastMessageObject4;
                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                    notifyOverride2 = true;
                                                } else {
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                }
                                                defaultPath++;
                                                dialog_id = dialog_id2;
                                                choosenSoundPath = size22;
                                                row = row2;
                                                count = priority2;
                                                dismissIntent2 = dismissIntent;
                                                fileLocation3 = fileLocation;
                                                lastMessageObject4 = lastMessageObject;
                                                dialog_id2 = notifyAboutLast;
                                            }
                                            priority2 = count;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            z3++;
                                            choosenSoundPath = choosenSoundPath2;
                                            rows = rows2;
                                            size = size2;
                                            defaultPath = defaultPath2;
                                            dismissIntent2 = dismissIntent2;
                                            dialog_id2 = notifyAboutLast;
                                        }
                                        defaultPath2 = defaultPath;
                                        lastMessageObject = lastMessageObject4;
                                        priority2 = count;
                                        dismissIntent = dismissIntent2;
                                        fileLocation = fileLocation3;
                                        dialog_id2 = dialog_id;
                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                        if (VERSION.SDK_INT > 19) {
                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        } else {
                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        }
                                        if (VERSION.SDK_INT < 26) {
                                            choosenSoundPath8 = choosenSoundPath2;
                                            notifyOverride = name;
                                            override_dialog_id = lastMessageObject;
                                            priorityOverride = chat2;
                                            silent3 = silent;
                                            notifyDelay = notifyAboutLast;
                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                        } else {
                                            j = dialog_id2;
                                            i2 = notifyDelay;
                                            size = notifyOverride;
                                            j2 = override_dialog_id;
                                            i3 = priorityOverride;
                                            i4 = vibrateOverride;
                                            sharedPreferences = preferences;
                                            i5 = user_id;
                                            i6 = chat_id;
                                            user2 = user;
                                            pendingIntent = contentIntent;
                                            silent3 = silent;
                                            dismissDate2 = needVibrate2;
                                            choosenSoundPath8 = choosenSoundPath2;
                                            str3 = defaultPath2;
                                            i7 = priority2;
                                            intent = dismissIntent;
                                            fileLocation2 = fileLocation;
                                            notifyDelay = notifyAboutLast;
                                        }
                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                        r12.lastNotificationIsNoData = false;
                                        scheduleNotificationRepeat();
                                        return;
                                    }
                                    choosenSoundPath2 = choosenSoundPath;
                                    defaultPath2 = defaultPath;
                                    lastMessageObject = lastMessageObject4;
                                    priority2 = count;
                                    dismissIntent = dismissIntent2;
                                    fileLocation = fileLocation3;
                                    dialog_id2 = dialog_id;
                                    notifyOverride2 = false;
                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                    if (VERSION.SDK_INT > 19) {
                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    } else {
                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    }
                                    if (VERSION.SDK_INT < 26) {
                                        j = dialog_id2;
                                        i2 = notifyDelay;
                                        size = notifyOverride;
                                        j2 = override_dialog_id;
                                        i3 = priorityOverride;
                                        i4 = vibrateOverride;
                                        sharedPreferences = preferences;
                                        i5 = user_id;
                                        i6 = chat_id;
                                        user2 = user;
                                        pendingIntent = contentIntent;
                                        silent3 = silent;
                                        dismissDate2 = needVibrate2;
                                        choosenSoundPath8 = choosenSoundPath2;
                                        str3 = defaultPath2;
                                        i7 = priority2;
                                        intent = dismissIntent;
                                        fileLocation2 = fileLocation;
                                        notifyDelay = notifyAboutLast;
                                    } else {
                                        choosenSoundPath8 = choosenSoundPath2;
                                        notifyOverride = name;
                                        override_dialog_id = lastMessageObject;
                                        priorityOverride = chat2;
                                        silent3 = silent;
                                        notifyDelay = notifyAboutLast;
                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                    }
                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                    r12.lastNotificationIsNoData = false;
                                    scheduleNotificationRepeat();
                                    return;
                                }
                                mBuilder.setPriority(-1);
                                if (VERSION.SDK_INT >= 26) {
                                    user_id2 = 2;
                                    i = user_id2;
                                }
                                if (priorityOverride2 != 1) {
                                }
                                lastMessage = choosenSoundPath9;
                                silent = priorityOverride2;
                                needVibrate2 = needVibrate;
                                choosenSoundPath = str;
                                priorityOverride2 = ledColor;
                                defaultPath = defaultPath4;
                                jArr = new long[]{0, 0};
                                vibrationPattern = jArr;
                                mBuilder.setVibrate(jArr);
                                vibrationPattern2 = vibrationPattern;
                                sound2 = sound;
                                str2 = lastMessage;
                                if (AndroidUtilities.needShowPasscode(false)) {
                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                    size = rows.size();
                                    notifyOverride2 = false;
                                    z3 = false;
                                    while (true) {
                                        choosenSoundPath2 = choosenSoundPath;
                                        choosenSoundPath = size;
                                        if (z3 < choosenSoundPath) {
                                            break;
                                        }
                                        rows2 = rows;
                                        size2 = choosenSoundPath;
                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                        choosenSoundPath = row.buttons.size();
                                        defaultPath2 = defaultPath;
                                        defaultPath = 0;
                                        while (defaultPath < choosenSoundPath) {
                                            size22 = choosenSoundPath;
                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                            row2 = row;
                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                            } else {
                                                priority2 = count;
                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                dismissIntent = dismissIntent2;
                                                dialog_id2 = dialog_id;
                                                callbackIntent.putExtra("did", dialog_id2);
                                                if (choosenSoundPath3.data == null) {
                                                    fileLocation = fileLocation3;
                                                } else {
                                                    fileLocation = fileLocation3;
                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                }
                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                charSequence = choosenSoundPath3.text;
                                                context = ApplicationLoader.applicationContext;
                                                button = choosenSoundPath3;
                                                choosenSoundPath = r12.lastButtonId;
                                                lastMessageObject = lastMessageObject4;
                                                r12.lastButtonId = choosenSoundPath + 1;
                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                notifyOverride2 = true;
                                            }
                                            defaultPath++;
                                            dialog_id = dialog_id2;
                                            choosenSoundPath = size22;
                                            row = row2;
                                            count = priority2;
                                            dismissIntent2 = dismissIntent;
                                            fileLocation3 = fileLocation;
                                            lastMessageObject4 = lastMessageObject;
                                            dialog_id2 = notifyAboutLast;
                                        }
                                        priority2 = count;
                                        fileLocation = fileLocation3;
                                        dialog_id2 = dialog_id;
                                        z3++;
                                        choosenSoundPath = choosenSoundPath2;
                                        rows = rows2;
                                        size = size2;
                                        defaultPath = defaultPath2;
                                        dismissIntent2 = dismissIntent2;
                                        dialog_id2 = notifyAboutLast;
                                    }
                                    defaultPath2 = defaultPath;
                                    lastMessageObject = lastMessageObject4;
                                    priority2 = count;
                                    dismissIntent = dismissIntent2;
                                    fileLocation = fileLocation3;
                                    dialog_id2 = dialog_id;
                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                    if (VERSION.SDK_INT > 19) {
                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    } else {
                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    }
                                    if (VERSION.SDK_INT < 26) {
                                        choosenSoundPath8 = choosenSoundPath2;
                                        notifyOverride = name;
                                        override_dialog_id = lastMessageObject;
                                        priorityOverride = chat2;
                                        silent3 = silent;
                                        notifyDelay = notifyAboutLast;
                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                    } else {
                                        j = dialog_id2;
                                        i2 = notifyDelay;
                                        size = notifyOverride;
                                        j2 = override_dialog_id;
                                        i3 = priorityOverride;
                                        i4 = vibrateOverride;
                                        sharedPreferences = preferences;
                                        i5 = user_id;
                                        i6 = chat_id;
                                        user2 = user;
                                        pendingIntent = contentIntent;
                                        silent3 = silent;
                                        dismissDate2 = needVibrate2;
                                        choosenSoundPath8 = choosenSoundPath2;
                                        str3 = defaultPath2;
                                        i7 = priority2;
                                        intent = dismissIntent;
                                        fileLocation2 = fileLocation;
                                        notifyDelay = notifyAboutLast;
                                    }
                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                    r12.lastNotificationIsNoData = false;
                                    scheduleNotificationRepeat();
                                    return;
                                }
                                choosenSoundPath2 = choosenSoundPath;
                                defaultPath2 = defaultPath;
                                lastMessageObject = lastMessageObject4;
                                priority2 = count;
                                dismissIntent = dismissIntent2;
                                fileLocation = fileLocation3;
                                dialog_id2 = dialog_id;
                                notifyOverride2 = false;
                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                if (VERSION.SDK_INT > 19) {
                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                } else {
                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                }
                                if (VERSION.SDK_INT < 26) {
                                    j = dialog_id2;
                                    i2 = notifyDelay;
                                    size = notifyOverride;
                                    j2 = override_dialog_id;
                                    i3 = priorityOverride;
                                    i4 = vibrateOverride;
                                    sharedPreferences = preferences;
                                    i5 = user_id;
                                    i6 = chat_id;
                                    user2 = user;
                                    pendingIntent = contentIntent;
                                    silent3 = silent;
                                    dismissDate2 = needVibrate2;
                                    choosenSoundPath8 = choosenSoundPath2;
                                    str3 = defaultPath2;
                                    i7 = priority2;
                                    intent = dismissIntent;
                                    fileLocation2 = fileLocation;
                                    notifyDelay = notifyAboutLast;
                                } else {
                                    choosenSoundPath8 = choosenSoundPath2;
                                    notifyOverride = name;
                                    override_dialog_id = lastMessageObject;
                                    priorityOverride = chat2;
                                    silent3 = silent;
                                    notifyDelay = notifyAboutLast;
                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                }
                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                r12.lastNotificationIsNoData = false;
                                scheduleNotificationRepeat();
                                return;
                            }
                        }
                    } else {
                        notifyDisabled = false;
                        user_id3 = notifyOverride2;
                    }
                    notifyDisabled2 = true;
                    if (notifyDisabled2) {
                    }
                    notifyOverride = user_id3;
                    notifyDisabled3 = notifyDisabled2;
                    override_dialog_id = override_dialog_id3;
                    chat = chat5;
                    lastMessageObject3 = lastMessageObject2;
                    try {
                        defaultPath3 = System.DEFAULT_NOTIFICATION_URI.getPath();
                        inAppSounds = preferences2.getBoolean("EnableInAppSounds", true);
                        inAppVibrate = preferences2.getBoolean("EnableInAppVibrate", true);
                        notifyDisabled = preferences2.getBoolean("EnableInAppPreview", true);
                        inAppPriority = preferences2.getBoolean("EnableInAppPriority", false);
                        stringBuilder = new StringBuilder();
                        stringBuilder.append("custom_");
                        stringBuilder.append(dialog_id2);
                        z3 = preferences2.getBoolean(stringBuilder.toString(), false);
                        custom = z3;
                        if (z3) {
                            count = 0;
                            user_id3 = 3;
                            choosenSoundPath4 = null;
                        } else {
                            stringBuilder = new StringBuilder();
                            stringBuilder.append("vibrate_");
                            stringBuilder.append(dialog_id2);
                            user_id3 = preferences2.getInt(stringBuilder.toString(), 0);
                            stringBuilder2 = new StringBuilder();
                            stringBuilder2.append("priority_");
                            stringBuilder2.append(dialog_id2);
                            priorityOverride2 = preferences2.getInt(stringBuilder2.toString(), 3);
                            stringBuilder3 = new StringBuilder();
                            stringBuilder3.append("sound_path_");
                            stringBuilder3.append(dialog_id2);
                            choosenSoundPath4 = preferences2.getString(stringBuilder3.toString(), null);
                            count = user_id3;
                            user_id3 = priorityOverride2;
                        }
                        choosenSoundPath5 = choosenSoundPath4;
                        vibrateOnlyIfSilent = false;
                        if (chat_id2 != 0) {
                            if (choosenSoundPath5 == null) {
                            }
                            if (choosenSoundPath5 == null) {
                                choosenSoundPath5 = preferences2.getString("GroupSoundPath", defaultPath3);
                            }
                            choosenSoundPath6 = choosenSoundPath5;
                            needVibrate3 = preferences2.getInt("vibrate_group", null);
                            i9 = preferences2.getInt("priority_group", 1);
                            i8 = preferences2.getInt("GroupLed", -16776961);
                            needVibrate4 = needVibrate3;
                            choosenSoundPath5 = choosenSoundPath6;
                        } else if (user_id2 == 0) {
                            needVibrate4 = 0;
                        } else {
                            if (choosenSoundPath5 == null) {
                            }
                            if (choosenSoundPath5 == null) {
                                choosenSoundPath5 = preferences2.getString("GlobalSoundPath", defaultPath3);
                            }
                            choosenSoundPath7 = choosenSoundPath5;
                            needVibrate3 = preferences2.getInt("vibrate_messages", null);
                            i9 = preferences2.getInt("priority_group", 1);
                            i8 = preferences2.getInt("MessagesLed", -16776961);
                            needVibrate4 = needVibrate3;
                            choosenSoundPath5 = choosenSoundPath7;
                        }
                        if (custom) {
                            str4 = choosenSoundPath5;
                            dismissDate2 = dismissDate;
                        } else {
                            str4 = choosenSoundPath5;
                            stringBuilder2 = new StringBuilder();
                            dismissDate2 = dismissDate;
                            stringBuilder2.append("color_");
                            stringBuilder2.append(dialog_id2);
                            if (preferences2.contains(stringBuilder2.toString())) {
                                stringBuilder2 = new StringBuilder();
                                stringBuilder2.append("color_");
                                stringBuilder2.append(dialog_id2);
                                i8 = preferences2.getInt(stringBuilder2.toString(), 0);
                            }
                        }
                        if (user_id3 != 3) {
                            i9 = user_id3;
                        }
                        priorityOverride2 = i9;
                        if (needVibrate4 != 4) {
                            vibrateOnlyIfSilent2 = vibrateOnlyIfSilent;
                        } else {
                            vibrateOnlyIfSilent2 = true;
                            needVibrate4 = 0;
                        }
                        needVibrate4 = count;
                        if (ApplicationLoader.mainInterfacePaused) {
                            dismissDate = 2;
                        } else {
                            if (inAppSounds) {
                                str4 = null;
                            }
                            if (inAppVibrate) {
                                needVibrate4 = 2;
                            }
                            if (inAppPriority) {
                                dismissDate = 2;
                                if (priorityOverride2 == 2) {
                                    priorityOverride2 = 1;
                                }
                            } else {
                                priorityOverride2 = 0;
                                choosenSoundPath8 = str4;
                                dismissDate = 2;
                                if (vibrateOnlyIfSilent2) {
                                }
                                priorityOverride = user_id3;
                                configVibrationPattern2 = null;
                                i9 = 0;
                                configSound = null;
                                vibrateOverride = count;
                                if (VERSION.SDK_INT < 26) {
                                    if (needVibrate4 != 2) {
                                        configVibrationPattern2 = new long[]{0, 0};
                                    } else if (needVibrate4 != 1) {
                                        configVibrationPattern2 = new long[]{0, 100, 0, 100};
                                    } else {
                                        if (needVibrate4 != 0) {
                                            if (needVibrate4 != 4) {
                                                if (needVibrate4 == 3) {
                                                    configVibrationPattern2 = new long[]{0, 1000};
                                                }
                                            }
                                        }
                                        configVibrationPattern2 = new long[0];
                                    }
                                    choosenSoundPath9 = choosenSoundPath8;
                                    if (choosenSoundPath9 != null) {
                                    }
                                    configSound2 = configSound;
                                    if (priorityOverride2 != 0) {
                                        i9 = 3;
                                        choosenSoundPath10 = choosenSoundPath9;
                                    } else {
                                        choosenSoundPath10 = choosenSoundPath9;
                                        if (priorityOverride2 != 1) {
                                            if (priorityOverride2 != 2) {
                                                if (priorityOverride2 != 4) {
                                                    user_id3 = 1;
                                                } else if (priorityOverride2 == 5) {
                                                    user_id3 = 2;
                                                }
                                                i9 = user_id3;
                                            }
                                        }
                                        user_id3 = 4;
                                        i9 = user_id3;
                                    }
                                    configSound = configSound2;
                                    configVibrationPattern = configVibrationPattern2;
                                } else {
                                    choosenSoundPath10 = choosenSoundPath8;
                                    configVibrationPattern = null;
                                }
                                if (notifyDisabled3) {
                                    priorityOverride2 = 0;
                                    count = 0;
                                    dismissDate = 0;
                                    choosenSoundPath9 = null;
                                } else {
                                    dismissDate = needVibrate4;
                                    count = i8;
                                    choosenSoundPath9 = choosenSoundPath10;
                                }
                                needVibrate4 = priorityOverride2;
                                preferences = preferences2;
                                intent2 = new Intent(ApplicationLoader.applicationContext, LaunchActivity.class);
                                stringBuilder2 = new StringBuilder();
                                stringBuilder2.append("com.tmessages.openchat");
                                needVibrate = dismissDate;
                                stringBuilder2.append(Math.random());
                                stringBuilder2.append(ConnectionsManager.DEFAULT_DATACENTER_ID);
                                intent2.setAction(stringBuilder2.toString());
                                intent2.setFlags(32768);
                                if (((int) dialog_id2) == 0) {
                                    if (r12.pushDialogs.size() == 1) {
                                        if (chat_id2 == 0) {
                                            intent2.putExtra("chatId", chat_id2);
                                        } else if (user_id2 != 0) {
                                            intent2.putExtra("userId", user_id2);
                                        }
                                    }
                                    if (AndroidUtilities.needShowPasscode(false)) {
                                        str = choosenSoundPath9;
                                        user_id = user_id2;
                                        chat2 = chat;
                                    } else if (!SharedConfig.isWaitingForPasscodeEnter) {
                                        str = choosenSoundPath9;
                                        user_id = user_id2;
                                        chat2 = chat;
                                    } else if (r12.pushDialogs.size() != 1) {
                                        if (chat == null) {
                                            chat2 = chat;
                                            chat3 = chat2;
                                            if (chat2.photo.photo_small.volume_id == 0) {
                                                chat2 = chat3;
                                                if (chat2.photo.photo_small.local_id != 0) {
                                                    str = choosenSoundPath9;
                                                    user_id = user_id2;
                                                    fileLocation3 = chat2.photo.photo_small;
                                                    priority = needVibrate4;
                                                    ledColor = count;
                                                    intent2.putExtra("currentAccount", r12.currentAccount);
                                                    contentIntent2 = PendingIntent.getActivity(ApplicationLoader.applicationContext, 0, intent2, NUM);
                                                    if (chat_id2 == 0) {
                                                    }
                                                    lastMessageObject4 = lastMessageObject3;
                                                    if (chat2 != null) {
                                                        str5 = UserObject.getUserName(user3);
                                                    } else {
                                                        str5 = chat2.title;
                                                    }
                                                    choosenSoundPath5 = str5;
                                                    if (((int) dialog_id2) == 0) {
                                                        replace = true;
                                                        if (SharedConfig.isWaitingForPasscodeEnter) {
                                                            choosenSoundPath9 = choosenSoundPath5;
                                                            str5 = choosenSoundPath9;
                                                            chat_id = chat_id2;
                                                            if (UserConfig.getActivatedAccountsCount() <= 1) {
                                                                choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                                            } else if (r12.pushDialogs.size() != 1) {
                                                                choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                                            } else {
                                                                stringBuilder = new StringBuilder();
                                                                stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                                                stringBuilder.append("\u30fb");
                                                                choosenSoundPath9 = stringBuilder.toString();
                                                            }
                                                            if (r12.pushDialogs.size() == 1) {
                                                                if (VERSION.SDK_INT >= 23) {
                                                                    detailText = choosenSoundPath9;
                                                                    chatName = choosenSoundPath5;
                                                                    z4 = inAppVibrate;
                                                                    mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                                    vibrationPattern3 = null;
                                                                    mBuilder.setCategory("msg");
                                                                    stringBuilder = new StringBuilder();
                                                                    i = 0;
                                                                    stringBuilder.append("tel:+");
                                                                    stringBuilder.append(user3.phone);
                                                                    mBuilder.addPerson(stringBuilder.toString());
                                                                    silent2 = 2;
                                                                    user = user3;
                                                                    if (r12.pushMessages.size() == 1) {
                                                                        lastMessage2 = null;
                                                                        sound = null;
                                                                        mBuilder.setContentText(detailText);
                                                                        inboxStyle = new InboxStyle();
                                                                        inboxStyle.setBigContentTitle(str5);
                                                                        count2 = Math.min(10, r12.pushMessages.size());
                                                                        text2 = new boolean[1];
                                                                        contentIntent = contentIntent2;
                                                                        count = silent2;
                                                                        chat_id2 = 0;
                                                                        while (chat_id2 < count2) {
                                                                            count3 = count2;
                                                                            count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                                            dialog_id = dialog_id2;
                                                                            message2 = getStringForMessage(count4, 0, text2);
                                                                            if (message2 != null) {
                                                                                defaultPath4 = defaultPath3;
                                                                                notifyDelay = dismissDate2;
                                                                            } else {
                                                                                defaultPath4 = defaultPath3;
                                                                                notifyDelay = dismissDate2;
                                                                                if (count4.messageOwner.date > notifyDelay) {
                                                                                    if (count == 2) {
                                                                                        lastMessage2 = message2;
                                                                                        count = count4.messageOwner.silent;
                                                                                    }
                                                                                    messageObject2 = count4;
                                                                                    if (chat2 != null) {
                                                                                        count2 = new StringBuilder();
                                                                                        count2.append(" @ ");
                                                                                        count2.append(str5);
                                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    } else if (text2[0]) {
                                                                                        count2 = new StringBuilder();
                                                                                        count2.append(str5);
                                                                                        count2.append(" ");
                                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    } else {
                                                                                        count2 = new StringBuilder();
                                                                                        count2.append(str5);
                                                                                        count2.append(": ");
                                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    }
                                                                                    inboxStyle.addLine(message2);
                                                                                }
                                                                            }
                                                                            chat_id2++;
                                                                            dismissDate2 = notifyDelay;
                                                                            count2 = count3;
                                                                            dialog_id2 = dialog_id;
                                                                            defaultPath3 = defaultPath4;
                                                                        }
                                                                        dialog_id = dialog_id2;
                                                                        defaultPath4 = defaultPath3;
                                                                        notifyDelay = dismissDate2;
                                                                        inboxStyle.setSummaryText(detailText);
                                                                        mBuilder.setStyle(inboxStyle);
                                                                        priorityOverride2 = count;
                                                                        choosenSoundPath9 = lastMessage2;
                                                                    } else {
                                                                        messageObject = (MessageObject) r12.pushMessages.get(0);
                                                                        lastMessage2 = null;
                                                                        text = new boolean[1];
                                                                        stringForMessage = getStringForMessage(messageObject, null, text);
                                                                        message = stringForMessage;
                                                                        lastMessage3 = stringForMessage;
                                                                        choosenSoundPath5 = messageObject.messageOwner.silent;
                                                                        choosenSoundPath9 = message;
                                                                        if (choosenSoundPath9 != null) {
                                                                            if (replace) {
                                                                                silent3 = choosenSoundPath5;
                                                                                sound = null;
                                                                            } else {
                                                                                if (chat2 != null) {
                                                                                    silent3 = choosenSoundPath5;
                                                                                    sound = null;
                                                                                    if (text[null]) {
                                                                                        choosenSoundPath5 = new StringBuilder();
                                                                                        choosenSoundPath5.append(str5);
                                                                                        choosenSoundPath5.append(" ");
                                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    } else {
                                                                                        choosenSoundPath5 = new StringBuilder();
                                                                                        choosenSoundPath5.append(str5);
                                                                                        choosenSoundPath5.append(": ");
                                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                    }
                                                                                } else {
                                                                                    silent3 = choosenSoundPath5;
                                                                                    choosenSoundPath5 = new StringBuilder();
                                                                                    sound = null;
                                                                                    choosenSoundPath5.append(" @ ");
                                                                                    choosenSoundPath5.append(str5);
                                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                                }
                                                                                choosenSoundPath9 = message;
                                                                            }
                                                                            mBuilder.setContentText(choosenSoundPath9);
                                                                            mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                                            contentIntent = contentIntent2;
                                                                            dialog_id = dialog_id2;
                                                                            defaultPath4 = defaultPath3;
                                                                            notifyDelay = dismissDate2;
                                                                            choosenSoundPath9 = lastMessage3;
                                                                            priorityOverride2 = silent3;
                                                                        } else {
                                                                            return;
                                                                        }
                                                                    }
                                                                    dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                                    dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                                    dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                                    mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                                    if (fileLocation3 != null) {
                                                                        name = str5;
                                                                    } else {
                                                                        img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                                        if (img != null) {
                                                                            file = FileLoader.getPathToAttach(fileLocation3, true);
                                                                            if (file.exists()) {
                                                                                name = str5;
                                                                            } else {
                                                                                scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                                options = new Options();
                                                                                if (scaleFactor < 1.0f) {
                                                                                    name = str5;
                                                                                    str5 = (int) scaleFactor;
                                                                                } else {
                                                                                    name = str5;
                                                                                    str5 = true;
                                                                                }
                                                                                options.inSampleSize = str5;
                                                                                str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                                if (str5 != null) {
                                                                                    mBuilder.setLargeIcon(str5);
                                                                                }
                                                                            }
                                                                        } else {
                                                                            mBuilder.setLargeIcon(img.getBitmap());
                                                                            name = str5;
                                                                        }
                                                                    }
                                                                    z = notifyAboutLast;
                                                                    if (z) {
                                                                        count = priority;
                                                                    } else if (priorityOverride2 == 1) {
                                                                        if (priority == 0) {
                                                                            count = priority;
                                                                            if (count != 1) {
                                                                                if (count == 2) {
                                                                                    if (count != 4) {
                                                                                        mBuilder.setPriority(-2);
                                                                                        if (VERSION.SDK_INT >= 26) {
                                                                                            user_id2 = 1;
                                                                                            i = user_id2;
                                                                                        }
                                                                                    } else if (count == 5) {
                                                                                        mBuilder.setPriority(-1);
                                                                                        if (VERSION.SDK_INT >= 26) {
                                                                                            user_id2 = 2;
                                                                                            i = user_id2;
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                            mBuilder.setPriority(1);
                                                                            if (VERSION.SDK_INT >= 26) {
                                                                                user_id2 = 4;
                                                                                i = user_id2;
                                                                            }
                                                                        } else {
                                                                            mBuilder.setPriority(0);
                                                                            if (VERSION.SDK_INT >= 26) {
                                                                                i = 3;
                                                                            }
                                                                            count = priority;
                                                                        }
                                                                        if (priorityOverride2 != 1) {
                                                                        }
                                                                        lastMessage = choosenSoundPath9;
                                                                        silent = priorityOverride2;
                                                                        needVibrate2 = needVibrate;
                                                                        choosenSoundPath = str;
                                                                        priorityOverride2 = ledColor;
                                                                        defaultPath = defaultPath4;
                                                                        jArr = new long[]{0, 0};
                                                                        vibrationPattern = jArr;
                                                                        mBuilder.setVibrate(jArr);
                                                                        vibrationPattern2 = vibrationPattern;
                                                                        sound2 = sound;
                                                                        str2 = lastMessage;
                                                                        if (AndroidUtilities.needShowPasscode(false)) {
                                                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                            size = rows.size();
                                                                            notifyOverride2 = false;
                                                                            z3 = false;
                                                                            while (true) {
                                                                                choosenSoundPath2 = choosenSoundPath;
                                                                                choosenSoundPath = size;
                                                                                if (z3 < choosenSoundPath) {
                                                                                    break;
                                                                                }
                                                                                rows2 = rows;
                                                                                size2 = choosenSoundPath;
                                                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                                                choosenSoundPath = row.buttons.size();
                                                                                defaultPath2 = defaultPath;
                                                                                defaultPath = 0;
                                                                                while (defaultPath < choosenSoundPath) {
                                                                                    size22 = choosenSoundPath;
                                                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                    row2 = row;
                                                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                        priority2 = count;
                                                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                        dismissIntent = dismissIntent2;
                                                                                        dialog_id2 = dialog_id;
                                                                                        callbackIntent.putExtra("did", dialog_id2);
                                                                                        if (choosenSoundPath3.data == null) {
                                                                                            fileLocation = fileLocation3;
                                                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                        } else {
                                                                                            fileLocation = fileLocation3;
                                                                                        }
                                                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                        charSequence = choosenSoundPath3.text;
                                                                                        context = ApplicationLoader.applicationContext;
                                                                                        button = choosenSoundPath3;
                                                                                        choosenSoundPath = r12.lastButtonId;
                                                                                        lastMessageObject = lastMessageObject4;
                                                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                        notifyOverride2 = true;
                                                                                    } else {
                                                                                        lastMessageObject = lastMessageObject4;
                                                                                        priority2 = count;
                                                                                        dismissIntent = dismissIntent2;
                                                                                        fileLocation = fileLocation3;
                                                                                        dialog_id2 = dialog_id;
                                                                                    }
                                                                                    defaultPath++;
                                                                                    dialog_id = dialog_id2;
                                                                                    choosenSoundPath = size22;
                                                                                    row = row2;
                                                                                    count = priority2;
                                                                                    dismissIntent2 = dismissIntent;
                                                                                    fileLocation3 = fileLocation;
                                                                                    lastMessageObject4 = lastMessageObject;
                                                                                    dialog_id2 = notifyAboutLast;
                                                                                }
                                                                                priority2 = count;
                                                                                fileLocation = fileLocation3;
                                                                                dialog_id2 = dialog_id;
                                                                                z3++;
                                                                                choosenSoundPath = choosenSoundPath2;
                                                                                rows = rows2;
                                                                                size = size2;
                                                                                defaultPath = defaultPath2;
                                                                                dismissIntent2 = dismissIntent2;
                                                                                dialog_id2 = notifyAboutLast;
                                                                            }
                                                                            defaultPath2 = defaultPath;
                                                                            lastMessageObject = lastMessageObject4;
                                                                            priority2 = count;
                                                                            dismissIntent = dismissIntent2;
                                                                            fileLocation = fileLocation3;
                                                                            dialog_id2 = dialog_id;
                                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                            if (VERSION.SDK_INT > 19) {
                                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                            } else {
                                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                            }
                                                                            if (VERSION.SDK_INT < 26) {
                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                notifyOverride = name;
                                                                                override_dialog_id = lastMessageObject;
                                                                                priorityOverride = chat2;
                                                                                silent3 = silent;
                                                                                notifyDelay = notifyAboutLast;
                                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                            } else {
                                                                                j = dialog_id2;
                                                                                i2 = notifyDelay;
                                                                                size = notifyOverride;
                                                                                j2 = override_dialog_id;
                                                                                i3 = priorityOverride;
                                                                                i4 = vibrateOverride;
                                                                                sharedPreferences = preferences;
                                                                                i5 = user_id;
                                                                                i6 = chat_id;
                                                                                user2 = user;
                                                                                pendingIntent = contentIntent;
                                                                                silent3 = silent;
                                                                                dismissDate2 = needVibrate2;
                                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                                str3 = defaultPath2;
                                                                                i7 = priority2;
                                                                                intent = dismissIntent;
                                                                                fileLocation2 = fileLocation;
                                                                                notifyDelay = notifyAboutLast;
                                                                            }
                                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                            r12.lastNotificationIsNoData = false;
                                                                            scheduleNotificationRepeat();
                                                                            return;
                                                                        }
                                                                        choosenSoundPath2 = choosenSoundPath;
                                                                        defaultPath2 = defaultPath;
                                                                        lastMessageObject = lastMessageObject4;
                                                                        priority2 = count;
                                                                        dismissIntent = dismissIntent2;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                        notifyOverride2 = false;
                                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                        if (VERSION.SDK_INT > 19) {
                                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                        } else {
                                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                        }
                                                                        if (VERSION.SDK_INT < 26) {
                                                                            j = dialog_id2;
                                                                            i2 = notifyDelay;
                                                                            size = notifyOverride;
                                                                            j2 = override_dialog_id;
                                                                            i3 = priorityOverride;
                                                                            i4 = vibrateOverride;
                                                                            sharedPreferences = preferences;
                                                                            i5 = user_id;
                                                                            i6 = chat_id;
                                                                            user2 = user;
                                                                            pendingIntent = contentIntent;
                                                                            silent3 = silent;
                                                                            dismissDate2 = needVibrate2;
                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                            str3 = defaultPath2;
                                                                            i7 = priority2;
                                                                            intent = dismissIntent;
                                                                            fileLocation2 = fileLocation;
                                                                            notifyDelay = notifyAboutLast;
                                                                        } else {
                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                            notifyOverride = name;
                                                                            override_dialog_id = lastMessageObject;
                                                                            priorityOverride = chat2;
                                                                            silent3 = silent;
                                                                            notifyDelay = notifyAboutLast;
                                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                        }
                                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                        r12.lastNotificationIsNoData = false;
                                                                        scheduleNotificationRepeat();
                                                                        return;
                                                                    } else {
                                                                        count = priority;
                                                                    }
                                                                    mBuilder.setPriority(-1);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        user_id2 = 2;
                                                                        i = user_id2;
                                                                    }
                                                                    if (priorityOverride2 != 1) {
                                                                    }
                                                                    lastMessage = choosenSoundPath9;
                                                                    silent = priorityOverride2;
                                                                    needVibrate2 = needVibrate;
                                                                    choosenSoundPath = str;
                                                                    priorityOverride2 = ledColor;
                                                                    defaultPath = defaultPath4;
                                                                    jArr = new long[]{0, 0};
                                                                    vibrationPattern = jArr;
                                                                    mBuilder.setVibrate(jArr);
                                                                    vibrationPattern2 = vibrationPattern;
                                                                    sound2 = sound;
                                                                    str2 = lastMessage;
                                                                    if (AndroidUtilities.needShowPasscode(false)) {
                                                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                        size = rows.size();
                                                                        notifyOverride2 = false;
                                                                        z3 = false;
                                                                        while (true) {
                                                                            choosenSoundPath2 = choosenSoundPath;
                                                                            choosenSoundPath = size;
                                                                            if (z3 < choosenSoundPath) {
                                                                                break;
                                                                            }
                                                                            rows2 = rows;
                                                                            size2 = choosenSoundPath;
                                                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                                                            choosenSoundPath = row.buttons.size();
                                                                            defaultPath2 = defaultPath;
                                                                            defaultPath = 0;
                                                                            while (defaultPath < choosenSoundPath) {
                                                                                size22 = choosenSoundPath;
                                                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                                row2 = row;
                                                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                    lastMessageObject = lastMessageObject4;
                                                                                    priority2 = count;
                                                                                    dismissIntent = dismissIntent2;
                                                                                    fileLocation = fileLocation3;
                                                                                    dialog_id2 = dialog_id;
                                                                                } else {
                                                                                    priority2 = count;
                                                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                    dismissIntent = dismissIntent2;
                                                                                    dialog_id2 = dialog_id;
                                                                                    callbackIntent.putExtra("did", dialog_id2);
                                                                                    if (choosenSoundPath3.data == null) {
                                                                                        fileLocation = fileLocation3;
                                                                                    } else {
                                                                                        fileLocation = fileLocation3;
                                                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                    }
                                                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                    charSequence = choosenSoundPath3.text;
                                                                                    context = ApplicationLoader.applicationContext;
                                                                                    button = choosenSoundPath3;
                                                                                    choosenSoundPath = r12.lastButtonId;
                                                                                    lastMessageObject = lastMessageObject4;
                                                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                    notifyOverride2 = true;
                                                                                }
                                                                                defaultPath++;
                                                                                dialog_id = dialog_id2;
                                                                                choosenSoundPath = size22;
                                                                                row = row2;
                                                                                count = priority2;
                                                                                dismissIntent2 = dismissIntent;
                                                                                fileLocation3 = fileLocation;
                                                                                lastMessageObject4 = lastMessageObject;
                                                                                dialog_id2 = notifyAboutLast;
                                                                            }
                                                                            priority2 = count;
                                                                            fileLocation = fileLocation3;
                                                                            dialog_id2 = dialog_id;
                                                                            z3++;
                                                                            choosenSoundPath = choosenSoundPath2;
                                                                            rows = rows2;
                                                                            size = size2;
                                                                            defaultPath = defaultPath2;
                                                                            dismissIntent2 = dismissIntent2;
                                                                            dialog_id2 = notifyAboutLast;
                                                                        }
                                                                        defaultPath2 = defaultPath;
                                                                        lastMessageObject = lastMessageObject4;
                                                                        priority2 = count;
                                                                        dismissIntent = dismissIntent2;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                        if (VERSION.SDK_INT > 19) {
                                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                        } else {
                                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                        }
                                                                        if (VERSION.SDK_INT < 26) {
                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                            notifyOverride = name;
                                                                            override_dialog_id = lastMessageObject;
                                                                            priorityOverride = chat2;
                                                                            silent3 = silent;
                                                                            notifyDelay = notifyAboutLast;
                                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                        } else {
                                                                            j = dialog_id2;
                                                                            i2 = notifyDelay;
                                                                            size = notifyOverride;
                                                                            j2 = override_dialog_id;
                                                                            i3 = priorityOverride;
                                                                            i4 = vibrateOverride;
                                                                            sharedPreferences = preferences;
                                                                            i5 = user_id;
                                                                            i6 = chat_id;
                                                                            user2 = user;
                                                                            pendingIntent = contentIntent;
                                                                            silent3 = silent;
                                                                            dismissDate2 = needVibrate2;
                                                                            choosenSoundPath8 = choosenSoundPath2;
                                                                            str3 = defaultPath2;
                                                                            i7 = priority2;
                                                                            intent = dismissIntent;
                                                                            fileLocation2 = fileLocation;
                                                                            notifyDelay = notifyAboutLast;
                                                                        }
                                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                        r12.lastNotificationIsNoData = false;
                                                                        scheduleNotificationRepeat();
                                                                        return;
                                                                    }
                                                                    choosenSoundPath2 = choosenSoundPath;
                                                                    defaultPath2 = defaultPath;
                                                                    lastMessageObject = lastMessageObject4;
                                                                    priority2 = count;
                                                                    dismissIntent = dismissIntent2;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                    notifyOverride2 = false;
                                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                    if (VERSION.SDK_INT > 19) {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    } else {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    }
                                                                    if (VERSION.SDK_INT < 26) {
                                                                        j = dialog_id2;
                                                                        i2 = notifyDelay;
                                                                        size = notifyOverride;
                                                                        j2 = override_dialog_id;
                                                                        i3 = priorityOverride;
                                                                        i4 = vibrateOverride;
                                                                        sharedPreferences = preferences;
                                                                        i5 = user_id;
                                                                        i6 = chat_id;
                                                                        user2 = user;
                                                                        pendingIntent = contentIntent;
                                                                        silent3 = silent;
                                                                        dismissDate2 = needVibrate2;
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        str3 = defaultPath2;
                                                                        i7 = priority2;
                                                                        intent = dismissIntent;
                                                                        fileLocation2 = fileLocation;
                                                                        notifyDelay = notifyAboutLast;
                                                                    } else {
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        notifyOverride = name;
                                                                        override_dialog_id = lastMessageObject;
                                                                        priorityOverride = chat2;
                                                                        silent3 = silent;
                                                                        notifyDelay = notifyAboutLast;
                                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                    }
                                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                    r12.lastNotificationIsNoData = false;
                                                                    scheduleNotificationRepeat();
                                                                    return;
                                                                }
                                                            }
                                                            if (r12.pushDialogs.size() != 1) {
                                                                stringBuilder4 = new StringBuilder();
                                                                stringBuilder4.append(choosenSoundPath9);
                                                                stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                                                detailText = stringBuilder4.toString();
                                                                chatName = choosenSoundPath5;
                                                            } else {
                                                                stringBuilder4 = new StringBuilder();
                                                                stringBuilder4.append(choosenSoundPath9);
                                                                objArr = new Object[2];
                                                                chatName = choosenSoundPath5;
                                                                objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                                                objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                                                stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                                                detailText = stringBuilder4.toString();
                                                            }
                                                            mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                            vibrationPattern3 = null;
                                                            mBuilder.setCategory("msg");
                                                            stringBuilder = new StringBuilder();
                                                            i = 0;
                                                            stringBuilder.append("tel:+");
                                                            stringBuilder.append(user3.phone);
                                                            mBuilder.addPerson(stringBuilder.toString());
                                                            silent2 = 2;
                                                            user = user3;
                                                            if (r12.pushMessages.size() == 1) {
                                                                messageObject = (MessageObject) r12.pushMessages.get(0);
                                                                lastMessage2 = null;
                                                                text = new boolean[1];
                                                                stringForMessage = getStringForMessage(messageObject, null, text);
                                                                message = stringForMessage;
                                                                lastMessage3 = stringForMessage;
                                                                choosenSoundPath5 = messageObject.messageOwner.silent;
                                                                choosenSoundPath9 = message;
                                                                if (choosenSoundPath9 != null) {
                                                                    if (replace) {
                                                                        if (chat2 != null) {
                                                                            silent3 = choosenSoundPath5;
                                                                            choosenSoundPath5 = new StringBuilder();
                                                                            sound = null;
                                                                            choosenSoundPath5.append(" @ ");
                                                                            choosenSoundPath5.append(str5);
                                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                        } else {
                                                                            silent3 = choosenSoundPath5;
                                                                            sound = null;
                                                                            if (text[null]) {
                                                                                choosenSoundPath5 = new StringBuilder();
                                                                                choosenSoundPath5.append(str5);
                                                                                choosenSoundPath5.append(": ");
                                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            } else {
                                                                                choosenSoundPath5 = new StringBuilder();
                                                                                choosenSoundPath5.append(str5);
                                                                                choosenSoundPath5.append(" ");
                                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            }
                                                                        }
                                                                        choosenSoundPath9 = message;
                                                                    } else {
                                                                        silent3 = choosenSoundPath5;
                                                                        sound = null;
                                                                    }
                                                                    mBuilder.setContentText(choosenSoundPath9);
                                                                    mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                                    contentIntent = contentIntent2;
                                                                    dialog_id = dialog_id2;
                                                                    defaultPath4 = defaultPath3;
                                                                    notifyDelay = dismissDate2;
                                                                    choosenSoundPath9 = lastMessage3;
                                                                    priorityOverride2 = silent3;
                                                                } else {
                                                                    return;
                                                                }
                                                            }
                                                            lastMessage2 = null;
                                                            sound = null;
                                                            mBuilder.setContentText(detailText);
                                                            inboxStyle = new InboxStyle();
                                                            inboxStyle.setBigContentTitle(str5);
                                                            count2 = Math.min(10, r12.pushMessages.size());
                                                            text2 = new boolean[1];
                                                            contentIntent = contentIntent2;
                                                            count = silent2;
                                                            chat_id2 = 0;
                                                            while (chat_id2 < count2) {
                                                                count3 = count2;
                                                                count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                                dialog_id = dialog_id2;
                                                                message2 = getStringForMessage(count4, 0, text2);
                                                                if (message2 != null) {
                                                                    defaultPath4 = defaultPath3;
                                                                    notifyDelay = dismissDate2;
                                                                    if (count4.messageOwner.date > notifyDelay) {
                                                                        if (count == 2) {
                                                                            lastMessage2 = message2;
                                                                            count = count4.messageOwner.silent;
                                                                        }
                                                                        messageObject2 = count4;
                                                                        if (chat2 != null) {
                                                                            count2 = new StringBuilder();
                                                                            count2.append(" @ ");
                                                                            count2.append(str5);
                                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                        } else if (text2[0]) {
                                                                            count2 = new StringBuilder();
                                                                            count2.append(str5);
                                                                            count2.append(": ");
                                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                        } else {
                                                                            count2 = new StringBuilder();
                                                                            count2.append(str5);
                                                                            count2.append(" ");
                                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                        }
                                                                        inboxStyle.addLine(message2);
                                                                    }
                                                                } else {
                                                                    defaultPath4 = defaultPath3;
                                                                    notifyDelay = dismissDate2;
                                                                }
                                                                chat_id2++;
                                                                dismissDate2 = notifyDelay;
                                                                count2 = count3;
                                                                dialog_id2 = dialog_id;
                                                                defaultPath3 = defaultPath4;
                                                            }
                                                            dialog_id = dialog_id2;
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                            inboxStyle.setSummaryText(detailText);
                                                            mBuilder.setStyle(inboxStyle);
                                                            priorityOverride2 = count;
                                                            choosenSoundPath9 = lastMessage2;
                                                            dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                            dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                            dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                            mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                            if (fileLocation3 != null) {
                                                                img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                                if (img != null) {
                                                                    mBuilder.setLargeIcon(img.getBitmap());
                                                                    name = str5;
                                                                } else {
                                                                    file = FileLoader.getPathToAttach(fileLocation3, true);
                                                                    if (file.exists()) {
                                                                        scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                        options = new Options();
                                                                        if (scaleFactor < 1.0f) {
                                                                            name = str5;
                                                                            str5 = true;
                                                                        } else {
                                                                            name = str5;
                                                                            str5 = (int) scaleFactor;
                                                                        }
                                                                        options.inSampleSize = str5;
                                                                        str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                        if (str5 != null) {
                                                                            mBuilder.setLargeIcon(str5);
                                                                        }
                                                                    } else {
                                                                        name = str5;
                                                                    }
                                                                }
                                                            } else {
                                                                name = str5;
                                                            }
                                                            z = notifyAboutLast;
                                                            if (z) {
                                                                count = priority;
                                                            } else if (priorityOverride2 == 1) {
                                                                count = priority;
                                                            } else {
                                                                if (priority == 0) {
                                                                    mBuilder.setPriority(0);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        i = 3;
                                                                    }
                                                                    count = priority;
                                                                } else {
                                                                    count = priority;
                                                                    if (count != 1) {
                                                                        if (count == 2) {
                                                                            if (count != 4) {
                                                                                mBuilder.setPriority(-2);
                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                    user_id2 = 1;
                                                                                    i = user_id2;
                                                                                }
                                                                            } else if (count == 5) {
                                                                                mBuilder.setPriority(-1);
                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                    user_id2 = 2;
                                                                                    i = user_id2;
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                    mBuilder.setPriority(1);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        user_id2 = 4;
                                                                        i = user_id2;
                                                                    }
                                                                }
                                                                if (priorityOverride2 != 1) {
                                                                }
                                                                lastMessage = choosenSoundPath9;
                                                                silent = priorityOverride2;
                                                                needVibrate2 = needVibrate;
                                                                choosenSoundPath = str;
                                                                priorityOverride2 = ledColor;
                                                                defaultPath = defaultPath4;
                                                                jArr = new long[]{0, 0};
                                                                vibrationPattern = jArr;
                                                                mBuilder.setVibrate(jArr);
                                                                vibrationPattern2 = vibrationPattern;
                                                                sound2 = sound;
                                                                str2 = lastMessage;
                                                                if (AndroidUtilities.needShowPasscode(false)) {
                                                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                    size = rows.size();
                                                                    notifyOverride2 = false;
                                                                    z3 = false;
                                                                    while (true) {
                                                                        choosenSoundPath2 = choosenSoundPath;
                                                                        choosenSoundPath = size;
                                                                        if (z3 < choosenSoundPath) {
                                                                            break;
                                                                        }
                                                                        rows2 = rows;
                                                                        size2 = choosenSoundPath;
                                                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                                                        choosenSoundPath = row.buttons.size();
                                                                        defaultPath2 = defaultPath;
                                                                        defaultPath = 0;
                                                                        while (defaultPath < choosenSoundPath) {
                                                                            size22 = choosenSoundPath;
                                                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                            row2 = row;
                                                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                priority2 = count;
                                                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                dismissIntent = dismissIntent2;
                                                                                dialog_id2 = dialog_id;
                                                                                callbackIntent.putExtra("did", dialog_id2);
                                                                                if (choosenSoundPath3.data == null) {
                                                                                    fileLocation = fileLocation3;
                                                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                } else {
                                                                                    fileLocation = fileLocation3;
                                                                                }
                                                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                charSequence = choosenSoundPath3.text;
                                                                                context = ApplicationLoader.applicationContext;
                                                                                button = choosenSoundPath3;
                                                                                choosenSoundPath = r12.lastButtonId;
                                                                                lastMessageObject = lastMessageObject4;
                                                                                r12.lastButtonId = choosenSoundPath + 1;
                                                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                notifyOverride2 = true;
                                                                            } else {
                                                                                lastMessageObject = lastMessageObject4;
                                                                                priority2 = count;
                                                                                dismissIntent = dismissIntent2;
                                                                                fileLocation = fileLocation3;
                                                                                dialog_id2 = dialog_id;
                                                                            }
                                                                            defaultPath++;
                                                                            dialog_id = dialog_id2;
                                                                            choosenSoundPath = size22;
                                                                            row = row2;
                                                                            count = priority2;
                                                                            dismissIntent2 = dismissIntent;
                                                                            fileLocation3 = fileLocation;
                                                                            lastMessageObject4 = lastMessageObject;
                                                                            dialog_id2 = notifyAboutLast;
                                                                        }
                                                                        priority2 = count;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                        z3++;
                                                                        choosenSoundPath = choosenSoundPath2;
                                                                        rows = rows2;
                                                                        size = size2;
                                                                        defaultPath = defaultPath2;
                                                                        dismissIntent2 = dismissIntent2;
                                                                        dialog_id2 = notifyAboutLast;
                                                                    }
                                                                    defaultPath2 = defaultPath;
                                                                    lastMessageObject = lastMessageObject4;
                                                                    priority2 = count;
                                                                    dismissIntent = dismissIntent2;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                    if (VERSION.SDK_INT > 19) {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    } else {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    }
                                                                    if (VERSION.SDK_INT < 26) {
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        notifyOverride = name;
                                                                        override_dialog_id = lastMessageObject;
                                                                        priorityOverride = chat2;
                                                                        silent3 = silent;
                                                                        notifyDelay = notifyAboutLast;
                                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                    } else {
                                                                        j = dialog_id2;
                                                                        i2 = notifyDelay;
                                                                        size = notifyOverride;
                                                                        j2 = override_dialog_id;
                                                                        i3 = priorityOverride;
                                                                        i4 = vibrateOverride;
                                                                        sharedPreferences = preferences;
                                                                        i5 = user_id;
                                                                        i6 = chat_id;
                                                                        user2 = user;
                                                                        pendingIntent = contentIntent;
                                                                        silent3 = silent;
                                                                        dismissDate2 = needVibrate2;
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        str3 = defaultPath2;
                                                                        i7 = priority2;
                                                                        intent = dismissIntent;
                                                                        fileLocation2 = fileLocation;
                                                                        notifyDelay = notifyAboutLast;
                                                                    }
                                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                    r12.lastNotificationIsNoData = false;
                                                                    scheduleNotificationRepeat();
                                                                    return;
                                                                }
                                                                choosenSoundPath2 = choosenSoundPath;
                                                                defaultPath2 = defaultPath;
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                                notifyOverride2 = false;
                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                if (VERSION.SDK_INT > 19) {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                } else {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                }
                                                                if (VERSION.SDK_INT < 26) {
                                                                    j = dialog_id2;
                                                                    i2 = notifyDelay;
                                                                    size = notifyOverride;
                                                                    j2 = override_dialog_id;
                                                                    i3 = priorityOverride;
                                                                    i4 = vibrateOverride;
                                                                    sharedPreferences = preferences;
                                                                    i5 = user_id;
                                                                    i6 = chat_id;
                                                                    user2 = user;
                                                                    pendingIntent = contentIntent;
                                                                    silent3 = silent;
                                                                    dismissDate2 = needVibrate2;
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    str3 = defaultPath2;
                                                                    i7 = priority2;
                                                                    intent = dismissIntent;
                                                                    fileLocation2 = fileLocation;
                                                                    notifyDelay = notifyAboutLast;
                                                                } else {
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    notifyOverride = name;
                                                                    override_dialog_id = lastMessageObject;
                                                                    priorityOverride = chat2;
                                                                    silent3 = silent;
                                                                    notifyDelay = notifyAboutLast;
                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                }
                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                r12.lastNotificationIsNoData = false;
                                                                scheduleNotificationRepeat();
                                                                return;
                                                            }
                                                            mBuilder.setPriority(-1);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 2;
                                                                i = user_id2;
                                                            }
                                                            if (priorityOverride2 != 1) {
                                                            }
                                                            lastMessage = choosenSoundPath9;
                                                            silent = priorityOverride2;
                                                            needVibrate2 = needVibrate;
                                                            choosenSoundPath = str;
                                                            priorityOverride2 = ledColor;
                                                            defaultPath = defaultPath4;
                                                            jArr = new long[]{0, 0};
                                                            vibrationPattern = jArr;
                                                            mBuilder.setVibrate(jArr);
                                                            vibrationPattern2 = vibrationPattern;
                                                            sound2 = sound;
                                                            str2 = lastMessage;
                                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                size = rows.size();
                                                                notifyOverride2 = false;
                                                                z3 = false;
                                                                while (true) {
                                                                    choosenSoundPath2 = choosenSoundPath;
                                                                    choosenSoundPath = size;
                                                                    if (z3 < choosenSoundPath) {
                                                                        break;
                                                                    }
                                                                    rows2 = rows;
                                                                    size2 = choosenSoundPath;
                                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                                    choosenSoundPath = row.buttons.size();
                                                                    defaultPath2 = defaultPath;
                                                                    defaultPath = 0;
                                                                    while (defaultPath < choosenSoundPath) {
                                                                        size22 = choosenSoundPath;
                                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                        row2 = row;
                                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                            lastMessageObject = lastMessageObject4;
                                                                            priority2 = count;
                                                                            dismissIntent = dismissIntent2;
                                                                            fileLocation = fileLocation3;
                                                                            dialog_id2 = dialog_id;
                                                                        } else {
                                                                            priority2 = count;
                                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                            dismissIntent = dismissIntent2;
                                                                            dialog_id2 = dialog_id;
                                                                            callbackIntent.putExtra("did", dialog_id2);
                                                                            if (choosenSoundPath3.data == null) {
                                                                                fileLocation = fileLocation3;
                                                                            } else {
                                                                                fileLocation = fileLocation3;
                                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                            }
                                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                            charSequence = choosenSoundPath3.text;
                                                                            context = ApplicationLoader.applicationContext;
                                                                            button = choosenSoundPath3;
                                                                            choosenSoundPath = r12.lastButtonId;
                                                                            lastMessageObject = lastMessageObject4;
                                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                            notifyOverride2 = true;
                                                                        }
                                                                        defaultPath++;
                                                                        dialog_id = dialog_id2;
                                                                        choosenSoundPath = size22;
                                                                        row = row2;
                                                                        count = priority2;
                                                                        dismissIntent2 = dismissIntent;
                                                                        fileLocation3 = fileLocation;
                                                                        lastMessageObject4 = lastMessageObject;
                                                                        dialog_id2 = notifyAboutLast;
                                                                    }
                                                                    priority2 = count;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                    z3++;
                                                                    choosenSoundPath = choosenSoundPath2;
                                                                    rows = rows2;
                                                                    size = size2;
                                                                    defaultPath = defaultPath2;
                                                                    dismissIntent2 = dismissIntent2;
                                                                    dialog_id2 = notifyAboutLast;
                                                                }
                                                                defaultPath2 = defaultPath;
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                if (VERSION.SDK_INT > 19) {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                } else {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                }
                                                                if (VERSION.SDK_INT < 26) {
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    notifyOverride = name;
                                                                    override_dialog_id = lastMessageObject;
                                                                    priorityOverride = chat2;
                                                                    silent3 = silent;
                                                                    notifyDelay = notifyAboutLast;
                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                } else {
                                                                    j = dialog_id2;
                                                                    i2 = notifyDelay;
                                                                    size = notifyOverride;
                                                                    j2 = override_dialog_id;
                                                                    i3 = priorityOverride;
                                                                    i4 = vibrateOverride;
                                                                    sharedPreferences = preferences;
                                                                    i5 = user_id;
                                                                    i6 = chat_id;
                                                                    user2 = user;
                                                                    pendingIntent = contentIntent;
                                                                    silent3 = silent;
                                                                    dismissDate2 = needVibrate2;
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    str3 = defaultPath2;
                                                                    i7 = priority2;
                                                                    intent = dismissIntent;
                                                                    fileLocation2 = fileLocation;
                                                                    notifyDelay = notifyAboutLast;
                                                                }
                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                r12.lastNotificationIsNoData = false;
                                                                scheduleNotificationRepeat();
                                                                return;
                                                            }
                                                            choosenSoundPath2 = choosenSoundPath;
                                                            defaultPath2 = defaultPath;
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            notifyOverride2 = false;
                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                            if (VERSION.SDK_INT > 19) {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            } else {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            }
                                                            if (VERSION.SDK_INT < 26) {
                                                                j = dialog_id2;
                                                                i2 = notifyDelay;
                                                                size = notifyOverride;
                                                                j2 = override_dialog_id;
                                                                i3 = priorityOverride;
                                                                i4 = vibrateOverride;
                                                                sharedPreferences = preferences;
                                                                i5 = user_id;
                                                                i6 = chat_id;
                                                                user2 = user;
                                                                pendingIntent = contentIntent;
                                                                silent3 = silent;
                                                                dismissDate2 = needVibrate2;
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                str3 = defaultPath2;
                                                                i7 = priority2;
                                                                intent = dismissIntent;
                                                                fileLocation2 = fileLocation;
                                                                notifyDelay = notifyAboutLast;
                                                            } else {
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                notifyOverride = name;
                                                                override_dialog_id = lastMessageObject;
                                                                priorityOverride = chat2;
                                                                silent3 = silent;
                                                                notifyDelay = notifyAboutLast;
                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                            }
                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                            r12.lastNotificationIsNoData = false;
                                                            scheduleNotificationRepeat();
                                                            return;
                                                        }
                                                    } else {
                                                        replace = true;
                                                    }
                                                    choosenSoundPath9 = LocaleController.getString("AppName", R.string.AppName);
                                                    replace = false;
                                                    str5 = choosenSoundPath9;
                                                    chat_id = chat_id2;
                                                    if (UserConfig.getActivatedAccountsCount() <= 1) {
                                                        choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                                    } else if (r12.pushDialogs.size() != 1) {
                                                        stringBuilder = new StringBuilder();
                                                        stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                                        stringBuilder.append("\u30fb");
                                                        choosenSoundPath9 = stringBuilder.toString();
                                                    } else {
                                                        choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                                    }
                                                    if (r12.pushDialogs.size() == 1) {
                                                        if (VERSION.SDK_INT >= 23) {
                                                            detailText = choosenSoundPath9;
                                                            chatName = choosenSoundPath5;
                                                            z4 = inAppVibrate;
                                                            mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                            vibrationPattern3 = null;
                                                            mBuilder.setCategory("msg");
                                                            stringBuilder = new StringBuilder();
                                                            i = 0;
                                                            stringBuilder.append("tel:+");
                                                            stringBuilder.append(user3.phone);
                                                            mBuilder.addPerson(stringBuilder.toString());
                                                            silent2 = 2;
                                                            user = user3;
                                                            if (r12.pushMessages.size() == 1) {
                                                                lastMessage2 = null;
                                                                sound = null;
                                                                mBuilder.setContentText(detailText);
                                                                inboxStyle = new InboxStyle();
                                                                inboxStyle.setBigContentTitle(str5);
                                                                count2 = Math.min(10, r12.pushMessages.size());
                                                                text2 = new boolean[1];
                                                                contentIntent = contentIntent2;
                                                                count = silent2;
                                                                chat_id2 = 0;
                                                                while (chat_id2 < count2) {
                                                                    count3 = count2;
                                                                    count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                                    dialog_id = dialog_id2;
                                                                    message2 = getStringForMessage(count4, 0, text2);
                                                                    if (message2 != null) {
                                                                        defaultPath4 = defaultPath3;
                                                                        notifyDelay = dismissDate2;
                                                                    } else {
                                                                        defaultPath4 = defaultPath3;
                                                                        notifyDelay = dismissDate2;
                                                                        if (count4.messageOwner.date > notifyDelay) {
                                                                            if (count == 2) {
                                                                                lastMessage2 = message2;
                                                                                count = count4.messageOwner.silent;
                                                                            }
                                                                            messageObject2 = count4;
                                                                            if (chat2 != null) {
                                                                                count2 = new StringBuilder();
                                                                                count2.append(" @ ");
                                                                                count2.append(str5);
                                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            } else if (text2[0]) {
                                                                                count2 = new StringBuilder();
                                                                                count2.append(str5);
                                                                                count2.append(" ");
                                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            } else {
                                                                                count2 = new StringBuilder();
                                                                                count2.append(str5);
                                                                                count2.append(": ");
                                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            }
                                                                            inboxStyle.addLine(message2);
                                                                        }
                                                                    }
                                                                    chat_id2++;
                                                                    dismissDate2 = notifyDelay;
                                                                    count2 = count3;
                                                                    dialog_id2 = dialog_id;
                                                                    defaultPath3 = defaultPath4;
                                                                }
                                                                dialog_id = dialog_id2;
                                                                defaultPath4 = defaultPath3;
                                                                notifyDelay = dismissDate2;
                                                                inboxStyle.setSummaryText(detailText);
                                                                mBuilder.setStyle(inboxStyle);
                                                                priorityOverride2 = count;
                                                                choosenSoundPath9 = lastMessage2;
                                                            } else {
                                                                messageObject = (MessageObject) r12.pushMessages.get(0);
                                                                lastMessage2 = null;
                                                                text = new boolean[1];
                                                                stringForMessage = getStringForMessage(messageObject, null, text);
                                                                message = stringForMessage;
                                                                lastMessage3 = stringForMessage;
                                                                choosenSoundPath5 = messageObject.messageOwner.silent;
                                                                choosenSoundPath9 = message;
                                                                if (choosenSoundPath9 != null) {
                                                                    if (replace) {
                                                                        silent3 = choosenSoundPath5;
                                                                        sound = null;
                                                                    } else {
                                                                        if (chat2 != null) {
                                                                            silent3 = choosenSoundPath5;
                                                                            sound = null;
                                                                            if (text[null]) {
                                                                                choosenSoundPath5 = new StringBuilder();
                                                                                choosenSoundPath5.append(str5);
                                                                                choosenSoundPath5.append(" ");
                                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            } else {
                                                                                choosenSoundPath5 = new StringBuilder();
                                                                                choosenSoundPath5.append(str5);
                                                                                choosenSoundPath5.append(": ");
                                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            }
                                                                        } else {
                                                                            silent3 = choosenSoundPath5;
                                                                            choosenSoundPath5 = new StringBuilder();
                                                                            sound = null;
                                                                            choosenSoundPath5.append(" @ ");
                                                                            choosenSoundPath5.append(str5);
                                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                        }
                                                                        choosenSoundPath9 = message;
                                                                    }
                                                                    mBuilder.setContentText(choosenSoundPath9);
                                                                    mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                                    contentIntent = contentIntent2;
                                                                    dialog_id = dialog_id2;
                                                                    defaultPath4 = defaultPath3;
                                                                    notifyDelay = dismissDate2;
                                                                    choosenSoundPath9 = lastMessage3;
                                                                    priorityOverride2 = silent3;
                                                                } else {
                                                                    return;
                                                                }
                                                            }
                                                            dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                            dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                            dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                            mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                            if (fileLocation3 != null) {
                                                                name = str5;
                                                            } else {
                                                                img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                                if (img != null) {
                                                                    file = FileLoader.getPathToAttach(fileLocation3, true);
                                                                    if (file.exists()) {
                                                                        name = str5;
                                                                    } else {
                                                                        scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                        options = new Options();
                                                                        if (scaleFactor < 1.0f) {
                                                                            name = str5;
                                                                            str5 = (int) scaleFactor;
                                                                        } else {
                                                                            name = str5;
                                                                            str5 = true;
                                                                        }
                                                                        options.inSampleSize = str5;
                                                                        str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                        if (str5 != null) {
                                                                            mBuilder.setLargeIcon(str5);
                                                                        }
                                                                    }
                                                                } else {
                                                                    mBuilder.setLargeIcon(img.getBitmap());
                                                                    name = str5;
                                                                }
                                                            }
                                                            z = notifyAboutLast;
                                                            if (z) {
                                                                count = priority;
                                                            } else if (priorityOverride2 == 1) {
                                                                if (priority == 0) {
                                                                    count = priority;
                                                                    if (count != 1) {
                                                                        if (count == 2) {
                                                                            if (count != 4) {
                                                                                mBuilder.setPriority(-2);
                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                    user_id2 = 1;
                                                                                    i = user_id2;
                                                                                }
                                                                            } else if (count == 5) {
                                                                                mBuilder.setPriority(-1);
                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                    user_id2 = 2;
                                                                                    i = user_id2;
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                    mBuilder.setPriority(1);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        user_id2 = 4;
                                                                        i = user_id2;
                                                                    }
                                                                } else {
                                                                    mBuilder.setPriority(0);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        i = 3;
                                                                    }
                                                                    count = priority;
                                                                }
                                                                if (priorityOverride2 != 1) {
                                                                }
                                                                lastMessage = choosenSoundPath9;
                                                                silent = priorityOverride2;
                                                                needVibrate2 = needVibrate;
                                                                choosenSoundPath = str;
                                                                priorityOverride2 = ledColor;
                                                                defaultPath = defaultPath4;
                                                                jArr = new long[]{0, 0};
                                                                vibrationPattern = jArr;
                                                                mBuilder.setVibrate(jArr);
                                                                vibrationPattern2 = vibrationPattern;
                                                                sound2 = sound;
                                                                str2 = lastMessage;
                                                                if (AndroidUtilities.needShowPasscode(false)) {
                                                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                    size = rows.size();
                                                                    notifyOverride2 = false;
                                                                    z3 = false;
                                                                    while (true) {
                                                                        choosenSoundPath2 = choosenSoundPath;
                                                                        choosenSoundPath = size;
                                                                        if (z3 < choosenSoundPath) {
                                                                            break;
                                                                        }
                                                                        rows2 = rows;
                                                                        size2 = choosenSoundPath;
                                                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                                                        choosenSoundPath = row.buttons.size();
                                                                        defaultPath2 = defaultPath;
                                                                        defaultPath = 0;
                                                                        while (defaultPath < choosenSoundPath) {
                                                                            size22 = choosenSoundPath;
                                                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                            row2 = row;
                                                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                priority2 = count;
                                                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                dismissIntent = dismissIntent2;
                                                                                dialog_id2 = dialog_id;
                                                                                callbackIntent.putExtra("did", dialog_id2);
                                                                                if (choosenSoundPath3.data == null) {
                                                                                    fileLocation = fileLocation3;
                                                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                } else {
                                                                                    fileLocation = fileLocation3;
                                                                                }
                                                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                charSequence = choosenSoundPath3.text;
                                                                                context = ApplicationLoader.applicationContext;
                                                                                button = choosenSoundPath3;
                                                                                choosenSoundPath = r12.lastButtonId;
                                                                                lastMessageObject = lastMessageObject4;
                                                                                r12.lastButtonId = choosenSoundPath + 1;
                                                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                notifyOverride2 = true;
                                                                            } else {
                                                                                lastMessageObject = lastMessageObject4;
                                                                                priority2 = count;
                                                                                dismissIntent = dismissIntent2;
                                                                                fileLocation = fileLocation3;
                                                                                dialog_id2 = dialog_id;
                                                                            }
                                                                            defaultPath++;
                                                                            dialog_id = dialog_id2;
                                                                            choosenSoundPath = size22;
                                                                            row = row2;
                                                                            count = priority2;
                                                                            dismissIntent2 = dismissIntent;
                                                                            fileLocation3 = fileLocation;
                                                                            lastMessageObject4 = lastMessageObject;
                                                                            dialog_id2 = notifyAboutLast;
                                                                        }
                                                                        priority2 = count;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                        z3++;
                                                                        choosenSoundPath = choosenSoundPath2;
                                                                        rows = rows2;
                                                                        size = size2;
                                                                        defaultPath = defaultPath2;
                                                                        dismissIntent2 = dismissIntent2;
                                                                        dialog_id2 = notifyAboutLast;
                                                                    }
                                                                    defaultPath2 = defaultPath;
                                                                    lastMessageObject = lastMessageObject4;
                                                                    priority2 = count;
                                                                    dismissIntent = dismissIntent2;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                    if (VERSION.SDK_INT > 19) {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    } else {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    }
                                                                    if (VERSION.SDK_INT < 26) {
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        notifyOverride = name;
                                                                        override_dialog_id = lastMessageObject;
                                                                        priorityOverride = chat2;
                                                                        silent3 = silent;
                                                                        notifyDelay = notifyAboutLast;
                                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                    } else {
                                                                        j = dialog_id2;
                                                                        i2 = notifyDelay;
                                                                        size = notifyOverride;
                                                                        j2 = override_dialog_id;
                                                                        i3 = priorityOverride;
                                                                        i4 = vibrateOverride;
                                                                        sharedPreferences = preferences;
                                                                        i5 = user_id;
                                                                        i6 = chat_id;
                                                                        user2 = user;
                                                                        pendingIntent = contentIntent;
                                                                        silent3 = silent;
                                                                        dismissDate2 = needVibrate2;
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        str3 = defaultPath2;
                                                                        i7 = priority2;
                                                                        intent = dismissIntent;
                                                                        fileLocation2 = fileLocation;
                                                                        notifyDelay = notifyAboutLast;
                                                                    }
                                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                    r12.lastNotificationIsNoData = false;
                                                                    scheduleNotificationRepeat();
                                                                    return;
                                                                }
                                                                choosenSoundPath2 = choosenSoundPath;
                                                                defaultPath2 = defaultPath;
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                                notifyOverride2 = false;
                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                if (VERSION.SDK_INT > 19) {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                } else {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                }
                                                                if (VERSION.SDK_INT < 26) {
                                                                    j = dialog_id2;
                                                                    i2 = notifyDelay;
                                                                    size = notifyOverride;
                                                                    j2 = override_dialog_id;
                                                                    i3 = priorityOverride;
                                                                    i4 = vibrateOverride;
                                                                    sharedPreferences = preferences;
                                                                    i5 = user_id;
                                                                    i6 = chat_id;
                                                                    user2 = user;
                                                                    pendingIntent = contentIntent;
                                                                    silent3 = silent;
                                                                    dismissDate2 = needVibrate2;
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    str3 = defaultPath2;
                                                                    i7 = priority2;
                                                                    intent = dismissIntent;
                                                                    fileLocation2 = fileLocation;
                                                                    notifyDelay = notifyAboutLast;
                                                                } else {
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    notifyOverride = name;
                                                                    override_dialog_id = lastMessageObject;
                                                                    priorityOverride = chat2;
                                                                    silent3 = silent;
                                                                    notifyDelay = notifyAboutLast;
                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                }
                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                r12.lastNotificationIsNoData = false;
                                                                scheduleNotificationRepeat();
                                                                return;
                                                            } else {
                                                                count = priority;
                                                            }
                                                            mBuilder.setPriority(-1);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 2;
                                                                i = user_id2;
                                                            }
                                                            if (priorityOverride2 != 1) {
                                                            }
                                                            lastMessage = choosenSoundPath9;
                                                            silent = priorityOverride2;
                                                            needVibrate2 = needVibrate;
                                                            choosenSoundPath = str;
                                                            priorityOverride2 = ledColor;
                                                            defaultPath = defaultPath4;
                                                            jArr = new long[]{0, 0};
                                                            vibrationPattern = jArr;
                                                            mBuilder.setVibrate(jArr);
                                                            vibrationPattern2 = vibrationPattern;
                                                            sound2 = sound;
                                                            str2 = lastMessage;
                                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                size = rows.size();
                                                                notifyOverride2 = false;
                                                                z3 = false;
                                                                while (true) {
                                                                    choosenSoundPath2 = choosenSoundPath;
                                                                    choosenSoundPath = size;
                                                                    if (z3 < choosenSoundPath) {
                                                                        break;
                                                                    }
                                                                    rows2 = rows;
                                                                    size2 = choosenSoundPath;
                                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                                    choosenSoundPath = row.buttons.size();
                                                                    defaultPath2 = defaultPath;
                                                                    defaultPath = 0;
                                                                    while (defaultPath < choosenSoundPath) {
                                                                        size22 = choosenSoundPath;
                                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                        row2 = row;
                                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                            lastMessageObject = lastMessageObject4;
                                                                            priority2 = count;
                                                                            dismissIntent = dismissIntent2;
                                                                            fileLocation = fileLocation3;
                                                                            dialog_id2 = dialog_id;
                                                                        } else {
                                                                            priority2 = count;
                                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                            dismissIntent = dismissIntent2;
                                                                            dialog_id2 = dialog_id;
                                                                            callbackIntent.putExtra("did", dialog_id2);
                                                                            if (choosenSoundPath3.data == null) {
                                                                                fileLocation = fileLocation3;
                                                                            } else {
                                                                                fileLocation = fileLocation3;
                                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                            }
                                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                            charSequence = choosenSoundPath3.text;
                                                                            context = ApplicationLoader.applicationContext;
                                                                            button = choosenSoundPath3;
                                                                            choosenSoundPath = r12.lastButtonId;
                                                                            lastMessageObject = lastMessageObject4;
                                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                            notifyOverride2 = true;
                                                                        }
                                                                        defaultPath++;
                                                                        dialog_id = dialog_id2;
                                                                        choosenSoundPath = size22;
                                                                        row = row2;
                                                                        count = priority2;
                                                                        dismissIntent2 = dismissIntent;
                                                                        fileLocation3 = fileLocation;
                                                                        lastMessageObject4 = lastMessageObject;
                                                                        dialog_id2 = notifyAboutLast;
                                                                    }
                                                                    priority2 = count;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                    z3++;
                                                                    choosenSoundPath = choosenSoundPath2;
                                                                    rows = rows2;
                                                                    size = size2;
                                                                    defaultPath = defaultPath2;
                                                                    dismissIntent2 = dismissIntent2;
                                                                    dialog_id2 = notifyAboutLast;
                                                                }
                                                                defaultPath2 = defaultPath;
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                if (VERSION.SDK_INT > 19) {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                } else {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                }
                                                                if (VERSION.SDK_INT < 26) {
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    notifyOverride = name;
                                                                    override_dialog_id = lastMessageObject;
                                                                    priorityOverride = chat2;
                                                                    silent3 = silent;
                                                                    notifyDelay = notifyAboutLast;
                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                } else {
                                                                    j = dialog_id2;
                                                                    i2 = notifyDelay;
                                                                    size = notifyOverride;
                                                                    j2 = override_dialog_id;
                                                                    i3 = priorityOverride;
                                                                    i4 = vibrateOverride;
                                                                    sharedPreferences = preferences;
                                                                    i5 = user_id;
                                                                    i6 = chat_id;
                                                                    user2 = user;
                                                                    pendingIntent = contentIntent;
                                                                    silent3 = silent;
                                                                    dismissDate2 = needVibrate2;
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    str3 = defaultPath2;
                                                                    i7 = priority2;
                                                                    intent = dismissIntent;
                                                                    fileLocation2 = fileLocation;
                                                                    notifyDelay = notifyAboutLast;
                                                                }
                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                r12.lastNotificationIsNoData = false;
                                                                scheduleNotificationRepeat();
                                                                return;
                                                            }
                                                            choosenSoundPath2 = choosenSoundPath;
                                                            defaultPath2 = defaultPath;
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            notifyOverride2 = false;
                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                            if (VERSION.SDK_INT > 19) {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            } else {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            }
                                                            if (VERSION.SDK_INT < 26) {
                                                                j = dialog_id2;
                                                                i2 = notifyDelay;
                                                                size = notifyOverride;
                                                                j2 = override_dialog_id;
                                                                i3 = priorityOverride;
                                                                i4 = vibrateOverride;
                                                                sharedPreferences = preferences;
                                                                i5 = user_id;
                                                                i6 = chat_id;
                                                                user2 = user;
                                                                pendingIntent = contentIntent;
                                                                silent3 = silent;
                                                                dismissDate2 = needVibrate2;
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                str3 = defaultPath2;
                                                                i7 = priority2;
                                                                intent = dismissIntent;
                                                                fileLocation2 = fileLocation;
                                                                notifyDelay = notifyAboutLast;
                                                            } else {
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                notifyOverride = name;
                                                                override_dialog_id = lastMessageObject;
                                                                priorityOverride = chat2;
                                                                silent3 = silent;
                                                                notifyDelay = notifyAboutLast;
                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                            }
                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                            r12.lastNotificationIsNoData = false;
                                                            scheduleNotificationRepeat();
                                                            return;
                                                        }
                                                    }
                                                    if (r12.pushDialogs.size() != 1) {
                                                        stringBuilder4 = new StringBuilder();
                                                        stringBuilder4.append(choosenSoundPath9);
                                                        objArr = new Object[2];
                                                        chatName = choosenSoundPath5;
                                                        objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                                        objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                                        stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                                        detailText = stringBuilder4.toString();
                                                    } else {
                                                        stringBuilder4 = new StringBuilder();
                                                        stringBuilder4.append(choosenSoundPath9);
                                                        stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                                        detailText = stringBuilder4.toString();
                                                        chatName = choosenSoundPath5;
                                                    }
                                                    mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                    vibrationPattern3 = null;
                                                    mBuilder.setCategory("msg");
                                                    stringBuilder = new StringBuilder();
                                                    i = 0;
                                                    stringBuilder.append("tel:+");
                                                    stringBuilder.append(user3.phone);
                                                    mBuilder.addPerson(stringBuilder.toString());
                                                    silent2 = 2;
                                                    user = user3;
                                                    if (r12.pushMessages.size() == 1) {
                                                        messageObject = (MessageObject) r12.pushMessages.get(0);
                                                        lastMessage2 = null;
                                                        text = new boolean[1];
                                                        stringForMessage = getStringForMessage(messageObject, null, text);
                                                        message = stringForMessage;
                                                        lastMessage3 = stringForMessage;
                                                        choosenSoundPath5 = messageObject.messageOwner.silent;
                                                        choosenSoundPath9 = message;
                                                        if (choosenSoundPath9 != null) {
                                                            if (replace) {
                                                                if (chat2 != null) {
                                                                    silent3 = choosenSoundPath5;
                                                                    choosenSoundPath5 = new StringBuilder();
                                                                    sound = null;
                                                                    choosenSoundPath5.append(" @ ");
                                                                    choosenSoundPath5.append(str5);
                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                } else {
                                                                    silent3 = choosenSoundPath5;
                                                                    sound = null;
                                                                    if (text[null]) {
                                                                        choosenSoundPath5 = new StringBuilder();
                                                                        choosenSoundPath5.append(str5);
                                                                        choosenSoundPath5.append(": ");
                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    } else {
                                                                        choosenSoundPath5 = new StringBuilder();
                                                                        choosenSoundPath5.append(str5);
                                                                        choosenSoundPath5.append(" ");
                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    }
                                                                }
                                                                choosenSoundPath9 = message;
                                                            } else {
                                                                silent3 = choosenSoundPath5;
                                                                sound = null;
                                                            }
                                                            mBuilder.setContentText(choosenSoundPath9);
                                                            mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                            contentIntent = contentIntent2;
                                                            dialog_id = dialog_id2;
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                            choosenSoundPath9 = lastMessage3;
                                                            priorityOverride2 = silent3;
                                                        } else {
                                                            return;
                                                        }
                                                    }
                                                    lastMessage2 = null;
                                                    sound = null;
                                                    mBuilder.setContentText(detailText);
                                                    inboxStyle = new InboxStyle();
                                                    inboxStyle.setBigContentTitle(str5);
                                                    count2 = Math.min(10, r12.pushMessages.size());
                                                    text2 = new boolean[1];
                                                    contentIntent = contentIntent2;
                                                    count = silent2;
                                                    chat_id2 = 0;
                                                    while (chat_id2 < count2) {
                                                        count3 = count2;
                                                        count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                        dialog_id = dialog_id2;
                                                        message2 = getStringForMessage(count4, 0, text2);
                                                        if (message2 != null) {
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                            if (count4.messageOwner.date > notifyDelay) {
                                                                if (count == 2) {
                                                                    lastMessage2 = message2;
                                                                    count = count4.messageOwner.silent;
                                                                }
                                                                messageObject2 = count4;
                                                                if (chat2 != null) {
                                                                    count2 = new StringBuilder();
                                                                    count2.append(" @ ");
                                                                    count2.append(str5);
                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                } else if (text2[0]) {
                                                                    count2 = new StringBuilder();
                                                                    count2.append(str5);
                                                                    count2.append(": ");
                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                } else {
                                                                    count2 = new StringBuilder();
                                                                    count2.append(str5);
                                                                    count2.append(" ");
                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                }
                                                                inboxStyle.addLine(message2);
                                                            }
                                                        } else {
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                        }
                                                        chat_id2++;
                                                        dismissDate2 = notifyDelay;
                                                        count2 = count3;
                                                        dialog_id2 = dialog_id;
                                                        defaultPath3 = defaultPath4;
                                                    }
                                                    dialog_id = dialog_id2;
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                    inboxStyle.setSummaryText(detailText);
                                                    mBuilder.setStyle(inboxStyle);
                                                    priorityOverride2 = count;
                                                    choosenSoundPath9 = lastMessage2;
                                                    dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                    dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                    dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                    mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                    if (fileLocation3 != null) {
                                                        img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                        if (img != null) {
                                                            mBuilder.setLargeIcon(img.getBitmap());
                                                            name = str5;
                                                        } else {
                                                            file = FileLoader.getPathToAttach(fileLocation3, true);
                                                            if (file.exists()) {
                                                                scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                options = new Options();
                                                                if (scaleFactor < 1.0f) {
                                                                    name = str5;
                                                                    str5 = true;
                                                                } else {
                                                                    name = str5;
                                                                    str5 = (int) scaleFactor;
                                                                }
                                                                options.inSampleSize = str5;
                                                                str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                if (str5 != null) {
                                                                    mBuilder.setLargeIcon(str5);
                                                                }
                                                            } else {
                                                                name = str5;
                                                            }
                                                        }
                                                    } else {
                                                        name = str5;
                                                    }
                                                    z = notifyAboutLast;
                                                    if (z) {
                                                        count = priority;
                                                    } else if (priorityOverride2 == 1) {
                                                        count = priority;
                                                    } else {
                                                        if (priority == 0) {
                                                            mBuilder.setPriority(0);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                i = 3;
                                                            }
                                                            count = priority;
                                                        } else {
                                                            count = priority;
                                                            if (count != 1) {
                                                                if (count == 2) {
                                                                    if (count != 4) {
                                                                        mBuilder.setPriority(-2);
                                                                        if (VERSION.SDK_INT >= 26) {
                                                                            user_id2 = 1;
                                                                            i = user_id2;
                                                                        }
                                                                    } else if (count == 5) {
                                                                        mBuilder.setPriority(-1);
                                                                        if (VERSION.SDK_INT >= 26) {
                                                                            user_id2 = 2;
                                                                            i = user_id2;
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                            mBuilder.setPriority(1);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 4;
                                                                i = user_id2;
                                                            }
                                                        }
                                                        if (priorityOverride2 != 1) {
                                                        }
                                                        lastMessage = choosenSoundPath9;
                                                        silent = priorityOverride2;
                                                        needVibrate2 = needVibrate;
                                                        choosenSoundPath = str;
                                                        priorityOverride2 = ledColor;
                                                        defaultPath = defaultPath4;
                                                        jArr = new long[]{0, 0};
                                                        vibrationPattern = jArr;
                                                        mBuilder.setVibrate(jArr);
                                                        vibrationPattern2 = vibrationPattern;
                                                        sound2 = sound;
                                                        str2 = lastMessage;
                                                        if (AndroidUtilities.needShowPasscode(false)) {
                                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                            size = rows.size();
                                                            notifyOverride2 = false;
                                                            z3 = false;
                                                            while (true) {
                                                                choosenSoundPath2 = choosenSoundPath;
                                                                choosenSoundPath = size;
                                                                if (z3 < choosenSoundPath) {
                                                                    break;
                                                                }
                                                                rows2 = rows;
                                                                size2 = choosenSoundPath;
                                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                                choosenSoundPath = row.buttons.size();
                                                                defaultPath2 = defaultPath;
                                                                defaultPath = 0;
                                                                while (defaultPath < choosenSoundPath) {
                                                                    size22 = choosenSoundPath;
                                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                    row2 = row;
                                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                        priority2 = count;
                                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                        dismissIntent = dismissIntent2;
                                                                        dialog_id2 = dialog_id;
                                                                        callbackIntent.putExtra("did", dialog_id2);
                                                                        if (choosenSoundPath3.data == null) {
                                                                            fileLocation = fileLocation3;
                                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                        } else {
                                                                            fileLocation = fileLocation3;
                                                                        }
                                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                        charSequence = choosenSoundPath3.text;
                                                                        context = ApplicationLoader.applicationContext;
                                                                        button = choosenSoundPath3;
                                                                        choosenSoundPath = r12.lastButtonId;
                                                                        lastMessageObject = lastMessageObject4;
                                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                        notifyOverride2 = true;
                                                                    } else {
                                                                        lastMessageObject = lastMessageObject4;
                                                                        priority2 = count;
                                                                        dismissIntent = dismissIntent2;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                    }
                                                                    defaultPath++;
                                                                    dialog_id = dialog_id2;
                                                                    choosenSoundPath = size22;
                                                                    row = row2;
                                                                    count = priority2;
                                                                    dismissIntent2 = dismissIntent;
                                                                    fileLocation3 = fileLocation;
                                                                    lastMessageObject4 = lastMessageObject;
                                                                    dialog_id2 = notifyAboutLast;
                                                                }
                                                                priority2 = count;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                                z3++;
                                                                choosenSoundPath = choosenSoundPath2;
                                                                rows = rows2;
                                                                size = size2;
                                                                defaultPath = defaultPath2;
                                                                dismissIntent2 = dismissIntent2;
                                                                dialog_id2 = notifyAboutLast;
                                                            }
                                                            defaultPath2 = defaultPath;
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                            if (VERSION.SDK_INT > 19) {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            } else {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            }
                                                            if (VERSION.SDK_INT < 26) {
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                notifyOverride = name;
                                                                override_dialog_id = lastMessageObject;
                                                                priorityOverride = chat2;
                                                                silent3 = silent;
                                                                notifyDelay = notifyAboutLast;
                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                            } else {
                                                                j = dialog_id2;
                                                                i2 = notifyDelay;
                                                                size = notifyOverride;
                                                                j2 = override_dialog_id;
                                                                i3 = priorityOverride;
                                                                i4 = vibrateOverride;
                                                                sharedPreferences = preferences;
                                                                i5 = user_id;
                                                                i6 = chat_id;
                                                                user2 = user;
                                                                pendingIntent = contentIntent;
                                                                silent3 = silent;
                                                                dismissDate2 = needVibrate2;
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                str3 = defaultPath2;
                                                                i7 = priority2;
                                                                intent = dismissIntent;
                                                                fileLocation2 = fileLocation;
                                                                notifyDelay = notifyAboutLast;
                                                            }
                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                            r12.lastNotificationIsNoData = false;
                                                            scheduleNotificationRepeat();
                                                            return;
                                                        }
                                                        choosenSoundPath2 = choosenSoundPath;
                                                        defaultPath2 = defaultPath;
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        notifyOverride2 = false;
                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                        if (VERSION.SDK_INT > 19) {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        } else {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        }
                                                        if (VERSION.SDK_INT < 26) {
                                                            j = dialog_id2;
                                                            i2 = notifyDelay;
                                                            size = notifyOverride;
                                                            j2 = override_dialog_id;
                                                            i3 = priorityOverride;
                                                            i4 = vibrateOverride;
                                                            sharedPreferences = preferences;
                                                            i5 = user_id;
                                                            i6 = chat_id;
                                                            user2 = user;
                                                            pendingIntent = contentIntent;
                                                            silent3 = silent;
                                                            dismissDate2 = needVibrate2;
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            str3 = defaultPath2;
                                                            i7 = priority2;
                                                            intent = dismissIntent;
                                                            fileLocation2 = fileLocation;
                                                            notifyDelay = notifyAboutLast;
                                                        } else {
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            notifyOverride = name;
                                                            override_dialog_id = lastMessageObject;
                                                            priorityOverride = chat2;
                                                            silent3 = silent;
                                                            notifyDelay = notifyAboutLast;
                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                        }
                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                        r12.lastNotificationIsNoData = false;
                                                        scheduleNotificationRepeat();
                                                        return;
                                                    }
                                                    mBuilder.setPriority(-1);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        user_id2 = 2;
                                                        i = user_id2;
                                                    }
                                                    if (priorityOverride2 != 1) {
                                                    }
                                                    lastMessage = choosenSoundPath9;
                                                    silent = priorityOverride2;
                                                    needVibrate2 = needVibrate;
                                                    choosenSoundPath = str;
                                                    priorityOverride2 = ledColor;
                                                    defaultPath = defaultPath4;
                                                    jArr = new long[]{0, 0};
                                                    vibrationPattern = jArr;
                                                    mBuilder.setVibrate(jArr);
                                                    vibrationPattern2 = vibrationPattern;
                                                    sound2 = sound;
                                                    str2 = lastMessage;
                                                    if (AndroidUtilities.needShowPasscode(false)) {
                                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                        size = rows.size();
                                                        notifyOverride2 = false;
                                                        z3 = false;
                                                        while (true) {
                                                            choosenSoundPath2 = choosenSoundPath;
                                                            choosenSoundPath = size;
                                                            if (z3 < choosenSoundPath) {
                                                                break;
                                                            }
                                                            rows2 = rows;
                                                            size2 = choosenSoundPath;
                                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                                            choosenSoundPath = row.buttons.size();
                                                            defaultPath2 = defaultPath;
                                                            defaultPath = 0;
                                                            while (defaultPath < choosenSoundPath) {
                                                                size22 = choosenSoundPath;
                                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                row2 = row;
                                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                    lastMessageObject = lastMessageObject4;
                                                                    priority2 = count;
                                                                    dismissIntent = dismissIntent2;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                } else {
                                                                    priority2 = count;
                                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                    dismissIntent = dismissIntent2;
                                                                    dialog_id2 = dialog_id;
                                                                    callbackIntent.putExtra("did", dialog_id2);
                                                                    if (choosenSoundPath3.data == null) {
                                                                        fileLocation = fileLocation3;
                                                                    } else {
                                                                        fileLocation = fileLocation3;
                                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                    }
                                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                    charSequence = choosenSoundPath3.text;
                                                                    context = ApplicationLoader.applicationContext;
                                                                    button = choosenSoundPath3;
                                                                    choosenSoundPath = r12.lastButtonId;
                                                                    lastMessageObject = lastMessageObject4;
                                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                    notifyOverride2 = true;
                                                                }
                                                                defaultPath++;
                                                                dialog_id = dialog_id2;
                                                                choosenSoundPath = size22;
                                                                row = row2;
                                                                count = priority2;
                                                                dismissIntent2 = dismissIntent;
                                                                fileLocation3 = fileLocation;
                                                                lastMessageObject4 = lastMessageObject;
                                                                dialog_id2 = notifyAboutLast;
                                                            }
                                                            priority2 = count;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            z3++;
                                                            choosenSoundPath = choosenSoundPath2;
                                                            rows = rows2;
                                                            size = size2;
                                                            defaultPath = defaultPath2;
                                                            dismissIntent2 = dismissIntent2;
                                                            dialog_id2 = notifyAboutLast;
                                                        }
                                                        defaultPath2 = defaultPath;
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                        if (VERSION.SDK_INT > 19) {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        } else {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        }
                                                        if (VERSION.SDK_INT < 26) {
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            notifyOverride = name;
                                                            override_dialog_id = lastMessageObject;
                                                            priorityOverride = chat2;
                                                            silent3 = silent;
                                                            notifyDelay = notifyAboutLast;
                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                        } else {
                                                            j = dialog_id2;
                                                            i2 = notifyDelay;
                                                            size = notifyOverride;
                                                            j2 = override_dialog_id;
                                                            i3 = priorityOverride;
                                                            i4 = vibrateOverride;
                                                            sharedPreferences = preferences;
                                                            i5 = user_id;
                                                            i6 = chat_id;
                                                            user2 = user;
                                                            pendingIntent = contentIntent;
                                                            silent3 = silent;
                                                            dismissDate2 = needVibrate2;
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            str3 = defaultPath2;
                                                            i7 = priority2;
                                                            intent = dismissIntent;
                                                            fileLocation2 = fileLocation;
                                                            notifyDelay = notifyAboutLast;
                                                        }
                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                        r12.lastNotificationIsNoData = false;
                                                        scheduleNotificationRepeat();
                                                        return;
                                                    }
                                                    choosenSoundPath2 = choosenSoundPath;
                                                    defaultPath2 = defaultPath;
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    notifyOverride2 = false;
                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                    if (VERSION.SDK_INT > 19) {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    } else {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    }
                                                    if (VERSION.SDK_INT < 26) {
                                                        j = dialog_id2;
                                                        i2 = notifyDelay;
                                                        size = notifyOverride;
                                                        j2 = override_dialog_id;
                                                        i3 = priorityOverride;
                                                        i4 = vibrateOverride;
                                                        sharedPreferences = preferences;
                                                        i5 = user_id;
                                                        i6 = chat_id;
                                                        user2 = user;
                                                        pendingIntent = contentIntent;
                                                        silent3 = silent;
                                                        dismissDate2 = needVibrate2;
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        str3 = defaultPath2;
                                                        i7 = priority2;
                                                        intent = dismissIntent;
                                                        fileLocation2 = fileLocation;
                                                        notifyDelay = notifyAboutLast;
                                                    } else {
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        notifyOverride = name;
                                                        override_dialog_id = lastMessageObject;
                                                        priorityOverride = chat2;
                                                        silent3 = silent;
                                                        notifyDelay = notifyAboutLast;
                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                    }
                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                    r12.lastNotificationIsNoData = false;
                                                    scheduleNotificationRepeat();
                                                    return;
                                                }
                                                str = choosenSoundPath9;
                                                user_id = user_id2;
                                            } else {
                                                chat2 = chat3;
                                                str = choosenSoundPath9;
                                                user_id = user_id2;
                                                priority = needVibrate4;
                                                ledColor = count;
                                            }
                                        } else {
                                            chat2 = chat;
                                            if (user3 != null) {
                                            }
                                            str = choosenSoundPath9;
                                            user_id = user_id2;
                                            priority = needVibrate4;
                                            ledColor = count;
                                        }
                                        priority = needVibrate4;
                                        ledColor = count;
                                    } else {
                                        str = choosenSoundPath9;
                                        user_id = user_id2;
                                        chat2 = chat;
                                        priority = needVibrate4;
                                        ledColor = count;
                                    }
                                    choosenSoundPath9 = null;
                                    fileLocation3 = choosenSoundPath9;
                                    priority = needVibrate4;
                                    ledColor = count;
                                    intent2.putExtra("currentAccount", r12.currentAccount);
                                    contentIntent2 = PendingIntent.getActivity(ApplicationLoader.applicationContext, 0, intent2, NUM);
                                    if (chat_id2 == 0) {
                                    }
                                    lastMessageObject4 = lastMessageObject3;
                                    if (chat2 != null) {
                                        str5 = chat2.title;
                                    } else {
                                        str5 = UserObject.getUserName(user3);
                                    }
                                    choosenSoundPath5 = str5;
                                    if (((int) dialog_id2) == 0) {
                                        replace = true;
                                    } else {
                                        replace = true;
                                        if (SharedConfig.isWaitingForPasscodeEnter) {
                                            choosenSoundPath9 = choosenSoundPath5;
                                            str5 = choosenSoundPath9;
                                            chat_id = chat_id2;
                                            if (UserConfig.getActivatedAccountsCount() <= 1) {
                                                choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                            } else if (r12.pushDialogs.size() != 1) {
                                                choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                            } else {
                                                stringBuilder = new StringBuilder();
                                                stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                                stringBuilder.append("\u30fb");
                                                choosenSoundPath9 = stringBuilder.toString();
                                            }
                                            if (r12.pushDialogs.size() == 1) {
                                                if (VERSION.SDK_INT >= 23) {
                                                    detailText = choosenSoundPath9;
                                                    chatName = choosenSoundPath5;
                                                    z4 = inAppVibrate;
                                                    mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                    vibrationPattern3 = null;
                                                    mBuilder.setCategory("msg");
                                                    stringBuilder = new StringBuilder();
                                                    i = 0;
                                                    stringBuilder.append("tel:+");
                                                    stringBuilder.append(user3.phone);
                                                    mBuilder.addPerson(stringBuilder.toString());
                                                    silent2 = 2;
                                                    user = user3;
                                                    if (r12.pushMessages.size() == 1) {
                                                        lastMessage2 = null;
                                                        sound = null;
                                                        mBuilder.setContentText(detailText);
                                                        inboxStyle = new InboxStyle();
                                                        inboxStyle.setBigContentTitle(str5);
                                                        count2 = Math.min(10, r12.pushMessages.size());
                                                        text2 = new boolean[1];
                                                        contentIntent = contentIntent2;
                                                        count = silent2;
                                                        chat_id2 = 0;
                                                        while (chat_id2 < count2) {
                                                            count3 = count2;
                                                            count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                            dialog_id = dialog_id2;
                                                            message2 = getStringForMessage(count4, 0, text2);
                                                            if (message2 != null) {
                                                                defaultPath4 = defaultPath3;
                                                                notifyDelay = dismissDate2;
                                                            } else {
                                                                defaultPath4 = defaultPath3;
                                                                notifyDelay = dismissDate2;
                                                                if (count4.messageOwner.date > notifyDelay) {
                                                                    if (count == 2) {
                                                                        lastMessage2 = message2;
                                                                        count = count4.messageOwner.silent;
                                                                    }
                                                                    messageObject2 = count4;
                                                                    if (chat2 != null) {
                                                                        count2 = new StringBuilder();
                                                                        count2.append(" @ ");
                                                                        count2.append(str5);
                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    } else if (text2[0]) {
                                                                        count2 = new StringBuilder();
                                                                        count2.append(str5);
                                                                        count2.append(" ");
                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    } else {
                                                                        count2 = new StringBuilder();
                                                                        count2.append(str5);
                                                                        count2.append(": ");
                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    }
                                                                    inboxStyle.addLine(message2);
                                                                }
                                                            }
                                                            chat_id2++;
                                                            dismissDate2 = notifyDelay;
                                                            count2 = count3;
                                                            dialog_id2 = dialog_id;
                                                            defaultPath3 = defaultPath4;
                                                        }
                                                        dialog_id = dialog_id2;
                                                        defaultPath4 = defaultPath3;
                                                        notifyDelay = dismissDate2;
                                                        inboxStyle.setSummaryText(detailText);
                                                        mBuilder.setStyle(inboxStyle);
                                                        priorityOverride2 = count;
                                                        choosenSoundPath9 = lastMessage2;
                                                    } else {
                                                        messageObject = (MessageObject) r12.pushMessages.get(0);
                                                        lastMessage2 = null;
                                                        text = new boolean[1];
                                                        stringForMessage = getStringForMessage(messageObject, null, text);
                                                        message = stringForMessage;
                                                        lastMessage3 = stringForMessage;
                                                        choosenSoundPath5 = messageObject.messageOwner.silent;
                                                        choosenSoundPath9 = message;
                                                        if (choosenSoundPath9 != null) {
                                                            if (replace) {
                                                                silent3 = choosenSoundPath5;
                                                                sound = null;
                                                            } else {
                                                                if (chat2 != null) {
                                                                    silent3 = choosenSoundPath5;
                                                                    sound = null;
                                                                    if (text[null]) {
                                                                        choosenSoundPath5 = new StringBuilder();
                                                                        choosenSoundPath5.append(str5);
                                                                        choosenSoundPath5.append(" ");
                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    } else {
                                                                        choosenSoundPath5 = new StringBuilder();
                                                                        choosenSoundPath5.append(str5);
                                                                        choosenSoundPath5.append(": ");
                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    }
                                                                } else {
                                                                    silent3 = choosenSoundPath5;
                                                                    choosenSoundPath5 = new StringBuilder();
                                                                    sound = null;
                                                                    choosenSoundPath5.append(" @ ");
                                                                    choosenSoundPath5.append(str5);
                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                }
                                                                choosenSoundPath9 = message;
                                                            }
                                                            mBuilder.setContentText(choosenSoundPath9);
                                                            mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                            contentIntent = contentIntent2;
                                                            dialog_id = dialog_id2;
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                            choosenSoundPath9 = lastMessage3;
                                                            priorityOverride2 = silent3;
                                                        } else {
                                                            return;
                                                        }
                                                    }
                                                    dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                    dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                    dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                    mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                    if (fileLocation3 != null) {
                                                        name = str5;
                                                    } else {
                                                        img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                        if (img != null) {
                                                            file = FileLoader.getPathToAttach(fileLocation3, true);
                                                            if (file.exists()) {
                                                                name = str5;
                                                            } else {
                                                                scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                options = new Options();
                                                                if (scaleFactor < 1.0f) {
                                                                    name = str5;
                                                                    str5 = (int) scaleFactor;
                                                                } else {
                                                                    name = str5;
                                                                    str5 = true;
                                                                }
                                                                options.inSampleSize = str5;
                                                                str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                if (str5 != null) {
                                                                    mBuilder.setLargeIcon(str5);
                                                                }
                                                            }
                                                        } else {
                                                            mBuilder.setLargeIcon(img.getBitmap());
                                                            name = str5;
                                                        }
                                                    }
                                                    z = notifyAboutLast;
                                                    if (z) {
                                                        count = priority;
                                                    } else if (priorityOverride2 == 1) {
                                                        if (priority == 0) {
                                                            count = priority;
                                                            if (count != 1) {
                                                                if (count == 2) {
                                                                    if (count != 4) {
                                                                        mBuilder.setPriority(-2);
                                                                        if (VERSION.SDK_INT >= 26) {
                                                                            user_id2 = 1;
                                                                            i = user_id2;
                                                                        }
                                                                    } else if (count == 5) {
                                                                        mBuilder.setPriority(-1);
                                                                        if (VERSION.SDK_INT >= 26) {
                                                                            user_id2 = 2;
                                                                            i = user_id2;
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                            mBuilder.setPriority(1);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 4;
                                                                i = user_id2;
                                                            }
                                                        } else {
                                                            mBuilder.setPriority(0);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                i = 3;
                                                            }
                                                            count = priority;
                                                        }
                                                        if (priorityOverride2 != 1) {
                                                        }
                                                        lastMessage = choosenSoundPath9;
                                                        silent = priorityOverride2;
                                                        needVibrate2 = needVibrate;
                                                        choosenSoundPath = str;
                                                        priorityOverride2 = ledColor;
                                                        defaultPath = defaultPath4;
                                                        jArr = new long[]{0, 0};
                                                        vibrationPattern = jArr;
                                                        mBuilder.setVibrate(jArr);
                                                        vibrationPattern2 = vibrationPattern;
                                                        sound2 = sound;
                                                        str2 = lastMessage;
                                                        if (AndroidUtilities.needShowPasscode(false)) {
                                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                            size = rows.size();
                                                            notifyOverride2 = false;
                                                            z3 = false;
                                                            while (true) {
                                                                choosenSoundPath2 = choosenSoundPath;
                                                                choosenSoundPath = size;
                                                                if (z3 < choosenSoundPath) {
                                                                    break;
                                                                }
                                                                rows2 = rows;
                                                                size2 = choosenSoundPath;
                                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                                choosenSoundPath = row.buttons.size();
                                                                defaultPath2 = defaultPath;
                                                                defaultPath = 0;
                                                                while (defaultPath < choosenSoundPath) {
                                                                    size22 = choosenSoundPath;
                                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                    row2 = row;
                                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                        priority2 = count;
                                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                        dismissIntent = dismissIntent2;
                                                                        dialog_id2 = dialog_id;
                                                                        callbackIntent.putExtra("did", dialog_id2);
                                                                        if (choosenSoundPath3.data == null) {
                                                                            fileLocation = fileLocation3;
                                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                        } else {
                                                                            fileLocation = fileLocation3;
                                                                        }
                                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                        charSequence = choosenSoundPath3.text;
                                                                        context = ApplicationLoader.applicationContext;
                                                                        button = choosenSoundPath3;
                                                                        choosenSoundPath = r12.lastButtonId;
                                                                        lastMessageObject = lastMessageObject4;
                                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                        notifyOverride2 = true;
                                                                    } else {
                                                                        lastMessageObject = lastMessageObject4;
                                                                        priority2 = count;
                                                                        dismissIntent = dismissIntent2;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                    }
                                                                    defaultPath++;
                                                                    dialog_id = dialog_id2;
                                                                    choosenSoundPath = size22;
                                                                    row = row2;
                                                                    count = priority2;
                                                                    dismissIntent2 = dismissIntent;
                                                                    fileLocation3 = fileLocation;
                                                                    lastMessageObject4 = lastMessageObject;
                                                                    dialog_id2 = notifyAboutLast;
                                                                }
                                                                priority2 = count;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                                z3++;
                                                                choosenSoundPath = choosenSoundPath2;
                                                                rows = rows2;
                                                                size = size2;
                                                                defaultPath = defaultPath2;
                                                                dismissIntent2 = dismissIntent2;
                                                                dialog_id2 = notifyAboutLast;
                                                            }
                                                            defaultPath2 = defaultPath;
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                            if (VERSION.SDK_INT > 19) {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            } else {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            }
                                                            if (VERSION.SDK_INT < 26) {
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                notifyOverride = name;
                                                                override_dialog_id = lastMessageObject;
                                                                priorityOverride = chat2;
                                                                silent3 = silent;
                                                                notifyDelay = notifyAboutLast;
                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                            } else {
                                                                j = dialog_id2;
                                                                i2 = notifyDelay;
                                                                size = notifyOverride;
                                                                j2 = override_dialog_id;
                                                                i3 = priorityOverride;
                                                                i4 = vibrateOverride;
                                                                sharedPreferences = preferences;
                                                                i5 = user_id;
                                                                i6 = chat_id;
                                                                user2 = user;
                                                                pendingIntent = contentIntent;
                                                                silent3 = silent;
                                                                dismissDate2 = needVibrate2;
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                str3 = defaultPath2;
                                                                i7 = priority2;
                                                                intent = dismissIntent;
                                                                fileLocation2 = fileLocation;
                                                                notifyDelay = notifyAboutLast;
                                                            }
                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                            r12.lastNotificationIsNoData = false;
                                                            scheduleNotificationRepeat();
                                                            return;
                                                        }
                                                        choosenSoundPath2 = choosenSoundPath;
                                                        defaultPath2 = defaultPath;
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        notifyOverride2 = false;
                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                        if (VERSION.SDK_INT > 19) {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        } else {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        }
                                                        if (VERSION.SDK_INT < 26) {
                                                            j = dialog_id2;
                                                            i2 = notifyDelay;
                                                            size = notifyOverride;
                                                            j2 = override_dialog_id;
                                                            i3 = priorityOverride;
                                                            i4 = vibrateOverride;
                                                            sharedPreferences = preferences;
                                                            i5 = user_id;
                                                            i6 = chat_id;
                                                            user2 = user;
                                                            pendingIntent = contentIntent;
                                                            silent3 = silent;
                                                            dismissDate2 = needVibrate2;
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            str3 = defaultPath2;
                                                            i7 = priority2;
                                                            intent = dismissIntent;
                                                            fileLocation2 = fileLocation;
                                                            notifyDelay = notifyAboutLast;
                                                        } else {
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            notifyOverride = name;
                                                            override_dialog_id = lastMessageObject;
                                                            priorityOverride = chat2;
                                                            silent3 = silent;
                                                            notifyDelay = notifyAboutLast;
                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                        }
                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                        r12.lastNotificationIsNoData = false;
                                                        scheduleNotificationRepeat();
                                                        return;
                                                    } else {
                                                        count = priority;
                                                    }
                                                    mBuilder.setPriority(-1);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        user_id2 = 2;
                                                        i = user_id2;
                                                    }
                                                    if (priorityOverride2 != 1) {
                                                    }
                                                    lastMessage = choosenSoundPath9;
                                                    silent = priorityOverride2;
                                                    needVibrate2 = needVibrate;
                                                    choosenSoundPath = str;
                                                    priorityOverride2 = ledColor;
                                                    defaultPath = defaultPath4;
                                                    jArr = new long[]{0, 0};
                                                    vibrationPattern = jArr;
                                                    mBuilder.setVibrate(jArr);
                                                    vibrationPattern2 = vibrationPattern;
                                                    sound2 = sound;
                                                    str2 = lastMessage;
                                                    if (AndroidUtilities.needShowPasscode(false)) {
                                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                        size = rows.size();
                                                        notifyOverride2 = false;
                                                        z3 = false;
                                                        while (true) {
                                                            choosenSoundPath2 = choosenSoundPath;
                                                            choosenSoundPath = size;
                                                            if (z3 < choosenSoundPath) {
                                                                break;
                                                            }
                                                            rows2 = rows;
                                                            size2 = choosenSoundPath;
                                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                                            choosenSoundPath = row.buttons.size();
                                                            defaultPath2 = defaultPath;
                                                            defaultPath = 0;
                                                            while (defaultPath < choosenSoundPath) {
                                                                size22 = choosenSoundPath;
                                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                row2 = row;
                                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                    lastMessageObject = lastMessageObject4;
                                                                    priority2 = count;
                                                                    dismissIntent = dismissIntent2;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                } else {
                                                                    priority2 = count;
                                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                    dismissIntent = dismissIntent2;
                                                                    dialog_id2 = dialog_id;
                                                                    callbackIntent.putExtra("did", dialog_id2);
                                                                    if (choosenSoundPath3.data == null) {
                                                                        fileLocation = fileLocation3;
                                                                    } else {
                                                                        fileLocation = fileLocation3;
                                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                    }
                                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                    charSequence = choosenSoundPath3.text;
                                                                    context = ApplicationLoader.applicationContext;
                                                                    button = choosenSoundPath3;
                                                                    choosenSoundPath = r12.lastButtonId;
                                                                    lastMessageObject = lastMessageObject4;
                                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                    notifyOverride2 = true;
                                                                }
                                                                defaultPath++;
                                                                dialog_id = dialog_id2;
                                                                choosenSoundPath = size22;
                                                                row = row2;
                                                                count = priority2;
                                                                dismissIntent2 = dismissIntent;
                                                                fileLocation3 = fileLocation;
                                                                lastMessageObject4 = lastMessageObject;
                                                                dialog_id2 = notifyAboutLast;
                                                            }
                                                            priority2 = count;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            z3++;
                                                            choosenSoundPath = choosenSoundPath2;
                                                            rows = rows2;
                                                            size = size2;
                                                            defaultPath = defaultPath2;
                                                            dismissIntent2 = dismissIntent2;
                                                            dialog_id2 = notifyAboutLast;
                                                        }
                                                        defaultPath2 = defaultPath;
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                        if (VERSION.SDK_INT > 19) {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        } else {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        }
                                                        if (VERSION.SDK_INT < 26) {
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            notifyOverride = name;
                                                            override_dialog_id = lastMessageObject;
                                                            priorityOverride = chat2;
                                                            silent3 = silent;
                                                            notifyDelay = notifyAboutLast;
                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                        } else {
                                                            j = dialog_id2;
                                                            i2 = notifyDelay;
                                                            size = notifyOverride;
                                                            j2 = override_dialog_id;
                                                            i3 = priorityOverride;
                                                            i4 = vibrateOverride;
                                                            sharedPreferences = preferences;
                                                            i5 = user_id;
                                                            i6 = chat_id;
                                                            user2 = user;
                                                            pendingIntent = contentIntent;
                                                            silent3 = silent;
                                                            dismissDate2 = needVibrate2;
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            str3 = defaultPath2;
                                                            i7 = priority2;
                                                            intent = dismissIntent;
                                                            fileLocation2 = fileLocation;
                                                            notifyDelay = notifyAboutLast;
                                                        }
                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                        r12.lastNotificationIsNoData = false;
                                                        scheduleNotificationRepeat();
                                                        return;
                                                    }
                                                    choosenSoundPath2 = choosenSoundPath;
                                                    defaultPath2 = defaultPath;
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    notifyOverride2 = false;
                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                    if (VERSION.SDK_INT > 19) {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    } else {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    }
                                                    if (VERSION.SDK_INT < 26) {
                                                        j = dialog_id2;
                                                        i2 = notifyDelay;
                                                        size = notifyOverride;
                                                        j2 = override_dialog_id;
                                                        i3 = priorityOverride;
                                                        i4 = vibrateOverride;
                                                        sharedPreferences = preferences;
                                                        i5 = user_id;
                                                        i6 = chat_id;
                                                        user2 = user;
                                                        pendingIntent = contentIntent;
                                                        silent3 = silent;
                                                        dismissDate2 = needVibrate2;
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        str3 = defaultPath2;
                                                        i7 = priority2;
                                                        intent = dismissIntent;
                                                        fileLocation2 = fileLocation;
                                                        notifyDelay = notifyAboutLast;
                                                    } else {
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        notifyOverride = name;
                                                        override_dialog_id = lastMessageObject;
                                                        priorityOverride = chat2;
                                                        silent3 = silent;
                                                        notifyDelay = notifyAboutLast;
                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                    }
                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                    r12.lastNotificationIsNoData = false;
                                                    scheduleNotificationRepeat();
                                                    return;
                                                }
                                            }
                                            if (r12.pushDialogs.size() != 1) {
                                                stringBuilder4 = new StringBuilder();
                                                stringBuilder4.append(choosenSoundPath9);
                                                stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                                detailText = stringBuilder4.toString();
                                                chatName = choosenSoundPath5;
                                            } else {
                                                stringBuilder4 = new StringBuilder();
                                                stringBuilder4.append(choosenSoundPath9);
                                                objArr = new Object[2];
                                                chatName = choosenSoundPath5;
                                                objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                                objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                                stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                                detailText = stringBuilder4.toString();
                                            }
                                            mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                            vibrationPattern3 = null;
                                            mBuilder.setCategory("msg");
                                            stringBuilder = new StringBuilder();
                                            i = 0;
                                            stringBuilder.append("tel:+");
                                            stringBuilder.append(user3.phone);
                                            mBuilder.addPerson(stringBuilder.toString());
                                            silent2 = 2;
                                            user = user3;
                                            if (r12.pushMessages.size() == 1) {
                                                messageObject = (MessageObject) r12.pushMessages.get(0);
                                                lastMessage2 = null;
                                                text = new boolean[1];
                                                stringForMessage = getStringForMessage(messageObject, null, text);
                                                message = stringForMessage;
                                                lastMessage3 = stringForMessage;
                                                choosenSoundPath5 = messageObject.messageOwner.silent;
                                                choosenSoundPath9 = message;
                                                if (choosenSoundPath9 != null) {
                                                    if (replace) {
                                                        if (chat2 != null) {
                                                            silent3 = choosenSoundPath5;
                                                            choosenSoundPath5 = new StringBuilder();
                                                            sound = null;
                                                            choosenSoundPath5.append(" @ ");
                                                            choosenSoundPath5.append(str5);
                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        } else {
                                                            silent3 = choosenSoundPath5;
                                                            sound = null;
                                                            if (text[null]) {
                                                                choosenSoundPath5 = new StringBuilder();
                                                                choosenSoundPath5.append(str5);
                                                                choosenSoundPath5.append(": ");
                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            } else {
                                                                choosenSoundPath5 = new StringBuilder();
                                                                choosenSoundPath5.append(str5);
                                                                choosenSoundPath5.append(" ");
                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            }
                                                        }
                                                        choosenSoundPath9 = message;
                                                    } else {
                                                        silent3 = choosenSoundPath5;
                                                        sound = null;
                                                    }
                                                    mBuilder.setContentText(choosenSoundPath9);
                                                    mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                    contentIntent = contentIntent2;
                                                    dialog_id = dialog_id2;
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                    choosenSoundPath9 = lastMessage3;
                                                    priorityOverride2 = silent3;
                                                } else {
                                                    return;
                                                }
                                            }
                                            lastMessage2 = null;
                                            sound = null;
                                            mBuilder.setContentText(detailText);
                                            inboxStyle = new InboxStyle();
                                            inboxStyle.setBigContentTitle(str5);
                                            count2 = Math.min(10, r12.pushMessages.size());
                                            text2 = new boolean[1];
                                            contentIntent = contentIntent2;
                                            count = silent2;
                                            chat_id2 = 0;
                                            while (chat_id2 < count2) {
                                                count3 = count2;
                                                count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                dialog_id = dialog_id2;
                                                message2 = getStringForMessage(count4, 0, text2);
                                                if (message2 != null) {
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                    if (count4.messageOwner.date > notifyDelay) {
                                                        if (count == 2) {
                                                            lastMessage2 = message2;
                                                            count = count4.messageOwner.silent;
                                                        }
                                                        messageObject2 = count4;
                                                        if (chat2 != null) {
                                                            count2 = new StringBuilder();
                                                            count2.append(" @ ");
                                                            count2.append(str5);
                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        } else if (text2[0]) {
                                                            count2 = new StringBuilder();
                                                            count2.append(str5);
                                                            count2.append(": ");
                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        } else {
                                                            count2 = new StringBuilder();
                                                            count2.append(str5);
                                                            count2.append(" ");
                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        }
                                                        inboxStyle.addLine(message2);
                                                    }
                                                } else {
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                }
                                                chat_id2++;
                                                dismissDate2 = notifyDelay;
                                                count2 = count3;
                                                dialog_id2 = dialog_id;
                                                defaultPath3 = defaultPath4;
                                            }
                                            dialog_id = dialog_id2;
                                            defaultPath4 = defaultPath3;
                                            notifyDelay = dismissDate2;
                                            inboxStyle.setSummaryText(detailText);
                                            mBuilder.setStyle(inboxStyle);
                                            priorityOverride2 = count;
                                            choosenSoundPath9 = lastMessage2;
                                            dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                            dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                            dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                            mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                            if (fileLocation3 != null) {
                                                img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                if (img != null) {
                                                    mBuilder.setLargeIcon(img.getBitmap());
                                                    name = str5;
                                                } else {
                                                    file = FileLoader.getPathToAttach(fileLocation3, true);
                                                    if (file.exists()) {
                                                        scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                        options = new Options();
                                                        if (scaleFactor < 1.0f) {
                                                            name = str5;
                                                            str5 = true;
                                                        } else {
                                                            name = str5;
                                                            str5 = (int) scaleFactor;
                                                        }
                                                        options.inSampleSize = str5;
                                                        str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                        if (str5 != null) {
                                                            mBuilder.setLargeIcon(str5);
                                                        }
                                                    } else {
                                                        name = str5;
                                                    }
                                                }
                                            } else {
                                                name = str5;
                                            }
                                            z = notifyAboutLast;
                                            if (z) {
                                                count = priority;
                                            } else if (priorityOverride2 == 1) {
                                                count = priority;
                                            } else {
                                                if (priority == 0) {
                                                    mBuilder.setPriority(0);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        i = 3;
                                                    }
                                                    count = priority;
                                                } else {
                                                    count = priority;
                                                    if (count != 1) {
                                                        if (count == 2) {
                                                            if (count != 4) {
                                                                mBuilder.setPriority(-2);
                                                                if (VERSION.SDK_INT >= 26) {
                                                                    user_id2 = 1;
                                                                    i = user_id2;
                                                                }
                                                            } else if (count == 5) {
                                                                mBuilder.setPriority(-1);
                                                                if (VERSION.SDK_INT >= 26) {
                                                                    user_id2 = 2;
                                                                    i = user_id2;
                                                                }
                                                            }
                                                        }
                                                    }
                                                    mBuilder.setPriority(1);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        user_id2 = 4;
                                                        i = user_id2;
                                                    }
                                                }
                                                if (priorityOverride2 != 1) {
                                                }
                                                lastMessage = choosenSoundPath9;
                                                silent = priorityOverride2;
                                                needVibrate2 = needVibrate;
                                                choosenSoundPath = str;
                                                priorityOverride2 = ledColor;
                                                defaultPath = defaultPath4;
                                                jArr = new long[]{0, 0};
                                                vibrationPattern = jArr;
                                                mBuilder.setVibrate(jArr);
                                                vibrationPattern2 = vibrationPattern;
                                                sound2 = sound;
                                                str2 = lastMessage;
                                                if (AndroidUtilities.needShowPasscode(false)) {
                                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                    size = rows.size();
                                                    notifyOverride2 = false;
                                                    z3 = false;
                                                    while (true) {
                                                        choosenSoundPath2 = choosenSoundPath;
                                                        choosenSoundPath = size;
                                                        if (z3 < choosenSoundPath) {
                                                            break;
                                                        }
                                                        rows2 = rows;
                                                        size2 = choosenSoundPath;
                                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                                        choosenSoundPath = row.buttons.size();
                                                        defaultPath2 = defaultPath;
                                                        defaultPath = 0;
                                                        while (defaultPath < choosenSoundPath) {
                                                            size22 = choosenSoundPath;
                                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                            row2 = row;
                                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                priority2 = count;
                                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                dismissIntent = dismissIntent2;
                                                                dialog_id2 = dialog_id;
                                                                callbackIntent.putExtra("did", dialog_id2);
                                                                if (choosenSoundPath3.data == null) {
                                                                    fileLocation = fileLocation3;
                                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                } else {
                                                                    fileLocation = fileLocation3;
                                                                }
                                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                charSequence = choosenSoundPath3.text;
                                                                context = ApplicationLoader.applicationContext;
                                                                button = choosenSoundPath3;
                                                                choosenSoundPath = r12.lastButtonId;
                                                                lastMessageObject = lastMessageObject4;
                                                                r12.lastButtonId = choosenSoundPath + 1;
                                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                notifyOverride2 = true;
                                                            } else {
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                            }
                                                            defaultPath++;
                                                            dialog_id = dialog_id2;
                                                            choosenSoundPath = size22;
                                                            row = row2;
                                                            count = priority2;
                                                            dismissIntent2 = dismissIntent;
                                                            fileLocation3 = fileLocation;
                                                            lastMessageObject4 = lastMessageObject;
                                                            dialog_id2 = notifyAboutLast;
                                                        }
                                                        priority2 = count;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        z3++;
                                                        choosenSoundPath = choosenSoundPath2;
                                                        rows = rows2;
                                                        size = size2;
                                                        defaultPath = defaultPath2;
                                                        dismissIntent2 = dismissIntent2;
                                                        dialog_id2 = notifyAboutLast;
                                                    }
                                                    defaultPath2 = defaultPath;
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                    if (VERSION.SDK_INT > 19) {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    } else {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    }
                                                    if (VERSION.SDK_INT < 26) {
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        notifyOverride = name;
                                                        override_dialog_id = lastMessageObject;
                                                        priorityOverride = chat2;
                                                        silent3 = silent;
                                                        notifyDelay = notifyAboutLast;
                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                    } else {
                                                        j = dialog_id2;
                                                        i2 = notifyDelay;
                                                        size = notifyOverride;
                                                        j2 = override_dialog_id;
                                                        i3 = priorityOverride;
                                                        i4 = vibrateOverride;
                                                        sharedPreferences = preferences;
                                                        i5 = user_id;
                                                        i6 = chat_id;
                                                        user2 = user;
                                                        pendingIntent = contentIntent;
                                                        silent3 = silent;
                                                        dismissDate2 = needVibrate2;
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        str3 = defaultPath2;
                                                        i7 = priority2;
                                                        intent = dismissIntent;
                                                        fileLocation2 = fileLocation;
                                                        notifyDelay = notifyAboutLast;
                                                    }
                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                    r12.lastNotificationIsNoData = false;
                                                    scheduleNotificationRepeat();
                                                    return;
                                                }
                                                choosenSoundPath2 = choosenSoundPath;
                                                defaultPath2 = defaultPath;
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                notifyOverride2 = false;
                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                if (VERSION.SDK_INT > 19) {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                } else {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                }
                                                if (VERSION.SDK_INT < 26) {
                                                    j = dialog_id2;
                                                    i2 = notifyDelay;
                                                    size = notifyOverride;
                                                    j2 = override_dialog_id;
                                                    i3 = priorityOverride;
                                                    i4 = vibrateOverride;
                                                    sharedPreferences = preferences;
                                                    i5 = user_id;
                                                    i6 = chat_id;
                                                    user2 = user;
                                                    pendingIntent = contentIntent;
                                                    silent3 = silent;
                                                    dismissDate2 = needVibrate2;
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    str3 = defaultPath2;
                                                    i7 = priority2;
                                                    intent = dismissIntent;
                                                    fileLocation2 = fileLocation;
                                                    notifyDelay = notifyAboutLast;
                                                } else {
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    notifyOverride = name;
                                                    override_dialog_id = lastMessageObject;
                                                    priorityOverride = chat2;
                                                    silent3 = silent;
                                                    notifyDelay = notifyAboutLast;
                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                }
                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                r12.lastNotificationIsNoData = false;
                                                scheduleNotificationRepeat();
                                                return;
                                            }
                                            mBuilder.setPriority(-1);
                                            if (VERSION.SDK_INT >= 26) {
                                                user_id2 = 2;
                                                i = user_id2;
                                            }
                                            if (priorityOverride2 != 1) {
                                            }
                                            lastMessage = choosenSoundPath9;
                                            silent = priorityOverride2;
                                            needVibrate2 = needVibrate;
                                            choosenSoundPath = str;
                                            priorityOverride2 = ledColor;
                                            defaultPath = defaultPath4;
                                            jArr = new long[]{0, 0};
                                            vibrationPattern = jArr;
                                            mBuilder.setVibrate(jArr);
                                            vibrationPattern2 = vibrationPattern;
                                            sound2 = sound;
                                            str2 = lastMessage;
                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                size = rows.size();
                                                notifyOverride2 = false;
                                                z3 = false;
                                                while (true) {
                                                    choosenSoundPath2 = choosenSoundPath;
                                                    choosenSoundPath = size;
                                                    if (z3 < choosenSoundPath) {
                                                        break;
                                                    }
                                                    rows2 = rows;
                                                    size2 = choosenSoundPath;
                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                    choosenSoundPath = row.buttons.size();
                                                    defaultPath2 = defaultPath;
                                                    defaultPath = 0;
                                                    while (defaultPath < choosenSoundPath) {
                                                        size22 = choosenSoundPath;
                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                        row2 = row;
                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                        } else {
                                                            priority2 = count;
                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                            dismissIntent = dismissIntent2;
                                                            dialog_id2 = dialog_id;
                                                            callbackIntent.putExtra("did", dialog_id2);
                                                            if (choosenSoundPath3.data == null) {
                                                                fileLocation = fileLocation3;
                                                            } else {
                                                                fileLocation = fileLocation3;
                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                            }
                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                            charSequence = choosenSoundPath3.text;
                                                            context = ApplicationLoader.applicationContext;
                                                            button = choosenSoundPath3;
                                                            choosenSoundPath = r12.lastButtonId;
                                                            lastMessageObject = lastMessageObject4;
                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                            notifyOverride2 = true;
                                                        }
                                                        defaultPath++;
                                                        dialog_id = dialog_id2;
                                                        choosenSoundPath = size22;
                                                        row = row2;
                                                        count = priority2;
                                                        dismissIntent2 = dismissIntent;
                                                        fileLocation3 = fileLocation;
                                                        lastMessageObject4 = lastMessageObject;
                                                        dialog_id2 = notifyAboutLast;
                                                    }
                                                    priority2 = count;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    z3++;
                                                    choosenSoundPath = choosenSoundPath2;
                                                    rows = rows2;
                                                    size = size2;
                                                    defaultPath = defaultPath2;
                                                    dismissIntent2 = dismissIntent2;
                                                    dialog_id2 = notifyAboutLast;
                                                }
                                                defaultPath2 = defaultPath;
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                if (VERSION.SDK_INT > 19) {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                } else {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                }
                                                if (VERSION.SDK_INT < 26) {
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    notifyOverride = name;
                                                    override_dialog_id = lastMessageObject;
                                                    priorityOverride = chat2;
                                                    silent3 = silent;
                                                    notifyDelay = notifyAboutLast;
                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                } else {
                                                    j = dialog_id2;
                                                    i2 = notifyDelay;
                                                    size = notifyOverride;
                                                    j2 = override_dialog_id;
                                                    i3 = priorityOverride;
                                                    i4 = vibrateOverride;
                                                    sharedPreferences = preferences;
                                                    i5 = user_id;
                                                    i6 = chat_id;
                                                    user2 = user;
                                                    pendingIntent = contentIntent;
                                                    silent3 = silent;
                                                    dismissDate2 = needVibrate2;
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    str3 = defaultPath2;
                                                    i7 = priority2;
                                                    intent = dismissIntent;
                                                    fileLocation2 = fileLocation;
                                                    notifyDelay = notifyAboutLast;
                                                }
                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                r12.lastNotificationIsNoData = false;
                                                scheduleNotificationRepeat();
                                                return;
                                            }
                                            choosenSoundPath2 = choosenSoundPath;
                                            defaultPath2 = defaultPath;
                                            lastMessageObject = lastMessageObject4;
                                            priority2 = count;
                                            dismissIntent = dismissIntent2;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            notifyOverride2 = false;
                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                            if (VERSION.SDK_INT > 19) {
                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            } else {
                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            }
                                            if (VERSION.SDK_INT < 26) {
                                                j = dialog_id2;
                                                i2 = notifyDelay;
                                                size = notifyOverride;
                                                j2 = override_dialog_id;
                                                i3 = priorityOverride;
                                                i4 = vibrateOverride;
                                                sharedPreferences = preferences;
                                                i5 = user_id;
                                                i6 = chat_id;
                                                user2 = user;
                                                pendingIntent = contentIntent;
                                                silent3 = silent;
                                                dismissDate2 = needVibrate2;
                                                choosenSoundPath8 = choosenSoundPath2;
                                                str3 = defaultPath2;
                                                i7 = priority2;
                                                intent = dismissIntent;
                                                fileLocation2 = fileLocation;
                                                notifyDelay = notifyAboutLast;
                                            } else {
                                                choosenSoundPath8 = choosenSoundPath2;
                                                notifyOverride = name;
                                                override_dialog_id = lastMessageObject;
                                                priorityOverride = chat2;
                                                silent3 = silent;
                                                notifyDelay = notifyAboutLast;
                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                            }
                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                            r12.lastNotificationIsNoData = false;
                                            scheduleNotificationRepeat();
                                            return;
                                        }
                                    }
                                    choosenSoundPath9 = LocaleController.getString("AppName", R.string.AppName);
                                    replace = false;
                                    str5 = choosenSoundPath9;
                                    chat_id = chat_id2;
                                    if (UserConfig.getActivatedAccountsCount() <= 1) {
                                        choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                    } else if (r12.pushDialogs.size() != 1) {
                                        stringBuilder = new StringBuilder();
                                        stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                        stringBuilder.append("\u30fb");
                                        choosenSoundPath9 = stringBuilder.toString();
                                    } else {
                                        choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                    }
                                    if (r12.pushDialogs.size() == 1) {
                                        if (VERSION.SDK_INT >= 23) {
                                            detailText = choosenSoundPath9;
                                            chatName = choosenSoundPath5;
                                            z4 = inAppVibrate;
                                            mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                            vibrationPattern3 = null;
                                            mBuilder.setCategory("msg");
                                            stringBuilder = new StringBuilder();
                                            i = 0;
                                            stringBuilder.append("tel:+");
                                            stringBuilder.append(user3.phone);
                                            mBuilder.addPerson(stringBuilder.toString());
                                            silent2 = 2;
                                            user = user3;
                                            if (r12.pushMessages.size() == 1) {
                                                lastMessage2 = null;
                                                sound = null;
                                                mBuilder.setContentText(detailText);
                                                inboxStyle = new InboxStyle();
                                                inboxStyle.setBigContentTitle(str5);
                                                count2 = Math.min(10, r12.pushMessages.size());
                                                text2 = new boolean[1];
                                                contentIntent = contentIntent2;
                                                count = silent2;
                                                chat_id2 = 0;
                                                while (chat_id2 < count2) {
                                                    count3 = count2;
                                                    count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                    dialog_id = dialog_id2;
                                                    message2 = getStringForMessage(count4, 0, text2);
                                                    if (message2 != null) {
                                                        defaultPath4 = defaultPath3;
                                                        notifyDelay = dismissDate2;
                                                    } else {
                                                        defaultPath4 = defaultPath3;
                                                        notifyDelay = dismissDate2;
                                                        if (count4.messageOwner.date > notifyDelay) {
                                                            if (count == 2) {
                                                                lastMessage2 = message2;
                                                                count = count4.messageOwner.silent;
                                                            }
                                                            messageObject2 = count4;
                                                            if (chat2 != null) {
                                                                count2 = new StringBuilder();
                                                                count2.append(" @ ");
                                                                count2.append(str5);
                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            } else if (text2[0]) {
                                                                count2 = new StringBuilder();
                                                                count2.append(str5);
                                                                count2.append(" ");
                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            } else {
                                                                count2 = new StringBuilder();
                                                                count2.append(str5);
                                                                count2.append(": ");
                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            }
                                                            inboxStyle.addLine(message2);
                                                        }
                                                    }
                                                    chat_id2++;
                                                    dismissDate2 = notifyDelay;
                                                    count2 = count3;
                                                    dialog_id2 = dialog_id;
                                                    defaultPath3 = defaultPath4;
                                                }
                                                dialog_id = dialog_id2;
                                                defaultPath4 = defaultPath3;
                                                notifyDelay = dismissDate2;
                                                inboxStyle.setSummaryText(detailText);
                                                mBuilder.setStyle(inboxStyle);
                                                priorityOverride2 = count;
                                                choosenSoundPath9 = lastMessage2;
                                            } else {
                                                messageObject = (MessageObject) r12.pushMessages.get(0);
                                                lastMessage2 = null;
                                                text = new boolean[1];
                                                stringForMessage = getStringForMessage(messageObject, null, text);
                                                message = stringForMessage;
                                                lastMessage3 = stringForMessage;
                                                choosenSoundPath5 = messageObject.messageOwner.silent;
                                                choosenSoundPath9 = message;
                                                if (choosenSoundPath9 != null) {
                                                    if (replace) {
                                                        silent3 = choosenSoundPath5;
                                                        sound = null;
                                                    } else {
                                                        if (chat2 != null) {
                                                            silent3 = choosenSoundPath5;
                                                            sound = null;
                                                            if (text[null]) {
                                                                choosenSoundPath5 = new StringBuilder();
                                                                choosenSoundPath5.append(str5);
                                                                choosenSoundPath5.append(" ");
                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            } else {
                                                                choosenSoundPath5 = new StringBuilder();
                                                                choosenSoundPath5.append(str5);
                                                                choosenSoundPath5.append(": ");
                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            }
                                                        } else {
                                                            silent3 = choosenSoundPath5;
                                                            choosenSoundPath5 = new StringBuilder();
                                                            sound = null;
                                                            choosenSoundPath5.append(" @ ");
                                                            choosenSoundPath5.append(str5);
                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        }
                                                        choosenSoundPath9 = message;
                                                    }
                                                    mBuilder.setContentText(choosenSoundPath9);
                                                    mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                    contentIntent = contentIntent2;
                                                    dialog_id = dialog_id2;
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                    choosenSoundPath9 = lastMessage3;
                                                    priorityOverride2 = silent3;
                                                } else {
                                                    return;
                                                }
                                            }
                                            dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                            dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                            dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                            mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                            if (fileLocation3 != null) {
                                                name = str5;
                                            } else {
                                                img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                if (img != null) {
                                                    file = FileLoader.getPathToAttach(fileLocation3, true);
                                                    if (file.exists()) {
                                                        name = str5;
                                                    } else {
                                                        scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                        options = new Options();
                                                        if (scaleFactor < 1.0f) {
                                                            name = str5;
                                                            str5 = (int) scaleFactor;
                                                        } else {
                                                            name = str5;
                                                            str5 = true;
                                                        }
                                                        options.inSampleSize = str5;
                                                        str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                        if (str5 != null) {
                                                            mBuilder.setLargeIcon(str5);
                                                        }
                                                    }
                                                } else {
                                                    mBuilder.setLargeIcon(img.getBitmap());
                                                    name = str5;
                                                }
                                            }
                                            z = notifyAboutLast;
                                            if (z) {
                                                count = priority;
                                            } else if (priorityOverride2 == 1) {
                                                if (priority == 0) {
                                                    count = priority;
                                                    if (count != 1) {
                                                        if (count == 2) {
                                                            if (count != 4) {
                                                                mBuilder.setPriority(-2);
                                                                if (VERSION.SDK_INT >= 26) {
                                                                    user_id2 = 1;
                                                                    i = user_id2;
                                                                }
                                                            } else if (count == 5) {
                                                                mBuilder.setPriority(-1);
                                                                if (VERSION.SDK_INT >= 26) {
                                                                    user_id2 = 2;
                                                                    i = user_id2;
                                                                }
                                                            }
                                                        }
                                                    }
                                                    mBuilder.setPriority(1);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        user_id2 = 4;
                                                        i = user_id2;
                                                    }
                                                } else {
                                                    mBuilder.setPriority(0);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        i = 3;
                                                    }
                                                    count = priority;
                                                }
                                                if (priorityOverride2 != 1) {
                                                }
                                                lastMessage = choosenSoundPath9;
                                                silent = priorityOverride2;
                                                needVibrate2 = needVibrate;
                                                choosenSoundPath = str;
                                                priorityOverride2 = ledColor;
                                                defaultPath = defaultPath4;
                                                jArr = new long[]{0, 0};
                                                vibrationPattern = jArr;
                                                mBuilder.setVibrate(jArr);
                                                vibrationPattern2 = vibrationPattern;
                                                sound2 = sound;
                                                str2 = lastMessage;
                                                if (AndroidUtilities.needShowPasscode(false)) {
                                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                    size = rows.size();
                                                    notifyOverride2 = false;
                                                    z3 = false;
                                                    while (true) {
                                                        choosenSoundPath2 = choosenSoundPath;
                                                        choosenSoundPath = size;
                                                        if (z3 < choosenSoundPath) {
                                                            break;
                                                        }
                                                        rows2 = rows;
                                                        size2 = choosenSoundPath;
                                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                                        choosenSoundPath = row.buttons.size();
                                                        defaultPath2 = defaultPath;
                                                        defaultPath = 0;
                                                        while (defaultPath < choosenSoundPath) {
                                                            size22 = choosenSoundPath;
                                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                            row2 = row;
                                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                priority2 = count;
                                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                dismissIntent = dismissIntent2;
                                                                dialog_id2 = dialog_id;
                                                                callbackIntent.putExtra("did", dialog_id2);
                                                                if (choosenSoundPath3.data == null) {
                                                                    fileLocation = fileLocation3;
                                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                } else {
                                                                    fileLocation = fileLocation3;
                                                                }
                                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                charSequence = choosenSoundPath3.text;
                                                                context = ApplicationLoader.applicationContext;
                                                                button = choosenSoundPath3;
                                                                choosenSoundPath = r12.lastButtonId;
                                                                lastMessageObject = lastMessageObject4;
                                                                r12.lastButtonId = choosenSoundPath + 1;
                                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                notifyOverride2 = true;
                                                            } else {
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                            }
                                                            defaultPath++;
                                                            dialog_id = dialog_id2;
                                                            choosenSoundPath = size22;
                                                            row = row2;
                                                            count = priority2;
                                                            dismissIntent2 = dismissIntent;
                                                            fileLocation3 = fileLocation;
                                                            lastMessageObject4 = lastMessageObject;
                                                            dialog_id2 = notifyAboutLast;
                                                        }
                                                        priority2 = count;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        z3++;
                                                        choosenSoundPath = choosenSoundPath2;
                                                        rows = rows2;
                                                        size = size2;
                                                        defaultPath = defaultPath2;
                                                        dismissIntent2 = dismissIntent2;
                                                        dialog_id2 = notifyAboutLast;
                                                    }
                                                    defaultPath2 = defaultPath;
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                    if (VERSION.SDK_INT > 19) {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    } else {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    }
                                                    if (VERSION.SDK_INT < 26) {
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        notifyOverride = name;
                                                        override_dialog_id = lastMessageObject;
                                                        priorityOverride = chat2;
                                                        silent3 = silent;
                                                        notifyDelay = notifyAboutLast;
                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                    } else {
                                                        j = dialog_id2;
                                                        i2 = notifyDelay;
                                                        size = notifyOverride;
                                                        j2 = override_dialog_id;
                                                        i3 = priorityOverride;
                                                        i4 = vibrateOverride;
                                                        sharedPreferences = preferences;
                                                        i5 = user_id;
                                                        i6 = chat_id;
                                                        user2 = user;
                                                        pendingIntent = contentIntent;
                                                        silent3 = silent;
                                                        dismissDate2 = needVibrate2;
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        str3 = defaultPath2;
                                                        i7 = priority2;
                                                        intent = dismissIntent;
                                                        fileLocation2 = fileLocation;
                                                        notifyDelay = notifyAboutLast;
                                                    }
                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                    r12.lastNotificationIsNoData = false;
                                                    scheduleNotificationRepeat();
                                                    return;
                                                }
                                                choosenSoundPath2 = choosenSoundPath;
                                                defaultPath2 = defaultPath;
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                notifyOverride2 = false;
                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                if (VERSION.SDK_INT > 19) {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                } else {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                }
                                                if (VERSION.SDK_INT < 26) {
                                                    j = dialog_id2;
                                                    i2 = notifyDelay;
                                                    size = notifyOverride;
                                                    j2 = override_dialog_id;
                                                    i3 = priorityOverride;
                                                    i4 = vibrateOverride;
                                                    sharedPreferences = preferences;
                                                    i5 = user_id;
                                                    i6 = chat_id;
                                                    user2 = user;
                                                    pendingIntent = contentIntent;
                                                    silent3 = silent;
                                                    dismissDate2 = needVibrate2;
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    str3 = defaultPath2;
                                                    i7 = priority2;
                                                    intent = dismissIntent;
                                                    fileLocation2 = fileLocation;
                                                    notifyDelay = notifyAboutLast;
                                                } else {
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    notifyOverride = name;
                                                    override_dialog_id = lastMessageObject;
                                                    priorityOverride = chat2;
                                                    silent3 = silent;
                                                    notifyDelay = notifyAboutLast;
                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                }
                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                r12.lastNotificationIsNoData = false;
                                                scheduleNotificationRepeat();
                                                return;
                                            } else {
                                                count = priority;
                                            }
                                            mBuilder.setPriority(-1);
                                            if (VERSION.SDK_INT >= 26) {
                                                user_id2 = 2;
                                                i = user_id2;
                                            }
                                            if (priorityOverride2 != 1) {
                                            }
                                            lastMessage = choosenSoundPath9;
                                            silent = priorityOverride2;
                                            needVibrate2 = needVibrate;
                                            choosenSoundPath = str;
                                            priorityOverride2 = ledColor;
                                            defaultPath = defaultPath4;
                                            jArr = new long[]{0, 0};
                                            vibrationPattern = jArr;
                                            mBuilder.setVibrate(jArr);
                                            vibrationPattern2 = vibrationPattern;
                                            sound2 = sound;
                                            str2 = lastMessage;
                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                size = rows.size();
                                                notifyOverride2 = false;
                                                z3 = false;
                                                while (true) {
                                                    choosenSoundPath2 = choosenSoundPath;
                                                    choosenSoundPath = size;
                                                    if (z3 < choosenSoundPath) {
                                                        break;
                                                    }
                                                    rows2 = rows;
                                                    size2 = choosenSoundPath;
                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                    choosenSoundPath = row.buttons.size();
                                                    defaultPath2 = defaultPath;
                                                    defaultPath = 0;
                                                    while (defaultPath < choosenSoundPath) {
                                                        size22 = choosenSoundPath;
                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                        row2 = row;
                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                        } else {
                                                            priority2 = count;
                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                            dismissIntent = dismissIntent2;
                                                            dialog_id2 = dialog_id;
                                                            callbackIntent.putExtra("did", dialog_id2);
                                                            if (choosenSoundPath3.data == null) {
                                                                fileLocation = fileLocation3;
                                                            } else {
                                                                fileLocation = fileLocation3;
                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                            }
                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                            charSequence = choosenSoundPath3.text;
                                                            context = ApplicationLoader.applicationContext;
                                                            button = choosenSoundPath3;
                                                            choosenSoundPath = r12.lastButtonId;
                                                            lastMessageObject = lastMessageObject4;
                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                            notifyOverride2 = true;
                                                        }
                                                        defaultPath++;
                                                        dialog_id = dialog_id2;
                                                        choosenSoundPath = size22;
                                                        row = row2;
                                                        count = priority2;
                                                        dismissIntent2 = dismissIntent;
                                                        fileLocation3 = fileLocation;
                                                        lastMessageObject4 = lastMessageObject;
                                                        dialog_id2 = notifyAboutLast;
                                                    }
                                                    priority2 = count;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    z3++;
                                                    choosenSoundPath = choosenSoundPath2;
                                                    rows = rows2;
                                                    size = size2;
                                                    defaultPath = defaultPath2;
                                                    dismissIntent2 = dismissIntent2;
                                                    dialog_id2 = notifyAboutLast;
                                                }
                                                defaultPath2 = defaultPath;
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                if (VERSION.SDK_INT > 19) {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                } else {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                }
                                                if (VERSION.SDK_INT < 26) {
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    notifyOverride = name;
                                                    override_dialog_id = lastMessageObject;
                                                    priorityOverride = chat2;
                                                    silent3 = silent;
                                                    notifyDelay = notifyAboutLast;
                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                } else {
                                                    j = dialog_id2;
                                                    i2 = notifyDelay;
                                                    size = notifyOverride;
                                                    j2 = override_dialog_id;
                                                    i3 = priorityOverride;
                                                    i4 = vibrateOverride;
                                                    sharedPreferences = preferences;
                                                    i5 = user_id;
                                                    i6 = chat_id;
                                                    user2 = user;
                                                    pendingIntent = contentIntent;
                                                    silent3 = silent;
                                                    dismissDate2 = needVibrate2;
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    str3 = defaultPath2;
                                                    i7 = priority2;
                                                    intent = dismissIntent;
                                                    fileLocation2 = fileLocation;
                                                    notifyDelay = notifyAboutLast;
                                                }
                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                r12.lastNotificationIsNoData = false;
                                                scheduleNotificationRepeat();
                                                return;
                                            }
                                            choosenSoundPath2 = choosenSoundPath;
                                            defaultPath2 = defaultPath;
                                            lastMessageObject = lastMessageObject4;
                                            priority2 = count;
                                            dismissIntent = dismissIntent2;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            notifyOverride2 = false;
                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                            if (VERSION.SDK_INT > 19) {
                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            } else {
                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            }
                                            if (VERSION.SDK_INT < 26) {
                                                j = dialog_id2;
                                                i2 = notifyDelay;
                                                size = notifyOverride;
                                                j2 = override_dialog_id;
                                                i3 = priorityOverride;
                                                i4 = vibrateOverride;
                                                sharedPreferences = preferences;
                                                i5 = user_id;
                                                i6 = chat_id;
                                                user2 = user;
                                                pendingIntent = contentIntent;
                                                silent3 = silent;
                                                dismissDate2 = needVibrate2;
                                                choosenSoundPath8 = choosenSoundPath2;
                                                str3 = defaultPath2;
                                                i7 = priority2;
                                                intent = dismissIntent;
                                                fileLocation2 = fileLocation;
                                                notifyDelay = notifyAboutLast;
                                            } else {
                                                choosenSoundPath8 = choosenSoundPath2;
                                                notifyOverride = name;
                                                override_dialog_id = lastMessageObject;
                                                priorityOverride = chat2;
                                                silent3 = silent;
                                                notifyDelay = notifyAboutLast;
                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                            }
                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                            r12.lastNotificationIsNoData = false;
                                            scheduleNotificationRepeat();
                                            return;
                                        }
                                    }
                                    if (r12.pushDialogs.size() != 1) {
                                        stringBuilder4 = new StringBuilder();
                                        stringBuilder4.append(choosenSoundPath9);
                                        objArr = new Object[2];
                                        chatName = choosenSoundPath5;
                                        objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                        objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                        stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                        detailText = stringBuilder4.toString();
                                    } else {
                                        stringBuilder4 = new StringBuilder();
                                        stringBuilder4.append(choosenSoundPath9);
                                        stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                        detailText = stringBuilder4.toString();
                                        chatName = choosenSoundPath5;
                                    }
                                    mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                    vibrationPattern3 = null;
                                    mBuilder.setCategory("msg");
                                    stringBuilder = new StringBuilder();
                                    i = 0;
                                    stringBuilder.append("tel:+");
                                    stringBuilder.append(user3.phone);
                                    mBuilder.addPerson(stringBuilder.toString());
                                    silent2 = 2;
                                    user = user3;
                                    if (r12.pushMessages.size() == 1) {
                                        messageObject = (MessageObject) r12.pushMessages.get(0);
                                        lastMessage2 = null;
                                        text = new boolean[1];
                                        stringForMessage = getStringForMessage(messageObject, null, text);
                                        message = stringForMessage;
                                        lastMessage3 = stringForMessage;
                                        choosenSoundPath5 = messageObject.messageOwner.silent;
                                        choosenSoundPath9 = message;
                                        if (choosenSoundPath9 != null) {
                                            if (replace) {
                                                if (chat2 != null) {
                                                    silent3 = choosenSoundPath5;
                                                    choosenSoundPath5 = new StringBuilder();
                                                    sound = null;
                                                    choosenSoundPath5.append(" @ ");
                                                    choosenSoundPath5.append(str5);
                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                } else {
                                                    silent3 = choosenSoundPath5;
                                                    sound = null;
                                                    if (text[null]) {
                                                        choosenSoundPath5 = new StringBuilder();
                                                        choosenSoundPath5.append(str5);
                                                        choosenSoundPath5.append(": ");
                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    } else {
                                                        choosenSoundPath5 = new StringBuilder();
                                                        choosenSoundPath5.append(str5);
                                                        choosenSoundPath5.append(" ");
                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    }
                                                }
                                                choosenSoundPath9 = message;
                                            } else {
                                                silent3 = choosenSoundPath5;
                                                sound = null;
                                            }
                                            mBuilder.setContentText(choosenSoundPath9);
                                            mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                            contentIntent = contentIntent2;
                                            dialog_id = dialog_id2;
                                            defaultPath4 = defaultPath3;
                                            notifyDelay = dismissDate2;
                                            choosenSoundPath9 = lastMessage3;
                                            priorityOverride2 = silent3;
                                        } else {
                                            return;
                                        }
                                    }
                                    lastMessage2 = null;
                                    sound = null;
                                    mBuilder.setContentText(detailText);
                                    inboxStyle = new InboxStyle();
                                    inboxStyle.setBigContentTitle(str5);
                                    count2 = Math.min(10, r12.pushMessages.size());
                                    text2 = new boolean[1];
                                    contentIntent = contentIntent2;
                                    count = silent2;
                                    chat_id2 = 0;
                                    while (chat_id2 < count2) {
                                        count3 = count2;
                                        count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                        dialog_id = dialog_id2;
                                        message2 = getStringForMessage(count4, 0, text2);
                                        if (message2 != null) {
                                            defaultPath4 = defaultPath3;
                                            notifyDelay = dismissDate2;
                                            if (count4.messageOwner.date > notifyDelay) {
                                                if (count == 2) {
                                                    lastMessage2 = message2;
                                                    count = count4.messageOwner.silent;
                                                }
                                                messageObject2 = count4;
                                                if (chat2 != null) {
                                                    count2 = new StringBuilder();
                                                    count2.append(" @ ");
                                                    count2.append(str5);
                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                } else if (text2[0]) {
                                                    count2 = new StringBuilder();
                                                    count2.append(str5);
                                                    count2.append(": ");
                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                } else {
                                                    count2 = new StringBuilder();
                                                    count2.append(str5);
                                                    count2.append(" ");
                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                }
                                                inboxStyle.addLine(message2);
                                            }
                                        } else {
                                            defaultPath4 = defaultPath3;
                                            notifyDelay = dismissDate2;
                                        }
                                        chat_id2++;
                                        dismissDate2 = notifyDelay;
                                        count2 = count3;
                                        dialog_id2 = dialog_id;
                                        defaultPath3 = defaultPath4;
                                    }
                                    dialog_id = dialog_id2;
                                    defaultPath4 = defaultPath3;
                                    notifyDelay = dismissDate2;
                                    inboxStyle.setSummaryText(detailText);
                                    mBuilder.setStyle(inboxStyle);
                                    priorityOverride2 = count;
                                    choosenSoundPath9 = lastMessage2;
                                    dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                    dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                    dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                    mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                    if (fileLocation3 != null) {
                                        img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                        if (img != null) {
                                            mBuilder.setLargeIcon(img.getBitmap());
                                            name = str5;
                                        } else {
                                            file = FileLoader.getPathToAttach(fileLocation3, true);
                                            if (file.exists()) {
                                                scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                options = new Options();
                                                if (scaleFactor < 1.0f) {
                                                    name = str5;
                                                    str5 = true;
                                                } else {
                                                    name = str5;
                                                    str5 = (int) scaleFactor;
                                                }
                                                options.inSampleSize = str5;
                                                str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                if (str5 != null) {
                                                    mBuilder.setLargeIcon(str5);
                                                }
                                            } else {
                                                name = str5;
                                            }
                                        }
                                    } else {
                                        name = str5;
                                    }
                                    z = notifyAboutLast;
                                    if (z) {
                                        count = priority;
                                    } else if (priorityOverride2 == 1) {
                                        count = priority;
                                    } else {
                                        if (priority == 0) {
                                            mBuilder.setPriority(0);
                                            if (VERSION.SDK_INT >= 26) {
                                                i = 3;
                                            }
                                            count = priority;
                                        } else {
                                            count = priority;
                                            if (count != 1) {
                                                if (count == 2) {
                                                    if (count != 4) {
                                                        mBuilder.setPriority(-2);
                                                        if (VERSION.SDK_INT >= 26) {
                                                            user_id2 = 1;
                                                            i = user_id2;
                                                        }
                                                    } else if (count == 5) {
                                                        mBuilder.setPriority(-1);
                                                        if (VERSION.SDK_INT >= 26) {
                                                            user_id2 = 2;
                                                            i = user_id2;
                                                        }
                                                    }
                                                }
                                            }
                                            mBuilder.setPriority(1);
                                            if (VERSION.SDK_INT >= 26) {
                                                user_id2 = 4;
                                                i = user_id2;
                                            }
                                        }
                                        if (priorityOverride2 != 1) {
                                        }
                                        lastMessage = choosenSoundPath9;
                                        silent = priorityOverride2;
                                        needVibrate2 = needVibrate;
                                        choosenSoundPath = str;
                                        priorityOverride2 = ledColor;
                                        defaultPath = defaultPath4;
                                        jArr = new long[]{0, 0};
                                        vibrationPattern = jArr;
                                        mBuilder.setVibrate(jArr);
                                        vibrationPattern2 = vibrationPattern;
                                        sound2 = sound;
                                        str2 = lastMessage;
                                        if (AndroidUtilities.needShowPasscode(false)) {
                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                            size = rows.size();
                                            notifyOverride2 = false;
                                            z3 = false;
                                            while (true) {
                                                choosenSoundPath2 = choosenSoundPath;
                                                choosenSoundPath = size;
                                                if (z3 < choosenSoundPath) {
                                                    break;
                                                }
                                                rows2 = rows;
                                                size2 = choosenSoundPath;
                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                choosenSoundPath = row.buttons.size();
                                                defaultPath2 = defaultPath;
                                                defaultPath = 0;
                                                while (defaultPath < choosenSoundPath) {
                                                    size22 = choosenSoundPath;
                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                    row2 = row;
                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                        priority2 = count;
                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                        dismissIntent = dismissIntent2;
                                                        dialog_id2 = dialog_id;
                                                        callbackIntent.putExtra("did", dialog_id2);
                                                        if (choosenSoundPath3.data == null) {
                                                            fileLocation = fileLocation3;
                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                        } else {
                                                            fileLocation = fileLocation3;
                                                        }
                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                        charSequence = choosenSoundPath3.text;
                                                        context = ApplicationLoader.applicationContext;
                                                        button = choosenSoundPath3;
                                                        choosenSoundPath = r12.lastButtonId;
                                                        lastMessageObject = lastMessageObject4;
                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                        notifyOverride2 = true;
                                                    } else {
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                    }
                                                    defaultPath++;
                                                    dialog_id = dialog_id2;
                                                    choosenSoundPath = size22;
                                                    row = row2;
                                                    count = priority2;
                                                    dismissIntent2 = dismissIntent;
                                                    fileLocation3 = fileLocation;
                                                    lastMessageObject4 = lastMessageObject;
                                                    dialog_id2 = notifyAboutLast;
                                                }
                                                priority2 = count;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                z3++;
                                                choosenSoundPath = choosenSoundPath2;
                                                rows = rows2;
                                                size = size2;
                                                defaultPath = defaultPath2;
                                                dismissIntent2 = dismissIntent2;
                                                dialog_id2 = notifyAboutLast;
                                            }
                                            defaultPath2 = defaultPath;
                                            lastMessageObject = lastMessageObject4;
                                            priority2 = count;
                                            dismissIntent = dismissIntent2;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                            if (VERSION.SDK_INT > 19) {
                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            } else {
                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            }
                                            if (VERSION.SDK_INT < 26) {
                                                choosenSoundPath8 = choosenSoundPath2;
                                                notifyOverride = name;
                                                override_dialog_id = lastMessageObject;
                                                priorityOverride = chat2;
                                                silent3 = silent;
                                                notifyDelay = notifyAboutLast;
                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                            } else {
                                                j = dialog_id2;
                                                i2 = notifyDelay;
                                                size = notifyOverride;
                                                j2 = override_dialog_id;
                                                i3 = priorityOverride;
                                                i4 = vibrateOverride;
                                                sharedPreferences = preferences;
                                                i5 = user_id;
                                                i6 = chat_id;
                                                user2 = user;
                                                pendingIntent = contentIntent;
                                                silent3 = silent;
                                                dismissDate2 = needVibrate2;
                                                choosenSoundPath8 = choosenSoundPath2;
                                                str3 = defaultPath2;
                                                i7 = priority2;
                                                intent = dismissIntent;
                                                fileLocation2 = fileLocation;
                                                notifyDelay = notifyAboutLast;
                                            }
                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                            r12.lastNotificationIsNoData = false;
                                            scheduleNotificationRepeat();
                                            return;
                                        }
                                        choosenSoundPath2 = choosenSoundPath;
                                        defaultPath2 = defaultPath;
                                        lastMessageObject = lastMessageObject4;
                                        priority2 = count;
                                        dismissIntent = dismissIntent2;
                                        fileLocation = fileLocation3;
                                        dialog_id2 = dialog_id;
                                        notifyOverride2 = false;
                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                        if (VERSION.SDK_INT > 19) {
                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        } else {
                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        }
                                        if (VERSION.SDK_INT < 26) {
                                            j = dialog_id2;
                                            i2 = notifyDelay;
                                            size = notifyOverride;
                                            j2 = override_dialog_id;
                                            i3 = priorityOverride;
                                            i4 = vibrateOverride;
                                            sharedPreferences = preferences;
                                            i5 = user_id;
                                            i6 = chat_id;
                                            user2 = user;
                                            pendingIntent = contentIntent;
                                            silent3 = silent;
                                            dismissDate2 = needVibrate2;
                                            choosenSoundPath8 = choosenSoundPath2;
                                            str3 = defaultPath2;
                                            i7 = priority2;
                                            intent = dismissIntent;
                                            fileLocation2 = fileLocation;
                                            notifyDelay = notifyAboutLast;
                                        } else {
                                            choosenSoundPath8 = choosenSoundPath2;
                                            notifyOverride = name;
                                            override_dialog_id = lastMessageObject;
                                            priorityOverride = chat2;
                                            silent3 = silent;
                                            notifyDelay = notifyAboutLast;
                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                        }
                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                        r12.lastNotificationIsNoData = false;
                                        scheduleNotificationRepeat();
                                        return;
                                    }
                                    mBuilder.setPriority(-1);
                                    if (VERSION.SDK_INT >= 26) {
                                        user_id2 = 2;
                                        i = user_id2;
                                    }
                                    if (priorityOverride2 != 1) {
                                    }
                                    lastMessage = choosenSoundPath9;
                                    silent = priorityOverride2;
                                    needVibrate2 = needVibrate;
                                    choosenSoundPath = str;
                                    priorityOverride2 = ledColor;
                                    defaultPath = defaultPath4;
                                    jArr = new long[]{0, 0};
                                    vibrationPattern = jArr;
                                    mBuilder.setVibrate(jArr);
                                    vibrationPattern2 = vibrationPattern;
                                    sound2 = sound;
                                    str2 = lastMessage;
                                    if (AndroidUtilities.needShowPasscode(false)) {
                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                        size = rows.size();
                                        notifyOverride2 = false;
                                        z3 = false;
                                        while (true) {
                                            choosenSoundPath2 = choosenSoundPath;
                                            choosenSoundPath = size;
                                            if (z3 < choosenSoundPath) {
                                                break;
                                            }
                                            rows2 = rows;
                                            size2 = choosenSoundPath;
                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                            choosenSoundPath = row.buttons.size();
                                            defaultPath2 = defaultPath;
                                            defaultPath = 0;
                                            while (defaultPath < choosenSoundPath) {
                                                size22 = choosenSoundPath;
                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                row2 = row;
                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                } else {
                                                    priority2 = count;
                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                    dismissIntent = dismissIntent2;
                                                    dialog_id2 = dialog_id;
                                                    callbackIntent.putExtra("did", dialog_id2);
                                                    if (choosenSoundPath3.data == null) {
                                                        fileLocation = fileLocation3;
                                                    } else {
                                                        fileLocation = fileLocation3;
                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                    }
                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                    charSequence = choosenSoundPath3.text;
                                                    context = ApplicationLoader.applicationContext;
                                                    button = choosenSoundPath3;
                                                    choosenSoundPath = r12.lastButtonId;
                                                    lastMessageObject = lastMessageObject4;
                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                    notifyOverride2 = true;
                                                }
                                                defaultPath++;
                                                dialog_id = dialog_id2;
                                                choosenSoundPath = size22;
                                                row = row2;
                                                count = priority2;
                                                dismissIntent2 = dismissIntent;
                                                fileLocation3 = fileLocation;
                                                lastMessageObject4 = lastMessageObject;
                                                dialog_id2 = notifyAboutLast;
                                            }
                                            priority2 = count;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            z3++;
                                            choosenSoundPath = choosenSoundPath2;
                                            rows = rows2;
                                            size = size2;
                                            defaultPath = defaultPath2;
                                            dismissIntent2 = dismissIntent2;
                                            dialog_id2 = notifyAboutLast;
                                        }
                                        defaultPath2 = defaultPath;
                                        lastMessageObject = lastMessageObject4;
                                        priority2 = count;
                                        dismissIntent = dismissIntent2;
                                        fileLocation = fileLocation3;
                                        dialog_id2 = dialog_id;
                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                        if (VERSION.SDK_INT > 19) {
                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        } else {
                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        }
                                        if (VERSION.SDK_INT < 26) {
                                            choosenSoundPath8 = choosenSoundPath2;
                                            notifyOverride = name;
                                            override_dialog_id = lastMessageObject;
                                            priorityOverride = chat2;
                                            silent3 = silent;
                                            notifyDelay = notifyAboutLast;
                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                        } else {
                                            j = dialog_id2;
                                            i2 = notifyDelay;
                                            size = notifyOverride;
                                            j2 = override_dialog_id;
                                            i3 = priorityOverride;
                                            i4 = vibrateOverride;
                                            sharedPreferences = preferences;
                                            i5 = user_id;
                                            i6 = chat_id;
                                            user2 = user;
                                            pendingIntent = contentIntent;
                                            silent3 = silent;
                                            dismissDate2 = needVibrate2;
                                            choosenSoundPath8 = choosenSoundPath2;
                                            str3 = defaultPath2;
                                            i7 = priority2;
                                            intent = dismissIntent;
                                            fileLocation2 = fileLocation;
                                            notifyDelay = notifyAboutLast;
                                        }
                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                        r12.lastNotificationIsNoData = false;
                                        scheduleNotificationRepeat();
                                        return;
                                    }
                                    choosenSoundPath2 = choosenSoundPath;
                                    defaultPath2 = defaultPath;
                                    lastMessageObject = lastMessageObject4;
                                    priority2 = count;
                                    dismissIntent = dismissIntent2;
                                    fileLocation = fileLocation3;
                                    dialog_id2 = dialog_id;
                                    notifyOverride2 = false;
                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                    if (VERSION.SDK_INT > 19) {
                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    } else {
                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    }
                                    if (VERSION.SDK_INT < 26) {
                                        j = dialog_id2;
                                        i2 = notifyDelay;
                                        size = notifyOverride;
                                        j2 = override_dialog_id;
                                        i3 = priorityOverride;
                                        i4 = vibrateOverride;
                                        sharedPreferences = preferences;
                                        i5 = user_id;
                                        i6 = chat_id;
                                        user2 = user;
                                        pendingIntent = contentIntent;
                                        silent3 = silent;
                                        dismissDate2 = needVibrate2;
                                        choosenSoundPath8 = choosenSoundPath2;
                                        str3 = defaultPath2;
                                        i7 = priority2;
                                        intent = dismissIntent;
                                        fileLocation2 = fileLocation;
                                        notifyDelay = notifyAboutLast;
                                    } else {
                                        choosenSoundPath8 = choosenSoundPath2;
                                        notifyOverride = name;
                                        override_dialog_id = lastMessageObject;
                                        priorityOverride = chat2;
                                        silent3 = silent;
                                        notifyDelay = notifyAboutLast;
                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                    }
                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                    r12.lastNotificationIsNoData = false;
                                    scheduleNotificationRepeat();
                                    return;
                                }
                                str = choosenSoundPath9;
                                user_id = user_id2;
                                chat2 = chat;
                                if (r12.pushDialogs.size() != 1) {
                                    priority = needVibrate4;
                                    ledColor = count;
                                    intent2.putExtra("encId", (int) (dialog_id2 >> 32));
                                } else {
                                    priority = needVibrate4;
                                    ledColor = count;
                                }
                                fileLocation3 = photoPath;
                                intent2.putExtra("currentAccount", r12.currentAccount);
                                contentIntent2 = PendingIntent.getActivity(ApplicationLoader.applicationContext, 0, intent2, NUM);
                                if (chat_id2 == 0) {
                                }
                                lastMessageObject4 = lastMessageObject3;
                                if (chat2 != null) {
                                    str5 = UserObject.getUserName(user3);
                                } else {
                                    str5 = chat2.title;
                                }
                                choosenSoundPath5 = str5;
                                if (((int) dialog_id2) == 0) {
                                    replace = true;
                                    if (SharedConfig.isWaitingForPasscodeEnter) {
                                        choosenSoundPath9 = choosenSoundPath5;
                                        str5 = choosenSoundPath9;
                                        chat_id = chat_id2;
                                        if (UserConfig.getActivatedAccountsCount() <= 1) {
                                            choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                        } else if (r12.pushDialogs.size() != 1) {
                                            choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                        } else {
                                            stringBuilder = new StringBuilder();
                                            stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                            stringBuilder.append("\u30fb");
                                            choosenSoundPath9 = stringBuilder.toString();
                                        }
                                        if (r12.pushDialogs.size() == 1) {
                                            if (VERSION.SDK_INT >= 23) {
                                                detailText = choosenSoundPath9;
                                                chatName = choosenSoundPath5;
                                                z4 = inAppVibrate;
                                                mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                vibrationPattern3 = null;
                                                mBuilder.setCategory("msg");
                                                stringBuilder = new StringBuilder();
                                                i = 0;
                                                stringBuilder.append("tel:+");
                                                stringBuilder.append(user3.phone);
                                                mBuilder.addPerson(stringBuilder.toString());
                                                silent2 = 2;
                                                user = user3;
                                                if (r12.pushMessages.size() == 1) {
                                                    lastMessage2 = null;
                                                    sound = null;
                                                    mBuilder.setContentText(detailText);
                                                    inboxStyle = new InboxStyle();
                                                    inboxStyle.setBigContentTitle(str5);
                                                    count2 = Math.min(10, r12.pushMessages.size());
                                                    text2 = new boolean[1];
                                                    contentIntent = contentIntent2;
                                                    count = silent2;
                                                    chat_id2 = 0;
                                                    while (chat_id2 < count2) {
                                                        count3 = count2;
                                                        count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                        dialog_id = dialog_id2;
                                                        message2 = getStringForMessage(count4, 0, text2);
                                                        if (message2 != null) {
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                        } else {
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                            if (count4.messageOwner.date > notifyDelay) {
                                                                if (count == 2) {
                                                                    lastMessage2 = message2;
                                                                    count = count4.messageOwner.silent;
                                                                }
                                                                messageObject2 = count4;
                                                                if (chat2 != null) {
                                                                    count2 = new StringBuilder();
                                                                    count2.append(" @ ");
                                                                    count2.append(str5);
                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                } else if (text2[0]) {
                                                                    count2 = new StringBuilder();
                                                                    count2.append(str5);
                                                                    count2.append(" ");
                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                } else {
                                                                    count2 = new StringBuilder();
                                                                    count2.append(str5);
                                                                    count2.append(": ");
                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                }
                                                                inboxStyle.addLine(message2);
                                                            }
                                                        }
                                                        chat_id2++;
                                                        dismissDate2 = notifyDelay;
                                                        count2 = count3;
                                                        dialog_id2 = dialog_id;
                                                        defaultPath3 = defaultPath4;
                                                    }
                                                    dialog_id = dialog_id2;
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                    inboxStyle.setSummaryText(detailText);
                                                    mBuilder.setStyle(inboxStyle);
                                                    priorityOverride2 = count;
                                                    choosenSoundPath9 = lastMessage2;
                                                } else {
                                                    messageObject = (MessageObject) r12.pushMessages.get(0);
                                                    lastMessage2 = null;
                                                    text = new boolean[1];
                                                    stringForMessage = getStringForMessage(messageObject, null, text);
                                                    message = stringForMessage;
                                                    lastMessage3 = stringForMessage;
                                                    choosenSoundPath5 = messageObject.messageOwner.silent;
                                                    choosenSoundPath9 = message;
                                                    if (choosenSoundPath9 != null) {
                                                        if (replace) {
                                                            silent3 = choosenSoundPath5;
                                                            sound = null;
                                                        } else {
                                                            if (chat2 != null) {
                                                                silent3 = choosenSoundPath5;
                                                                sound = null;
                                                                if (text[null]) {
                                                                    choosenSoundPath5 = new StringBuilder();
                                                                    choosenSoundPath5.append(str5);
                                                                    choosenSoundPath5.append(" ");
                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                } else {
                                                                    choosenSoundPath5 = new StringBuilder();
                                                                    choosenSoundPath5.append(str5);
                                                                    choosenSoundPath5.append(": ");
                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                }
                                                            } else {
                                                                silent3 = choosenSoundPath5;
                                                                choosenSoundPath5 = new StringBuilder();
                                                                sound = null;
                                                                choosenSoundPath5.append(" @ ");
                                                                choosenSoundPath5.append(str5);
                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            }
                                                            choosenSoundPath9 = message;
                                                        }
                                                        mBuilder.setContentText(choosenSoundPath9);
                                                        mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                        contentIntent = contentIntent2;
                                                        dialog_id = dialog_id2;
                                                        defaultPath4 = defaultPath3;
                                                        notifyDelay = dismissDate2;
                                                        choosenSoundPath9 = lastMessage3;
                                                        priorityOverride2 = silent3;
                                                    } else {
                                                        return;
                                                    }
                                                }
                                                dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                if (fileLocation3 != null) {
                                                    name = str5;
                                                } else {
                                                    img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                    if (img != null) {
                                                        file = FileLoader.getPathToAttach(fileLocation3, true);
                                                        if (file.exists()) {
                                                            name = str5;
                                                        } else {
                                                            scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                            options = new Options();
                                                            if (scaleFactor < 1.0f) {
                                                                name = str5;
                                                                str5 = (int) scaleFactor;
                                                            } else {
                                                                name = str5;
                                                                str5 = true;
                                                            }
                                                            options.inSampleSize = str5;
                                                            str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                            if (str5 != null) {
                                                                mBuilder.setLargeIcon(str5);
                                                            }
                                                        }
                                                    } else {
                                                        mBuilder.setLargeIcon(img.getBitmap());
                                                        name = str5;
                                                    }
                                                }
                                                z = notifyAboutLast;
                                                if (z) {
                                                    count = priority;
                                                } else if (priorityOverride2 == 1) {
                                                    if (priority == 0) {
                                                        count = priority;
                                                        if (count != 1) {
                                                            if (count == 2) {
                                                                if (count != 4) {
                                                                    mBuilder.setPriority(-2);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        user_id2 = 1;
                                                                        i = user_id2;
                                                                    }
                                                                } else if (count == 5) {
                                                                    mBuilder.setPriority(-1);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        user_id2 = 2;
                                                                        i = user_id2;
                                                                    }
                                                                }
                                                            }
                                                        }
                                                        mBuilder.setPriority(1);
                                                        if (VERSION.SDK_INT >= 26) {
                                                            user_id2 = 4;
                                                            i = user_id2;
                                                        }
                                                    } else {
                                                        mBuilder.setPriority(0);
                                                        if (VERSION.SDK_INT >= 26) {
                                                            i = 3;
                                                        }
                                                        count = priority;
                                                    }
                                                    if (priorityOverride2 != 1) {
                                                    }
                                                    lastMessage = choosenSoundPath9;
                                                    silent = priorityOverride2;
                                                    needVibrate2 = needVibrate;
                                                    choosenSoundPath = str;
                                                    priorityOverride2 = ledColor;
                                                    defaultPath = defaultPath4;
                                                    jArr = new long[]{0, 0};
                                                    vibrationPattern = jArr;
                                                    mBuilder.setVibrate(jArr);
                                                    vibrationPattern2 = vibrationPattern;
                                                    sound2 = sound;
                                                    str2 = lastMessage;
                                                    if (AndroidUtilities.needShowPasscode(false)) {
                                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                        size = rows.size();
                                                        notifyOverride2 = false;
                                                        z3 = false;
                                                        while (true) {
                                                            choosenSoundPath2 = choosenSoundPath;
                                                            choosenSoundPath = size;
                                                            if (z3 < choosenSoundPath) {
                                                                break;
                                                            }
                                                            rows2 = rows;
                                                            size2 = choosenSoundPath;
                                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                                            choosenSoundPath = row.buttons.size();
                                                            defaultPath2 = defaultPath;
                                                            defaultPath = 0;
                                                            while (defaultPath < choosenSoundPath) {
                                                                size22 = choosenSoundPath;
                                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                row2 = row;
                                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                    priority2 = count;
                                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                    dismissIntent = dismissIntent2;
                                                                    dialog_id2 = dialog_id;
                                                                    callbackIntent.putExtra("did", dialog_id2);
                                                                    if (choosenSoundPath3.data == null) {
                                                                        fileLocation = fileLocation3;
                                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                    } else {
                                                                        fileLocation = fileLocation3;
                                                                    }
                                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                    charSequence = choosenSoundPath3.text;
                                                                    context = ApplicationLoader.applicationContext;
                                                                    button = choosenSoundPath3;
                                                                    choosenSoundPath = r12.lastButtonId;
                                                                    lastMessageObject = lastMessageObject4;
                                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                    notifyOverride2 = true;
                                                                } else {
                                                                    lastMessageObject = lastMessageObject4;
                                                                    priority2 = count;
                                                                    dismissIntent = dismissIntent2;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                }
                                                                defaultPath++;
                                                                dialog_id = dialog_id2;
                                                                choosenSoundPath = size22;
                                                                row = row2;
                                                                count = priority2;
                                                                dismissIntent2 = dismissIntent;
                                                                fileLocation3 = fileLocation;
                                                                lastMessageObject4 = lastMessageObject;
                                                                dialog_id2 = notifyAboutLast;
                                                            }
                                                            priority2 = count;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            z3++;
                                                            choosenSoundPath = choosenSoundPath2;
                                                            rows = rows2;
                                                            size = size2;
                                                            defaultPath = defaultPath2;
                                                            dismissIntent2 = dismissIntent2;
                                                            dialog_id2 = notifyAboutLast;
                                                        }
                                                        defaultPath2 = defaultPath;
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                        if (VERSION.SDK_INT > 19) {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        } else {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        }
                                                        if (VERSION.SDK_INT < 26) {
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            notifyOverride = name;
                                                            override_dialog_id = lastMessageObject;
                                                            priorityOverride = chat2;
                                                            silent3 = silent;
                                                            notifyDelay = notifyAboutLast;
                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                        } else {
                                                            j = dialog_id2;
                                                            i2 = notifyDelay;
                                                            size = notifyOverride;
                                                            j2 = override_dialog_id;
                                                            i3 = priorityOverride;
                                                            i4 = vibrateOverride;
                                                            sharedPreferences = preferences;
                                                            i5 = user_id;
                                                            i6 = chat_id;
                                                            user2 = user;
                                                            pendingIntent = contentIntent;
                                                            silent3 = silent;
                                                            dismissDate2 = needVibrate2;
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            str3 = defaultPath2;
                                                            i7 = priority2;
                                                            intent = dismissIntent;
                                                            fileLocation2 = fileLocation;
                                                            notifyDelay = notifyAboutLast;
                                                        }
                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                        r12.lastNotificationIsNoData = false;
                                                        scheduleNotificationRepeat();
                                                        return;
                                                    }
                                                    choosenSoundPath2 = choosenSoundPath;
                                                    defaultPath2 = defaultPath;
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    notifyOverride2 = false;
                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                    if (VERSION.SDK_INT > 19) {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    } else {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    }
                                                    if (VERSION.SDK_INT < 26) {
                                                        j = dialog_id2;
                                                        i2 = notifyDelay;
                                                        size = notifyOverride;
                                                        j2 = override_dialog_id;
                                                        i3 = priorityOverride;
                                                        i4 = vibrateOverride;
                                                        sharedPreferences = preferences;
                                                        i5 = user_id;
                                                        i6 = chat_id;
                                                        user2 = user;
                                                        pendingIntent = contentIntent;
                                                        silent3 = silent;
                                                        dismissDate2 = needVibrate2;
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        str3 = defaultPath2;
                                                        i7 = priority2;
                                                        intent = dismissIntent;
                                                        fileLocation2 = fileLocation;
                                                        notifyDelay = notifyAboutLast;
                                                    } else {
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        notifyOverride = name;
                                                        override_dialog_id = lastMessageObject;
                                                        priorityOverride = chat2;
                                                        silent3 = silent;
                                                        notifyDelay = notifyAboutLast;
                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                    }
                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                    r12.lastNotificationIsNoData = false;
                                                    scheduleNotificationRepeat();
                                                    return;
                                                } else {
                                                    count = priority;
                                                }
                                                mBuilder.setPriority(-1);
                                                if (VERSION.SDK_INT >= 26) {
                                                    user_id2 = 2;
                                                    i = user_id2;
                                                }
                                                if (priorityOverride2 != 1) {
                                                }
                                                lastMessage = choosenSoundPath9;
                                                silent = priorityOverride2;
                                                needVibrate2 = needVibrate;
                                                choosenSoundPath = str;
                                                priorityOverride2 = ledColor;
                                                defaultPath = defaultPath4;
                                                jArr = new long[]{0, 0};
                                                vibrationPattern = jArr;
                                                mBuilder.setVibrate(jArr);
                                                vibrationPattern2 = vibrationPattern;
                                                sound2 = sound;
                                                str2 = lastMessage;
                                                if (AndroidUtilities.needShowPasscode(false)) {
                                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                    size = rows.size();
                                                    notifyOverride2 = false;
                                                    z3 = false;
                                                    while (true) {
                                                        choosenSoundPath2 = choosenSoundPath;
                                                        choosenSoundPath = size;
                                                        if (z3 < choosenSoundPath) {
                                                            break;
                                                        }
                                                        rows2 = rows;
                                                        size2 = choosenSoundPath;
                                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                                        choosenSoundPath = row.buttons.size();
                                                        defaultPath2 = defaultPath;
                                                        defaultPath = 0;
                                                        while (defaultPath < choosenSoundPath) {
                                                            size22 = choosenSoundPath;
                                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                            row2 = row;
                                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                            } else {
                                                                priority2 = count;
                                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                dismissIntent = dismissIntent2;
                                                                dialog_id2 = dialog_id;
                                                                callbackIntent.putExtra("did", dialog_id2);
                                                                if (choosenSoundPath3.data == null) {
                                                                    fileLocation = fileLocation3;
                                                                } else {
                                                                    fileLocation = fileLocation3;
                                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                }
                                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                charSequence = choosenSoundPath3.text;
                                                                context = ApplicationLoader.applicationContext;
                                                                button = choosenSoundPath3;
                                                                choosenSoundPath = r12.lastButtonId;
                                                                lastMessageObject = lastMessageObject4;
                                                                r12.lastButtonId = choosenSoundPath + 1;
                                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                notifyOverride2 = true;
                                                            }
                                                            defaultPath++;
                                                            dialog_id = dialog_id2;
                                                            choosenSoundPath = size22;
                                                            row = row2;
                                                            count = priority2;
                                                            dismissIntent2 = dismissIntent;
                                                            fileLocation3 = fileLocation;
                                                            lastMessageObject4 = lastMessageObject;
                                                            dialog_id2 = notifyAboutLast;
                                                        }
                                                        priority2 = count;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        z3++;
                                                        choosenSoundPath = choosenSoundPath2;
                                                        rows = rows2;
                                                        size = size2;
                                                        defaultPath = defaultPath2;
                                                        dismissIntent2 = dismissIntent2;
                                                        dialog_id2 = notifyAboutLast;
                                                    }
                                                    defaultPath2 = defaultPath;
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                    if (VERSION.SDK_INT > 19) {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    } else {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    }
                                                    if (VERSION.SDK_INT < 26) {
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        notifyOverride = name;
                                                        override_dialog_id = lastMessageObject;
                                                        priorityOverride = chat2;
                                                        silent3 = silent;
                                                        notifyDelay = notifyAboutLast;
                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                    } else {
                                                        j = dialog_id2;
                                                        i2 = notifyDelay;
                                                        size = notifyOverride;
                                                        j2 = override_dialog_id;
                                                        i3 = priorityOverride;
                                                        i4 = vibrateOverride;
                                                        sharedPreferences = preferences;
                                                        i5 = user_id;
                                                        i6 = chat_id;
                                                        user2 = user;
                                                        pendingIntent = contentIntent;
                                                        silent3 = silent;
                                                        dismissDate2 = needVibrate2;
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        str3 = defaultPath2;
                                                        i7 = priority2;
                                                        intent = dismissIntent;
                                                        fileLocation2 = fileLocation;
                                                        notifyDelay = notifyAboutLast;
                                                    }
                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                    r12.lastNotificationIsNoData = false;
                                                    scheduleNotificationRepeat();
                                                    return;
                                                }
                                                choosenSoundPath2 = choosenSoundPath;
                                                defaultPath2 = defaultPath;
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                notifyOverride2 = false;
                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                if (VERSION.SDK_INT > 19) {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                } else {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                }
                                                if (VERSION.SDK_INT < 26) {
                                                    j = dialog_id2;
                                                    i2 = notifyDelay;
                                                    size = notifyOverride;
                                                    j2 = override_dialog_id;
                                                    i3 = priorityOverride;
                                                    i4 = vibrateOverride;
                                                    sharedPreferences = preferences;
                                                    i5 = user_id;
                                                    i6 = chat_id;
                                                    user2 = user;
                                                    pendingIntent = contentIntent;
                                                    silent3 = silent;
                                                    dismissDate2 = needVibrate2;
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    str3 = defaultPath2;
                                                    i7 = priority2;
                                                    intent = dismissIntent;
                                                    fileLocation2 = fileLocation;
                                                    notifyDelay = notifyAboutLast;
                                                } else {
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    notifyOverride = name;
                                                    override_dialog_id = lastMessageObject;
                                                    priorityOverride = chat2;
                                                    silent3 = silent;
                                                    notifyDelay = notifyAboutLast;
                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                }
                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                r12.lastNotificationIsNoData = false;
                                                scheduleNotificationRepeat();
                                                return;
                                            }
                                        }
                                        if (r12.pushDialogs.size() != 1) {
                                            stringBuilder4 = new StringBuilder();
                                            stringBuilder4.append(choosenSoundPath9);
                                            stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                            detailText = stringBuilder4.toString();
                                            chatName = choosenSoundPath5;
                                        } else {
                                            stringBuilder4 = new StringBuilder();
                                            stringBuilder4.append(choosenSoundPath9);
                                            objArr = new Object[2];
                                            chatName = choosenSoundPath5;
                                            objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                            objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                            stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                            detailText = stringBuilder4.toString();
                                        }
                                        mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                        vibrationPattern3 = null;
                                        mBuilder.setCategory("msg");
                                        stringBuilder = new StringBuilder();
                                        i = 0;
                                        stringBuilder.append("tel:+");
                                        stringBuilder.append(user3.phone);
                                        mBuilder.addPerson(stringBuilder.toString());
                                        silent2 = 2;
                                        user = user3;
                                        if (r12.pushMessages.size() == 1) {
                                            messageObject = (MessageObject) r12.pushMessages.get(0);
                                            lastMessage2 = null;
                                            text = new boolean[1];
                                            stringForMessage = getStringForMessage(messageObject, null, text);
                                            message = stringForMessage;
                                            lastMessage3 = stringForMessage;
                                            choosenSoundPath5 = messageObject.messageOwner.silent;
                                            choosenSoundPath9 = message;
                                            if (choosenSoundPath9 != null) {
                                                if (replace) {
                                                    if (chat2 != null) {
                                                        silent3 = choosenSoundPath5;
                                                        choosenSoundPath5 = new StringBuilder();
                                                        sound = null;
                                                        choosenSoundPath5.append(" @ ");
                                                        choosenSoundPath5.append(str5);
                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    } else {
                                                        silent3 = choosenSoundPath5;
                                                        sound = null;
                                                        if (text[null]) {
                                                            choosenSoundPath5 = new StringBuilder();
                                                            choosenSoundPath5.append(str5);
                                                            choosenSoundPath5.append(": ");
                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        } else {
                                                            choosenSoundPath5 = new StringBuilder();
                                                            choosenSoundPath5.append(str5);
                                                            choosenSoundPath5.append(" ");
                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        }
                                                    }
                                                    choosenSoundPath9 = message;
                                                } else {
                                                    silent3 = choosenSoundPath5;
                                                    sound = null;
                                                }
                                                mBuilder.setContentText(choosenSoundPath9);
                                                mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                contentIntent = contentIntent2;
                                                dialog_id = dialog_id2;
                                                defaultPath4 = defaultPath3;
                                                notifyDelay = dismissDate2;
                                                choosenSoundPath9 = lastMessage3;
                                                priorityOverride2 = silent3;
                                            } else {
                                                return;
                                            }
                                        }
                                        lastMessage2 = null;
                                        sound = null;
                                        mBuilder.setContentText(detailText);
                                        inboxStyle = new InboxStyle();
                                        inboxStyle.setBigContentTitle(str5);
                                        count2 = Math.min(10, r12.pushMessages.size());
                                        text2 = new boolean[1];
                                        contentIntent = contentIntent2;
                                        count = silent2;
                                        chat_id2 = 0;
                                        while (chat_id2 < count2) {
                                            count3 = count2;
                                            count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                            dialog_id = dialog_id2;
                                            message2 = getStringForMessage(count4, 0, text2);
                                            if (message2 != null) {
                                                defaultPath4 = defaultPath3;
                                                notifyDelay = dismissDate2;
                                                if (count4.messageOwner.date > notifyDelay) {
                                                    if (count == 2) {
                                                        lastMessage2 = message2;
                                                        count = count4.messageOwner.silent;
                                                    }
                                                    messageObject2 = count4;
                                                    if (chat2 != null) {
                                                        count2 = new StringBuilder();
                                                        count2.append(" @ ");
                                                        count2.append(str5);
                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    } else if (text2[0]) {
                                                        count2 = new StringBuilder();
                                                        count2.append(str5);
                                                        count2.append(": ");
                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    } else {
                                                        count2 = new StringBuilder();
                                                        count2.append(str5);
                                                        count2.append(" ");
                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    }
                                                    inboxStyle.addLine(message2);
                                                }
                                            } else {
                                                defaultPath4 = defaultPath3;
                                                notifyDelay = dismissDate2;
                                            }
                                            chat_id2++;
                                            dismissDate2 = notifyDelay;
                                            count2 = count3;
                                            dialog_id2 = dialog_id;
                                            defaultPath3 = defaultPath4;
                                        }
                                        dialog_id = dialog_id2;
                                        defaultPath4 = defaultPath3;
                                        notifyDelay = dismissDate2;
                                        inboxStyle.setSummaryText(detailText);
                                        mBuilder.setStyle(inboxStyle);
                                        priorityOverride2 = count;
                                        choosenSoundPath9 = lastMessage2;
                                        dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                        dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                        dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                        mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                        if (fileLocation3 != null) {
                                            img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                            if (img != null) {
                                                mBuilder.setLargeIcon(img.getBitmap());
                                                name = str5;
                                            } else {
                                                file = FileLoader.getPathToAttach(fileLocation3, true);
                                                if (file.exists()) {
                                                    scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                    options = new Options();
                                                    if (scaleFactor < 1.0f) {
                                                        name = str5;
                                                        str5 = true;
                                                    } else {
                                                        name = str5;
                                                        str5 = (int) scaleFactor;
                                                    }
                                                    options.inSampleSize = str5;
                                                    str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                    if (str5 != null) {
                                                        mBuilder.setLargeIcon(str5);
                                                    }
                                                } else {
                                                    name = str5;
                                                }
                                            }
                                        } else {
                                            name = str5;
                                        }
                                        z = notifyAboutLast;
                                        if (z) {
                                            count = priority;
                                        } else if (priorityOverride2 == 1) {
                                            count = priority;
                                        } else {
                                            if (priority == 0) {
                                                mBuilder.setPriority(0);
                                                if (VERSION.SDK_INT >= 26) {
                                                    i = 3;
                                                }
                                                count = priority;
                                            } else {
                                                count = priority;
                                                if (count != 1) {
                                                    if (count == 2) {
                                                        if (count != 4) {
                                                            mBuilder.setPriority(-2);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 1;
                                                                i = user_id2;
                                                            }
                                                        } else if (count == 5) {
                                                            mBuilder.setPriority(-1);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 2;
                                                                i = user_id2;
                                                            }
                                                        }
                                                    }
                                                }
                                                mBuilder.setPriority(1);
                                                if (VERSION.SDK_INT >= 26) {
                                                    user_id2 = 4;
                                                    i = user_id2;
                                                }
                                            }
                                            if (priorityOverride2 != 1) {
                                            }
                                            lastMessage = choosenSoundPath9;
                                            silent = priorityOverride2;
                                            needVibrate2 = needVibrate;
                                            choosenSoundPath = str;
                                            priorityOverride2 = ledColor;
                                            defaultPath = defaultPath4;
                                            jArr = new long[]{0, 0};
                                            vibrationPattern = jArr;
                                            mBuilder.setVibrate(jArr);
                                            vibrationPattern2 = vibrationPattern;
                                            sound2 = sound;
                                            str2 = lastMessage;
                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                size = rows.size();
                                                notifyOverride2 = false;
                                                z3 = false;
                                                while (true) {
                                                    choosenSoundPath2 = choosenSoundPath;
                                                    choosenSoundPath = size;
                                                    if (z3 < choosenSoundPath) {
                                                        break;
                                                    }
                                                    rows2 = rows;
                                                    size2 = choosenSoundPath;
                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                    choosenSoundPath = row.buttons.size();
                                                    defaultPath2 = defaultPath;
                                                    defaultPath = 0;
                                                    while (defaultPath < choosenSoundPath) {
                                                        size22 = choosenSoundPath;
                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                        row2 = row;
                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                            priority2 = count;
                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                            dismissIntent = dismissIntent2;
                                                            dialog_id2 = dialog_id;
                                                            callbackIntent.putExtra("did", dialog_id2);
                                                            if (choosenSoundPath3.data == null) {
                                                                fileLocation = fileLocation3;
                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                            } else {
                                                                fileLocation = fileLocation3;
                                                            }
                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                            charSequence = choosenSoundPath3.text;
                                                            context = ApplicationLoader.applicationContext;
                                                            button = choosenSoundPath3;
                                                            choosenSoundPath = r12.lastButtonId;
                                                            lastMessageObject = lastMessageObject4;
                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                            notifyOverride2 = true;
                                                        } else {
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                        }
                                                        defaultPath++;
                                                        dialog_id = dialog_id2;
                                                        choosenSoundPath = size22;
                                                        row = row2;
                                                        count = priority2;
                                                        dismissIntent2 = dismissIntent;
                                                        fileLocation3 = fileLocation;
                                                        lastMessageObject4 = lastMessageObject;
                                                        dialog_id2 = notifyAboutLast;
                                                    }
                                                    priority2 = count;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    z3++;
                                                    choosenSoundPath = choosenSoundPath2;
                                                    rows = rows2;
                                                    size = size2;
                                                    defaultPath = defaultPath2;
                                                    dismissIntent2 = dismissIntent2;
                                                    dialog_id2 = notifyAboutLast;
                                                }
                                                defaultPath2 = defaultPath;
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                if (VERSION.SDK_INT > 19) {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                } else {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                }
                                                if (VERSION.SDK_INT < 26) {
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    notifyOverride = name;
                                                    override_dialog_id = lastMessageObject;
                                                    priorityOverride = chat2;
                                                    silent3 = silent;
                                                    notifyDelay = notifyAboutLast;
                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                } else {
                                                    j = dialog_id2;
                                                    i2 = notifyDelay;
                                                    size = notifyOverride;
                                                    j2 = override_dialog_id;
                                                    i3 = priorityOverride;
                                                    i4 = vibrateOverride;
                                                    sharedPreferences = preferences;
                                                    i5 = user_id;
                                                    i6 = chat_id;
                                                    user2 = user;
                                                    pendingIntent = contentIntent;
                                                    silent3 = silent;
                                                    dismissDate2 = needVibrate2;
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    str3 = defaultPath2;
                                                    i7 = priority2;
                                                    intent = dismissIntent;
                                                    fileLocation2 = fileLocation;
                                                    notifyDelay = notifyAboutLast;
                                                }
                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                r12.lastNotificationIsNoData = false;
                                                scheduleNotificationRepeat();
                                                return;
                                            }
                                            choosenSoundPath2 = choosenSoundPath;
                                            defaultPath2 = defaultPath;
                                            lastMessageObject = lastMessageObject4;
                                            priority2 = count;
                                            dismissIntent = dismissIntent2;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            notifyOverride2 = false;
                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                            if (VERSION.SDK_INT > 19) {
                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            } else {
                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            }
                                            if (VERSION.SDK_INT < 26) {
                                                j = dialog_id2;
                                                i2 = notifyDelay;
                                                size = notifyOverride;
                                                j2 = override_dialog_id;
                                                i3 = priorityOverride;
                                                i4 = vibrateOverride;
                                                sharedPreferences = preferences;
                                                i5 = user_id;
                                                i6 = chat_id;
                                                user2 = user;
                                                pendingIntent = contentIntent;
                                                silent3 = silent;
                                                dismissDate2 = needVibrate2;
                                                choosenSoundPath8 = choosenSoundPath2;
                                                str3 = defaultPath2;
                                                i7 = priority2;
                                                intent = dismissIntent;
                                                fileLocation2 = fileLocation;
                                                notifyDelay = notifyAboutLast;
                                            } else {
                                                choosenSoundPath8 = choosenSoundPath2;
                                                notifyOverride = name;
                                                override_dialog_id = lastMessageObject;
                                                priorityOverride = chat2;
                                                silent3 = silent;
                                                notifyDelay = notifyAboutLast;
                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                            }
                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                            r12.lastNotificationIsNoData = false;
                                            scheduleNotificationRepeat();
                                            return;
                                        }
                                        mBuilder.setPriority(-1);
                                        if (VERSION.SDK_INT >= 26) {
                                            user_id2 = 2;
                                            i = user_id2;
                                        }
                                        if (priorityOverride2 != 1) {
                                        }
                                        lastMessage = choosenSoundPath9;
                                        silent = priorityOverride2;
                                        needVibrate2 = needVibrate;
                                        choosenSoundPath = str;
                                        priorityOverride2 = ledColor;
                                        defaultPath = defaultPath4;
                                        jArr = new long[]{0, 0};
                                        vibrationPattern = jArr;
                                        mBuilder.setVibrate(jArr);
                                        vibrationPattern2 = vibrationPattern;
                                        sound2 = sound;
                                        str2 = lastMessage;
                                        if (AndroidUtilities.needShowPasscode(false)) {
                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                            size = rows.size();
                                            notifyOverride2 = false;
                                            z3 = false;
                                            while (true) {
                                                choosenSoundPath2 = choosenSoundPath;
                                                choosenSoundPath = size;
                                                if (z3 < choosenSoundPath) {
                                                    break;
                                                }
                                                rows2 = rows;
                                                size2 = choosenSoundPath;
                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                choosenSoundPath = row.buttons.size();
                                                defaultPath2 = defaultPath;
                                                defaultPath = 0;
                                                while (defaultPath < choosenSoundPath) {
                                                    size22 = choosenSoundPath;
                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                    row2 = row;
                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                    } else {
                                                        priority2 = count;
                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                        dismissIntent = dismissIntent2;
                                                        dialog_id2 = dialog_id;
                                                        callbackIntent.putExtra("did", dialog_id2);
                                                        if (choosenSoundPath3.data == null) {
                                                            fileLocation = fileLocation3;
                                                        } else {
                                                            fileLocation = fileLocation3;
                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                        }
                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                        charSequence = choosenSoundPath3.text;
                                                        context = ApplicationLoader.applicationContext;
                                                        button = choosenSoundPath3;
                                                        choosenSoundPath = r12.lastButtonId;
                                                        lastMessageObject = lastMessageObject4;
                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                        notifyOverride2 = true;
                                                    }
                                                    defaultPath++;
                                                    dialog_id = dialog_id2;
                                                    choosenSoundPath = size22;
                                                    row = row2;
                                                    count = priority2;
                                                    dismissIntent2 = dismissIntent;
                                                    fileLocation3 = fileLocation;
                                                    lastMessageObject4 = lastMessageObject;
                                                    dialog_id2 = notifyAboutLast;
                                                }
                                                priority2 = count;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                z3++;
                                                choosenSoundPath = choosenSoundPath2;
                                                rows = rows2;
                                                size = size2;
                                                defaultPath = defaultPath2;
                                                dismissIntent2 = dismissIntent2;
                                                dialog_id2 = notifyAboutLast;
                                            }
                                            defaultPath2 = defaultPath;
                                            lastMessageObject = lastMessageObject4;
                                            priority2 = count;
                                            dismissIntent = dismissIntent2;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                            if (VERSION.SDK_INT > 19) {
                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            } else {
                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            }
                                            if (VERSION.SDK_INT < 26) {
                                                choosenSoundPath8 = choosenSoundPath2;
                                                notifyOverride = name;
                                                override_dialog_id = lastMessageObject;
                                                priorityOverride = chat2;
                                                silent3 = silent;
                                                notifyDelay = notifyAboutLast;
                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                            } else {
                                                j = dialog_id2;
                                                i2 = notifyDelay;
                                                size = notifyOverride;
                                                j2 = override_dialog_id;
                                                i3 = priorityOverride;
                                                i4 = vibrateOverride;
                                                sharedPreferences = preferences;
                                                i5 = user_id;
                                                i6 = chat_id;
                                                user2 = user;
                                                pendingIntent = contentIntent;
                                                silent3 = silent;
                                                dismissDate2 = needVibrate2;
                                                choosenSoundPath8 = choosenSoundPath2;
                                                str3 = defaultPath2;
                                                i7 = priority2;
                                                intent = dismissIntent;
                                                fileLocation2 = fileLocation;
                                                notifyDelay = notifyAboutLast;
                                            }
                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                            r12.lastNotificationIsNoData = false;
                                            scheduleNotificationRepeat();
                                            return;
                                        }
                                        choosenSoundPath2 = choosenSoundPath;
                                        defaultPath2 = defaultPath;
                                        lastMessageObject = lastMessageObject4;
                                        priority2 = count;
                                        dismissIntent = dismissIntent2;
                                        fileLocation = fileLocation3;
                                        dialog_id2 = dialog_id;
                                        notifyOverride2 = false;
                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                        if (VERSION.SDK_INT > 19) {
                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        } else {
                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        }
                                        if (VERSION.SDK_INT < 26) {
                                            j = dialog_id2;
                                            i2 = notifyDelay;
                                            size = notifyOverride;
                                            j2 = override_dialog_id;
                                            i3 = priorityOverride;
                                            i4 = vibrateOverride;
                                            sharedPreferences = preferences;
                                            i5 = user_id;
                                            i6 = chat_id;
                                            user2 = user;
                                            pendingIntent = contentIntent;
                                            silent3 = silent;
                                            dismissDate2 = needVibrate2;
                                            choosenSoundPath8 = choosenSoundPath2;
                                            str3 = defaultPath2;
                                            i7 = priority2;
                                            intent = dismissIntent;
                                            fileLocation2 = fileLocation;
                                            notifyDelay = notifyAboutLast;
                                        } else {
                                            choosenSoundPath8 = choosenSoundPath2;
                                            notifyOverride = name;
                                            override_dialog_id = lastMessageObject;
                                            priorityOverride = chat2;
                                            silent3 = silent;
                                            notifyDelay = notifyAboutLast;
                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                        }
                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                        r12.lastNotificationIsNoData = false;
                                        scheduleNotificationRepeat();
                                        return;
                                    }
                                } else {
                                    replace = true;
                                }
                                choosenSoundPath9 = LocaleController.getString("AppName", R.string.AppName);
                                replace = false;
                                str5 = choosenSoundPath9;
                                chat_id = chat_id2;
                                if (UserConfig.getActivatedAccountsCount() <= 1) {
                                    choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                } else if (r12.pushDialogs.size() != 1) {
                                    stringBuilder = new StringBuilder();
                                    stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                    stringBuilder.append("\u30fb");
                                    choosenSoundPath9 = stringBuilder.toString();
                                } else {
                                    choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                }
                                if (r12.pushDialogs.size() == 1) {
                                    if (VERSION.SDK_INT >= 23) {
                                        detailText = choosenSoundPath9;
                                        chatName = choosenSoundPath5;
                                        z4 = inAppVibrate;
                                        mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                        vibrationPattern3 = null;
                                        mBuilder.setCategory("msg");
                                        stringBuilder = new StringBuilder();
                                        i = 0;
                                        stringBuilder.append("tel:+");
                                        stringBuilder.append(user3.phone);
                                        mBuilder.addPerson(stringBuilder.toString());
                                        silent2 = 2;
                                        user = user3;
                                        if (r12.pushMessages.size() == 1) {
                                            lastMessage2 = null;
                                            sound = null;
                                            mBuilder.setContentText(detailText);
                                            inboxStyle = new InboxStyle();
                                            inboxStyle.setBigContentTitle(str5);
                                            count2 = Math.min(10, r12.pushMessages.size());
                                            text2 = new boolean[1];
                                            contentIntent = contentIntent2;
                                            count = silent2;
                                            chat_id2 = 0;
                                            while (chat_id2 < count2) {
                                                count3 = count2;
                                                count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                dialog_id = dialog_id2;
                                                message2 = getStringForMessage(count4, 0, text2);
                                                if (message2 != null) {
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                } else {
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                    if (count4.messageOwner.date > notifyDelay) {
                                                        if (count == 2) {
                                                            lastMessage2 = message2;
                                                            count = count4.messageOwner.silent;
                                                        }
                                                        messageObject2 = count4;
                                                        if (chat2 != null) {
                                                            count2 = new StringBuilder();
                                                            count2.append(" @ ");
                                                            count2.append(str5);
                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        } else if (text2[0]) {
                                                            count2 = new StringBuilder();
                                                            count2.append(str5);
                                                            count2.append(" ");
                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        } else {
                                                            count2 = new StringBuilder();
                                                            count2.append(str5);
                                                            count2.append(": ");
                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        }
                                                        inboxStyle.addLine(message2);
                                                    }
                                                }
                                                chat_id2++;
                                                dismissDate2 = notifyDelay;
                                                count2 = count3;
                                                dialog_id2 = dialog_id;
                                                defaultPath3 = defaultPath4;
                                            }
                                            dialog_id = dialog_id2;
                                            defaultPath4 = defaultPath3;
                                            notifyDelay = dismissDate2;
                                            inboxStyle.setSummaryText(detailText);
                                            mBuilder.setStyle(inboxStyle);
                                            priorityOverride2 = count;
                                            choosenSoundPath9 = lastMessage2;
                                        } else {
                                            messageObject = (MessageObject) r12.pushMessages.get(0);
                                            lastMessage2 = null;
                                            text = new boolean[1];
                                            stringForMessage = getStringForMessage(messageObject, null, text);
                                            message = stringForMessage;
                                            lastMessage3 = stringForMessage;
                                            choosenSoundPath5 = messageObject.messageOwner.silent;
                                            choosenSoundPath9 = message;
                                            if (choosenSoundPath9 != null) {
                                                if (replace) {
                                                    silent3 = choosenSoundPath5;
                                                    sound = null;
                                                } else {
                                                    if (chat2 != null) {
                                                        silent3 = choosenSoundPath5;
                                                        sound = null;
                                                        if (text[null]) {
                                                            choosenSoundPath5 = new StringBuilder();
                                                            choosenSoundPath5.append(str5);
                                                            choosenSoundPath5.append(" ");
                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        } else {
                                                            choosenSoundPath5 = new StringBuilder();
                                                            choosenSoundPath5.append(str5);
                                                            choosenSoundPath5.append(": ");
                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        }
                                                    } else {
                                                        silent3 = choosenSoundPath5;
                                                        choosenSoundPath5 = new StringBuilder();
                                                        sound = null;
                                                        choosenSoundPath5.append(" @ ");
                                                        choosenSoundPath5.append(str5);
                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    }
                                                    choosenSoundPath9 = message;
                                                }
                                                mBuilder.setContentText(choosenSoundPath9);
                                                mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                contentIntent = contentIntent2;
                                                dialog_id = dialog_id2;
                                                defaultPath4 = defaultPath3;
                                                notifyDelay = dismissDate2;
                                                choosenSoundPath9 = lastMessage3;
                                                priorityOverride2 = silent3;
                                            } else {
                                                return;
                                            }
                                        }
                                        dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                        dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                        dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                        mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                        if (fileLocation3 != null) {
                                            name = str5;
                                        } else {
                                            img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                            if (img != null) {
                                                file = FileLoader.getPathToAttach(fileLocation3, true);
                                                if (file.exists()) {
                                                    name = str5;
                                                } else {
                                                    scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                    options = new Options();
                                                    if (scaleFactor < 1.0f) {
                                                        name = str5;
                                                        str5 = (int) scaleFactor;
                                                    } else {
                                                        name = str5;
                                                        str5 = true;
                                                    }
                                                    options.inSampleSize = str5;
                                                    str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                    if (str5 != null) {
                                                        mBuilder.setLargeIcon(str5);
                                                    }
                                                }
                                            } else {
                                                mBuilder.setLargeIcon(img.getBitmap());
                                                name = str5;
                                            }
                                        }
                                        z = notifyAboutLast;
                                        if (z) {
                                            count = priority;
                                        } else if (priorityOverride2 == 1) {
                                            if (priority == 0) {
                                                count = priority;
                                                if (count != 1) {
                                                    if (count == 2) {
                                                        if (count != 4) {
                                                            mBuilder.setPriority(-2);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 1;
                                                                i = user_id2;
                                                            }
                                                        } else if (count == 5) {
                                                            mBuilder.setPriority(-1);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 2;
                                                                i = user_id2;
                                                            }
                                                        }
                                                    }
                                                }
                                                mBuilder.setPriority(1);
                                                if (VERSION.SDK_INT >= 26) {
                                                    user_id2 = 4;
                                                    i = user_id2;
                                                }
                                            } else {
                                                mBuilder.setPriority(0);
                                                if (VERSION.SDK_INT >= 26) {
                                                    i = 3;
                                                }
                                                count = priority;
                                            }
                                            if (priorityOverride2 != 1) {
                                            }
                                            lastMessage = choosenSoundPath9;
                                            silent = priorityOverride2;
                                            needVibrate2 = needVibrate;
                                            choosenSoundPath = str;
                                            priorityOverride2 = ledColor;
                                            defaultPath = defaultPath4;
                                            jArr = new long[]{0, 0};
                                            vibrationPattern = jArr;
                                            mBuilder.setVibrate(jArr);
                                            vibrationPattern2 = vibrationPattern;
                                            sound2 = sound;
                                            str2 = lastMessage;
                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                size = rows.size();
                                                notifyOverride2 = false;
                                                z3 = false;
                                                while (true) {
                                                    choosenSoundPath2 = choosenSoundPath;
                                                    choosenSoundPath = size;
                                                    if (z3 < choosenSoundPath) {
                                                        break;
                                                    }
                                                    rows2 = rows;
                                                    size2 = choosenSoundPath;
                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                    choosenSoundPath = row.buttons.size();
                                                    defaultPath2 = defaultPath;
                                                    defaultPath = 0;
                                                    while (defaultPath < choosenSoundPath) {
                                                        size22 = choosenSoundPath;
                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                        row2 = row;
                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                            priority2 = count;
                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                            dismissIntent = dismissIntent2;
                                                            dialog_id2 = dialog_id;
                                                            callbackIntent.putExtra("did", dialog_id2);
                                                            if (choosenSoundPath3.data == null) {
                                                                fileLocation = fileLocation3;
                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                            } else {
                                                                fileLocation = fileLocation3;
                                                            }
                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                            charSequence = choosenSoundPath3.text;
                                                            context = ApplicationLoader.applicationContext;
                                                            button = choosenSoundPath3;
                                                            choosenSoundPath = r12.lastButtonId;
                                                            lastMessageObject = lastMessageObject4;
                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                            notifyOverride2 = true;
                                                        } else {
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                        }
                                                        defaultPath++;
                                                        dialog_id = dialog_id2;
                                                        choosenSoundPath = size22;
                                                        row = row2;
                                                        count = priority2;
                                                        dismissIntent2 = dismissIntent;
                                                        fileLocation3 = fileLocation;
                                                        lastMessageObject4 = lastMessageObject;
                                                        dialog_id2 = notifyAboutLast;
                                                    }
                                                    priority2 = count;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    z3++;
                                                    choosenSoundPath = choosenSoundPath2;
                                                    rows = rows2;
                                                    size = size2;
                                                    defaultPath = defaultPath2;
                                                    dismissIntent2 = dismissIntent2;
                                                    dialog_id2 = notifyAboutLast;
                                                }
                                                defaultPath2 = defaultPath;
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                if (VERSION.SDK_INT > 19) {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                } else {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                }
                                                if (VERSION.SDK_INT < 26) {
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    notifyOverride = name;
                                                    override_dialog_id = lastMessageObject;
                                                    priorityOverride = chat2;
                                                    silent3 = silent;
                                                    notifyDelay = notifyAboutLast;
                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                } else {
                                                    j = dialog_id2;
                                                    i2 = notifyDelay;
                                                    size = notifyOverride;
                                                    j2 = override_dialog_id;
                                                    i3 = priorityOverride;
                                                    i4 = vibrateOverride;
                                                    sharedPreferences = preferences;
                                                    i5 = user_id;
                                                    i6 = chat_id;
                                                    user2 = user;
                                                    pendingIntent = contentIntent;
                                                    silent3 = silent;
                                                    dismissDate2 = needVibrate2;
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    str3 = defaultPath2;
                                                    i7 = priority2;
                                                    intent = dismissIntent;
                                                    fileLocation2 = fileLocation;
                                                    notifyDelay = notifyAboutLast;
                                                }
                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                r12.lastNotificationIsNoData = false;
                                                scheduleNotificationRepeat();
                                                return;
                                            }
                                            choosenSoundPath2 = choosenSoundPath;
                                            defaultPath2 = defaultPath;
                                            lastMessageObject = lastMessageObject4;
                                            priority2 = count;
                                            dismissIntent = dismissIntent2;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            notifyOverride2 = false;
                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                            if (VERSION.SDK_INT > 19) {
                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            } else {
                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            }
                                            if (VERSION.SDK_INT < 26) {
                                                j = dialog_id2;
                                                i2 = notifyDelay;
                                                size = notifyOverride;
                                                j2 = override_dialog_id;
                                                i3 = priorityOverride;
                                                i4 = vibrateOverride;
                                                sharedPreferences = preferences;
                                                i5 = user_id;
                                                i6 = chat_id;
                                                user2 = user;
                                                pendingIntent = contentIntent;
                                                silent3 = silent;
                                                dismissDate2 = needVibrate2;
                                                choosenSoundPath8 = choosenSoundPath2;
                                                str3 = defaultPath2;
                                                i7 = priority2;
                                                intent = dismissIntent;
                                                fileLocation2 = fileLocation;
                                                notifyDelay = notifyAboutLast;
                                            } else {
                                                choosenSoundPath8 = choosenSoundPath2;
                                                notifyOverride = name;
                                                override_dialog_id = lastMessageObject;
                                                priorityOverride = chat2;
                                                silent3 = silent;
                                                notifyDelay = notifyAboutLast;
                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                            }
                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                            r12.lastNotificationIsNoData = false;
                                            scheduleNotificationRepeat();
                                            return;
                                        } else {
                                            count = priority;
                                        }
                                        mBuilder.setPriority(-1);
                                        if (VERSION.SDK_INT >= 26) {
                                            user_id2 = 2;
                                            i = user_id2;
                                        }
                                        if (priorityOverride2 != 1) {
                                        }
                                        lastMessage = choosenSoundPath9;
                                        silent = priorityOverride2;
                                        needVibrate2 = needVibrate;
                                        choosenSoundPath = str;
                                        priorityOverride2 = ledColor;
                                        defaultPath = defaultPath4;
                                        jArr = new long[]{0, 0};
                                        vibrationPattern = jArr;
                                        mBuilder.setVibrate(jArr);
                                        vibrationPattern2 = vibrationPattern;
                                        sound2 = sound;
                                        str2 = lastMessage;
                                        if (AndroidUtilities.needShowPasscode(false)) {
                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                            size = rows.size();
                                            notifyOverride2 = false;
                                            z3 = false;
                                            while (true) {
                                                choosenSoundPath2 = choosenSoundPath;
                                                choosenSoundPath = size;
                                                if (z3 < choosenSoundPath) {
                                                    break;
                                                }
                                                rows2 = rows;
                                                size2 = choosenSoundPath;
                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                choosenSoundPath = row.buttons.size();
                                                defaultPath2 = defaultPath;
                                                defaultPath = 0;
                                                while (defaultPath < choosenSoundPath) {
                                                    size22 = choosenSoundPath;
                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                    row2 = row;
                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                    } else {
                                                        priority2 = count;
                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                        dismissIntent = dismissIntent2;
                                                        dialog_id2 = dialog_id;
                                                        callbackIntent.putExtra("did", dialog_id2);
                                                        if (choosenSoundPath3.data == null) {
                                                            fileLocation = fileLocation3;
                                                        } else {
                                                            fileLocation = fileLocation3;
                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                        }
                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                        charSequence = choosenSoundPath3.text;
                                                        context = ApplicationLoader.applicationContext;
                                                        button = choosenSoundPath3;
                                                        choosenSoundPath = r12.lastButtonId;
                                                        lastMessageObject = lastMessageObject4;
                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                        notifyOverride2 = true;
                                                    }
                                                    defaultPath++;
                                                    dialog_id = dialog_id2;
                                                    choosenSoundPath = size22;
                                                    row = row2;
                                                    count = priority2;
                                                    dismissIntent2 = dismissIntent;
                                                    fileLocation3 = fileLocation;
                                                    lastMessageObject4 = lastMessageObject;
                                                    dialog_id2 = notifyAboutLast;
                                                }
                                                priority2 = count;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                z3++;
                                                choosenSoundPath = choosenSoundPath2;
                                                rows = rows2;
                                                size = size2;
                                                defaultPath = defaultPath2;
                                                dismissIntent2 = dismissIntent2;
                                                dialog_id2 = notifyAboutLast;
                                            }
                                            defaultPath2 = defaultPath;
                                            lastMessageObject = lastMessageObject4;
                                            priority2 = count;
                                            dismissIntent = dismissIntent2;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                            if (VERSION.SDK_INT > 19) {
                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            } else {
                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            }
                                            if (VERSION.SDK_INT < 26) {
                                                choosenSoundPath8 = choosenSoundPath2;
                                                notifyOverride = name;
                                                override_dialog_id = lastMessageObject;
                                                priorityOverride = chat2;
                                                silent3 = silent;
                                                notifyDelay = notifyAboutLast;
                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                            } else {
                                                j = dialog_id2;
                                                i2 = notifyDelay;
                                                size = notifyOverride;
                                                j2 = override_dialog_id;
                                                i3 = priorityOverride;
                                                i4 = vibrateOverride;
                                                sharedPreferences = preferences;
                                                i5 = user_id;
                                                i6 = chat_id;
                                                user2 = user;
                                                pendingIntent = contentIntent;
                                                silent3 = silent;
                                                dismissDate2 = needVibrate2;
                                                choosenSoundPath8 = choosenSoundPath2;
                                                str3 = defaultPath2;
                                                i7 = priority2;
                                                intent = dismissIntent;
                                                fileLocation2 = fileLocation;
                                                notifyDelay = notifyAboutLast;
                                            }
                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                            r12.lastNotificationIsNoData = false;
                                            scheduleNotificationRepeat();
                                            return;
                                        }
                                        choosenSoundPath2 = choosenSoundPath;
                                        defaultPath2 = defaultPath;
                                        lastMessageObject = lastMessageObject4;
                                        priority2 = count;
                                        dismissIntent = dismissIntent2;
                                        fileLocation = fileLocation3;
                                        dialog_id2 = dialog_id;
                                        notifyOverride2 = false;
                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                        if (VERSION.SDK_INT > 19) {
                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        } else {
                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        }
                                        if (VERSION.SDK_INT < 26) {
                                            j = dialog_id2;
                                            i2 = notifyDelay;
                                            size = notifyOverride;
                                            j2 = override_dialog_id;
                                            i3 = priorityOverride;
                                            i4 = vibrateOverride;
                                            sharedPreferences = preferences;
                                            i5 = user_id;
                                            i6 = chat_id;
                                            user2 = user;
                                            pendingIntent = contentIntent;
                                            silent3 = silent;
                                            dismissDate2 = needVibrate2;
                                            choosenSoundPath8 = choosenSoundPath2;
                                            str3 = defaultPath2;
                                            i7 = priority2;
                                            intent = dismissIntent;
                                            fileLocation2 = fileLocation;
                                            notifyDelay = notifyAboutLast;
                                        } else {
                                            choosenSoundPath8 = choosenSoundPath2;
                                            notifyOverride = name;
                                            override_dialog_id = lastMessageObject;
                                            priorityOverride = chat2;
                                            silent3 = silent;
                                            notifyDelay = notifyAboutLast;
                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                        }
                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                        r12.lastNotificationIsNoData = false;
                                        scheduleNotificationRepeat();
                                        return;
                                    }
                                }
                                if (r12.pushDialogs.size() != 1) {
                                    stringBuilder4 = new StringBuilder();
                                    stringBuilder4.append(choosenSoundPath9);
                                    objArr = new Object[2];
                                    chatName = choosenSoundPath5;
                                    objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                    objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                    stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                    detailText = stringBuilder4.toString();
                                } else {
                                    stringBuilder4 = new StringBuilder();
                                    stringBuilder4.append(choosenSoundPath9);
                                    stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                    detailText = stringBuilder4.toString();
                                    chatName = choosenSoundPath5;
                                }
                                mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                vibrationPattern3 = null;
                                mBuilder.setCategory("msg");
                                stringBuilder = new StringBuilder();
                                i = 0;
                                stringBuilder.append("tel:+");
                                stringBuilder.append(user3.phone);
                                mBuilder.addPerson(stringBuilder.toString());
                                silent2 = 2;
                                user = user3;
                                if (r12.pushMessages.size() == 1) {
                                    messageObject = (MessageObject) r12.pushMessages.get(0);
                                    lastMessage2 = null;
                                    text = new boolean[1];
                                    stringForMessage = getStringForMessage(messageObject, null, text);
                                    message = stringForMessage;
                                    lastMessage3 = stringForMessage;
                                    choosenSoundPath5 = messageObject.messageOwner.silent;
                                    choosenSoundPath9 = message;
                                    if (choosenSoundPath9 != null) {
                                        if (replace) {
                                            if (chat2 != null) {
                                                silent3 = choosenSoundPath5;
                                                choosenSoundPath5 = new StringBuilder();
                                                sound = null;
                                                choosenSoundPath5.append(" @ ");
                                                choosenSoundPath5.append(str5);
                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                            } else {
                                                silent3 = choosenSoundPath5;
                                                sound = null;
                                                if (text[null]) {
                                                    choosenSoundPath5 = new StringBuilder();
                                                    choosenSoundPath5.append(str5);
                                                    choosenSoundPath5.append(": ");
                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                } else {
                                                    choosenSoundPath5 = new StringBuilder();
                                                    choosenSoundPath5.append(str5);
                                                    choosenSoundPath5.append(" ");
                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                }
                                            }
                                            choosenSoundPath9 = message;
                                        } else {
                                            silent3 = choosenSoundPath5;
                                            sound = null;
                                        }
                                        mBuilder.setContentText(choosenSoundPath9);
                                        mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                        contentIntent = contentIntent2;
                                        dialog_id = dialog_id2;
                                        defaultPath4 = defaultPath3;
                                        notifyDelay = dismissDate2;
                                        choosenSoundPath9 = lastMessage3;
                                        priorityOverride2 = silent3;
                                    } else {
                                        return;
                                    }
                                }
                                lastMessage2 = null;
                                sound = null;
                                mBuilder.setContentText(detailText);
                                inboxStyle = new InboxStyle();
                                inboxStyle.setBigContentTitle(str5);
                                count2 = Math.min(10, r12.pushMessages.size());
                                text2 = new boolean[1];
                                contentIntent = contentIntent2;
                                count = silent2;
                                chat_id2 = 0;
                                while (chat_id2 < count2) {
                                    count3 = count2;
                                    count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                    dialog_id = dialog_id2;
                                    message2 = getStringForMessage(count4, 0, text2);
                                    if (message2 != null) {
                                        defaultPath4 = defaultPath3;
                                        notifyDelay = dismissDate2;
                                        if (count4.messageOwner.date > notifyDelay) {
                                            if (count == 2) {
                                                lastMessage2 = message2;
                                                count = count4.messageOwner.silent;
                                            }
                                            messageObject2 = count4;
                                            if (chat2 != null) {
                                                count2 = new StringBuilder();
                                                count2.append(" @ ");
                                                count2.append(str5);
                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                            } else if (text2[0]) {
                                                count2 = new StringBuilder();
                                                count2.append(str5);
                                                count2.append(": ");
                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                            } else {
                                                count2 = new StringBuilder();
                                                count2.append(str5);
                                                count2.append(" ");
                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                            }
                                            inboxStyle.addLine(message2);
                                        }
                                    } else {
                                        defaultPath4 = defaultPath3;
                                        notifyDelay = dismissDate2;
                                    }
                                    chat_id2++;
                                    dismissDate2 = notifyDelay;
                                    count2 = count3;
                                    dialog_id2 = dialog_id;
                                    defaultPath3 = defaultPath4;
                                }
                                dialog_id = dialog_id2;
                                defaultPath4 = defaultPath3;
                                notifyDelay = dismissDate2;
                                inboxStyle.setSummaryText(detailText);
                                mBuilder.setStyle(inboxStyle);
                                priorityOverride2 = count;
                                choosenSoundPath9 = lastMessage2;
                                dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                if (fileLocation3 != null) {
                                    img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                    if (img != null) {
                                        mBuilder.setLargeIcon(img.getBitmap());
                                        name = str5;
                                    } else {
                                        file = FileLoader.getPathToAttach(fileLocation3, true);
                                        if (file.exists()) {
                                            scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                            options = new Options();
                                            if (scaleFactor < 1.0f) {
                                                name = str5;
                                                str5 = true;
                                            } else {
                                                name = str5;
                                                str5 = (int) scaleFactor;
                                            }
                                            options.inSampleSize = str5;
                                            str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                            if (str5 != null) {
                                                mBuilder.setLargeIcon(str5);
                                            }
                                        } else {
                                            name = str5;
                                        }
                                    }
                                } else {
                                    name = str5;
                                }
                                z = notifyAboutLast;
                                if (z) {
                                    count = priority;
                                } else if (priorityOverride2 == 1) {
                                    count = priority;
                                } else {
                                    if (priority == 0) {
                                        mBuilder.setPriority(0);
                                        if (VERSION.SDK_INT >= 26) {
                                            i = 3;
                                        }
                                        count = priority;
                                    } else {
                                        count = priority;
                                        if (count != 1) {
                                            if (count == 2) {
                                                if (count != 4) {
                                                    mBuilder.setPriority(-2);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        user_id2 = 1;
                                                        i = user_id2;
                                                    }
                                                } else if (count == 5) {
                                                    mBuilder.setPriority(-1);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        user_id2 = 2;
                                                        i = user_id2;
                                                    }
                                                }
                                            }
                                        }
                                        mBuilder.setPriority(1);
                                        if (VERSION.SDK_INT >= 26) {
                                            user_id2 = 4;
                                            i = user_id2;
                                        }
                                    }
                                    if (priorityOverride2 != 1) {
                                    }
                                    lastMessage = choosenSoundPath9;
                                    silent = priorityOverride2;
                                    needVibrate2 = needVibrate;
                                    choosenSoundPath = str;
                                    priorityOverride2 = ledColor;
                                    defaultPath = defaultPath4;
                                    jArr = new long[]{0, 0};
                                    vibrationPattern = jArr;
                                    mBuilder.setVibrate(jArr);
                                    vibrationPattern2 = vibrationPattern;
                                    sound2 = sound;
                                    str2 = lastMessage;
                                    if (AndroidUtilities.needShowPasscode(false)) {
                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                        size = rows.size();
                                        notifyOverride2 = false;
                                        z3 = false;
                                        while (true) {
                                            choosenSoundPath2 = choosenSoundPath;
                                            choosenSoundPath = size;
                                            if (z3 < choosenSoundPath) {
                                                break;
                                            }
                                            rows2 = rows;
                                            size2 = choosenSoundPath;
                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                            choosenSoundPath = row.buttons.size();
                                            defaultPath2 = defaultPath;
                                            defaultPath = 0;
                                            while (defaultPath < choosenSoundPath) {
                                                size22 = choosenSoundPath;
                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                row2 = row;
                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                    priority2 = count;
                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                    dismissIntent = dismissIntent2;
                                                    dialog_id2 = dialog_id;
                                                    callbackIntent.putExtra("did", dialog_id2);
                                                    if (choosenSoundPath3.data == null) {
                                                        fileLocation = fileLocation3;
                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                    } else {
                                                        fileLocation = fileLocation3;
                                                    }
                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                    charSequence = choosenSoundPath3.text;
                                                    context = ApplicationLoader.applicationContext;
                                                    button = choosenSoundPath3;
                                                    choosenSoundPath = r12.lastButtonId;
                                                    lastMessageObject = lastMessageObject4;
                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                    notifyOverride2 = true;
                                                } else {
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                }
                                                defaultPath++;
                                                dialog_id = dialog_id2;
                                                choosenSoundPath = size22;
                                                row = row2;
                                                count = priority2;
                                                dismissIntent2 = dismissIntent;
                                                fileLocation3 = fileLocation;
                                                lastMessageObject4 = lastMessageObject;
                                                dialog_id2 = notifyAboutLast;
                                            }
                                            priority2 = count;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            z3++;
                                            choosenSoundPath = choosenSoundPath2;
                                            rows = rows2;
                                            size = size2;
                                            defaultPath = defaultPath2;
                                            dismissIntent2 = dismissIntent2;
                                            dialog_id2 = notifyAboutLast;
                                        }
                                        defaultPath2 = defaultPath;
                                        lastMessageObject = lastMessageObject4;
                                        priority2 = count;
                                        dismissIntent = dismissIntent2;
                                        fileLocation = fileLocation3;
                                        dialog_id2 = dialog_id;
                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                        if (VERSION.SDK_INT > 19) {
                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        } else {
                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        }
                                        if (VERSION.SDK_INT < 26) {
                                            choosenSoundPath8 = choosenSoundPath2;
                                            notifyOverride = name;
                                            override_dialog_id = lastMessageObject;
                                            priorityOverride = chat2;
                                            silent3 = silent;
                                            notifyDelay = notifyAboutLast;
                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                        } else {
                                            j = dialog_id2;
                                            i2 = notifyDelay;
                                            size = notifyOverride;
                                            j2 = override_dialog_id;
                                            i3 = priorityOverride;
                                            i4 = vibrateOverride;
                                            sharedPreferences = preferences;
                                            i5 = user_id;
                                            i6 = chat_id;
                                            user2 = user;
                                            pendingIntent = contentIntent;
                                            silent3 = silent;
                                            dismissDate2 = needVibrate2;
                                            choosenSoundPath8 = choosenSoundPath2;
                                            str3 = defaultPath2;
                                            i7 = priority2;
                                            intent = dismissIntent;
                                            fileLocation2 = fileLocation;
                                            notifyDelay = notifyAboutLast;
                                        }
                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                        r12.lastNotificationIsNoData = false;
                                        scheduleNotificationRepeat();
                                        return;
                                    }
                                    choosenSoundPath2 = choosenSoundPath;
                                    defaultPath2 = defaultPath;
                                    lastMessageObject = lastMessageObject4;
                                    priority2 = count;
                                    dismissIntent = dismissIntent2;
                                    fileLocation = fileLocation3;
                                    dialog_id2 = dialog_id;
                                    notifyOverride2 = false;
                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                    if (VERSION.SDK_INT > 19) {
                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    } else {
                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    }
                                    if (VERSION.SDK_INT < 26) {
                                        j = dialog_id2;
                                        i2 = notifyDelay;
                                        size = notifyOverride;
                                        j2 = override_dialog_id;
                                        i3 = priorityOverride;
                                        i4 = vibrateOverride;
                                        sharedPreferences = preferences;
                                        i5 = user_id;
                                        i6 = chat_id;
                                        user2 = user;
                                        pendingIntent = contentIntent;
                                        silent3 = silent;
                                        dismissDate2 = needVibrate2;
                                        choosenSoundPath8 = choosenSoundPath2;
                                        str3 = defaultPath2;
                                        i7 = priority2;
                                        intent = dismissIntent;
                                        fileLocation2 = fileLocation;
                                        notifyDelay = notifyAboutLast;
                                    } else {
                                        choosenSoundPath8 = choosenSoundPath2;
                                        notifyOverride = name;
                                        override_dialog_id = lastMessageObject;
                                        priorityOverride = chat2;
                                        silent3 = silent;
                                        notifyDelay = notifyAboutLast;
                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                    }
                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                    r12.lastNotificationIsNoData = false;
                                    scheduleNotificationRepeat();
                                    return;
                                }
                                mBuilder.setPriority(-1);
                                if (VERSION.SDK_INT >= 26) {
                                    user_id2 = 2;
                                    i = user_id2;
                                }
                                if (priorityOverride2 != 1) {
                                }
                                lastMessage = choosenSoundPath9;
                                silent = priorityOverride2;
                                needVibrate2 = needVibrate;
                                choosenSoundPath = str;
                                priorityOverride2 = ledColor;
                                defaultPath = defaultPath4;
                                jArr = new long[]{0, 0};
                                vibrationPattern = jArr;
                                mBuilder.setVibrate(jArr);
                                vibrationPattern2 = vibrationPattern;
                                sound2 = sound;
                                str2 = lastMessage;
                                if (AndroidUtilities.needShowPasscode(false)) {
                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                    size = rows.size();
                                    notifyOverride2 = false;
                                    z3 = false;
                                    while (true) {
                                        choosenSoundPath2 = choosenSoundPath;
                                        choosenSoundPath = size;
                                        if (z3 < choosenSoundPath) {
                                            break;
                                        }
                                        rows2 = rows;
                                        size2 = choosenSoundPath;
                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                        choosenSoundPath = row.buttons.size();
                                        defaultPath2 = defaultPath;
                                        defaultPath = 0;
                                        while (defaultPath < choosenSoundPath) {
                                            size22 = choosenSoundPath;
                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                            row2 = row;
                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                            } else {
                                                priority2 = count;
                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                dismissIntent = dismissIntent2;
                                                dialog_id2 = dialog_id;
                                                callbackIntent.putExtra("did", dialog_id2);
                                                if (choosenSoundPath3.data == null) {
                                                    fileLocation = fileLocation3;
                                                } else {
                                                    fileLocation = fileLocation3;
                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                }
                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                charSequence = choosenSoundPath3.text;
                                                context = ApplicationLoader.applicationContext;
                                                button = choosenSoundPath3;
                                                choosenSoundPath = r12.lastButtonId;
                                                lastMessageObject = lastMessageObject4;
                                                r12.lastButtonId = choosenSoundPath + 1;
                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                notifyOverride2 = true;
                                            }
                                            defaultPath++;
                                            dialog_id = dialog_id2;
                                            choosenSoundPath = size22;
                                            row = row2;
                                            count = priority2;
                                            dismissIntent2 = dismissIntent;
                                            fileLocation3 = fileLocation;
                                            lastMessageObject4 = lastMessageObject;
                                            dialog_id2 = notifyAboutLast;
                                        }
                                        priority2 = count;
                                        fileLocation = fileLocation3;
                                        dialog_id2 = dialog_id;
                                        z3++;
                                        choosenSoundPath = choosenSoundPath2;
                                        rows = rows2;
                                        size = size2;
                                        defaultPath = defaultPath2;
                                        dismissIntent2 = dismissIntent2;
                                        dialog_id2 = notifyAboutLast;
                                    }
                                    defaultPath2 = defaultPath;
                                    lastMessageObject = lastMessageObject4;
                                    priority2 = count;
                                    dismissIntent = dismissIntent2;
                                    fileLocation = fileLocation3;
                                    dialog_id2 = dialog_id;
                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                    if (VERSION.SDK_INT > 19) {
                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    } else {
                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    }
                                    if (VERSION.SDK_INT < 26) {
                                        choosenSoundPath8 = choosenSoundPath2;
                                        notifyOverride = name;
                                        override_dialog_id = lastMessageObject;
                                        priorityOverride = chat2;
                                        silent3 = silent;
                                        notifyDelay = notifyAboutLast;
                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                    } else {
                                        j = dialog_id2;
                                        i2 = notifyDelay;
                                        size = notifyOverride;
                                        j2 = override_dialog_id;
                                        i3 = priorityOverride;
                                        i4 = vibrateOverride;
                                        sharedPreferences = preferences;
                                        i5 = user_id;
                                        i6 = chat_id;
                                        user2 = user;
                                        pendingIntent = contentIntent;
                                        silent3 = silent;
                                        dismissDate2 = needVibrate2;
                                        choosenSoundPath8 = choosenSoundPath2;
                                        str3 = defaultPath2;
                                        i7 = priority2;
                                        intent = dismissIntent;
                                        fileLocation2 = fileLocation;
                                        notifyDelay = notifyAboutLast;
                                    }
                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                    r12.lastNotificationIsNoData = false;
                                    scheduleNotificationRepeat();
                                    return;
                                }
                                choosenSoundPath2 = choosenSoundPath;
                                defaultPath2 = defaultPath;
                                lastMessageObject = lastMessageObject4;
                                priority2 = count;
                                dismissIntent = dismissIntent2;
                                fileLocation = fileLocation3;
                                dialog_id2 = dialog_id;
                                notifyOverride2 = false;
                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                if (VERSION.SDK_INT > 19) {
                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                } else {
                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                }
                                if (VERSION.SDK_INT < 26) {
                                    j = dialog_id2;
                                    i2 = notifyDelay;
                                    size = notifyOverride;
                                    j2 = override_dialog_id;
                                    i3 = priorityOverride;
                                    i4 = vibrateOverride;
                                    sharedPreferences = preferences;
                                    i5 = user_id;
                                    i6 = chat_id;
                                    user2 = user;
                                    pendingIntent = contentIntent;
                                    silent3 = silent;
                                    dismissDate2 = needVibrate2;
                                    choosenSoundPath8 = choosenSoundPath2;
                                    str3 = defaultPath2;
                                    i7 = priority2;
                                    intent = dismissIntent;
                                    fileLocation2 = fileLocation;
                                    notifyDelay = notifyAboutLast;
                                } else {
                                    choosenSoundPath8 = choosenSoundPath2;
                                    notifyOverride = name;
                                    override_dialog_id = lastMessageObject;
                                    priorityOverride = chat2;
                                    silent3 = silent;
                                    notifyDelay = notifyAboutLast;
                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                }
                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                r12.lastNotificationIsNoData = false;
                                scheduleNotificationRepeat();
                                return;
                            }
                        }
                        choosenSoundPath8 = str4;
                        if (vibrateOnlyIfSilent2) {
                        }
                        priorityOverride = user_id3;
                        configVibrationPattern2 = null;
                        i9 = 0;
                        configSound = null;
                        vibrateOverride = count;
                        if (VERSION.SDK_INT < 26) {
                            choosenSoundPath10 = choosenSoundPath8;
                            configVibrationPattern = null;
                        } else {
                            if (needVibrate4 != 2) {
                                configVibrationPattern2 = new long[]{0, 0};
                            } else if (needVibrate4 != 1) {
                                if (needVibrate4 != 0) {
                                    if (needVibrate4 != 4) {
                                        if (needVibrate4 == 3) {
                                            configVibrationPattern2 = new long[]{0, 1000};
                                        }
                                    }
                                }
                                configVibrationPattern2 = new long[0];
                            } else {
                                configVibrationPattern2 = new long[]{0, 100, 0, 100};
                            }
                            choosenSoundPath9 = choosenSoundPath8;
                            if (choosenSoundPath9 != null) {
                            }
                            configSound2 = configSound;
                            if (priorityOverride2 != 0) {
                                choosenSoundPath10 = choosenSoundPath9;
                                if (priorityOverride2 != 1) {
                                    if (priorityOverride2 != 2) {
                                        if (priorityOverride2 != 4) {
                                            user_id3 = 1;
                                        } else if (priorityOverride2 == 5) {
                                            user_id3 = 2;
                                        }
                                        i9 = user_id3;
                                    }
                                }
                                user_id3 = 4;
                                i9 = user_id3;
                            } else {
                                i9 = 3;
                                choosenSoundPath10 = choosenSoundPath9;
                            }
                            configSound = configSound2;
                            configVibrationPattern = configVibrationPattern2;
                        }
                        if (notifyDisabled3) {
                            dismissDate = needVibrate4;
                            count = i8;
                            choosenSoundPath9 = choosenSoundPath10;
                        } else {
                            priorityOverride2 = 0;
                            count = 0;
                            dismissDate = 0;
                            choosenSoundPath9 = null;
                        }
                        needVibrate4 = priorityOverride2;
                        preferences = preferences2;
                        intent2 = new Intent(ApplicationLoader.applicationContext, LaunchActivity.class);
                        stringBuilder2 = new StringBuilder();
                        stringBuilder2.append("com.tmessages.openchat");
                        needVibrate = dismissDate;
                        stringBuilder2.append(Math.random());
                        stringBuilder2.append(ConnectionsManager.DEFAULT_DATACENTER_ID);
                        intent2.setAction(stringBuilder2.toString());
                        intent2.setFlags(32768);
                        if (((int) dialog_id2) == 0) {
                            str = choosenSoundPath9;
                            user_id = user_id2;
                            chat2 = chat;
                            if (r12.pushDialogs.size() != 1) {
                                priority = needVibrate4;
                                ledColor = count;
                            } else {
                                priority = needVibrate4;
                                ledColor = count;
                                intent2.putExtra("encId", (int) (dialog_id2 >> 32));
                            }
                        } else {
                            if (r12.pushDialogs.size() == 1) {
                                if (chat_id2 == 0) {
                                    intent2.putExtra("chatId", chat_id2);
                                } else if (user_id2 != 0) {
                                    intent2.putExtra("userId", user_id2);
                                }
                            }
                            if (AndroidUtilities.needShowPasscode(false)) {
                                str = choosenSoundPath9;
                                user_id = user_id2;
                                chat2 = chat;
                            } else if (!SharedConfig.isWaitingForPasscodeEnter) {
                                str = choosenSoundPath9;
                                user_id = user_id2;
                                chat2 = chat;
                            } else if (r12.pushDialogs.size() != 1) {
                                str = choosenSoundPath9;
                                user_id = user_id2;
                                chat2 = chat;
                                priority = needVibrate4;
                                ledColor = count;
                            } else {
                                if (chat == null) {
                                    chat2 = chat;
                                    if (user3 != null) {
                                    }
                                    str = choosenSoundPath9;
                                    user_id = user_id2;
                                    priority = needVibrate4;
                                    ledColor = count;
                                } else {
                                    chat2 = chat;
                                    chat3 = chat2;
                                    if (chat2.photo.photo_small.volume_id == 0) {
                                        chat2 = chat3;
                                        str = choosenSoundPath9;
                                        user_id = user_id2;
                                        priority = needVibrate4;
                                        ledColor = count;
                                    } else {
                                        chat2 = chat3;
                                        if (chat2.photo.photo_small.local_id != 0) {
                                            str = choosenSoundPath9;
                                            user_id = user_id2;
                                            fileLocation3 = chat2.photo.photo_small;
                                            priority = needVibrate4;
                                            ledColor = count;
                                            intent2.putExtra("currentAccount", r12.currentAccount);
                                            contentIntent2 = PendingIntent.getActivity(ApplicationLoader.applicationContext, 0, intent2, NUM);
                                            if (chat_id2 == 0) {
                                            }
                                            lastMessageObject4 = lastMessageObject3;
                                            if (chat2 != null) {
                                                str5 = chat2.title;
                                            } else {
                                                str5 = UserObject.getUserName(user3);
                                            }
                                            choosenSoundPath5 = str5;
                                            if (((int) dialog_id2) == 0) {
                                                replace = true;
                                            } else {
                                                replace = true;
                                                if (SharedConfig.isWaitingForPasscodeEnter) {
                                                    choosenSoundPath9 = choosenSoundPath5;
                                                    str5 = choosenSoundPath9;
                                                    chat_id = chat_id2;
                                                    if (UserConfig.getActivatedAccountsCount() <= 1) {
                                                        choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                                    } else if (r12.pushDialogs.size() != 1) {
                                                        choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                                    } else {
                                                        stringBuilder = new StringBuilder();
                                                        stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                                        stringBuilder.append("\u30fb");
                                                        choosenSoundPath9 = stringBuilder.toString();
                                                    }
                                                    if (r12.pushDialogs.size() == 1) {
                                                        if (VERSION.SDK_INT >= 23) {
                                                            detailText = choosenSoundPath9;
                                                            chatName = choosenSoundPath5;
                                                            z4 = inAppVibrate;
                                                            mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                            vibrationPattern3 = null;
                                                            mBuilder.setCategory("msg");
                                                            stringBuilder = new StringBuilder();
                                                            i = 0;
                                                            stringBuilder.append("tel:+");
                                                            stringBuilder.append(user3.phone);
                                                            mBuilder.addPerson(stringBuilder.toString());
                                                            silent2 = 2;
                                                            user = user3;
                                                            if (r12.pushMessages.size() == 1) {
                                                                lastMessage2 = null;
                                                                sound = null;
                                                                mBuilder.setContentText(detailText);
                                                                inboxStyle = new InboxStyle();
                                                                inboxStyle.setBigContentTitle(str5);
                                                                count2 = Math.min(10, r12.pushMessages.size());
                                                                text2 = new boolean[1];
                                                                contentIntent = contentIntent2;
                                                                count = silent2;
                                                                chat_id2 = 0;
                                                                while (chat_id2 < count2) {
                                                                    count3 = count2;
                                                                    count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                                    dialog_id = dialog_id2;
                                                                    message2 = getStringForMessage(count4, 0, text2);
                                                                    if (message2 != null) {
                                                                        defaultPath4 = defaultPath3;
                                                                        notifyDelay = dismissDate2;
                                                                    } else {
                                                                        defaultPath4 = defaultPath3;
                                                                        notifyDelay = dismissDate2;
                                                                        if (count4.messageOwner.date > notifyDelay) {
                                                                            if (count == 2) {
                                                                                lastMessage2 = message2;
                                                                                count = count4.messageOwner.silent;
                                                                            }
                                                                            messageObject2 = count4;
                                                                            if (chat2 != null) {
                                                                                count2 = new StringBuilder();
                                                                                count2.append(" @ ");
                                                                                count2.append(str5);
                                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            } else if (text2[0]) {
                                                                                count2 = new StringBuilder();
                                                                                count2.append(str5);
                                                                                count2.append(" ");
                                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            } else {
                                                                                count2 = new StringBuilder();
                                                                                count2.append(str5);
                                                                                count2.append(": ");
                                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            }
                                                                            inboxStyle.addLine(message2);
                                                                        }
                                                                    }
                                                                    chat_id2++;
                                                                    dismissDate2 = notifyDelay;
                                                                    count2 = count3;
                                                                    dialog_id2 = dialog_id;
                                                                    defaultPath3 = defaultPath4;
                                                                }
                                                                dialog_id = dialog_id2;
                                                                defaultPath4 = defaultPath3;
                                                                notifyDelay = dismissDate2;
                                                                inboxStyle.setSummaryText(detailText);
                                                                mBuilder.setStyle(inboxStyle);
                                                                priorityOverride2 = count;
                                                                choosenSoundPath9 = lastMessage2;
                                                            } else {
                                                                messageObject = (MessageObject) r12.pushMessages.get(0);
                                                                lastMessage2 = null;
                                                                text = new boolean[1];
                                                                stringForMessage = getStringForMessage(messageObject, null, text);
                                                                message = stringForMessage;
                                                                lastMessage3 = stringForMessage;
                                                                choosenSoundPath5 = messageObject.messageOwner.silent;
                                                                choosenSoundPath9 = message;
                                                                if (choosenSoundPath9 != null) {
                                                                    if (replace) {
                                                                        silent3 = choosenSoundPath5;
                                                                        sound = null;
                                                                    } else {
                                                                        if (chat2 != null) {
                                                                            silent3 = choosenSoundPath5;
                                                                            sound = null;
                                                                            if (text[null]) {
                                                                                choosenSoundPath5 = new StringBuilder();
                                                                                choosenSoundPath5.append(str5);
                                                                                choosenSoundPath5.append(" ");
                                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            } else {
                                                                                choosenSoundPath5 = new StringBuilder();
                                                                                choosenSoundPath5.append(str5);
                                                                                choosenSoundPath5.append(": ");
                                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                            }
                                                                        } else {
                                                                            silent3 = choosenSoundPath5;
                                                                            choosenSoundPath5 = new StringBuilder();
                                                                            sound = null;
                                                                            choosenSoundPath5.append(" @ ");
                                                                            choosenSoundPath5.append(str5);
                                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                        }
                                                                        choosenSoundPath9 = message;
                                                                    }
                                                                    mBuilder.setContentText(choosenSoundPath9);
                                                                    mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                                    contentIntent = contentIntent2;
                                                                    dialog_id = dialog_id2;
                                                                    defaultPath4 = defaultPath3;
                                                                    notifyDelay = dismissDate2;
                                                                    choosenSoundPath9 = lastMessage3;
                                                                    priorityOverride2 = silent3;
                                                                } else {
                                                                    return;
                                                                }
                                                            }
                                                            dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                            dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                            dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                            mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                            if (fileLocation3 != null) {
                                                                name = str5;
                                                            } else {
                                                                img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                                if (img != null) {
                                                                    file = FileLoader.getPathToAttach(fileLocation3, true);
                                                                    if (file.exists()) {
                                                                        name = str5;
                                                                    } else {
                                                                        scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                        options = new Options();
                                                                        if (scaleFactor < 1.0f) {
                                                                            name = str5;
                                                                            str5 = (int) scaleFactor;
                                                                        } else {
                                                                            name = str5;
                                                                            str5 = true;
                                                                        }
                                                                        options.inSampleSize = str5;
                                                                        str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                        if (str5 != null) {
                                                                            mBuilder.setLargeIcon(str5);
                                                                        }
                                                                    }
                                                                } else {
                                                                    mBuilder.setLargeIcon(img.getBitmap());
                                                                    name = str5;
                                                                }
                                                            }
                                                            z = notifyAboutLast;
                                                            if (z) {
                                                                count = priority;
                                                            } else if (priorityOverride2 == 1) {
                                                                if (priority == 0) {
                                                                    count = priority;
                                                                    if (count != 1) {
                                                                        if (count == 2) {
                                                                            if (count != 4) {
                                                                                mBuilder.setPriority(-2);
                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                    user_id2 = 1;
                                                                                    i = user_id2;
                                                                                }
                                                                            } else if (count == 5) {
                                                                                mBuilder.setPriority(-1);
                                                                                if (VERSION.SDK_INT >= 26) {
                                                                                    user_id2 = 2;
                                                                                    i = user_id2;
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                    mBuilder.setPriority(1);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        user_id2 = 4;
                                                                        i = user_id2;
                                                                    }
                                                                } else {
                                                                    mBuilder.setPriority(0);
                                                                    if (VERSION.SDK_INT >= 26) {
                                                                        i = 3;
                                                                    }
                                                                    count = priority;
                                                                }
                                                                if (priorityOverride2 != 1) {
                                                                }
                                                                lastMessage = choosenSoundPath9;
                                                                silent = priorityOverride2;
                                                                needVibrate2 = needVibrate;
                                                                choosenSoundPath = str;
                                                                priorityOverride2 = ledColor;
                                                                defaultPath = defaultPath4;
                                                                jArr = new long[]{0, 0};
                                                                vibrationPattern = jArr;
                                                                mBuilder.setVibrate(jArr);
                                                                vibrationPattern2 = vibrationPattern;
                                                                sound2 = sound;
                                                                str2 = lastMessage;
                                                                if (AndroidUtilities.needShowPasscode(false)) {
                                                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                    size = rows.size();
                                                                    notifyOverride2 = false;
                                                                    z3 = false;
                                                                    while (true) {
                                                                        choosenSoundPath2 = choosenSoundPath;
                                                                        choosenSoundPath = size;
                                                                        if (z3 < choosenSoundPath) {
                                                                            break;
                                                                        }
                                                                        rows2 = rows;
                                                                        size2 = choosenSoundPath;
                                                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                                                        choosenSoundPath = row.buttons.size();
                                                                        defaultPath2 = defaultPath;
                                                                        defaultPath = 0;
                                                                        while (defaultPath < choosenSoundPath) {
                                                                            size22 = choosenSoundPath;
                                                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                            row2 = row;
                                                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                                priority2 = count;
                                                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                                dismissIntent = dismissIntent2;
                                                                                dialog_id2 = dialog_id;
                                                                                callbackIntent.putExtra("did", dialog_id2);
                                                                                if (choosenSoundPath3.data == null) {
                                                                                    fileLocation = fileLocation3;
                                                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                                } else {
                                                                                    fileLocation = fileLocation3;
                                                                                }
                                                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                                charSequence = choosenSoundPath3.text;
                                                                                context = ApplicationLoader.applicationContext;
                                                                                button = choosenSoundPath3;
                                                                                choosenSoundPath = r12.lastButtonId;
                                                                                lastMessageObject = lastMessageObject4;
                                                                                r12.lastButtonId = choosenSoundPath + 1;
                                                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                                notifyOverride2 = true;
                                                                            } else {
                                                                                lastMessageObject = lastMessageObject4;
                                                                                priority2 = count;
                                                                                dismissIntent = dismissIntent2;
                                                                                fileLocation = fileLocation3;
                                                                                dialog_id2 = dialog_id;
                                                                            }
                                                                            defaultPath++;
                                                                            dialog_id = dialog_id2;
                                                                            choosenSoundPath = size22;
                                                                            row = row2;
                                                                            count = priority2;
                                                                            dismissIntent2 = dismissIntent;
                                                                            fileLocation3 = fileLocation;
                                                                            lastMessageObject4 = lastMessageObject;
                                                                            dialog_id2 = notifyAboutLast;
                                                                        }
                                                                        priority2 = count;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                        z3++;
                                                                        choosenSoundPath = choosenSoundPath2;
                                                                        rows = rows2;
                                                                        size = size2;
                                                                        defaultPath = defaultPath2;
                                                                        dismissIntent2 = dismissIntent2;
                                                                        dialog_id2 = notifyAboutLast;
                                                                    }
                                                                    defaultPath2 = defaultPath;
                                                                    lastMessageObject = lastMessageObject4;
                                                                    priority2 = count;
                                                                    dismissIntent = dismissIntent2;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                    if (VERSION.SDK_INT > 19) {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    } else {
                                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                    }
                                                                    if (VERSION.SDK_INT < 26) {
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        notifyOverride = name;
                                                                        override_dialog_id = lastMessageObject;
                                                                        priorityOverride = chat2;
                                                                        silent3 = silent;
                                                                        notifyDelay = notifyAboutLast;
                                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                    } else {
                                                                        j = dialog_id2;
                                                                        i2 = notifyDelay;
                                                                        size = notifyOverride;
                                                                        j2 = override_dialog_id;
                                                                        i3 = priorityOverride;
                                                                        i4 = vibrateOverride;
                                                                        sharedPreferences = preferences;
                                                                        i5 = user_id;
                                                                        i6 = chat_id;
                                                                        user2 = user;
                                                                        pendingIntent = contentIntent;
                                                                        silent3 = silent;
                                                                        dismissDate2 = needVibrate2;
                                                                        choosenSoundPath8 = choosenSoundPath2;
                                                                        str3 = defaultPath2;
                                                                        i7 = priority2;
                                                                        intent = dismissIntent;
                                                                        fileLocation2 = fileLocation;
                                                                        notifyDelay = notifyAboutLast;
                                                                    }
                                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                    r12.lastNotificationIsNoData = false;
                                                                    scheduleNotificationRepeat();
                                                                    return;
                                                                }
                                                                choosenSoundPath2 = choosenSoundPath;
                                                                defaultPath2 = defaultPath;
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                                notifyOverride2 = false;
                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                if (VERSION.SDK_INT > 19) {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                } else {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                }
                                                                if (VERSION.SDK_INT < 26) {
                                                                    j = dialog_id2;
                                                                    i2 = notifyDelay;
                                                                    size = notifyOverride;
                                                                    j2 = override_dialog_id;
                                                                    i3 = priorityOverride;
                                                                    i4 = vibrateOverride;
                                                                    sharedPreferences = preferences;
                                                                    i5 = user_id;
                                                                    i6 = chat_id;
                                                                    user2 = user;
                                                                    pendingIntent = contentIntent;
                                                                    silent3 = silent;
                                                                    dismissDate2 = needVibrate2;
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    str3 = defaultPath2;
                                                                    i7 = priority2;
                                                                    intent = dismissIntent;
                                                                    fileLocation2 = fileLocation;
                                                                    notifyDelay = notifyAboutLast;
                                                                } else {
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    notifyOverride = name;
                                                                    override_dialog_id = lastMessageObject;
                                                                    priorityOverride = chat2;
                                                                    silent3 = silent;
                                                                    notifyDelay = notifyAboutLast;
                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                }
                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                r12.lastNotificationIsNoData = false;
                                                                scheduleNotificationRepeat();
                                                                return;
                                                            } else {
                                                                count = priority;
                                                            }
                                                            mBuilder.setPriority(-1);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 2;
                                                                i = user_id2;
                                                            }
                                                            if (priorityOverride2 != 1) {
                                                            }
                                                            lastMessage = choosenSoundPath9;
                                                            silent = priorityOverride2;
                                                            needVibrate2 = needVibrate;
                                                            choosenSoundPath = str;
                                                            priorityOverride2 = ledColor;
                                                            defaultPath = defaultPath4;
                                                            jArr = new long[]{0, 0};
                                                            vibrationPattern = jArr;
                                                            mBuilder.setVibrate(jArr);
                                                            vibrationPattern2 = vibrationPattern;
                                                            sound2 = sound;
                                                            str2 = lastMessage;
                                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                                size = rows.size();
                                                                notifyOverride2 = false;
                                                                z3 = false;
                                                                while (true) {
                                                                    choosenSoundPath2 = choosenSoundPath;
                                                                    choosenSoundPath = size;
                                                                    if (z3 < choosenSoundPath) {
                                                                        break;
                                                                    }
                                                                    rows2 = rows;
                                                                    size2 = choosenSoundPath;
                                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                                    choosenSoundPath = row.buttons.size();
                                                                    defaultPath2 = defaultPath;
                                                                    defaultPath = 0;
                                                                    while (defaultPath < choosenSoundPath) {
                                                                        size22 = choosenSoundPath;
                                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                        row2 = row;
                                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                            lastMessageObject = lastMessageObject4;
                                                                            priority2 = count;
                                                                            dismissIntent = dismissIntent2;
                                                                            fileLocation = fileLocation3;
                                                                            dialog_id2 = dialog_id;
                                                                        } else {
                                                                            priority2 = count;
                                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                            dismissIntent = dismissIntent2;
                                                                            dialog_id2 = dialog_id;
                                                                            callbackIntent.putExtra("did", dialog_id2);
                                                                            if (choosenSoundPath3.data == null) {
                                                                                fileLocation = fileLocation3;
                                                                            } else {
                                                                                fileLocation = fileLocation3;
                                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                            }
                                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                            charSequence = choosenSoundPath3.text;
                                                                            context = ApplicationLoader.applicationContext;
                                                                            button = choosenSoundPath3;
                                                                            choosenSoundPath = r12.lastButtonId;
                                                                            lastMessageObject = lastMessageObject4;
                                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                            notifyOverride2 = true;
                                                                        }
                                                                        defaultPath++;
                                                                        dialog_id = dialog_id2;
                                                                        choosenSoundPath = size22;
                                                                        row = row2;
                                                                        count = priority2;
                                                                        dismissIntent2 = dismissIntent;
                                                                        fileLocation3 = fileLocation;
                                                                        lastMessageObject4 = lastMessageObject;
                                                                        dialog_id2 = notifyAboutLast;
                                                                    }
                                                                    priority2 = count;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                    z3++;
                                                                    choosenSoundPath = choosenSoundPath2;
                                                                    rows = rows2;
                                                                    size = size2;
                                                                    defaultPath = defaultPath2;
                                                                    dismissIntent2 = dismissIntent2;
                                                                    dialog_id2 = notifyAboutLast;
                                                                }
                                                                defaultPath2 = defaultPath;
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                                if (VERSION.SDK_INT > 19) {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                } else {
                                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                                }
                                                                if (VERSION.SDK_INT < 26) {
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    notifyOverride = name;
                                                                    override_dialog_id = lastMessageObject;
                                                                    priorityOverride = chat2;
                                                                    silent3 = silent;
                                                                    notifyDelay = notifyAboutLast;
                                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                                } else {
                                                                    j = dialog_id2;
                                                                    i2 = notifyDelay;
                                                                    size = notifyOverride;
                                                                    j2 = override_dialog_id;
                                                                    i3 = priorityOverride;
                                                                    i4 = vibrateOverride;
                                                                    sharedPreferences = preferences;
                                                                    i5 = user_id;
                                                                    i6 = chat_id;
                                                                    user2 = user;
                                                                    pendingIntent = contentIntent;
                                                                    silent3 = silent;
                                                                    dismissDate2 = needVibrate2;
                                                                    choosenSoundPath8 = choosenSoundPath2;
                                                                    str3 = defaultPath2;
                                                                    i7 = priority2;
                                                                    intent = dismissIntent;
                                                                    fileLocation2 = fileLocation;
                                                                    notifyDelay = notifyAboutLast;
                                                                }
                                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                                r12.lastNotificationIsNoData = false;
                                                                scheduleNotificationRepeat();
                                                                return;
                                                            }
                                                            choosenSoundPath2 = choosenSoundPath;
                                                            defaultPath2 = defaultPath;
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            notifyOverride2 = false;
                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                            if (VERSION.SDK_INT > 19) {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            } else {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            }
                                                            if (VERSION.SDK_INT < 26) {
                                                                j = dialog_id2;
                                                                i2 = notifyDelay;
                                                                size = notifyOverride;
                                                                j2 = override_dialog_id;
                                                                i3 = priorityOverride;
                                                                i4 = vibrateOverride;
                                                                sharedPreferences = preferences;
                                                                i5 = user_id;
                                                                i6 = chat_id;
                                                                user2 = user;
                                                                pendingIntent = contentIntent;
                                                                silent3 = silent;
                                                                dismissDate2 = needVibrate2;
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                str3 = defaultPath2;
                                                                i7 = priority2;
                                                                intent = dismissIntent;
                                                                fileLocation2 = fileLocation;
                                                                notifyDelay = notifyAboutLast;
                                                            } else {
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                notifyOverride = name;
                                                                override_dialog_id = lastMessageObject;
                                                                priorityOverride = chat2;
                                                                silent3 = silent;
                                                                notifyDelay = notifyAboutLast;
                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                            }
                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                            r12.lastNotificationIsNoData = false;
                                                            scheduleNotificationRepeat();
                                                            return;
                                                        }
                                                    }
                                                    if (r12.pushDialogs.size() != 1) {
                                                        stringBuilder4 = new StringBuilder();
                                                        stringBuilder4.append(choosenSoundPath9);
                                                        stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                                        detailText = stringBuilder4.toString();
                                                        chatName = choosenSoundPath5;
                                                    } else {
                                                        stringBuilder4 = new StringBuilder();
                                                        stringBuilder4.append(choosenSoundPath9);
                                                        objArr = new Object[2];
                                                        chatName = choosenSoundPath5;
                                                        objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                                        objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                                        stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                                        detailText = stringBuilder4.toString();
                                                    }
                                                    mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                    vibrationPattern3 = null;
                                                    mBuilder.setCategory("msg");
                                                    stringBuilder = new StringBuilder();
                                                    i = 0;
                                                    stringBuilder.append("tel:+");
                                                    stringBuilder.append(user3.phone);
                                                    mBuilder.addPerson(stringBuilder.toString());
                                                    silent2 = 2;
                                                    user = user3;
                                                    if (r12.pushMessages.size() == 1) {
                                                        messageObject = (MessageObject) r12.pushMessages.get(0);
                                                        lastMessage2 = null;
                                                        text = new boolean[1];
                                                        stringForMessage = getStringForMessage(messageObject, null, text);
                                                        message = stringForMessage;
                                                        lastMessage3 = stringForMessage;
                                                        choosenSoundPath5 = messageObject.messageOwner.silent;
                                                        choosenSoundPath9 = message;
                                                        if (choosenSoundPath9 != null) {
                                                            if (replace) {
                                                                if (chat2 != null) {
                                                                    silent3 = choosenSoundPath5;
                                                                    choosenSoundPath5 = new StringBuilder();
                                                                    sound = null;
                                                                    choosenSoundPath5.append(" @ ");
                                                                    choosenSoundPath5.append(str5);
                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                } else {
                                                                    silent3 = choosenSoundPath5;
                                                                    sound = null;
                                                                    if (text[null]) {
                                                                        choosenSoundPath5 = new StringBuilder();
                                                                        choosenSoundPath5.append(str5);
                                                                        choosenSoundPath5.append(": ");
                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    } else {
                                                                        choosenSoundPath5 = new StringBuilder();
                                                                        choosenSoundPath5.append(str5);
                                                                        choosenSoundPath5.append(" ");
                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    }
                                                                }
                                                                choosenSoundPath9 = message;
                                                            } else {
                                                                silent3 = choosenSoundPath5;
                                                                sound = null;
                                                            }
                                                            mBuilder.setContentText(choosenSoundPath9);
                                                            mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                            contentIntent = contentIntent2;
                                                            dialog_id = dialog_id2;
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                            choosenSoundPath9 = lastMessage3;
                                                            priorityOverride2 = silent3;
                                                        } else {
                                                            return;
                                                        }
                                                    }
                                                    lastMessage2 = null;
                                                    sound = null;
                                                    mBuilder.setContentText(detailText);
                                                    inboxStyle = new InboxStyle();
                                                    inboxStyle.setBigContentTitle(str5);
                                                    count2 = Math.min(10, r12.pushMessages.size());
                                                    text2 = new boolean[1];
                                                    contentIntent = contentIntent2;
                                                    count = silent2;
                                                    chat_id2 = 0;
                                                    while (chat_id2 < count2) {
                                                        count3 = count2;
                                                        count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                        dialog_id = dialog_id2;
                                                        message2 = getStringForMessage(count4, 0, text2);
                                                        if (message2 != null) {
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                            if (count4.messageOwner.date > notifyDelay) {
                                                                if (count == 2) {
                                                                    lastMessage2 = message2;
                                                                    count = count4.messageOwner.silent;
                                                                }
                                                                messageObject2 = count4;
                                                                if (chat2 != null) {
                                                                    count2 = new StringBuilder();
                                                                    count2.append(" @ ");
                                                                    count2.append(str5);
                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                } else if (text2[0]) {
                                                                    count2 = new StringBuilder();
                                                                    count2.append(str5);
                                                                    count2.append(": ");
                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                } else {
                                                                    count2 = new StringBuilder();
                                                                    count2.append(str5);
                                                                    count2.append(" ");
                                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                }
                                                                inboxStyle.addLine(message2);
                                                            }
                                                        } else {
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                        }
                                                        chat_id2++;
                                                        dismissDate2 = notifyDelay;
                                                        count2 = count3;
                                                        dialog_id2 = dialog_id;
                                                        defaultPath3 = defaultPath4;
                                                    }
                                                    dialog_id = dialog_id2;
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                    inboxStyle.setSummaryText(detailText);
                                                    mBuilder.setStyle(inboxStyle);
                                                    priorityOverride2 = count;
                                                    choosenSoundPath9 = lastMessage2;
                                                    dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                    dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                    dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                    mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                    if (fileLocation3 != null) {
                                                        img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                        if (img != null) {
                                                            mBuilder.setLargeIcon(img.getBitmap());
                                                            name = str5;
                                                        } else {
                                                            file = FileLoader.getPathToAttach(fileLocation3, true);
                                                            if (file.exists()) {
                                                                scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                options = new Options();
                                                                if (scaleFactor < 1.0f) {
                                                                    name = str5;
                                                                    str5 = true;
                                                                } else {
                                                                    name = str5;
                                                                    str5 = (int) scaleFactor;
                                                                }
                                                                options.inSampleSize = str5;
                                                                str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                if (str5 != null) {
                                                                    mBuilder.setLargeIcon(str5);
                                                                }
                                                            } else {
                                                                name = str5;
                                                            }
                                                        }
                                                    } else {
                                                        name = str5;
                                                    }
                                                    z = notifyAboutLast;
                                                    if (z) {
                                                        count = priority;
                                                    } else if (priorityOverride2 == 1) {
                                                        count = priority;
                                                    } else {
                                                        if (priority == 0) {
                                                            mBuilder.setPriority(0);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                i = 3;
                                                            }
                                                            count = priority;
                                                        } else {
                                                            count = priority;
                                                            if (count != 1) {
                                                                if (count == 2) {
                                                                    if (count != 4) {
                                                                        mBuilder.setPriority(-2);
                                                                        if (VERSION.SDK_INT >= 26) {
                                                                            user_id2 = 1;
                                                                            i = user_id2;
                                                                        }
                                                                    } else if (count == 5) {
                                                                        mBuilder.setPriority(-1);
                                                                        if (VERSION.SDK_INT >= 26) {
                                                                            user_id2 = 2;
                                                                            i = user_id2;
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                            mBuilder.setPriority(1);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 4;
                                                                i = user_id2;
                                                            }
                                                        }
                                                        if (priorityOverride2 != 1) {
                                                        }
                                                        lastMessage = choosenSoundPath9;
                                                        silent = priorityOverride2;
                                                        needVibrate2 = needVibrate;
                                                        choosenSoundPath = str;
                                                        priorityOverride2 = ledColor;
                                                        defaultPath = defaultPath4;
                                                        jArr = new long[]{0, 0};
                                                        vibrationPattern = jArr;
                                                        mBuilder.setVibrate(jArr);
                                                        vibrationPattern2 = vibrationPattern;
                                                        sound2 = sound;
                                                        str2 = lastMessage;
                                                        if (AndroidUtilities.needShowPasscode(false)) {
                                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                            size = rows.size();
                                                            notifyOverride2 = false;
                                                            z3 = false;
                                                            while (true) {
                                                                choosenSoundPath2 = choosenSoundPath;
                                                                choosenSoundPath = size;
                                                                if (z3 < choosenSoundPath) {
                                                                    break;
                                                                }
                                                                rows2 = rows;
                                                                size2 = choosenSoundPath;
                                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                                choosenSoundPath = row.buttons.size();
                                                                defaultPath2 = defaultPath;
                                                                defaultPath = 0;
                                                                while (defaultPath < choosenSoundPath) {
                                                                    size22 = choosenSoundPath;
                                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                    row2 = row;
                                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                        priority2 = count;
                                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                        dismissIntent = dismissIntent2;
                                                                        dialog_id2 = dialog_id;
                                                                        callbackIntent.putExtra("did", dialog_id2);
                                                                        if (choosenSoundPath3.data == null) {
                                                                            fileLocation = fileLocation3;
                                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                        } else {
                                                                            fileLocation = fileLocation3;
                                                                        }
                                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                        charSequence = choosenSoundPath3.text;
                                                                        context = ApplicationLoader.applicationContext;
                                                                        button = choosenSoundPath3;
                                                                        choosenSoundPath = r12.lastButtonId;
                                                                        lastMessageObject = lastMessageObject4;
                                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                        notifyOverride2 = true;
                                                                    } else {
                                                                        lastMessageObject = lastMessageObject4;
                                                                        priority2 = count;
                                                                        dismissIntent = dismissIntent2;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                    }
                                                                    defaultPath++;
                                                                    dialog_id = dialog_id2;
                                                                    choosenSoundPath = size22;
                                                                    row = row2;
                                                                    count = priority2;
                                                                    dismissIntent2 = dismissIntent;
                                                                    fileLocation3 = fileLocation;
                                                                    lastMessageObject4 = lastMessageObject;
                                                                    dialog_id2 = notifyAboutLast;
                                                                }
                                                                priority2 = count;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                                z3++;
                                                                choosenSoundPath = choosenSoundPath2;
                                                                rows = rows2;
                                                                size = size2;
                                                                defaultPath = defaultPath2;
                                                                dismissIntent2 = dismissIntent2;
                                                                dialog_id2 = notifyAboutLast;
                                                            }
                                                            defaultPath2 = defaultPath;
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                            if (VERSION.SDK_INT > 19) {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            } else {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            }
                                                            if (VERSION.SDK_INT < 26) {
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                notifyOverride = name;
                                                                override_dialog_id = lastMessageObject;
                                                                priorityOverride = chat2;
                                                                silent3 = silent;
                                                                notifyDelay = notifyAboutLast;
                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                            } else {
                                                                j = dialog_id2;
                                                                i2 = notifyDelay;
                                                                size = notifyOverride;
                                                                j2 = override_dialog_id;
                                                                i3 = priorityOverride;
                                                                i4 = vibrateOverride;
                                                                sharedPreferences = preferences;
                                                                i5 = user_id;
                                                                i6 = chat_id;
                                                                user2 = user;
                                                                pendingIntent = contentIntent;
                                                                silent3 = silent;
                                                                dismissDate2 = needVibrate2;
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                str3 = defaultPath2;
                                                                i7 = priority2;
                                                                intent = dismissIntent;
                                                                fileLocation2 = fileLocation;
                                                                notifyDelay = notifyAboutLast;
                                                            }
                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                            r12.lastNotificationIsNoData = false;
                                                            scheduleNotificationRepeat();
                                                            return;
                                                        }
                                                        choosenSoundPath2 = choosenSoundPath;
                                                        defaultPath2 = defaultPath;
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        notifyOverride2 = false;
                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                        if (VERSION.SDK_INT > 19) {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        } else {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        }
                                                        if (VERSION.SDK_INT < 26) {
                                                            j = dialog_id2;
                                                            i2 = notifyDelay;
                                                            size = notifyOverride;
                                                            j2 = override_dialog_id;
                                                            i3 = priorityOverride;
                                                            i4 = vibrateOverride;
                                                            sharedPreferences = preferences;
                                                            i5 = user_id;
                                                            i6 = chat_id;
                                                            user2 = user;
                                                            pendingIntent = contentIntent;
                                                            silent3 = silent;
                                                            dismissDate2 = needVibrate2;
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            str3 = defaultPath2;
                                                            i7 = priority2;
                                                            intent = dismissIntent;
                                                            fileLocation2 = fileLocation;
                                                            notifyDelay = notifyAboutLast;
                                                        } else {
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            notifyOverride = name;
                                                            override_dialog_id = lastMessageObject;
                                                            priorityOverride = chat2;
                                                            silent3 = silent;
                                                            notifyDelay = notifyAboutLast;
                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                        }
                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                        r12.lastNotificationIsNoData = false;
                                                        scheduleNotificationRepeat();
                                                        return;
                                                    }
                                                    mBuilder.setPriority(-1);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        user_id2 = 2;
                                                        i = user_id2;
                                                    }
                                                    if (priorityOverride2 != 1) {
                                                    }
                                                    lastMessage = choosenSoundPath9;
                                                    silent = priorityOverride2;
                                                    needVibrate2 = needVibrate;
                                                    choosenSoundPath = str;
                                                    priorityOverride2 = ledColor;
                                                    defaultPath = defaultPath4;
                                                    jArr = new long[]{0, 0};
                                                    vibrationPattern = jArr;
                                                    mBuilder.setVibrate(jArr);
                                                    vibrationPattern2 = vibrationPattern;
                                                    sound2 = sound;
                                                    str2 = lastMessage;
                                                    if (AndroidUtilities.needShowPasscode(false)) {
                                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                        size = rows.size();
                                                        notifyOverride2 = false;
                                                        z3 = false;
                                                        while (true) {
                                                            choosenSoundPath2 = choosenSoundPath;
                                                            choosenSoundPath = size;
                                                            if (z3 < choosenSoundPath) {
                                                                break;
                                                            }
                                                            rows2 = rows;
                                                            size2 = choosenSoundPath;
                                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                                            choosenSoundPath = row.buttons.size();
                                                            defaultPath2 = defaultPath;
                                                            defaultPath = 0;
                                                            while (defaultPath < choosenSoundPath) {
                                                                size22 = choosenSoundPath;
                                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                row2 = row;
                                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                    lastMessageObject = lastMessageObject4;
                                                                    priority2 = count;
                                                                    dismissIntent = dismissIntent2;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                } else {
                                                                    priority2 = count;
                                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                    dismissIntent = dismissIntent2;
                                                                    dialog_id2 = dialog_id;
                                                                    callbackIntent.putExtra("did", dialog_id2);
                                                                    if (choosenSoundPath3.data == null) {
                                                                        fileLocation = fileLocation3;
                                                                    } else {
                                                                        fileLocation = fileLocation3;
                                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                    }
                                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                    charSequence = choosenSoundPath3.text;
                                                                    context = ApplicationLoader.applicationContext;
                                                                    button = choosenSoundPath3;
                                                                    choosenSoundPath = r12.lastButtonId;
                                                                    lastMessageObject = lastMessageObject4;
                                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                    notifyOverride2 = true;
                                                                }
                                                                defaultPath++;
                                                                dialog_id = dialog_id2;
                                                                choosenSoundPath = size22;
                                                                row = row2;
                                                                count = priority2;
                                                                dismissIntent2 = dismissIntent;
                                                                fileLocation3 = fileLocation;
                                                                lastMessageObject4 = lastMessageObject;
                                                                dialog_id2 = notifyAboutLast;
                                                            }
                                                            priority2 = count;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            z3++;
                                                            choosenSoundPath = choosenSoundPath2;
                                                            rows = rows2;
                                                            size = size2;
                                                            defaultPath = defaultPath2;
                                                            dismissIntent2 = dismissIntent2;
                                                            dialog_id2 = notifyAboutLast;
                                                        }
                                                        defaultPath2 = defaultPath;
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                        if (VERSION.SDK_INT > 19) {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        } else {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        }
                                                        if (VERSION.SDK_INT < 26) {
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            notifyOverride = name;
                                                            override_dialog_id = lastMessageObject;
                                                            priorityOverride = chat2;
                                                            silent3 = silent;
                                                            notifyDelay = notifyAboutLast;
                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                        } else {
                                                            j = dialog_id2;
                                                            i2 = notifyDelay;
                                                            size = notifyOverride;
                                                            j2 = override_dialog_id;
                                                            i3 = priorityOverride;
                                                            i4 = vibrateOverride;
                                                            sharedPreferences = preferences;
                                                            i5 = user_id;
                                                            i6 = chat_id;
                                                            user2 = user;
                                                            pendingIntent = contentIntent;
                                                            silent3 = silent;
                                                            dismissDate2 = needVibrate2;
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            str3 = defaultPath2;
                                                            i7 = priority2;
                                                            intent = dismissIntent;
                                                            fileLocation2 = fileLocation;
                                                            notifyDelay = notifyAboutLast;
                                                        }
                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                        r12.lastNotificationIsNoData = false;
                                                        scheduleNotificationRepeat();
                                                        return;
                                                    }
                                                    choosenSoundPath2 = choosenSoundPath;
                                                    defaultPath2 = defaultPath;
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    notifyOverride2 = false;
                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                    if (VERSION.SDK_INT > 19) {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    } else {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    }
                                                    if (VERSION.SDK_INT < 26) {
                                                        j = dialog_id2;
                                                        i2 = notifyDelay;
                                                        size = notifyOverride;
                                                        j2 = override_dialog_id;
                                                        i3 = priorityOverride;
                                                        i4 = vibrateOverride;
                                                        sharedPreferences = preferences;
                                                        i5 = user_id;
                                                        i6 = chat_id;
                                                        user2 = user;
                                                        pendingIntent = contentIntent;
                                                        silent3 = silent;
                                                        dismissDate2 = needVibrate2;
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        str3 = defaultPath2;
                                                        i7 = priority2;
                                                        intent = dismissIntent;
                                                        fileLocation2 = fileLocation;
                                                        notifyDelay = notifyAboutLast;
                                                    } else {
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        notifyOverride = name;
                                                        override_dialog_id = lastMessageObject;
                                                        priorityOverride = chat2;
                                                        silent3 = silent;
                                                        notifyDelay = notifyAboutLast;
                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                    }
                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                    r12.lastNotificationIsNoData = false;
                                                    scheduleNotificationRepeat();
                                                    return;
                                                }
                                            }
                                            choosenSoundPath9 = LocaleController.getString("AppName", R.string.AppName);
                                            replace = false;
                                            str5 = choosenSoundPath9;
                                            chat_id = chat_id2;
                                            if (UserConfig.getActivatedAccountsCount() <= 1) {
                                                choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                            } else if (r12.pushDialogs.size() != 1) {
                                                stringBuilder = new StringBuilder();
                                                stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                                stringBuilder.append("\u30fb");
                                                choosenSoundPath9 = stringBuilder.toString();
                                            } else {
                                                choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                            }
                                            if (r12.pushDialogs.size() == 1) {
                                                if (VERSION.SDK_INT >= 23) {
                                                    detailText = choosenSoundPath9;
                                                    chatName = choosenSoundPath5;
                                                    z4 = inAppVibrate;
                                                    mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                                    vibrationPattern3 = null;
                                                    mBuilder.setCategory("msg");
                                                    stringBuilder = new StringBuilder();
                                                    i = 0;
                                                    stringBuilder.append("tel:+");
                                                    stringBuilder.append(user3.phone);
                                                    mBuilder.addPerson(stringBuilder.toString());
                                                    silent2 = 2;
                                                    user = user3;
                                                    if (r12.pushMessages.size() == 1) {
                                                        lastMessage2 = null;
                                                        sound = null;
                                                        mBuilder.setContentText(detailText);
                                                        inboxStyle = new InboxStyle();
                                                        inboxStyle.setBigContentTitle(str5);
                                                        count2 = Math.min(10, r12.pushMessages.size());
                                                        text2 = new boolean[1];
                                                        contentIntent = contentIntent2;
                                                        count = silent2;
                                                        chat_id2 = 0;
                                                        while (chat_id2 < count2) {
                                                            count3 = count2;
                                                            count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                            dialog_id = dialog_id2;
                                                            message2 = getStringForMessage(count4, 0, text2);
                                                            if (message2 != null) {
                                                                defaultPath4 = defaultPath3;
                                                                notifyDelay = dismissDate2;
                                                            } else {
                                                                defaultPath4 = defaultPath3;
                                                                notifyDelay = dismissDate2;
                                                                if (count4.messageOwner.date > notifyDelay) {
                                                                    if (count == 2) {
                                                                        lastMessage2 = message2;
                                                                        count = count4.messageOwner.silent;
                                                                    }
                                                                    messageObject2 = count4;
                                                                    if (chat2 != null) {
                                                                        count2 = new StringBuilder();
                                                                        count2.append(" @ ");
                                                                        count2.append(str5);
                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    } else if (text2[0]) {
                                                                        count2 = new StringBuilder();
                                                                        count2.append(str5);
                                                                        count2.append(" ");
                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    } else {
                                                                        count2 = new StringBuilder();
                                                                        count2.append(str5);
                                                                        count2.append(": ");
                                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    }
                                                                    inboxStyle.addLine(message2);
                                                                }
                                                            }
                                                            chat_id2++;
                                                            dismissDate2 = notifyDelay;
                                                            count2 = count3;
                                                            dialog_id2 = dialog_id;
                                                            defaultPath3 = defaultPath4;
                                                        }
                                                        dialog_id = dialog_id2;
                                                        defaultPath4 = defaultPath3;
                                                        notifyDelay = dismissDate2;
                                                        inboxStyle.setSummaryText(detailText);
                                                        mBuilder.setStyle(inboxStyle);
                                                        priorityOverride2 = count;
                                                        choosenSoundPath9 = lastMessage2;
                                                    } else {
                                                        messageObject = (MessageObject) r12.pushMessages.get(0);
                                                        lastMessage2 = null;
                                                        text = new boolean[1];
                                                        stringForMessage = getStringForMessage(messageObject, null, text);
                                                        message = stringForMessage;
                                                        lastMessage3 = stringForMessage;
                                                        choosenSoundPath5 = messageObject.messageOwner.silent;
                                                        choosenSoundPath9 = message;
                                                        if (choosenSoundPath9 != null) {
                                                            if (replace) {
                                                                silent3 = choosenSoundPath5;
                                                                sound = null;
                                                            } else {
                                                                if (chat2 != null) {
                                                                    silent3 = choosenSoundPath5;
                                                                    sound = null;
                                                                    if (text[null]) {
                                                                        choosenSoundPath5 = new StringBuilder();
                                                                        choosenSoundPath5.append(str5);
                                                                        choosenSoundPath5.append(" ");
                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    } else {
                                                                        choosenSoundPath5 = new StringBuilder();
                                                                        choosenSoundPath5.append(str5);
                                                                        choosenSoundPath5.append(": ");
                                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                    }
                                                                } else {
                                                                    silent3 = choosenSoundPath5;
                                                                    choosenSoundPath5 = new StringBuilder();
                                                                    sound = null;
                                                                    choosenSoundPath5.append(" @ ");
                                                                    choosenSoundPath5.append(str5);
                                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                                }
                                                                choosenSoundPath9 = message;
                                                            }
                                                            mBuilder.setContentText(choosenSoundPath9);
                                                            mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                            contentIntent = contentIntent2;
                                                            dialog_id = dialog_id2;
                                                            defaultPath4 = defaultPath3;
                                                            notifyDelay = dismissDate2;
                                                            choosenSoundPath9 = lastMessage3;
                                                            priorityOverride2 = silent3;
                                                        } else {
                                                            return;
                                                        }
                                                    }
                                                    dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                                    dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                                    dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                                    mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                                    if (fileLocation3 != null) {
                                                        name = str5;
                                                    } else {
                                                        img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                        if (img != null) {
                                                            file = FileLoader.getPathToAttach(fileLocation3, true);
                                                            if (file.exists()) {
                                                                name = str5;
                                                            } else {
                                                                scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                                options = new Options();
                                                                if (scaleFactor < 1.0f) {
                                                                    name = str5;
                                                                    str5 = (int) scaleFactor;
                                                                } else {
                                                                    name = str5;
                                                                    str5 = true;
                                                                }
                                                                options.inSampleSize = str5;
                                                                str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                                if (str5 != null) {
                                                                    mBuilder.setLargeIcon(str5);
                                                                }
                                                            }
                                                        } else {
                                                            mBuilder.setLargeIcon(img.getBitmap());
                                                            name = str5;
                                                        }
                                                    }
                                                    z = notifyAboutLast;
                                                    if (z) {
                                                        count = priority;
                                                    } else if (priorityOverride2 == 1) {
                                                        if (priority == 0) {
                                                            count = priority;
                                                            if (count != 1) {
                                                                if (count == 2) {
                                                                    if (count != 4) {
                                                                        mBuilder.setPriority(-2);
                                                                        if (VERSION.SDK_INT >= 26) {
                                                                            user_id2 = 1;
                                                                            i = user_id2;
                                                                        }
                                                                    } else if (count == 5) {
                                                                        mBuilder.setPriority(-1);
                                                                        if (VERSION.SDK_INT >= 26) {
                                                                            user_id2 = 2;
                                                                            i = user_id2;
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                            mBuilder.setPriority(1);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 4;
                                                                i = user_id2;
                                                            }
                                                        } else {
                                                            mBuilder.setPriority(0);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                i = 3;
                                                            }
                                                            count = priority;
                                                        }
                                                        if (priorityOverride2 != 1) {
                                                        }
                                                        lastMessage = choosenSoundPath9;
                                                        silent = priorityOverride2;
                                                        needVibrate2 = needVibrate;
                                                        choosenSoundPath = str;
                                                        priorityOverride2 = ledColor;
                                                        defaultPath = defaultPath4;
                                                        jArr = new long[]{0, 0};
                                                        vibrationPattern = jArr;
                                                        mBuilder.setVibrate(jArr);
                                                        vibrationPattern2 = vibrationPattern;
                                                        sound2 = sound;
                                                        str2 = lastMessage;
                                                        if (AndroidUtilities.needShowPasscode(false)) {
                                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                            size = rows.size();
                                                            notifyOverride2 = false;
                                                            z3 = false;
                                                            while (true) {
                                                                choosenSoundPath2 = choosenSoundPath;
                                                                choosenSoundPath = size;
                                                                if (z3 < choosenSoundPath) {
                                                                    break;
                                                                }
                                                                rows2 = rows;
                                                                size2 = choosenSoundPath;
                                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                                choosenSoundPath = row.buttons.size();
                                                                defaultPath2 = defaultPath;
                                                                defaultPath = 0;
                                                                while (defaultPath < choosenSoundPath) {
                                                                    size22 = choosenSoundPath;
                                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                    row2 = row;
                                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                        priority2 = count;
                                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                        dismissIntent = dismissIntent2;
                                                                        dialog_id2 = dialog_id;
                                                                        callbackIntent.putExtra("did", dialog_id2);
                                                                        if (choosenSoundPath3.data == null) {
                                                                            fileLocation = fileLocation3;
                                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                        } else {
                                                                            fileLocation = fileLocation3;
                                                                        }
                                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                        charSequence = choosenSoundPath3.text;
                                                                        context = ApplicationLoader.applicationContext;
                                                                        button = choosenSoundPath3;
                                                                        choosenSoundPath = r12.lastButtonId;
                                                                        lastMessageObject = lastMessageObject4;
                                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                        notifyOverride2 = true;
                                                                    } else {
                                                                        lastMessageObject = lastMessageObject4;
                                                                        priority2 = count;
                                                                        dismissIntent = dismissIntent2;
                                                                        fileLocation = fileLocation3;
                                                                        dialog_id2 = dialog_id;
                                                                    }
                                                                    defaultPath++;
                                                                    dialog_id = dialog_id2;
                                                                    choosenSoundPath = size22;
                                                                    row = row2;
                                                                    count = priority2;
                                                                    dismissIntent2 = dismissIntent;
                                                                    fileLocation3 = fileLocation;
                                                                    lastMessageObject4 = lastMessageObject;
                                                                    dialog_id2 = notifyAboutLast;
                                                                }
                                                                priority2 = count;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                                z3++;
                                                                choosenSoundPath = choosenSoundPath2;
                                                                rows = rows2;
                                                                size = size2;
                                                                defaultPath = defaultPath2;
                                                                dismissIntent2 = dismissIntent2;
                                                                dialog_id2 = notifyAboutLast;
                                                            }
                                                            defaultPath2 = defaultPath;
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                            if (VERSION.SDK_INT > 19) {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            } else {
                                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                            }
                                                            if (VERSION.SDK_INT < 26) {
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                notifyOverride = name;
                                                                override_dialog_id = lastMessageObject;
                                                                priorityOverride = chat2;
                                                                silent3 = silent;
                                                                notifyDelay = notifyAboutLast;
                                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                            } else {
                                                                j = dialog_id2;
                                                                i2 = notifyDelay;
                                                                size = notifyOverride;
                                                                j2 = override_dialog_id;
                                                                i3 = priorityOverride;
                                                                i4 = vibrateOverride;
                                                                sharedPreferences = preferences;
                                                                i5 = user_id;
                                                                i6 = chat_id;
                                                                user2 = user;
                                                                pendingIntent = contentIntent;
                                                                silent3 = silent;
                                                                dismissDate2 = needVibrate2;
                                                                choosenSoundPath8 = choosenSoundPath2;
                                                                str3 = defaultPath2;
                                                                i7 = priority2;
                                                                intent = dismissIntent;
                                                                fileLocation2 = fileLocation;
                                                                notifyDelay = notifyAboutLast;
                                                            }
                                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                            r12.lastNotificationIsNoData = false;
                                                            scheduleNotificationRepeat();
                                                            return;
                                                        }
                                                        choosenSoundPath2 = choosenSoundPath;
                                                        defaultPath2 = defaultPath;
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        notifyOverride2 = false;
                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                        if (VERSION.SDK_INT > 19) {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        } else {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        }
                                                        if (VERSION.SDK_INT < 26) {
                                                            j = dialog_id2;
                                                            i2 = notifyDelay;
                                                            size = notifyOverride;
                                                            j2 = override_dialog_id;
                                                            i3 = priorityOverride;
                                                            i4 = vibrateOverride;
                                                            sharedPreferences = preferences;
                                                            i5 = user_id;
                                                            i6 = chat_id;
                                                            user2 = user;
                                                            pendingIntent = contentIntent;
                                                            silent3 = silent;
                                                            dismissDate2 = needVibrate2;
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            str3 = defaultPath2;
                                                            i7 = priority2;
                                                            intent = dismissIntent;
                                                            fileLocation2 = fileLocation;
                                                            notifyDelay = notifyAboutLast;
                                                        } else {
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            notifyOverride = name;
                                                            override_dialog_id = lastMessageObject;
                                                            priorityOverride = chat2;
                                                            silent3 = silent;
                                                            notifyDelay = notifyAboutLast;
                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                        }
                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                        r12.lastNotificationIsNoData = false;
                                                        scheduleNotificationRepeat();
                                                        return;
                                                    } else {
                                                        count = priority;
                                                    }
                                                    mBuilder.setPriority(-1);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        user_id2 = 2;
                                                        i = user_id2;
                                                    }
                                                    if (priorityOverride2 != 1) {
                                                    }
                                                    lastMessage = choosenSoundPath9;
                                                    silent = priorityOverride2;
                                                    needVibrate2 = needVibrate;
                                                    choosenSoundPath = str;
                                                    priorityOverride2 = ledColor;
                                                    defaultPath = defaultPath4;
                                                    jArr = new long[]{0, 0};
                                                    vibrationPattern = jArr;
                                                    mBuilder.setVibrate(jArr);
                                                    vibrationPattern2 = vibrationPattern;
                                                    sound2 = sound;
                                                    str2 = lastMessage;
                                                    if (AndroidUtilities.needShowPasscode(false)) {
                                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                        size = rows.size();
                                                        notifyOverride2 = false;
                                                        z3 = false;
                                                        while (true) {
                                                            choosenSoundPath2 = choosenSoundPath;
                                                            choosenSoundPath = size;
                                                            if (z3 < choosenSoundPath) {
                                                                break;
                                                            }
                                                            rows2 = rows;
                                                            size2 = choosenSoundPath;
                                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                                            choosenSoundPath = row.buttons.size();
                                                            defaultPath2 = defaultPath;
                                                            defaultPath = 0;
                                                            while (defaultPath < choosenSoundPath) {
                                                                size22 = choosenSoundPath;
                                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                                row2 = row;
                                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                    lastMessageObject = lastMessageObject4;
                                                                    priority2 = count;
                                                                    dismissIntent = dismissIntent2;
                                                                    fileLocation = fileLocation3;
                                                                    dialog_id2 = dialog_id;
                                                                } else {
                                                                    priority2 = count;
                                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                    dismissIntent = dismissIntent2;
                                                                    dialog_id2 = dialog_id;
                                                                    callbackIntent.putExtra("did", dialog_id2);
                                                                    if (choosenSoundPath3.data == null) {
                                                                        fileLocation = fileLocation3;
                                                                    } else {
                                                                        fileLocation = fileLocation3;
                                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                    }
                                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                    charSequence = choosenSoundPath3.text;
                                                                    context = ApplicationLoader.applicationContext;
                                                                    button = choosenSoundPath3;
                                                                    choosenSoundPath = r12.lastButtonId;
                                                                    lastMessageObject = lastMessageObject4;
                                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                    notifyOverride2 = true;
                                                                }
                                                                defaultPath++;
                                                                dialog_id = dialog_id2;
                                                                choosenSoundPath = size22;
                                                                row = row2;
                                                                count = priority2;
                                                                dismissIntent2 = dismissIntent;
                                                                fileLocation3 = fileLocation;
                                                                lastMessageObject4 = lastMessageObject;
                                                                dialog_id2 = notifyAboutLast;
                                                            }
                                                            priority2 = count;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                            z3++;
                                                            choosenSoundPath = choosenSoundPath2;
                                                            rows = rows2;
                                                            size = size2;
                                                            defaultPath = defaultPath2;
                                                            dismissIntent2 = dismissIntent2;
                                                            dialog_id2 = notifyAboutLast;
                                                        }
                                                        defaultPath2 = defaultPath;
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                        if (VERSION.SDK_INT > 19) {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        } else {
                                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                        }
                                                        if (VERSION.SDK_INT < 26) {
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            notifyOverride = name;
                                                            override_dialog_id = lastMessageObject;
                                                            priorityOverride = chat2;
                                                            silent3 = silent;
                                                            notifyDelay = notifyAboutLast;
                                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                        } else {
                                                            j = dialog_id2;
                                                            i2 = notifyDelay;
                                                            size = notifyOverride;
                                                            j2 = override_dialog_id;
                                                            i3 = priorityOverride;
                                                            i4 = vibrateOverride;
                                                            sharedPreferences = preferences;
                                                            i5 = user_id;
                                                            i6 = chat_id;
                                                            user2 = user;
                                                            pendingIntent = contentIntent;
                                                            silent3 = silent;
                                                            dismissDate2 = needVibrate2;
                                                            choosenSoundPath8 = choosenSoundPath2;
                                                            str3 = defaultPath2;
                                                            i7 = priority2;
                                                            intent = dismissIntent;
                                                            fileLocation2 = fileLocation;
                                                            notifyDelay = notifyAboutLast;
                                                        }
                                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                        r12.lastNotificationIsNoData = false;
                                                        scheduleNotificationRepeat();
                                                        return;
                                                    }
                                                    choosenSoundPath2 = choosenSoundPath;
                                                    defaultPath2 = defaultPath;
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    notifyOverride2 = false;
                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                    if (VERSION.SDK_INT > 19) {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    } else {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    }
                                                    if (VERSION.SDK_INT < 26) {
                                                        j = dialog_id2;
                                                        i2 = notifyDelay;
                                                        size = notifyOverride;
                                                        j2 = override_dialog_id;
                                                        i3 = priorityOverride;
                                                        i4 = vibrateOverride;
                                                        sharedPreferences = preferences;
                                                        i5 = user_id;
                                                        i6 = chat_id;
                                                        user2 = user;
                                                        pendingIntent = contentIntent;
                                                        silent3 = silent;
                                                        dismissDate2 = needVibrate2;
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        str3 = defaultPath2;
                                                        i7 = priority2;
                                                        intent = dismissIntent;
                                                        fileLocation2 = fileLocation;
                                                        notifyDelay = notifyAboutLast;
                                                    } else {
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        notifyOverride = name;
                                                        override_dialog_id = lastMessageObject;
                                                        priorityOverride = chat2;
                                                        silent3 = silent;
                                                        notifyDelay = notifyAboutLast;
                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                    }
                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                    r12.lastNotificationIsNoData = false;
                                                    scheduleNotificationRepeat();
                                                    return;
                                                }
                                            }
                                            if (r12.pushDialogs.size() != 1) {
                                                stringBuilder4 = new StringBuilder();
                                                stringBuilder4.append(choosenSoundPath9);
                                                objArr = new Object[2];
                                                chatName = choosenSoundPath5;
                                                objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                                objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                                stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                                detailText = stringBuilder4.toString();
                                            } else {
                                                stringBuilder4 = new StringBuilder();
                                                stringBuilder4.append(choosenSoundPath9);
                                                stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                                detailText = stringBuilder4.toString();
                                                chatName = choosenSoundPath5;
                                            }
                                            mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                            vibrationPattern3 = null;
                                            mBuilder.setCategory("msg");
                                            stringBuilder = new StringBuilder();
                                            i = 0;
                                            stringBuilder.append("tel:+");
                                            stringBuilder.append(user3.phone);
                                            mBuilder.addPerson(stringBuilder.toString());
                                            silent2 = 2;
                                            user = user3;
                                            if (r12.pushMessages.size() == 1) {
                                                messageObject = (MessageObject) r12.pushMessages.get(0);
                                                lastMessage2 = null;
                                                text = new boolean[1];
                                                stringForMessage = getStringForMessage(messageObject, null, text);
                                                message = stringForMessage;
                                                lastMessage3 = stringForMessage;
                                                choosenSoundPath5 = messageObject.messageOwner.silent;
                                                choosenSoundPath9 = message;
                                                if (choosenSoundPath9 != null) {
                                                    if (replace) {
                                                        if (chat2 != null) {
                                                            silent3 = choosenSoundPath5;
                                                            choosenSoundPath5 = new StringBuilder();
                                                            sound = null;
                                                            choosenSoundPath5.append(" @ ");
                                                            choosenSoundPath5.append(str5);
                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        } else {
                                                            silent3 = choosenSoundPath5;
                                                            sound = null;
                                                            if (text[null]) {
                                                                choosenSoundPath5 = new StringBuilder();
                                                                choosenSoundPath5.append(str5);
                                                                choosenSoundPath5.append(": ");
                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            } else {
                                                                choosenSoundPath5 = new StringBuilder();
                                                                choosenSoundPath5.append(str5);
                                                                choosenSoundPath5.append(" ");
                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            }
                                                        }
                                                        choosenSoundPath9 = message;
                                                    } else {
                                                        silent3 = choosenSoundPath5;
                                                        sound = null;
                                                    }
                                                    mBuilder.setContentText(choosenSoundPath9);
                                                    mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                    contentIntent = contentIntent2;
                                                    dialog_id = dialog_id2;
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                    choosenSoundPath9 = lastMessage3;
                                                    priorityOverride2 = silent3;
                                                } else {
                                                    return;
                                                }
                                            }
                                            lastMessage2 = null;
                                            sound = null;
                                            mBuilder.setContentText(detailText);
                                            inboxStyle = new InboxStyle();
                                            inboxStyle.setBigContentTitle(str5);
                                            count2 = Math.min(10, r12.pushMessages.size());
                                            text2 = new boolean[1];
                                            contentIntent = contentIntent2;
                                            count = silent2;
                                            chat_id2 = 0;
                                            while (chat_id2 < count2) {
                                                count3 = count2;
                                                count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                dialog_id = dialog_id2;
                                                message2 = getStringForMessage(count4, 0, text2);
                                                if (message2 != null) {
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                    if (count4.messageOwner.date > notifyDelay) {
                                                        if (count == 2) {
                                                            lastMessage2 = message2;
                                                            count = count4.messageOwner.silent;
                                                        }
                                                        messageObject2 = count4;
                                                        if (chat2 != null) {
                                                            count2 = new StringBuilder();
                                                            count2.append(" @ ");
                                                            count2.append(str5);
                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        } else if (text2[0]) {
                                                            count2 = new StringBuilder();
                                                            count2.append(str5);
                                                            count2.append(": ");
                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        } else {
                                                            count2 = new StringBuilder();
                                                            count2.append(str5);
                                                            count2.append(" ");
                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        }
                                                        inboxStyle.addLine(message2);
                                                    }
                                                } else {
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                }
                                                chat_id2++;
                                                dismissDate2 = notifyDelay;
                                                count2 = count3;
                                                dialog_id2 = dialog_id;
                                                defaultPath3 = defaultPath4;
                                            }
                                            dialog_id = dialog_id2;
                                            defaultPath4 = defaultPath3;
                                            notifyDelay = dismissDate2;
                                            inboxStyle.setSummaryText(detailText);
                                            mBuilder.setStyle(inboxStyle);
                                            priorityOverride2 = count;
                                            choosenSoundPath9 = lastMessage2;
                                            dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                            dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                            dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                            mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                            if (fileLocation3 != null) {
                                                img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                if (img != null) {
                                                    mBuilder.setLargeIcon(img.getBitmap());
                                                    name = str5;
                                                } else {
                                                    file = FileLoader.getPathToAttach(fileLocation3, true);
                                                    if (file.exists()) {
                                                        scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                        options = new Options();
                                                        if (scaleFactor < 1.0f) {
                                                            name = str5;
                                                            str5 = true;
                                                        } else {
                                                            name = str5;
                                                            str5 = (int) scaleFactor;
                                                        }
                                                        options.inSampleSize = str5;
                                                        str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                        if (str5 != null) {
                                                            mBuilder.setLargeIcon(str5);
                                                        }
                                                    } else {
                                                        name = str5;
                                                    }
                                                }
                                            } else {
                                                name = str5;
                                            }
                                            z = notifyAboutLast;
                                            if (z) {
                                                count = priority;
                                            } else if (priorityOverride2 == 1) {
                                                count = priority;
                                            } else {
                                                if (priority == 0) {
                                                    mBuilder.setPriority(0);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        i = 3;
                                                    }
                                                    count = priority;
                                                } else {
                                                    count = priority;
                                                    if (count != 1) {
                                                        if (count == 2) {
                                                            if (count != 4) {
                                                                mBuilder.setPriority(-2);
                                                                if (VERSION.SDK_INT >= 26) {
                                                                    user_id2 = 1;
                                                                    i = user_id2;
                                                                }
                                                            } else if (count == 5) {
                                                                mBuilder.setPriority(-1);
                                                                if (VERSION.SDK_INT >= 26) {
                                                                    user_id2 = 2;
                                                                    i = user_id2;
                                                                }
                                                            }
                                                        }
                                                    }
                                                    mBuilder.setPriority(1);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        user_id2 = 4;
                                                        i = user_id2;
                                                    }
                                                }
                                                if (priorityOverride2 != 1) {
                                                }
                                                lastMessage = choosenSoundPath9;
                                                silent = priorityOverride2;
                                                needVibrate2 = needVibrate;
                                                choosenSoundPath = str;
                                                priorityOverride2 = ledColor;
                                                defaultPath = defaultPath4;
                                                jArr = new long[]{0, 0};
                                                vibrationPattern = jArr;
                                                mBuilder.setVibrate(jArr);
                                                vibrationPattern2 = vibrationPattern;
                                                sound2 = sound;
                                                str2 = lastMessage;
                                                if (AndroidUtilities.needShowPasscode(false)) {
                                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                    size = rows.size();
                                                    notifyOverride2 = false;
                                                    z3 = false;
                                                    while (true) {
                                                        choosenSoundPath2 = choosenSoundPath;
                                                        choosenSoundPath = size;
                                                        if (z3 < choosenSoundPath) {
                                                            break;
                                                        }
                                                        rows2 = rows;
                                                        size2 = choosenSoundPath;
                                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                                        choosenSoundPath = row.buttons.size();
                                                        defaultPath2 = defaultPath;
                                                        defaultPath = 0;
                                                        while (defaultPath < choosenSoundPath) {
                                                            size22 = choosenSoundPath;
                                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                            row2 = row;
                                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                priority2 = count;
                                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                dismissIntent = dismissIntent2;
                                                                dialog_id2 = dialog_id;
                                                                callbackIntent.putExtra("did", dialog_id2);
                                                                if (choosenSoundPath3.data == null) {
                                                                    fileLocation = fileLocation3;
                                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                } else {
                                                                    fileLocation = fileLocation3;
                                                                }
                                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                charSequence = choosenSoundPath3.text;
                                                                context = ApplicationLoader.applicationContext;
                                                                button = choosenSoundPath3;
                                                                choosenSoundPath = r12.lastButtonId;
                                                                lastMessageObject = lastMessageObject4;
                                                                r12.lastButtonId = choosenSoundPath + 1;
                                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                notifyOverride2 = true;
                                                            } else {
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                            }
                                                            defaultPath++;
                                                            dialog_id = dialog_id2;
                                                            choosenSoundPath = size22;
                                                            row = row2;
                                                            count = priority2;
                                                            dismissIntent2 = dismissIntent;
                                                            fileLocation3 = fileLocation;
                                                            lastMessageObject4 = lastMessageObject;
                                                            dialog_id2 = notifyAboutLast;
                                                        }
                                                        priority2 = count;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        z3++;
                                                        choosenSoundPath = choosenSoundPath2;
                                                        rows = rows2;
                                                        size = size2;
                                                        defaultPath = defaultPath2;
                                                        dismissIntent2 = dismissIntent2;
                                                        dialog_id2 = notifyAboutLast;
                                                    }
                                                    defaultPath2 = defaultPath;
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                    if (VERSION.SDK_INT > 19) {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    } else {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    }
                                                    if (VERSION.SDK_INT < 26) {
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        notifyOverride = name;
                                                        override_dialog_id = lastMessageObject;
                                                        priorityOverride = chat2;
                                                        silent3 = silent;
                                                        notifyDelay = notifyAboutLast;
                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                    } else {
                                                        j = dialog_id2;
                                                        i2 = notifyDelay;
                                                        size = notifyOverride;
                                                        j2 = override_dialog_id;
                                                        i3 = priorityOverride;
                                                        i4 = vibrateOverride;
                                                        sharedPreferences = preferences;
                                                        i5 = user_id;
                                                        i6 = chat_id;
                                                        user2 = user;
                                                        pendingIntent = contentIntent;
                                                        silent3 = silent;
                                                        dismissDate2 = needVibrate2;
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        str3 = defaultPath2;
                                                        i7 = priority2;
                                                        intent = dismissIntent;
                                                        fileLocation2 = fileLocation;
                                                        notifyDelay = notifyAboutLast;
                                                    }
                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                    r12.lastNotificationIsNoData = false;
                                                    scheduleNotificationRepeat();
                                                    return;
                                                }
                                                choosenSoundPath2 = choosenSoundPath;
                                                defaultPath2 = defaultPath;
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                notifyOverride2 = false;
                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                if (VERSION.SDK_INT > 19) {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                } else {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                }
                                                if (VERSION.SDK_INT < 26) {
                                                    j = dialog_id2;
                                                    i2 = notifyDelay;
                                                    size = notifyOverride;
                                                    j2 = override_dialog_id;
                                                    i3 = priorityOverride;
                                                    i4 = vibrateOverride;
                                                    sharedPreferences = preferences;
                                                    i5 = user_id;
                                                    i6 = chat_id;
                                                    user2 = user;
                                                    pendingIntent = contentIntent;
                                                    silent3 = silent;
                                                    dismissDate2 = needVibrate2;
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    str3 = defaultPath2;
                                                    i7 = priority2;
                                                    intent = dismissIntent;
                                                    fileLocation2 = fileLocation;
                                                    notifyDelay = notifyAboutLast;
                                                } else {
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    notifyOverride = name;
                                                    override_dialog_id = lastMessageObject;
                                                    priorityOverride = chat2;
                                                    silent3 = silent;
                                                    notifyDelay = notifyAboutLast;
                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                }
                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                r12.lastNotificationIsNoData = false;
                                                scheduleNotificationRepeat();
                                                return;
                                            }
                                            mBuilder.setPriority(-1);
                                            if (VERSION.SDK_INT >= 26) {
                                                user_id2 = 2;
                                                i = user_id2;
                                            }
                                            if (priorityOverride2 != 1) {
                                            }
                                            lastMessage = choosenSoundPath9;
                                            silent = priorityOverride2;
                                            needVibrate2 = needVibrate;
                                            choosenSoundPath = str;
                                            priorityOverride2 = ledColor;
                                            defaultPath = defaultPath4;
                                            jArr = new long[]{0, 0};
                                            vibrationPattern = jArr;
                                            mBuilder.setVibrate(jArr);
                                            vibrationPattern2 = vibrationPattern;
                                            sound2 = sound;
                                            str2 = lastMessage;
                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                size = rows.size();
                                                notifyOverride2 = false;
                                                z3 = false;
                                                while (true) {
                                                    choosenSoundPath2 = choosenSoundPath;
                                                    choosenSoundPath = size;
                                                    if (z3 < choosenSoundPath) {
                                                        break;
                                                    }
                                                    rows2 = rows;
                                                    size2 = choosenSoundPath;
                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                    choosenSoundPath = row.buttons.size();
                                                    defaultPath2 = defaultPath;
                                                    defaultPath = 0;
                                                    while (defaultPath < choosenSoundPath) {
                                                        size22 = choosenSoundPath;
                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                        row2 = row;
                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                        } else {
                                                            priority2 = count;
                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                            dismissIntent = dismissIntent2;
                                                            dialog_id2 = dialog_id;
                                                            callbackIntent.putExtra("did", dialog_id2);
                                                            if (choosenSoundPath3.data == null) {
                                                                fileLocation = fileLocation3;
                                                            } else {
                                                                fileLocation = fileLocation3;
                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                            }
                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                            charSequence = choosenSoundPath3.text;
                                                            context = ApplicationLoader.applicationContext;
                                                            button = choosenSoundPath3;
                                                            choosenSoundPath = r12.lastButtonId;
                                                            lastMessageObject = lastMessageObject4;
                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                            notifyOverride2 = true;
                                                        }
                                                        defaultPath++;
                                                        dialog_id = dialog_id2;
                                                        choosenSoundPath = size22;
                                                        row = row2;
                                                        count = priority2;
                                                        dismissIntent2 = dismissIntent;
                                                        fileLocation3 = fileLocation;
                                                        lastMessageObject4 = lastMessageObject;
                                                        dialog_id2 = notifyAboutLast;
                                                    }
                                                    priority2 = count;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    z3++;
                                                    choosenSoundPath = choosenSoundPath2;
                                                    rows = rows2;
                                                    size = size2;
                                                    defaultPath = defaultPath2;
                                                    dismissIntent2 = dismissIntent2;
                                                    dialog_id2 = notifyAboutLast;
                                                }
                                                defaultPath2 = defaultPath;
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                if (VERSION.SDK_INT > 19) {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                } else {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                }
                                                if (VERSION.SDK_INT < 26) {
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    notifyOverride = name;
                                                    override_dialog_id = lastMessageObject;
                                                    priorityOverride = chat2;
                                                    silent3 = silent;
                                                    notifyDelay = notifyAboutLast;
                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                } else {
                                                    j = dialog_id2;
                                                    i2 = notifyDelay;
                                                    size = notifyOverride;
                                                    j2 = override_dialog_id;
                                                    i3 = priorityOverride;
                                                    i4 = vibrateOverride;
                                                    sharedPreferences = preferences;
                                                    i5 = user_id;
                                                    i6 = chat_id;
                                                    user2 = user;
                                                    pendingIntent = contentIntent;
                                                    silent3 = silent;
                                                    dismissDate2 = needVibrate2;
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    str3 = defaultPath2;
                                                    i7 = priority2;
                                                    intent = dismissIntent;
                                                    fileLocation2 = fileLocation;
                                                    notifyDelay = notifyAboutLast;
                                                }
                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                r12.lastNotificationIsNoData = false;
                                                scheduleNotificationRepeat();
                                                return;
                                            }
                                            choosenSoundPath2 = choosenSoundPath;
                                            defaultPath2 = defaultPath;
                                            lastMessageObject = lastMessageObject4;
                                            priority2 = count;
                                            dismissIntent = dismissIntent2;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            notifyOverride2 = false;
                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                            if (VERSION.SDK_INT > 19) {
                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            } else {
                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            }
                                            if (VERSION.SDK_INT < 26) {
                                                j = dialog_id2;
                                                i2 = notifyDelay;
                                                size = notifyOverride;
                                                j2 = override_dialog_id;
                                                i3 = priorityOverride;
                                                i4 = vibrateOverride;
                                                sharedPreferences = preferences;
                                                i5 = user_id;
                                                i6 = chat_id;
                                                user2 = user;
                                                pendingIntent = contentIntent;
                                                silent3 = silent;
                                                dismissDate2 = needVibrate2;
                                                choosenSoundPath8 = choosenSoundPath2;
                                                str3 = defaultPath2;
                                                i7 = priority2;
                                                intent = dismissIntent;
                                                fileLocation2 = fileLocation;
                                                notifyDelay = notifyAboutLast;
                                            } else {
                                                choosenSoundPath8 = choosenSoundPath2;
                                                notifyOverride = name;
                                                override_dialog_id = lastMessageObject;
                                                priorityOverride = chat2;
                                                silent3 = silent;
                                                notifyDelay = notifyAboutLast;
                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                            }
                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                            r12.lastNotificationIsNoData = false;
                                            scheduleNotificationRepeat();
                                            return;
                                        }
                                        str = choosenSoundPath9;
                                        user_id = user_id2;
                                    }
                                }
                                priority = needVibrate4;
                                ledColor = count;
                            }
                            choosenSoundPath9 = null;
                            fileLocation3 = choosenSoundPath9;
                            priority = needVibrate4;
                            ledColor = count;
                            intent2.putExtra("currentAccount", r12.currentAccount);
                            contentIntent2 = PendingIntent.getActivity(ApplicationLoader.applicationContext, 0, intent2, NUM);
                            if (chat_id2 == 0) {
                            }
                            lastMessageObject4 = lastMessageObject3;
                            if (chat2 != null) {
                                str5 = UserObject.getUserName(user3);
                            } else {
                                str5 = chat2.title;
                            }
                            choosenSoundPath5 = str5;
                            if (((int) dialog_id2) == 0) {
                                replace = true;
                                if (SharedConfig.isWaitingForPasscodeEnter) {
                                    choosenSoundPath9 = choosenSoundPath5;
                                    str5 = choosenSoundPath9;
                                    chat_id = chat_id2;
                                    if (UserConfig.getActivatedAccountsCount() <= 1) {
                                        choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                    } else if (r12.pushDialogs.size() != 1) {
                                        choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                    } else {
                                        stringBuilder = new StringBuilder();
                                        stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                        stringBuilder.append("\u30fb");
                                        choosenSoundPath9 = stringBuilder.toString();
                                    }
                                    if (r12.pushDialogs.size() == 1) {
                                        if (VERSION.SDK_INT >= 23) {
                                            detailText = choosenSoundPath9;
                                            chatName = choosenSoundPath5;
                                            z4 = inAppVibrate;
                                            mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                            vibrationPattern3 = null;
                                            mBuilder.setCategory("msg");
                                            stringBuilder = new StringBuilder();
                                            i = 0;
                                            stringBuilder.append("tel:+");
                                            stringBuilder.append(user3.phone);
                                            mBuilder.addPerson(stringBuilder.toString());
                                            silent2 = 2;
                                            user = user3;
                                            if (r12.pushMessages.size() == 1) {
                                                lastMessage2 = null;
                                                sound = null;
                                                mBuilder.setContentText(detailText);
                                                inboxStyle = new InboxStyle();
                                                inboxStyle.setBigContentTitle(str5);
                                                count2 = Math.min(10, r12.pushMessages.size());
                                                text2 = new boolean[1];
                                                contentIntent = contentIntent2;
                                                count = silent2;
                                                chat_id2 = 0;
                                                while (chat_id2 < count2) {
                                                    count3 = count2;
                                                    count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                    dialog_id = dialog_id2;
                                                    message2 = getStringForMessage(count4, 0, text2);
                                                    if (message2 != null) {
                                                        defaultPath4 = defaultPath3;
                                                        notifyDelay = dismissDate2;
                                                    } else {
                                                        defaultPath4 = defaultPath3;
                                                        notifyDelay = dismissDate2;
                                                        if (count4.messageOwner.date > notifyDelay) {
                                                            if (count == 2) {
                                                                lastMessage2 = message2;
                                                                count = count4.messageOwner.silent;
                                                            }
                                                            messageObject2 = count4;
                                                            if (chat2 != null) {
                                                                count2 = new StringBuilder();
                                                                count2.append(" @ ");
                                                                count2.append(str5);
                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            } else if (text2[0]) {
                                                                count2 = new StringBuilder();
                                                                count2.append(str5);
                                                                count2.append(" ");
                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            } else {
                                                                count2 = new StringBuilder();
                                                                count2.append(str5);
                                                                count2.append(": ");
                                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            }
                                                            inboxStyle.addLine(message2);
                                                        }
                                                    }
                                                    chat_id2++;
                                                    dismissDate2 = notifyDelay;
                                                    count2 = count3;
                                                    dialog_id2 = dialog_id;
                                                    defaultPath3 = defaultPath4;
                                                }
                                                dialog_id = dialog_id2;
                                                defaultPath4 = defaultPath3;
                                                notifyDelay = dismissDate2;
                                                inboxStyle.setSummaryText(detailText);
                                                mBuilder.setStyle(inboxStyle);
                                                priorityOverride2 = count;
                                                choosenSoundPath9 = lastMessage2;
                                            } else {
                                                messageObject = (MessageObject) r12.pushMessages.get(0);
                                                lastMessage2 = null;
                                                text = new boolean[1];
                                                stringForMessage = getStringForMessage(messageObject, null, text);
                                                message = stringForMessage;
                                                lastMessage3 = stringForMessage;
                                                choosenSoundPath5 = messageObject.messageOwner.silent;
                                                choosenSoundPath9 = message;
                                                if (choosenSoundPath9 != null) {
                                                    if (replace) {
                                                        silent3 = choosenSoundPath5;
                                                        sound = null;
                                                    } else {
                                                        if (chat2 != null) {
                                                            silent3 = choosenSoundPath5;
                                                            sound = null;
                                                            if (text[null]) {
                                                                choosenSoundPath5 = new StringBuilder();
                                                                choosenSoundPath5.append(str5);
                                                                choosenSoundPath5.append(" ");
                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            } else {
                                                                choosenSoundPath5 = new StringBuilder();
                                                                choosenSoundPath5.append(str5);
                                                                choosenSoundPath5.append(": ");
                                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                            }
                                                        } else {
                                                            silent3 = choosenSoundPath5;
                                                            choosenSoundPath5 = new StringBuilder();
                                                            sound = null;
                                                            choosenSoundPath5.append(" @ ");
                                                            choosenSoundPath5.append(str5);
                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        }
                                                        choosenSoundPath9 = message;
                                                    }
                                                    mBuilder.setContentText(choosenSoundPath9);
                                                    mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                    contentIntent = contentIntent2;
                                                    dialog_id = dialog_id2;
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                    choosenSoundPath9 = lastMessage3;
                                                    priorityOverride2 = silent3;
                                                } else {
                                                    return;
                                                }
                                            }
                                            dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                            dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                            dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                            mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                            if (fileLocation3 != null) {
                                                name = str5;
                                            } else {
                                                img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                                if (img != null) {
                                                    file = FileLoader.getPathToAttach(fileLocation3, true);
                                                    if (file.exists()) {
                                                        name = str5;
                                                    } else {
                                                        scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                        options = new Options();
                                                        if (scaleFactor < 1.0f) {
                                                            name = str5;
                                                            str5 = (int) scaleFactor;
                                                        } else {
                                                            name = str5;
                                                            str5 = true;
                                                        }
                                                        options.inSampleSize = str5;
                                                        str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                        if (str5 != null) {
                                                            mBuilder.setLargeIcon(str5);
                                                        }
                                                    }
                                                } else {
                                                    mBuilder.setLargeIcon(img.getBitmap());
                                                    name = str5;
                                                }
                                            }
                                            z = notifyAboutLast;
                                            if (z) {
                                                count = priority;
                                            } else if (priorityOverride2 == 1) {
                                                if (priority == 0) {
                                                    count = priority;
                                                    if (count != 1) {
                                                        if (count == 2) {
                                                            if (count != 4) {
                                                                mBuilder.setPriority(-2);
                                                                if (VERSION.SDK_INT >= 26) {
                                                                    user_id2 = 1;
                                                                    i = user_id2;
                                                                }
                                                            } else if (count == 5) {
                                                                mBuilder.setPriority(-1);
                                                                if (VERSION.SDK_INT >= 26) {
                                                                    user_id2 = 2;
                                                                    i = user_id2;
                                                                }
                                                            }
                                                        }
                                                    }
                                                    mBuilder.setPriority(1);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        user_id2 = 4;
                                                        i = user_id2;
                                                    }
                                                } else {
                                                    mBuilder.setPriority(0);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        i = 3;
                                                    }
                                                    count = priority;
                                                }
                                                if (priorityOverride2 != 1) {
                                                }
                                                lastMessage = choosenSoundPath9;
                                                silent = priorityOverride2;
                                                needVibrate2 = needVibrate;
                                                choosenSoundPath = str;
                                                priorityOverride2 = ledColor;
                                                defaultPath = defaultPath4;
                                                jArr = new long[]{0, 0};
                                                vibrationPattern = jArr;
                                                mBuilder.setVibrate(jArr);
                                                vibrationPattern2 = vibrationPattern;
                                                sound2 = sound;
                                                str2 = lastMessage;
                                                if (AndroidUtilities.needShowPasscode(false)) {
                                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                    size = rows.size();
                                                    notifyOverride2 = false;
                                                    z3 = false;
                                                    while (true) {
                                                        choosenSoundPath2 = choosenSoundPath;
                                                        choosenSoundPath = size;
                                                        if (z3 < choosenSoundPath) {
                                                            break;
                                                        }
                                                        rows2 = rows;
                                                        size2 = choosenSoundPath;
                                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                                        choosenSoundPath = row.buttons.size();
                                                        defaultPath2 = defaultPath;
                                                        defaultPath = 0;
                                                        while (defaultPath < choosenSoundPath) {
                                                            size22 = choosenSoundPath;
                                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                            row2 = row;
                                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                                priority2 = count;
                                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                                dismissIntent = dismissIntent2;
                                                                dialog_id2 = dialog_id;
                                                                callbackIntent.putExtra("did", dialog_id2);
                                                                if (choosenSoundPath3.data == null) {
                                                                    fileLocation = fileLocation3;
                                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                                } else {
                                                                    fileLocation = fileLocation3;
                                                                }
                                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                                charSequence = choosenSoundPath3.text;
                                                                context = ApplicationLoader.applicationContext;
                                                                button = choosenSoundPath3;
                                                                choosenSoundPath = r12.lastButtonId;
                                                                lastMessageObject = lastMessageObject4;
                                                                r12.lastButtonId = choosenSoundPath + 1;
                                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                                notifyOverride2 = true;
                                                            } else {
                                                                lastMessageObject = lastMessageObject4;
                                                                priority2 = count;
                                                                dismissIntent = dismissIntent2;
                                                                fileLocation = fileLocation3;
                                                                dialog_id2 = dialog_id;
                                                            }
                                                            defaultPath++;
                                                            dialog_id = dialog_id2;
                                                            choosenSoundPath = size22;
                                                            row = row2;
                                                            count = priority2;
                                                            dismissIntent2 = dismissIntent;
                                                            fileLocation3 = fileLocation;
                                                            lastMessageObject4 = lastMessageObject;
                                                            dialog_id2 = notifyAboutLast;
                                                        }
                                                        priority2 = count;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                        z3++;
                                                        choosenSoundPath = choosenSoundPath2;
                                                        rows = rows2;
                                                        size = size2;
                                                        defaultPath = defaultPath2;
                                                        dismissIntent2 = dismissIntent2;
                                                        dialog_id2 = notifyAboutLast;
                                                    }
                                                    defaultPath2 = defaultPath;
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                    if (VERSION.SDK_INT > 19) {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    } else {
                                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                    }
                                                    if (VERSION.SDK_INT < 26) {
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        notifyOverride = name;
                                                        override_dialog_id = lastMessageObject;
                                                        priorityOverride = chat2;
                                                        silent3 = silent;
                                                        notifyDelay = notifyAboutLast;
                                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                    } else {
                                                        j = dialog_id2;
                                                        i2 = notifyDelay;
                                                        size = notifyOverride;
                                                        j2 = override_dialog_id;
                                                        i3 = priorityOverride;
                                                        i4 = vibrateOverride;
                                                        sharedPreferences = preferences;
                                                        i5 = user_id;
                                                        i6 = chat_id;
                                                        user2 = user;
                                                        pendingIntent = contentIntent;
                                                        silent3 = silent;
                                                        dismissDate2 = needVibrate2;
                                                        choosenSoundPath8 = choosenSoundPath2;
                                                        str3 = defaultPath2;
                                                        i7 = priority2;
                                                        intent = dismissIntent;
                                                        fileLocation2 = fileLocation;
                                                        notifyDelay = notifyAboutLast;
                                                    }
                                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                    r12.lastNotificationIsNoData = false;
                                                    scheduleNotificationRepeat();
                                                    return;
                                                }
                                                choosenSoundPath2 = choosenSoundPath;
                                                defaultPath2 = defaultPath;
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                notifyOverride2 = false;
                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                if (VERSION.SDK_INT > 19) {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                } else {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                }
                                                if (VERSION.SDK_INT < 26) {
                                                    j = dialog_id2;
                                                    i2 = notifyDelay;
                                                    size = notifyOverride;
                                                    j2 = override_dialog_id;
                                                    i3 = priorityOverride;
                                                    i4 = vibrateOverride;
                                                    sharedPreferences = preferences;
                                                    i5 = user_id;
                                                    i6 = chat_id;
                                                    user2 = user;
                                                    pendingIntent = contentIntent;
                                                    silent3 = silent;
                                                    dismissDate2 = needVibrate2;
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    str3 = defaultPath2;
                                                    i7 = priority2;
                                                    intent = dismissIntent;
                                                    fileLocation2 = fileLocation;
                                                    notifyDelay = notifyAboutLast;
                                                } else {
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    notifyOverride = name;
                                                    override_dialog_id = lastMessageObject;
                                                    priorityOverride = chat2;
                                                    silent3 = silent;
                                                    notifyDelay = notifyAboutLast;
                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                }
                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                r12.lastNotificationIsNoData = false;
                                                scheduleNotificationRepeat();
                                                return;
                                            } else {
                                                count = priority;
                                            }
                                            mBuilder.setPriority(-1);
                                            if (VERSION.SDK_INT >= 26) {
                                                user_id2 = 2;
                                                i = user_id2;
                                            }
                                            if (priorityOverride2 != 1) {
                                            }
                                            lastMessage = choosenSoundPath9;
                                            silent = priorityOverride2;
                                            needVibrate2 = needVibrate;
                                            choosenSoundPath = str;
                                            priorityOverride2 = ledColor;
                                            defaultPath = defaultPath4;
                                            jArr = new long[]{0, 0};
                                            vibrationPattern = jArr;
                                            mBuilder.setVibrate(jArr);
                                            vibrationPattern2 = vibrationPattern;
                                            sound2 = sound;
                                            str2 = lastMessage;
                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                size = rows.size();
                                                notifyOverride2 = false;
                                                z3 = false;
                                                while (true) {
                                                    choosenSoundPath2 = choosenSoundPath;
                                                    choosenSoundPath = size;
                                                    if (z3 < choosenSoundPath) {
                                                        break;
                                                    }
                                                    rows2 = rows;
                                                    size2 = choosenSoundPath;
                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                    choosenSoundPath = row.buttons.size();
                                                    defaultPath2 = defaultPath;
                                                    defaultPath = 0;
                                                    while (defaultPath < choosenSoundPath) {
                                                        size22 = choosenSoundPath;
                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                        row2 = row;
                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                        } else {
                                                            priority2 = count;
                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                            dismissIntent = dismissIntent2;
                                                            dialog_id2 = dialog_id;
                                                            callbackIntent.putExtra("did", dialog_id2);
                                                            if (choosenSoundPath3.data == null) {
                                                                fileLocation = fileLocation3;
                                                            } else {
                                                                fileLocation = fileLocation3;
                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                            }
                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                            charSequence = choosenSoundPath3.text;
                                                            context = ApplicationLoader.applicationContext;
                                                            button = choosenSoundPath3;
                                                            choosenSoundPath = r12.lastButtonId;
                                                            lastMessageObject = lastMessageObject4;
                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                            notifyOverride2 = true;
                                                        }
                                                        defaultPath++;
                                                        dialog_id = dialog_id2;
                                                        choosenSoundPath = size22;
                                                        row = row2;
                                                        count = priority2;
                                                        dismissIntent2 = dismissIntent;
                                                        fileLocation3 = fileLocation;
                                                        lastMessageObject4 = lastMessageObject;
                                                        dialog_id2 = notifyAboutLast;
                                                    }
                                                    priority2 = count;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    z3++;
                                                    choosenSoundPath = choosenSoundPath2;
                                                    rows = rows2;
                                                    size = size2;
                                                    defaultPath = defaultPath2;
                                                    dismissIntent2 = dismissIntent2;
                                                    dialog_id2 = notifyAboutLast;
                                                }
                                                defaultPath2 = defaultPath;
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                if (VERSION.SDK_INT > 19) {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                } else {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                }
                                                if (VERSION.SDK_INT < 26) {
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    notifyOverride = name;
                                                    override_dialog_id = lastMessageObject;
                                                    priorityOverride = chat2;
                                                    silent3 = silent;
                                                    notifyDelay = notifyAboutLast;
                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                } else {
                                                    j = dialog_id2;
                                                    i2 = notifyDelay;
                                                    size = notifyOverride;
                                                    j2 = override_dialog_id;
                                                    i3 = priorityOverride;
                                                    i4 = vibrateOverride;
                                                    sharedPreferences = preferences;
                                                    i5 = user_id;
                                                    i6 = chat_id;
                                                    user2 = user;
                                                    pendingIntent = contentIntent;
                                                    silent3 = silent;
                                                    dismissDate2 = needVibrate2;
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    str3 = defaultPath2;
                                                    i7 = priority2;
                                                    intent = dismissIntent;
                                                    fileLocation2 = fileLocation;
                                                    notifyDelay = notifyAboutLast;
                                                }
                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                r12.lastNotificationIsNoData = false;
                                                scheduleNotificationRepeat();
                                                return;
                                            }
                                            choosenSoundPath2 = choosenSoundPath;
                                            defaultPath2 = defaultPath;
                                            lastMessageObject = lastMessageObject4;
                                            priority2 = count;
                                            dismissIntent = dismissIntent2;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            notifyOverride2 = false;
                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                            if (VERSION.SDK_INT > 19) {
                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            } else {
                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            }
                                            if (VERSION.SDK_INT < 26) {
                                                j = dialog_id2;
                                                i2 = notifyDelay;
                                                size = notifyOverride;
                                                j2 = override_dialog_id;
                                                i3 = priorityOverride;
                                                i4 = vibrateOverride;
                                                sharedPreferences = preferences;
                                                i5 = user_id;
                                                i6 = chat_id;
                                                user2 = user;
                                                pendingIntent = contentIntent;
                                                silent3 = silent;
                                                dismissDate2 = needVibrate2;
                                                choosenSoundPath8 = choosenSoundPath2;
                                                str3 = defaultPath2;
                                                i7 = priority2;
                                                intent = dismissIntent;
                                                fileLocation2 = fileLocation;
                                                notifyDelay = notifyAboutLast;
                                            } else {
                                                choosenSoundPath8 = choosenSoundPath2;
                                                notifyOverride = name;
                                                override_dialog_id = lastMessageObject;
                                                priorityOverride = chat2;
                                                silent3 = silent;
                                                notifyDelay = notifyAboutLast;
                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                            }
                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                            r12.lastNotificationIsNoData = false;
                                            scheduleNotificationRepeat();
                                            return;
                                        }
                                    }
                                    if (r12.pushDialogs.size() != 1) {
                                        stringBuilder4 = new StringBuilder();
                                        stringBuilder4.append(choosenSoundPath9);
                                        stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                        detailText = stringBuilder4.toString();
                                        chatName = choosenSoundPath5;
                                    } else {
                                        stringBuilder4 = new StringBuilder();
                                        stringBuilder4.append(choosenSoundPath9);
                                        objArr = new Object[2];
                                        chatName = choosenSoundPath5;
                                        objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                        objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                        stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                        detailText = stringBuilder4.toString();
                                    }
                                    mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                    vibrationPattern3 = null;
                                    mBuilder.setCategory("msg");
                                    stringBuilder = new StringBuilder();
                                    i = 0;
                                    stringBuilder.append("tel:+");
                                    stringBuilder.append(user3.phone);
                                    mBuilder.addPerson(stringBuilder.toString());
                                    silent2 = 2;
                                    user = user3;
                                    if (r12.pushMessages.size() == 1) {
                                        messageObject = (MessageObject) r12.pushMessages.get(0);
                                        lastMessage2 = null;
                                        text = new boolean[1];
                                        stringForMessage = getStringForMessage(messageObject, null, text);
                                        message = stringForMessage;
                                        lastMessage3 = stringForMessage;
                                        choosenSoundPath5 = messageObject.messageOwner.silent;
                                        choosenSoundPath9 = message;
                                        if (choosenSoundPath9 != null) {
                                            if (replace) {
                                                if (chat2 != null) {
                                                    silent3 = choosenSoundPath5;
                                                    choosenSoundPath5 = new StringBuilder();
                                                    sound = null;
                                                    choosenSoundPath5.append(" @ ");
                                                    choosenSoundPath5.append(str5);
                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                } else {
                                                    silent3 = choosenSoundPath5;
                                                    sound = null;
                                                    if (text[null]) {
                                                        choosenSoundPath5 = new StringBuilder();
                                                        choosenSoundPath5.append(str5);
                                                        choosenSoundPath5.append(": ");
                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    } else {
                                                        choosenSoundPath5 = new StringBuilder();
                                                        choosenSoundPath5.append(str5);
                                                        choosenSoundPath5.append(" ");
                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    }
                                                }
                                                choosenSoundPath9 = message;
                                            } else {
                                                silent3 = choosenSoundPath5;
                                                sound = null;
                                            }
                                            mBuilder.setContentText(choosenSoundPath9);
                                            mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                            contentIntent = contentIntent2;
                                            dialog_id = dialog_id2;
                                            defaultPath4 = defaultPath3;
                                            notifyDelay = dismissDate2;
                                            choosenSoundPath9 = lastMessage3;
                                            priorityOverride2 = silent3;
                                        } else {
                                            return;
                                        }
                                    }
                                    lastMessage2 = null;
                                    sound = null;
                                    mBuilder.setContentText(detailText);
                                    inboxStyle = new InboxStyle();
                                    inboxStyle.setBigContentTitle(str5);
                                    count2 = Math.min(10, r12.pushMessages.size());
                                    text2 = new boolean[1];
                                    contentIntent = contentIntent2;
                                    count = silent2;
                                    chat_id2 = 0;
                                    while (chat_id2 < count2) {
                                        count3 = count2;
                                        count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                        dialog_id = dialog_id2;
                                        message2 = getStringForMessage(count4, 0, text2);
                                        if (message2 != null) {
                                            defaultPath4 = defaultPath3;
                                            notifyDelay = dismissDate2;
                                            if (count4.messageOwner.date > notifyDelay) {
                                                if (count == 2) {
                                                    lastMessage2 = message2;
                                                    count = count4.messageOwner.silent;
                                                }
                                                messageObject2 = count4;
                                                if (chat2 != null) {
                                                    count2 = new StringBuilder();
                                                    count2.append(" @ ");
                                                    count2.append(str5);
                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                } else if (text2[0]) {
                                                    count2 = new StringBuilder();
                                                    count2.append(str5);
                                                    count2.append(": ");
                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                } else {
                                                    count2 = new StringBuilder();
                                                    count2.append(str5);
                                                    count2.append(" ");
                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                }
                                                inboxStyle.addLine(message2);
                                            }
                                        } else {
                                            defaultPath4 = defaultPath3;
                                            notifyDelay = dismissDate2;
                                        }
                                        chat_id2++;
                                        dismissDate2 = notifyDelay;
                                        count2 = count3;
                                        dialog_id2 = dialog_id;
                                        defaultPath3 = defaultPath4;
                                    }
                                    dialog_id = dialog_id2;
                                    defaultPath4 = defaultPath3;
                                    notifyDelay = dismissDate2;
                                    inboxStyle.setSummaryText(detailText);
                                    mBuilder.setStyle(inboxStyle);
                                    priorityOverride2 = count;
                                    choosenSoundPath9 = lastMessage2;
                                    dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                    dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                    dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                    mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                    if (fileLocation3 != null) {
                                        img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                        if (img != null) {
                                            mBuilder.setLargeIcon(img.getBitmap());
                                            name = str5;
                                        } else {
                                            file = FileLoader.getPathToAttach(fileLocation3, true);
                                            if (file.exists()) {
                                                scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                options = new Options();
                                                if (scaleFactor < 1.0f) {
                                                    name = str5;
                                                    str5 = true;
                                                } else {
                                                    name = str5;
                                                    str5 = (int) scaleFactor;
                                                }
                                                options.inSampleSize = str5;
                                                str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                if (str5 != null) {
                                                    mBuilder.setLargeIcon(str5);
                                                }
                                            } else {
                                                name = str5;
                                            }
                                        }
                                    } else {
                                        name = str5;
                                    }
                                    z = notifyAboutLast;
                                    if (z) {
                                        count = priority;
                                    } else if (priorityOverride2 == 1) {
                                        count = priority;
                                    } else {
                                        if (priority == 0) {
                                            mBuilder.setPriority(0);
                                            if (VERSION.SDK_INT >= 26) {
                                                i = 3;
                                            }
                                            count = priority;
                                        } else {
                                            count = priority;
                                            if (count != 1) {
                                                if (count == 2) {
                                                    if (count != 4) {
                                                        mBuilder.setPriority(-2);
                                                        if (VERSION.SDK_INT >= 26) {
                                                            user_id2 = 1;
                                                            i = user_id2;
                                                        }
                                                    } else if (count == 5) {
                                                        mBuilder.setPriority(-1);
                                                        if (VERSION.SDK_INT >= 26) {
                                                            user_id2 = 2;
                                                            i = user_id2;
                                                        }
                                                    }
                                                }
                                            }
                                            mBuilder.setPriority(1);
                                            if (VERSION.SDK_INT >= 26) {
                                                user_id2 = 4;
                                                i = user_id2;
                                            }
                                        }
                                        if (priorityOverride2 != 1) {
                                        }
                                        lastMessage = choosenSoundPath9;
                                        silent = priorityOverride2;
                                        needVibrate2 = needVibrate;
                                        choosenSoundPath = str;
                                        priorityOverride2 = ledColor;
                                        defaultPath = defaultPath4;
                                        jArr = new long[]{0, 0};
                                        vibrationPattern = jArr;
                                        mBuilder.setVibrate(jArr);
                                        vibrationPattern2 = vibrationPattern;
                                        sound2 = sound;
                                        str2 = lastMessage;
                                        if (AndroidUtilities.needShowPasscode(false)) {
                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                            size = rows.size();
                                            notifyOverride2 = false;
                                            z3 = false;
                                            while (true) {
                                                choosenSoundPath2 = choosenSoundPath;
                                                choosenSoundPath = size;
                                                if (z3 < choosenSoundPath) {
                                                    break;
                                                }
                                                rows2 = rows;
                                                size2 = choosenSoundPath;
                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                choosenSoundPath = row.buttons.size();
                                                defaultPath2 = defaultPath;
                                                defaultPath = 0;
                                                while (defaultPath < choosenSoundPath) {
                                                    size22 = choosenSoundPath;
                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                    row2 = row;
                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                        priority2 = count;
                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                        dismissIntent = dismissIntent2;
                                                        dialog_id2 = dialog_id;
                                                        callbackIntent.putExtra("did", dialog_id2);
                                                        if (choosenSoundPath3.data == null) {
                                                            fileLocation = fileLocation3;
                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                        } else {
                                                            fileLocation = fileLocation3;
                                                        }
                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                        charSequence = choosenSoundPath3.text;
                                                        context = ApplicationLoader.applicationContext;
                                                        button = choosenSoundPath3;
                                                        choosenSoundPath = r12.lastButtonId;
                                                        lastMessageObject = lastMessageObject4;
                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                        notifyOverride2 = true;
                                                    } else {
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                    }
                                                    defaultPath++;
                                                    dialog_id = dialog_id2;
                                                    choosenSoundPath = size22;
                                                    row = row2;
                                                    count = priority2;
                                                    dismissIntent2 = dismissIntent;
                                                    fileLocation3 = fileLocation;
                                                    lastMessageObject4 = lastMessageObject;
                                                    dialog_id2 = notifyAboutLast;
                                                }
                                                priority2 = count;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                z3++;
                                                choosenSoundPath = choosenSoundPath2;
                                                rows = rows2;
                                                size = size2;
                                                defaultPath = defaultPath2;
                                                dismissIntent2 = dismissIntent2;
                                                dialog_id2 = notifyAboutLast;
                                            }
                                            defaultPath2 = defaultPath;
                                            lastMessageObject = lastMessageObject4;
                                            priority2 = count;
                                            dismissIntent = dismissIntent2;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                            if (VERSION.SDK_INT > 19) {
                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            } else {
                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            }
                                            if (VERSION.SDK_INT < 26) {
                                                choosenSoundPath8 = choosenSoundPath2;
                                                notifyOverride = name;
                                                override_dialog_id = lastMessageObject;
                                                priorityOverride = chat2;
                                                silent3 = silent;
                                                notifyDelay = notifyAboutLast;
                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                            } else {
                                                j = dialog_id2;
                                                i2 = notifyDelay;
                                                size = notifyOverride;
                                                j2 = override_dialog_id;
                                                i3 = priorityOverride;
                                                i4 = vibrateOverride;
                                                sharedPreferences = preferences;
                                                i5 = user_id;
                                                i6 = chat_id;
                                                user2 = user;
                                                pendingIntent = contentIntent;
                                                silent3 = silent;
                                                dismissDate2 = needVibrate2;
                                                choosenSoundPath8 = choosenSoundPath2;
                                                str3 = defaultPath2;
                                                i7 = priority2;
                                                intent = dismissIntent;
                                                fileLocation2 = fileLocation;
                                                notifyDelay = notifyAboutLast;
                                            }
                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                            r12.lastNotificationIsNoData = false;
                                            scheduleNotificationRepeat();
                                            return;
                                        }
                                        choosenSoundPath2 = choosenSoundPath;
                                        defaultPath2 = defaultPath;
                                        lastMessageObject = lastMessageObject4;
                                        priority2 = count;
                                        dismissIntent = dismissIntent2;
                                        fileLocation = fileLocation3;
                                        dialog_id2 = dialog_id;
                                        notifyOverride2 = false;
                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                        if (VERSION.SDK_INT > 19) {
                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        } else {
                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        }
                                        if (VERSION.SDK_INT < 26) {
                                            j = dialog_id2;
                                            i2 = notifyDelay;
                                            size = notifyOverride;
                                            j2 = override_dialog_id;
                                            i3 = priorityOverride;
                                            i4 = vibrateOverride;
                                            sharedPreferences = preferences;
                                            i5 = user_id;
                                            i6 = chat_id;
                                            user2 = user;
                                            pendingIntent = contentIntent;
                                            silent3 = silent;
                                            dismissDate2 = needVibrate2;
                                            choosenSoundPath8 = choosenSoundPath2;
                                            str3 = defaultPath2;
                                            i7 = priority2;
                                            intent = dismissIntent;
                                            fileLocation2 = fileLocation;
                                            notifyDelay = notifyAboutLast;
                                        } else {
                                            choosenSoundPath8 = choosenSoundPath2;
                                            notifyOverride = name;
                                            override_dialog_id = lastMessageObject;
                                            priorityOverride = chat2;
                                            silent3 = silent;
                                            notifyDelay = notifyAboutLast;
                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                        }
                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                        r12.lastNotificationIsNoData = false;
                                        scheduleNotificationRepeat();
                                        return;
                                    }
                                    mBuilder.setPriority(-1);
                                    if (VERSION.SDK_INT >= 26) {
                                        user_id2 = 2;
                                        i = user_id2;
                                    }
                                    if (priorityOverride2 != 1) {
                                    }
                                    lastMessage = choosenSoundPath9;
                                    silent = priorityOverride2;
                                    needVibrate2 = needVibrate;
                                    choosenSoundPath = str;
                                    priorityOverride2 = ledColor;
                                    defaultPath = defaultPath4;
                                    jArr = new long[]{0, 0};
                                    vibrationPattern = jArr;
                                    mBuilder.setVibrate(jArr);
                                    vibrationPattern2 = vibrationPattern;
                                    sound2 = sound;
                                    str2 = lastMessage;
                                    if (AndroidUtilities.needShowPasscode(false)) {
                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                        size = rows.size();
                                        notifyOverride2 = false;
                                        z3 = false;
                                        while (true) {
                                            choosenSoundPath2 = choosenSoundPath;
                                            choosenSoundPath = size;
                                            if (z3 < choosenSoundPath) {
                                                break;
                                            }
                                            rows2 = rows;
                                            size2 = choosenSoundPath;
                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                            choosenSoundPath = row.buttons.size();
                                            defaultPath2 = defaultPath;
                                            defaultPath = 0;
                                            while (defaultPath < choosenSoundPath) {
                                                size22 = choosenSoundPath;
                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                row2 = row;
                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                } else {
                                                    priority2 = count;
                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                    dismissIntent = dismissIntent2;
                                                    dialog_id2 = dialog_id;
                                                    callbackIntent.putExtra("did", dialog_id2);
                                                    if (choosenSoundPath3.data == null) {
                                                        fileLocation = fileLocation3;
                                                    } else {
                                                        fileLocation = fileLocation3;
                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                    }
                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                    charSequence = choosenSoundPath3.text;
                                                    context = ApplicationLoader.applicationContext;
                                                    button = choosenSoundPath3;
                                                    choosenSoundPath = r12.lastButtonId;
                                                    lastMessageObject = lastMessageObject4;
                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                    notifyOverride2 = true;
                                                }
                                                defaultPath++;
                                                dialog_id = dialog_id2;
                                                choosenSoundPath = size22;
                                                row = row2;
                                                count = priority2;
                                                dismissIntent2 = dismissIntent;
                                                fileLocation3 = fileLocation;
                                                lastMessageObject4 = lastMessageObject;
                                                dialog_id2 = notifyAboutLast;
                                            }
                                            priority2 = count;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            z3++;
                                            choosenSoundPath = choosenSoundPath2;
                                            rows = rows2;
                                            size = size2;
                                            defaultPath = defaultPath2;
                                            dismissIntent2 = dismissIntent2;
                                            dialog_id2 = notifyAboutLast;
                                        }
                                        defaultPath2 = defaultPath;
                                        lastMessageObject = lastMessageObject4;
                                        priority2 = count;
                                        dismissIntent = dismissIntent2;
                                        fileLocation = fileLocation3;
                                        dialog_id2 = dialog_id;
                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                        if (VERSION.SDK_INT > 19) {
                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        } else {
                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        }
                                        if (VERSION.SDK_INT < 26) {
                                            choosenSoundPath8 = choosenSoundPath2;
                                            notifyOverride = name;
                                            override_dialog_id = lastMessageObject;
                                            priorityOverride = chat2;
                                            silent3 = silent;
                                            notifyDelay = notifyAboutLast;
                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                        } else {
                                            j = dialog_id2;
                                            i2 = notifyDelay;
                                            size = notifyOverride;
                                            j2 = override_dialog_id;
                                            i3 = priorityOverride;
                                            i4 = vibrateOverride;
                                            sharedPreferences = preferences;
                                            i5 = user_id;
                                            i6 = chat_id;
                                            user2 = user;
                                            pendingIntent = contentIntent;
                                            silent3 = silent;
                                            dismissDate2 = needVibrate2;
                                            choosenSoundPath8 = choosenSoundPath2;
                                            str3 = defaultPath2;
                                            i7 = priority2;
                                            intent = dismissIntent;
                                            fileLocation2 = fileLocation;
                                            notifyDelay = notifyAboutLast;
                                        }
                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                        r12.lastNotificationIsNoData = false;
                                        scheduleNotificationRepeat();
                                        return;
                                    }
                                    choosenSoundPath2 = choosenSoundPath;
                                    defaultPath2 = defaultPath;
                                    lastMessageObject = lastMessageObject4;
                                    priority2 = count;
                                    dismissIntent = dismissIntent2;
                                    fileLocation = fileLocation3;
                                    dialog_id2 = dialog_id;
                                    notifyOverride2 = false;
                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                    if (VERSION.SDK_INT > 19) {
                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    } else {
                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    }
                                    if (VERSION.SDK_INT < 26) {
                                        j = dialog_id2;
                                        i2 = notifyDelay;
                                        size = notifyOverride;
                                        j2 = override_dialog_id;
                                        i3 = priorityOverride;
                                        i4 = vibrateOverride;
                                        sharedPreferences = preferences;
                                        i5 = user_id;
                                        i6 = chat_id;
                                        user2 = user;
                                        pendingIntent = contentIntent;
                                        silent3 = silent;
                                        dismissDate2 = needVibrate2;
                                        choosenSoundPath8 = choosenSoundPath2;
                                        str3 = defaultPath2;
                                        i7 = priority2;
                                        intent = dismissIntent;
                                        fileLocation2 = fileLocation;
                                        notifyDelay = notifyAboutLast;
                                    } else {
                                        choosenSoundPath8 = choosenSoundPath2;
                                        notifyOverride = name;
                                        override_dialog_id = lastMessageObject;
                                        priorityOverride = chat2;
                                        silent3 = silent;
                                        notifyDelay = notifyAboutLast;
                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                    }
                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                    r12.lastNotificationIsNoData = false;
                                    scheduleNotificationRepeat();
                                    return;
                                }
                            } else {
                                replace = true;
                            }
                            choosenSoundPath9 = LocaleController.getString("AppName", R.string.AppName);
                            replace = false;
                            str5 = choosenSoundPath9;
                            chat_id = chat_id2;
                            if (UserConfig.getActivatedAccountsCount() <= 1) {
                                choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                            } else if (r12.pushDialogs.size() != 1) {
                                stringBuilder = new StringBuilder();
                                stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                stringBuilder.append("\u30fb");
                                choosenSoundPath9 = stringBuilder.toString();
                            } else {
                                choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                            }
                            if (r12.pushDialogs.size() == 1) {
                                if (VERSION.SDK_INT >= 23) {
                                    detailText = choosenSoundPath9;
                                    chatName = choosenSoundPath5;
                                    z4 = inAppVibrate;
                                    mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                    vibrationPattern3 = null;
                                    mBuilder.setCategory("msg");
                                    stringBuilder = new StringBuilder();
                                    i = 0;
                                    stringBuilder.append("tel:+");
                                    stringBuilder.append(user3.phone);
                                    mBuilder.addPerson(stringBuilder.toString());
                                    silent2 = 2;
                                    user = user3;
                                    if (r12.pushMessages.size() == 1) {
                                        lastMessage2 = null;
                                        sound = null;
                                        mBuilder.setContentText(detailText);
                                        inboxStyle = new InboxStyle();
                                        inboxStyle.setBigContentTitle(str5);
                                        count2 = Math.min(10, r12.pushMessages.size());
                                        text2 = new boolean[1];
                                        contentIntent = contentIntent2;
                                        count = silent2;
                                        chat_id2 = 0;
                                        while (chat_id2 < count2) {
                                            count3 = count2;
                                            count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                            dialog_id = dialog_id2;
                                            message2 = getStringForMessage(count4, 0, text2);
                                            if (message2 != null) {
                                                defaultPath4 = defaultPath3;
                                                notifyDelay = dismissDate2;
                                            } else {
                                                defaultPath4 = defaultPath3;
                                                notifyDelay = dismissDate2;
                                                if (count4.messageOwner.date > notifyDelay) {
                                                    if (count == 2) {
                                                        lastMessage2 = message2;
                                                        count = count4.messageOwner.silent;
                                                    }
                                                    messageObject2 = count4;
                                                    if (chat2 != null) {
                                                        count2 = new StringBuilder();
                                                        count2.append(" @ ");
                                                        count2.append(str5);
                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    } else if (text2[0]) {
                                                        count2 = new StringBuilder();
                                                        count2.append(str5);
                                                        count2.append(" ");
                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    } else {
                                                        count2 = new StringBuilder();
                                                        count2.append(str5);
                                                        count2.append(": ");
                                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    }
                                                    inboxStyle.addLine(message2);
                                                }
                                            }
                                            chat_id2++;
                                            dismissDate2 = notifyDelay;
                                            count2 = count3;
                                            dialog_id2 = dialog_id;
                                            defaultPath3 = defaultPath4;
                                        }
                                        dialog_id = dialog_id2;
                                        defaultPath4 = defaultPath3;
                                        notifyDelay = dismissDate2;
                                        inboxStyle.setSummaryText(detailText);
                                        mBuilder.setStyle(inboxStyle);
                                        priorityOverride2 = count;
                                        choosenSoundPath9 = lastMessage2;
                                    } else {
                                        messageObject = (MessageObject) r12.pushMessages.get(0);
                                        lastMessage2 = null;
                                        text = new boolean[1];
                                        stringForMessage = getStringForMessage(messageObject, null, text);
                                        message = stringForMessage;
                                        lastMessage3 = stringForMessage;
                                        choosenSoundPath5 = messageObject.messageOwner.silent;
                                        choosenSoundPath9 = message;
                                        if (choosenSoundPath9 != null) {
                                            if (replace) {
                                                silent3 = choosenSoundPath5;
                                                sound = null;
                                            } else {
                                                if (chat2 != null) {
                                                    silent3 = choosenSoundPath5;
                                                    sound = null;
                                                    if (text[null]) {
                                                        choosenSoundPath5 = new StringBuilder();
                                                        choosenSoundPath5.append(str5);
                                                        choosenSoundPath5.append(" ");
                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    } else {
                                                        choosenSoundPath5 = new StringBuilder();
                                                        choosenSoundPath5.append(str5);
                                                        choosenSoundPath5.append(": ");
                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    }
                                                } else {
                                                    silent3 = choosenSoundPath5;
                                                    choosenSoundPath5 = new StringBuilder();
                                                    sound = null;
                                                    choosenSoundPath5.append(" @ ");
                                                    choosenSoundPath5.append(str5);
                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                }
                                                choosenSoundPath9 = message;
                                            }
                                            mBuilder.setContentText(choosenSoundPath9);
                                            mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                            contentIntent = contentIntent2;
                                            dialog_id = dialog_id2;
                                            defaultPath4 = defaultPath3;
                                            notifyDelay = dismissDate2;
                                            choosenSoundPath9 = lastMessage3;
                                            priorityOverride2 = silent3;
                                        } else {
                                            return;
                                        }
                                    }
                                    dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                    dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                    dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                    mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                    if (fileLocation3 != null) {
                                        name = str5;
                                    } else {
                                        img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                        if (img != null) {
                                            file = FileLoader.getPathToAttach(fileLocation3, true);
                                            if (file.exists()) {
                                                name = str5;
                                            } else {
                                                scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                options = new Options();
                                                if (scaleFactor < 1.0f) {
                                                    name = str5;
                                                    str5 = (int) scaleFactor;
                                                } else {
                                                    name = str5;
                                                    str5 = true;
                                                }
                                                options.inSampleSize = str5;
                                                str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                if (str5 != null) {
                                                    mBuilder.setLargeIcon(str5);
                                                }
                                            }
                                        } else {
                                            mBuilder.setLargeIcon(img.getBitmap());
                                            name = str5;
                                        }
                                    }
                                    z = notifyAboutLast;
                                    if (z) {
                                        count = priority;
                                    } else if (priorityOverride2 == 1) {
                                        if (priority == 0) {
                                            count = priority;
                                            if (count != 1) {
                                                if (count == 2) {
                                                    if (count != 4) {
                                                        mBuilder.setPriority(-2);
                                                        if (VERSION.SDK_INT >= 26) {
                                                            user_id2 = 1;
                                                            i = user_id2;
                                                        }
                                                    } else if (count == 5) {
                                                        mBuilder.setPriority(-1);
                                                        if (VERSION.SDK_INT >= 26) {
                                                            user_id2 = 2;
                                                            i = user_id2;
                                                        }
                                                    }
                                                }
                                            }
                                            mBuilder.setPriority(1);
                                            if (VERSION.SDK_INT >= 26) {
                                                user_id2 = 4;
                                                i = user_id2;
                                            }
                                        } else {
                                            mBuilder.setPriority(0);
                                            if (VERSION.SDK_INT >= 26) {
                                                i = 3;
                                            }
                                            count = priority;
                                        }
                                        if (priorityOverride2 != 1) {
                                        }
                                        lastMessage = choosenSoundPath9;
                                        silent = priorityOverride2;
                                        needVibrate2 = needVibrate;
                                        choosenSoundPath = str;
                                        priorityOverride2 = ledColor;
                                        defaultPath = defaultPath4;
                                        jArr = new long[]{0, 0};
                                        vibrationPattern = jArr;
                                        mBuilder.setVibrate(jArr);
                                        vibrationPattern2 = vibrationPattern;
                                        sound2 = sound;
                                        str2 = lastMessage;
                                        if (AndroidUtilities.needShowPasscode(false)) {
                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                            size = rows.size();
                                            notifyOverride2 = false;
                                            z3 = false;
                                            while (true) {
                                                choosenSoundPath2 = choosenSoundPath;
                                                choosenSoundPath = size;
                                                if (z3 < choosenSoundPath) {
                                                    break;
                                                }
                                                rows2 = rows;
                                                size2 = choosenSoundPath;
                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                choosenSoundPath = row.buttons.size();
                                                defaultPath2 = defaultPath;
                                                defaultPath = 0;
                                                while (defaultPath < choosenSoundPath) {
                                                    size22 = choosenSoundPath;
                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                    row2 = row;
                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                        priority2 = count;
                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                        dismissIntent = dismissIntent2;
                                                        dialog_id2 = dialog_id;
                                                        callbackIntent.putExtra("did", dialog_id2);
                                                        if (choosenSoundPath3.data == null) {
                                                            fileLocation = fileLocation3;
                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                        } else {
                                                            fileLocation = fileLocation3;
                                                        }
                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                        charSequence = choosenSoundPath3.text;
                                                        context = ApplicationLoader.applicationContext;
                                                        button = choosenSoundPath3;
                                                        choosenSoundPath = r12.lastButtonId;
                                                        lastMessageObject = lastMessageObject4;
                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                        notifyOverride2 = true;
                                                    } else {
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                    }
                                                    defaultPath++;
                                                    dialog_id = dialog_id2;
                                                    choosenSoundPath = size22;
                                                    row = row2;
                                                    count = priority2;
                                                    dismissIntent2 = dismissIntent;
                                                    fileLocation3 = fileLocation;
                                                    lastMessageObject4 = lastMessageObject;
                                                    dialog_id2 = notifyAboutLast;
                                                }
                                                priority2 = count;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                z3++;
                                                choosenSoundPath = choosenSoundPath2;
                                                rows = rows2;
                                                size = size2;
                                                defaultPath = defaultPath2;
                                                dismissIntent2 = dismissIntent2;
                                                dialog_id2 = notifyAboutLast;
                                            }
                                            defaultPath2 = defaultPath;
                                            lastMessageObject = lastMessageObject4;
                                            priority2 = count;
                                            dismissIntent = dismissIntent2;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                            if (VERSION.SDK_INT > 19) {
                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            } else {
                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            }
                                            if (VERSION.SDK_INT < 26) {
                                                choosenSoundPath8 = choosenSoundPath2;
                                                notifyOverride = name;
                                                override_dialog_id = lastMessageObject;
                                                priorityOverride = chat2;
                                                silent3 = silent;
                                                notifyDelay = notifyAboutLast;
                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                            } else {
                                                j = dialog_id2;
                                                i2 = notifyDelay;
                                                size = notifyOverride;
                                                j2 = override_dialog_id;
                                                i3 = priorityOverride;
                                                i4 = vibrateOverride;
                                                sharedPreferences = preferences;
                                                i5 = user_id;
                                                i6 = chat_id;
                                                user2 = user;
                                                pendingIntent = contentIntent;
                                                silent3 = silent;
                                                dismissDate2 = needVibrate2;
                                                choosenSoundPath8 = choosenSoundPath2;
                                                str3 = defaultPath2;
                                                i7 = priority2;
                                                intent = dismissIntent;
                                                fileLocation2 = fileLocation;
                                                notifyDelay = notifyAboutLast;
                                            }
                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                            r12.lastNotificationIsNoData = false;
                                            scheduleNotificationRepeat();
                                            return;
                                        }
                                        choosenSoundPath2 = choosenSoundPath;
                                        defaultPath2 = defaultPath;
                                        lastMessageObject = lastMessageObject4;
                                        priority2 = count;
                                        dismissIntent = dismissIntent2;
                                        fileLocation = fileLocation3;
                                        dialog_id2 = dialog_id;
                                        notifyOverride2 = false;
                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                        if (VERSION.SDK_INT > 19) {
                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        } else {
                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        }
                                        if (VERSION.SDK_INT < 26) {
                                            j = dialog_id2;
                                            i2 = notifyDelay;
                                            size = notifyOverride;
                                            j2 = override_dialog_id;
                                            i3 = priorityOverride;
                                            i4 = vibrateOverride;
                                            sharedPreferences = preferences;
                                            i5 = user_id;
                                            i6 = chat_id;
                                            user2 = user;
                                            pendingIntent = contentIntent;
                                            silent3 = silent;
                                            dismissDate2 = needVibrate2;
                                            choosenSoundPath8 = choosenSoundPath2;
                                            str3 = defaultPath2;
                                            i7 = priority2;
                                            intent = dismissIntent;
                                            fileLocation2 = fileLocation;
                                            notifyDelay = notifyAboutLast;
                                        } else {
                                            choosenSoundPath8 = choosenSoundPath2;
                                            notifyOverride = name;
                                            override_dialog_id = lastMessageObject;
                                            priorityOverride = chat2;
                                            silent3 = silent;
                                            notifyDelay = notifyAboutLast;
                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                        }
                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                        r12.lastNotificationIsNoData = false;
                                        scheduleNotificationRepeat();
                                        return;
                                    } else {
                                        count = priority;
                                    }
                                    mBuilder.setPriority(-1);
                                    if (VERSION.SDK_INT >= 26) {
                                        user_id2 = 2;
                                        i = user_id2;
                                    }
                                    if (priorityOverride2 != 1) {
                                    }
                                    lastMessage = choosenSoundPath9;
                                    silent = priorityOverride2;
                                    needVibrate2 = needVibrate;
                                    choosenSoundPath = str;
                                    priorityOverride2 = ledColor;
                                    defaultPath = defaultPath4;
                                    jArr = new long[]{0, 0};
                                    vibrationPattern = jArr;
                                    mBuilder.setVibrate(jArr);
                                    vibrationPattern2 = vibrationPattern;
                                    sound2 = sound;
                                    str2 = lastMessage;
                                    if (AndroidUtilities.needShowPasscode(false)) {
                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                        size = rows.size();
                                        notifyOverride2 = false;
                                        z3 = false;
                                        while (true) {
                                            choosenSoundPath2 = choosenSoundPath;
                                            choosenSoundPath = size;
                                            if (z3 < choosenSoundPath) {
                                                break;
                                            }
                                            rows2 = rows;
                                            size2 = choosenSoundPath;
                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                            choosenSoundPath = row.buttons.size();
                                            defaultPath2 = defaultPath;
                                            defaultPath = 0;
                                            while (defaultPath < choosenSoundPath) {
                                                size22 = choosenSoundPath;
                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                row2 = row;
                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                } else {
                                                    priority2 = count;
                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                    dismissIntent = dismissIntent2;
                                                    dialog_id2 = dialog_id;
                                                    callbackIntent.putExtra("did", dialog_id2);
                                                    if (choosenSoundPath3.data == null) {
                                                        fileLocation = fileLocation3;
                                                    } else {
                                                        fileLocation = fileLocation3;
                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                    }
                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                    charSequence = choosenSoundPath3.text;
                                                    context = ApplicationLoader.applicationContext;
                                                    button = choosenSoundPath3;
                                                    choosenSoundPath = r12.lastButtonId;
                                                    lastMessageObject = lastMessageObject4;
                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                    notifyOverride2 = true;
                                                }
                                                defaultPath++;
                                                dialog_id = dialog_id2;
                                                choosenSoundPath = size22;
                                                row = row2;
                                                count = priority2;
                                                dismissIntent2 = dismissIntent;
                                                fileLocation3 = fileLocation;
                                                lastMessageObject4 = lastMessageObject;
                                                dialog_id2 = notifyAboutLast;
                                            }
                                            priority2 = count;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            z3++;
                                            choosenSoundPath = choosenSoundPath2;
                                            rows = rows2;
                                            size = size2;
                                            defaultPath = defaultPath2;
                                            dismissIntent2 = dismissIntent2;
                                            dialog_id2 = notifyAboutLast;
                                        }
                                        defaultPath2 = defaultPath;
                                        lastMessageObject = lastMessageObject4;
                                        priority2 = count;
                                        dismissIntent = dismissIntent2;
                                        fileLocation = fileLocation3;
                                        dialog_id2 = dialog_id;
                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                        if (VERSION.SDK_INT > 19) {
                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        } else {
                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        }
                                        if (VERSION.SDK_INT < 26) {
                                            choosenSoundPath8 = choosenSoundPath2;
                                            notifyOverride = name;
                                            override_dialog_id = lastMessageObject;
                                            priorityOverride = chat2;
                                            silent3 = silent;
                                            notifyDelay = notifyAboutLast;
                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                        } else {
                                            j = dialog_id2;
                                            i2 = notifyDelay;
                                            size = notifyOverride;
                                            j2 = override_dialog_id;
                                            i3 = priorityOverride;
                                            i4 = vibrateOverride;
                                            sharedPreferences = preferences;
                                            i5 = user_id;
                                            i6 = chat_id;
                                            user2 = user;
                                            pendingIntent = contentIntent;
                                            silent3 = silent;
                                            dismissDate2 = needVibrate2;
                                            choosenSoundPath8 = choosenSoundPath2;
                                            str3 = defaultPath2;
                                            i7 = priority2;
                                            intent = dismissIntent;
                                            fileLocation2 = fileLocation;
                                            notifyDelay = notifyAboutLast;
                                        }
                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                        r12.lastNotificationIsNoData = false;
                                        scheduleNotificationRepeat();
                                        return;
                                    }
                                    choosenSoundPath2 = choosenSoundPath;
                                    defaultPath2 = defaultPath;
                                    lastMessageObject = lastMessageObject4;
                                    priority2 = count;
                                    dismissIntent = dismissIntent2;
                                    fileLocation = fileLocation3;
                                    dialog_id2 = dialog_id;
                                    notifyOverride2 = false;
                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                    if (VERSION.SDK_INT > 19) {
                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    } else {
                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    }
                                    if (VERSION.SDK_INT < 26) {
                                        j = dialog_id2;
                                        i2 = notifyDelay;
                                        size = notifyOverride;
                                        j2 = override_dialog_id;
                                        i3 = priorityOverride;
                                        i4 = vibrateOverride;
                                        sharedPreferences = preferences;
                                        i5 = user_id;
                                        i6 = chat_id;
                                        user2 = user;
                                        pendingIntent = contentIntent;
                                        silent3 = silent;
                                        dismissDate2 = needVibrate2;
                                        choosenSoundPath8 = choosenSoundPath2;
                                        str3 = defaultPath2;
                                        i7 = priority2;
                                        intent = dismissIntent;
                                        fileLocation2 = fileLocation;
                                        notifyDelay = notifyAboutLast;
                                    } else {
                                        choosenSoundPath8 = choosenSoundPath2;
                                        notifyOverride = name;
                                        override_dialog_id = lastMessageObject;
                                        priorityOverride = chat2;
                                        silent3 = silent;
                                        notifyDelay = notifyAboutLast;
                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                    }
                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                    r12.lastNotificationIsNoData = false;
                                    scheduleNotificationRepeat();
                                    return;
                                }
                            }
                            if (r12.pushDialogs.size() != 1) {
                                stringBuilder4 = new StringBuilder();
                                stringBuilder4.append(choosenSoundPath9);
                                objArr = new Object[2];
                                chatName = choosenSoundPath5;
                                objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                detailText = stringBuilder4.toString();
                            } else {
                                stringBuilder4 = new StringBuilder();
                                stringBuilder4.append(choosenSoundPath9);
                                stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                detailText = stringBuilder4.toString();
                                chatName = choosenSoundPath5;
                            }
                            mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                            vibrationPattern3 = null;
                            mBuilder.setCategory("msg");
                            stringBuilder = new StringBuilder();
                            i = 0;
                            stringBuilder.append("tel:+");
                            stringBuilder.append(user3.phone);
                            mBuilder.addPerson(stringBuilder.toString());
                            silent2 = 2;
                            user = user3;
                            if (r12.pushMessages.size() == 1) {
                                messageObject = (MessageObject) r12.pushMessages.get(0);
                                lastMessage2 = null;
                                text = new boolean[1];
                                stringForMessage = getStringForMessage(messageObject, null, text);
                                message = stringForMessage;
                                lastMessage3 = stringForMessage;
                                choosenSoundPath5 = messageObject.messageOwner.silent;
                                choosenSoundPath9 = message;
                                if (choosenSoundPath9 != null) {
                                    if (replace) {
                                        if (chat2 != null) {
                                            silent3 = choosenSoundPath5;
                                            choosenSoundPath5 = new StringBuilder();
                                            sound = null;
                                            choosenSoundPath5.append(" @ ");
                                            choosenSoundPath5.append(str5);
                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                        } else {
                                            silent3 = choosenSoundPath5;
                                            sound = null;
                                            if (text[null]) {
                                                choosenSoundPath5 = new StringBuilder();
                                                choosenSoundPath5.append(str5);
                                                choosenSoundPath5.append(": ");
                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                            } else {
                                                choosenSoundPath5 = new StringBuilder();
                                                choosenSoundPath5.append(str5);
                                                choosenSoundPath5.append(" ");
                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                            }
                                        }
                                        choosenSoundPath9 = message;
                                    } else {
                                        silent3 = choosenSoundPath5;
                                        sound = null;
                                    }
                                    mBuilder.setContentText(choosenSoundPath9);
                                    mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                    contentIntent = contentIntent2;
                                    dialog_id = dialog_id2;
                                    defaultPath4 = defaultPath3;
                                    notifyDelay = dismissDate2;
                                    choosenSoundPath9 = lastMessage3;
                                    priorityOverride2 = silent3;
                                } else {
                                    return;
                                }
                            }
                            lastMessage2 = null;
                            sound = null;
                            mBuilder.setContentText(detailText);
                            inboxStyle = new InboxStyle();
                            inboxStyle.setBigContentTitle(str5);
                            count2 = Math.min(10, r12.pushMessages.size());
                            text2 = new boolean[1];
                            contentIntent = contentIntent2;
                            count = silent2;
                            chat_id2 = 0;
                            while (chat_id2 < count2) {
                                count3 = count2;
                                count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                dialog_id = dialog_id2;
                                message2 = getStringForMessage(count4, 0, text2);
                                if (message2 != null) {
                                    defaultPath4 = defaultPath3;
                                    notifyDelay = dismissDate2;
                                    if (count4.messageOwner.date > notifyDelay) {
                                        if (count == 2) {
                                            lastMessage2 = message2;
                                            count = count4.messageOwner.silent;
                                        }
                                        messageObject2 = count4;
                                        if (chat2 != null) {
                                            count2 = new StringBuilder();
                                            count2.append(" @ ");
                                            count2.append(str5);
                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                        } else if (text2[0]) {
                                            count2 = new StringBuilder();
                                            count2.append(str5);
                                            count2.append(": ");
                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                        } else {
                                            count2 = new StringBuilder();
                                            count2.append(str5);
                                            count2.append(" ");
                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                        }
                                        inboxStyle.addLine(message2);
                                    }
                                } else {
                                    defaultPath4 = defaultPath3;
                                    notifyDelay = dismissDate2;
                                }
                                chat_id2++;
                                dismissDate2 = notifyDelay;
                                count2 = count3;
                                dialog_id2 = dialog_id;
                                defaultPath3 = defaultPath4;
                            }
                            dialog_id = dialog_id2;
                            defaultPath4 = defaultPath3;
                            notifyDelay = dismissDate2;
                            inboxStyle.setSummaryText(detailText);
                            mBuilder.setStyle(inboxStyle);
                            priorityOverride2 = count;
                            choosenSoundPath9 = lastMessage2;
                            dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                            dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                            dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                            mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                            if (fileLocation3 != null) {
                                img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                if (img != null) {
                                    mBuilder.setLargeIcon(img.getBitmap());
                                    name = str5;
                                } else {
                                    file = FileLoader.getPathToAttach(fileLocation3, true);
                                    if (file.exists()) {
                                        scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                        options = new Options();
                                        if (scaleFactor < 1.0f) {
                                            name = str5;
                                            str5 = true;
                                        } else {
                                            name = str5;
                                            str5 = (int) scaleFactor;
                                        }
                                        options.inSampleSize = str5;
                                        str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                        if (str5 != null) {
                                            mBuilder.setLargeIcon(str5);
                                        }
                                    } else {
                                        name = str5;
                                    }
                                }
                            } else {
                                name = str5;
                            }
                            z = notifyAboutLast;
                            if (z) {
                                count = priority;
                            } else if (priorityOverride2 == 1) {
                                count = priority;
                            } else {
                                if (priority == 0) {
                                    mBuilder.setPriority(0);
                                    if (VERSION.SDK_INT >= 26) {
                                        i = 3;
                                    }
                                    count = priority;
                                } else {
                                    count = priority;
                                    if (count != 1) {
                                        if (count == 2) {
                                            if (count != 4) {
                                                mBuilder.setPriority(-2);
                                                if (VERSION.SDK_INT >= 26) {
                                                    user_id2 = 1;
                                                    i = user_id2;
                                                }
                                            } else if (count == 5) {
                                                mBuilder.setPriority(-1);
                                                if (VERSION.SDK_INT >= 26) {
                                                    user_id2 = 2;
                                                    i = user_id2;
                                                }
                                            }
                                        }
                                    }
                                    mBuilder.setPriority(1);
                                    if (VERSION.SDK_INT >= 26) {
                                        user_id2 = 4;
                                        i = user_id2;
                                    }
                                }
                                if (priorityOverride2 != 1) {
                                }
                                lastMessage = choosenSoundPath9;
                                silent = priorityOverride2;
                                needVibrate2 = needVibrate;
                                choosenSoundPath = str;
                                priorityOverride2 = ledColor;
                                defaultPath = defaultPath4;
                                jArr = new long[]{0, 0};
                                vibrationPattern = jArr;
                                mBuilder.setVibrate(jArr);
                                vibrationPattern2 = vibrationPattern;
                                sound2 = sound;
                                str2 = lastMessage;
                                if (AndroidUtilities.needShowPasscode(false)) {
                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                    size = rows.size();
                                    notifyOverride2 = false;
                                    z3 = false;
                                    while (true) {
                                        choosenSoundPath2 = choosenSoundPath;
                                        choosenSoundPath = size;
                                        if (z3 < choosenSoundPath) {
                                            break;
                                        }
                                        rows2 = rows;
                                        size2 = choosenSoundPath;
                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                        choosenSoundPath = row.buttons.size();
                                        defaultPath2 = defaultPath;
                                        defaultPath = 0;
                                        while (defaultPath < choosenSoundPath) {
                                            size22 = choosenSoundPath;
                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                            row2 = row;
                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                priority2 = count;
                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                dismissIntent = dismissIntent2;
                                                dialog_id2 = dialog_id;
                                                callbackIntent.putExtra("did", dialog_id2);
                                                if (choosenSoundPath3.data == null) {
                                                    fileLocation = fileLocation3;
                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                } else {
                                                    fileLocation = fileLocation3;
                                                }
                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                charSequence = choosenSoundPath3.text;
                                                context = ApplicationLoader.applicationContext;
                                                button = choosenSoundPath3;
                                                choosenSoundPath = r12.lastButtonId;
                                                lastMessageObject = lastMessageObject4;
                                                r12.lastButtonId = choosenSoundPath + 1;
                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                notifyOverride2 = true;
                                            } else {
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                            }
                                            defaultPath++;
                                            dialog_id = dialog_id2;
                                            choosenSoundPath = size22;
                                            row = row2;
                                            count = priority2;
                                            dismissIntent2 = dismissIntent;
                                            fileLocation3 = fileLocation;
                                            lastMessageObject4 = lastMessageObject;
                                            dialog_id2 = notifyAboutLast;
                                        }
                                        priority2 = count;
                                        fileLocation = fileLocation3;
                                        dialog_id2 = dialog_id;
                                        z3++;
                                        choosenSoundPath = choosenSoundPath2;
                                        rows = rows2;
                                        size = size2;
                                        defaultPath = defaultPath2;
                                        dismissIntent2 = dismissIntent2;
                                        dialog_id2 = notifyAboutLast;
                                    }
                                    defaultPath2 = defaultPath;
                                    lastMessageObject = lastMessageObject4;
                                    priority2 = count;
                                    dismissIntent = dismissIntent2;
                                    fileLocation = fileLocation3;
                                    dialog_id2 = dialog_id;
                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                    if (VERSION.SDK_INT > 19) {
                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    } else {
                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    }
                                    if (VERSION.SDK_INT < 26) {
                                        choosenSoundPath8 = choosenSoundPath2;
                                        notifyOverride = name;
                                        override_dialog_id = lastMessageObject;
                                        priorityOverride = chat2;
                                        silent3 = silent;
                                        notifyDelay = notifyAboutLast;
                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                    } else {
                                        j = dialog_id2;
                                        i2 = notifyDelay;
                                        size = notifyOverride;
                                        j2 = override_dialog_id;
                                        i3 = priorityOverride;
                                        i4 = vibrateOverride;
                                        sharedPreferences = preferences;
                                        i5 = user_id;
                                        i6 = chat_id;
                                        user2 = user;
                                        pendingIntent = contentIntent;
                                        silent3 = silent;
                                        dismissDate2 = needVibrate2;
                                        choosenSoundPath8 = choosenSoundPath2;
                                        str3 = defaultPath2;
                                        i7 = priority2;
                                        intent = dismissIntent;
                                        fileLocation2 = fileLocation;
                                        notifyDelay = notifyAboutLast;
                                    }
                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                    r12.lastNotificationIsNoData = false;
                                    scheduleNotificationRepeat();
                                    return;
                                }
                                choosenSoundPath2 = choosenSoundPath;
                                defaultPath2 = defaultPath;
                                lastMessageObject = lastMessageObject4;
                                priority2 = count;
                                dismissIntent = dismissIntent2;
                                fileLocation = fileLocation3;
                                dialog_id2 = dialog_id;
                                notifyOverride2 = false;
                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                if (VERSION.SDK_INT > 19) {
                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                } else {
                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                }
                                if (VERSION.SDK_INT < 26) {
                                    j = dialog_id2;
                                    i2 = notifyDelay;
                                    size = notifyOverride;
                                    j2 = override_dialog_id;
                                    i3 = priorityOverride;
                                    i4 = vibrateOverride;
                                    sharedPreferences = preferences;
                                    i5 = user_id;
                                    i6 = chat_id;
                                    user2 = user;
                                    pendingIntent = contentIntent;
                                    silent3 = silent;
                                    dismissDate2 = needVibrate2;
                                    choosenSoundPath8 = choosenSoundPath2;
                                    str3 = defaultPath2;
                                    i7 = priority2;
                                    intent = dismissIntent;
                                    fileLocation2 = fileLocation;
                                    notifyDelay = notifyAboutLast;
                                } else {
                                    choosenSoundPath8 = choosenSoundPath2;
                                    notifyOverride = name;
                                    override_dialog_id = lastMessageObject;
                                    priorityOverride = chat2;
                                    silent3 = silent;
                                    notifyDelay = notifyAboutLast;
                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                }
                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                r12.lastNotificationIsNoData = false;
                                scheduleNotificationRepeat();
                                return;
                            }
                            mBuilder.setPriority(-1);
                            if (VERSION.SDK_INT >= 26) {
                                user_id2 = 2;
                                i = user_id2;
                            }
                            if (priorityOverride2 != 1) {
                            }
                            lastMessage = choosenSoundPath9;
                            silent = priorityOverride2;
                            needVibrate2 = needVibrate;
                            choosenSoundPath = str;
                            priorityOverride2 = ledColor;
                            defaultPath = defaultPath4;
                            jArr = new long[]{0, 0};
                            vibrationPattern = jArr;
                            mBuilder.setVibrate(jArr);
                            vibrationPattern2 = vibrationPattern;
                            sound2 = sound;
                            str2 = lastMessage;
                            if (AndroidUtilities.needShowPasscode(false)) {
                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                size = rows.size();
                                notifyOverride2 = false;
                                z3 = false;
                                while (true) {
                                    choosenSoundPath2 = choosenSoundPath;
                                    choosenSoundPath = size;
                                    if (z3 < choosenSoundPath) {
                                        break;
                                    }
                                    rows2 = rows;
                                    size2 = choosenSoundPath;
                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                    choosenSoundPath = row.buttons.size();
                                    defaultPath2 = defaultPath;
                                    defaultPath = 0;
                                    while (defaultPath < choosenSoundPath) {
                                        size22 = choosenSoundPath;
                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                        row2 = row;
                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                            lastMessageObject = lastMessageObject4;
                                            priority2 = count;
                                            dismissIntent = dismissIntent2;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                        } else {
                                            priority2 = count;
                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                            dismissIntent = dismissIntent2;
                                            dialog_id2 = dialog_id;
                                            callbackIntent.putExtra("did", dialog_id2);
                                            if (choosenSoundPath3.data == null) {
                                                fileLocation = fileLocation3;
                                            } else {
                                                fileLocation = fileLocation3;
                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                            }
                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                            charSequence = choosenSoundPath3.text;
                                            context = ApplicationLoader.applicationContext;
                                            button = choosenSoundPath3;
                                            choosenSoundPath = r12.lastButtonId;
                                            lastMessageObject = lastMessageObject4;
                                            r12.lastButtonId = choosenSoundPath + 1;
                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                            notifyOverride2 = true;
                                        }
                                        defaultPath++;
                                        dialog_id = dialog_id2;
                                        choosenSoundPath = size22;
                                        row = row2;
                                        count = priority2;
                                        dismissIntent2 = dismissIntent;
                                        fileLocation3 = fileLocation;
                                        lastMessageObject4 = lastMessageObject;
                                        dialog_id2 = notifyAboutLast;
                                    }
                                    priority2 = count;
                                    fileLocation = fileLocation3;
                                    dialog_id2 = dialog_id;
                                    z3++;
                                    choosenSoundPath = choosenSoundPath2;
                                    rows = rows2;
                                    size = size2;
                                    defaultPath = defaultPath2;
                                    dismissIntent2 = dismissIntent2;
                                    dialog_id2 = notifyAboutLast;
                                }
                                defaultPath2 = defaultPath;
                                lastMessageObject = lastMessageObject4;
                                priority2 = count;
                                dismissIntent = dismissIntent2;
                                fileLocation = fileLocation3;
                                dialog_id2 = dialog_id;
                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                if (VERSION.SDK_INT > 19) {
                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                } else {
                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                }
                                if (VERSION.SDK_INT < 26) {
                                    choosenSoundPath8 = choosenSoundPath2;
                                    notifyOverride = name;
                                    override_dialog_id = lastMessageObject;
                                    priorityOverride = chat2;
                                    silent3 = silent;
                                    notifyDelay = notifyAboutLast;
                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                } else {
                                    j = dialog_id2;
                                    i2 = notifyDelay;
                                    size = notifyOverride;
                                    j2 = override_dialog_id;
                                    i3 = priorityOverride;
                                    i4 = vibrateOverride;
                                    sharedPreferences = preferences;
                                    i5 = user_id;
                                    i6 = chat_id;
                                    user2 = user;
                                    pendingIntent = contentIntent;
                                    silent3 = silent;
                                    dismissDate2 = needVibrate2;
                                    choosenSoundPath8 = choosenSoundPath2;
                                    str3 = defaultPath2;
                                    i7 = priority2;
                                    intent = dismissIntent;
                                    fileLocation2 = fileLocation;
                                    notifyDelay = notifyAboutLast;
                                }
                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                r12.lastNotificationIsNoData = false;
                                scheduleNotificationRepeat();
                                return;
                            }
                            choosenSoundPath2 = choosenSoundPath;
                            defaultPath2 = defaultPath;
                            lastMessageObject = lastMessageObject4;
                            priority2 = count;
                            dismissIntent = dismissIntent2;
                            fileLocation = fileLocation3;
                            dialog_id2 = dialog_id;
                            notifyOverride2 = false;
                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                            if (VERSION.SDK_INT > 19) {
                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                            } else {
                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                            }
                            if (VERSION.SDK_INT < 26) {
                                j = dialog_id2;
                                i2 = notifyDelay;
                                size = notifyOverride;
                                j2 = override_dialog_id;
                                i3 = priorityOverride;
                                i4 = vibrateOverride;
                                sharedPreferences = preferences;
                                i5 = user_id;
                                i6 = chat_id;
                                user2 = user;
                                pendingIntent = contentIntent;
                                silent3 = silent;
                                dismissDate2 = needVibrate2;
                                choosenSoundPath8 = choosenSoundPath2;
                                str3 = defaultPath2;
                                i7 = priority2;
                                intent = dismissIntent;
                                fileLocation2 = fileLocation;
                                notifyDelay = notifyAboutLast;
                            } else {
                                choosenSoundPath8 = choosenSoundPath2;
                                notifyOverride = name;
                                override_dialog_id = lastMessageObject;
                                priorityOverride = chat2;
                                silent3 = silent;
                                notifyDelay = notifyAboutLast;
                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                            }
                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                            r12.lastNotificationIsNoData = false;
                            scheduleNotificationRepeat();
                            return;
                        }
                        fileLocation3 = photoPath;
                        intent2.putExtra("currentAccount", r12.currentAccount);
                        contentIntent2 = PendingIntent.getActivity(ApplicationLoader.applicationContext, 0, intent2, NUM);
                        if (chat_id2 == 0) {
                        }
                        lastMessageObject4 = lastMessageObject3;
                        if (chat2 != null) {
                            str5 = chat2.title;
                        } else {
                            str5 = UserObject.getUserName(user3);
                        }
                        choosenSoundPath5 = str5;
                        if (((int) dialog_id2) == 0) {
                            replace = true;
                        } else {
                            replace = true;
                            if (SharedConfig.isWaitingForPasscodeEnter) {
                                choosenSoundPath9 = choosenSoundPath5;
                                str5 = choosenSoundPath9;
                                chat_id = chat_id2;
                                if (UserConfig.getActivatedAccountsCount() <= 1) {
                                    choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                                } else if (r12.pushDialogs.size() != 1) {
                                    choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                                } else {
                                    stringBuilder = new StringBuilder();
                                    stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                                    stringBuilder.append("\u30fb");
                                    choosenSoundPath9 = stringBuilder.toString();
                                }
                                if (r12.pushDialogs.size() == 1) {
                                    if (VERSION.SDK_INT >= 23) {
                                        detailText = choosenSoundPath9;
                                        chatName = choosenSoundPath5;
                                        z4 = inAppVibrate;
                                        mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                        vibrationPattern3 = null;
                                        mBuilder.setCategory("msg");
                                        stringBuilder = new StringBuilder();
                                        i = 0;
                                        stringBuilder.append("tel:+");
                                        stringBuilder.append(user3.phone);
                                        mBuilder.addPerson(stringBuilder.toString());
                                        silent2 = 2;
                                        user = user3;
                                        if (r12.pushMessages.size() == 1) {
                                            lastMessage2 = null;
                                            sound = null;
                                            mBuilder.setContentText(detailText);
                                            inboxStyle = new InboxStyle();
                                            inboxStyle.setBigContentTitle(str5);
                                            count2 = Math.min(10, r12.pushMessages.size());
                                            text2 = new boolean[1];
                                            contentIntent = contentIntent2;
                                            count = silent2;
                                            chat_id2 = 0;
                                            while (chat_id2 < count2) {
                                                count3 = count2;
                                                count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                                dialog_id = dialog_id2;
                                                message2 = getStringForMessage(count4, 0, text2);
                                                if (message2 != null) {
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                } else {
                                                    defaultPath4 = defaultPath3;
                                                    notifyDelay = dismissDate2;
                                                    if (count4.messageOwner.date > notifyDelay) {
                                                        if (count == 2) {
                                                            lastMessage2 = message2;
                                                            count = count4.messageOwner.silent;
                                                        }
                                                        messageObject2 = count4;
                                                        if (chat2 != null) {
                                                            count2 = new StringBuilder();
                                                            count2.append(" @ ");
                                                            count2.append(str5);
                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        } else if (text2[0]) {
                                                            count2 = new StringBuilder();
                                                            count2.append(str5);
                                                            count2.append(" ");
                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        } else {
                                                            count2 = new StringBuilder();
                                                            count2.append(str5);
                                                            count2.append(": ");
                                                            message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        }
                                                        inboxStyle.addLine(message2);
                                                    }
                                                }
                                                chat_id2++;
                                                dismissDate2 = notifyDelay;
                                                count2 = count3;
                                                dialog_id2 = dialog_id;
                                                defaultPath3 = defaultPath4;
                                            }
                                            dialog_id = dialog_id2;
                                            defaultPath4 = defaultPath3;
                                            notifyDelay = dismissDate2;
                                            inboxStyle.setSummaryText(detailText);
                                            mBuilder.setStyle(inboxStyle);
                                            priorityOverride2 = count;
                                            choosenSoundPath9 = lastMessage2;
                                        } else {
                                            messageObject = (MessageObject) r12.pushMessages.get(0);
                                            lastMessage2 = null;
                                            text = new boolean[1];
                                            stringForMessage = getStringForMessage(messageObject, null, text);
                                            message = stringForMessage;
                                            lastMessage3 = stringForMessage;
                                            choosenSoundPath5 = messageObject.messageOwner.silent;
                                            choosenSoundPath9 = message;
                                            if (choosenSoundPath9 != null) {
                                                if (replace) {
                                                    silent3 = choosenSoundPath5;
                                                    sound = null;
                                                } else {
                                                    if (chat2 != null) {
                                                        silent3 = choosenSoundPath5;
                                                        sound = null;
                                                        if (text[null]) {
                                                            choosenSoundPath5 = new StringBuilder();
                                                            choosenSoundPath5.append(str5);
                                                            choosenSoundPath5.append(" ");
                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        } else {
                                                            choosenSoundPath5 = new StringBuilder();
                                                            choosenSoundPath5.append(str5);
                                                            choosenSoundPath5.append(": ");
                                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                        }
                                                    } else {
                                                        silent3 = choosenSoundPath5;
                                                        choosenSoundPath5 = new StringBuilder();
                                                        sound = null;
                                                        choosenSoundPath5.append(" @ ");
                                                        choosenSoundPath5.append(str5);
                                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                    }
                                                    choosenSoundPath9 = message;
                                                }
                                                mBuilder.setContentText(choosenSoundPath9);
                                                mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                                contentIntent = contentIntent2;
                                                dialog_id = dialog_id2;
                                                defaultPath4 = defaultPath3;
                                                notifyDelay = dismissDate2;
                                                choosenSoundPath9 = lastMessage3;
                                                priorityOverride2 = silent3;
                                            } else {
                                                return;
                                            }
                                        }
                                        dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                        dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                        dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                        mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                        if (fileLocation3 != null) {
                                            name = str5;
                                        } else {
                                            img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                            if (img != null) {
                                                file = FileLoader.getPathToAttach(fileLocation3, true);
                                                if (file.exists()) {
                                                    name = str5;
                                                } else {
                                                    scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                    options = new Options();
                                                    if (scaleFactor < 1.0f) {
                                                        name = str5;
                                                        str5 = (int) scaleFactor;
                                                    } else {
                                                        name = str5;
                                                        str5 = true;
                                                    }
                                                    options.inSampleSize = str5;
                                                    str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                                    if (str5 != null) {
                                                        mBuilder.setLargeIcon(str5);
                                                    }
                                                }
                                            } else {
                                                mBuilder.setLargeIcon(img.getBitmap());
                                                name = str5;
                                            }
                                        }
                                        z = notifyAboutLast;
                                        if (z) {
                                            count = priority;
                                        } else if (priorityOverride2 == 1) {
                                            if (priority == 0) {
                                                count = priority;
                                                if (count != 1) {
                                                    if (count == 2) {
                                                        if (count != 4) {
                                                            mBuilder.setPriority(-2);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 1;
                                                                i = user_id2;
                                                            }
                                                        } else if (count == 5) {
                                                            mBuilder.setPriority(-1);
                                                            if (VERSION.SDK_INT >= 26) {
                                                                user_id2 = 2;
                                                                i = user_id2;
                                                            }
                                                        }
                                                    }
                                                }
                                                mBuilder.setPriority(1);
                                                if (VERSION.SDK_INT >= 26) {
                                                    user_id2 = 4;
                                                    i = user_id2;
                                                }
                                            } else {
                                                mBuilder.setPriority(0);
                                                if (VERSION.SDK_INT >= 26) {
                                                    i = 3;
                                                }
                                                count = priority;
                                            }
                                            if (priorityOverride2 != 1) {
                                            }
                                            lastMessage = choosenSoundPath9;
                                            silent = priorityOverride2;
                                            needVibrate2 = needVibrate;
                                            choosenSoundPath = str;
                                            priorityOverride2 = ledColor;
                                            defaultPath = defaultPath4;
                                            jArr = new long[]{0, 0};
                                            vibrationPattern = jArr;
                                            mBuilder.setVibrate(jArr);
                                            vibrationPattern2 = vibrationPattern;
                                            sound2 = sound;
                                            str2 = lastMessage;
                                            if (AndroidUtilities.needShowPasscode(false)) {
                                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                                size = rows.size();
                                                notifyOverride2 = false;
                                                z3 = false;
                                                while (true) {
                                                    choosenSoundPath2 = choosenSoundPath;
                                                    choosenSoundPath = size;
                                                    if (z3 < choosenSoundPath) {
                                                        break;
                                                    }
                                                    rows2 = rows;
                                                    size2 = choosenSoundPath;
                                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                                    choosenSoundPath = row.buttons.size();
                                                    defaultPath2 = defaultPath;
                                                    defaultPath = 0;
                                                    while (defaultPath < choosenSoundPath) {
                                                        size22 = choosenSoundPath;
                                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                        row2 = row;
                                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                            priority2 = count;
                                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                            dismissIntent = dismissIntent2;
                                                            dialog_id2 = dialog_id;
                                                            callbackIntent.putExtra("did", dialog_id2);
                                                            if (choosenSoundPath3.data == null) {
                                                                fileLocation = fileLocation3;
                                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                            } else {
                                                                fileLocation = fileLocation3;
                                                            }
                                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                            charSequence = choosenSoundPath3.text;
                                                            context = ApplicationLoader.applicationContext;
                                                            button = choosenSoundPath3;
                                                            choosenSoundPath = r12.lastButtonId;
                                                            lastMessageObject = lastMessageObject4;
                                                            r12.lastButtonId = choosenSoundPath + 1;
                                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                            notifyOverride2 = true;
                                                        } else {
                                                            lastMessageObject = lastMessageObject4;
                                                            priority2 = count;
                                                            dismissIntent = dismissIntent2;
                                                            fileLocation = fileLocation3;
                                                            dialog_id2 = dialog_id;
                                                        }
                                                        defaultPath++;
                                                        dialog_id = dialog_id2;
                                                        choosenSoundPath = size22;
                                                        row = row2;
                                                        count = priority2;
                                                        dismissIntent2 = dismissIntent;
                                                        fileLocation3 = fileLocation;
                                                        lastMessageObject4 = lastMessageObject;
                                                        dialog_id2 = notifyAboutLast;
                                                    }
                                                    priority2 = count;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                    z3++;
                                                    choosenSoundPath = choosenSoundPath2;
                                                    rows = rows2;
                                                    size = size2;
                                                    defaultPath = defaultPath2;
                                                    dismissIntent2 = dismissIntent2;
                                                    dialog_id2 = notifyAboutLast;
                                                }
                                                defaultPath2 = defaultPath;
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                                if (VERSION.SDK_INT > 19) {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                } else {
                                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                                }
                                                if (VERSION.SDK_INT < 26) {
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    notifyOverride = name;
                                                    override_dialog_id = lastMessageObject;
                                                    priorityOverride = chat2;
                                                    silent3 = silent;
                                                    notifyDelay = notifyAboutLast;
                                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                                } else {
                                                    j = dialog_id2;
                                                    i2 = notifyDelay;
                                                    size = notifyOverride;
                                                    j2 = override_dialog_id;
                                                    i3 = priorityOverride;
                                                    i4 = vibrateOverride;
                                                    sharedPreferences = preferences;
                                                    i5 = user_id;
                                                    i6 = chat_id;
                                                    user2 = user;
                                                    pendingIntent = contentIntent;
                                                    silent3 = silent;
                                                    dismissDate2 = needVibrate2;
                                                    choosenSoundPath8 = choosenSoundPath2;
                                                    str3 = defaultPath2;
                                                    i7 = priority2;
                                                    intent = dismissIntent;
                                                    fileLocation2 = fileLocation;
                                                    notifyDelay = notifyAboutLast;
                                                }
                                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                                r12.lastNotificationIsNoData = false;
                                                scheduleNotificationRepeat();
                                                return;
                                            }
                                            choosenSoundPath2 = choosenSoundPath;
                                            defaultPath2 = defaultPath;
                                            lastMessageObject = lastMessageObject4;
                                            priority2 = count;
                                            dismissIntent = dismissIntent2;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            notifyOverride2 = false;
                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                            if (VERSION.SDK_INT > 19) {
                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            } else {
                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            }
                                            if (VERSION.SDK_INT < 26) {
                                                j = dialog_id2;
                                                i2 = notifyDelay;
                                                size = notifyOverride;
                                                j2 = override_dialog_id;
                                                i3 = priorityOverride;
                                                i4 = vibrateOverride;
                                                sharedPreferences = preferences;
                                                i5 = user_id;
                                                i6 = chat_id;
                                                user2 = user;
                                                pendingIntent = contentIntent;
                                                silent3 = silent;
                                                dismissDate2 = needVibrate2;
                                                choosenSoundPath8 = choosenSoundPath2;
                                                str3 = defaultPath2;
                                                i7 = priority2;
                                                intent = dismissIntent;
                                                fileLocation2 = fileLocation;
                                                notifyDelay = notifyAboutLast;
                                            } else {
                                                choosenSoundPath8 = choosenSoundPath2;
                                                notifyOverride = name;
                                                override_dialog_id = lastMessageObject;
                                                priorityOverride = chat2;
                                                silent3 = silent;
                                                notifyDelay = notifyAboutLast;
                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                            }
                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                            r12.lastNotificationIsNoData = false;
                                            scheduleNotificationRepeat();
                                            return;
                                        } else {
                                            count = priority;
                                        }
                                        mBuilder.setPriority(-1);
                                        if (VERSION.SDK_INT >= 26) {
                                            user_id2 = 2;
                                            i = user_id2;
                                        }
                                        if (priorityOverride2 != 1) {
                                        }
                                        lastMessage = choosenSoundPath9;
                                        silent = priorityOverride2;
                                        needVibrate2 = needVibrate;
                                        choosenSoundPath = str;
                                        priorityOverride2 = ledColor;
                                        defaultPath = defaultPath4;
                                        jArr = new long[]{0, 0};
                                        vibrationPattern = jArr;
                                        mBuilder.setVibrate(jArr);
                                        vibrationPattern2 = vibrationPattern;
                                        sound2 = sound;
                                        str2 = lastMessage;
                                        if (AndroidUtilities.needShowPasscode(false)) {
                                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                            size = rows.size();
                                            notifyOverride2 = false;
                                            z3 = false;
                                            while (true) {
                                                choosenSoundPath2 = choosenSoundPath;
                                                choosenSoundPath = size;
                                                if (z3 < choosenSoundPath) {
                                                    break;
                                                }
                                                rows2 = rows;
                                                size2 = choosenSoundPath;
                                                row = (TL_keyboardButtonRow) rows.get(z3);
                                                choosenSoundPath = row.buttons.size();
                                                defaultPath2 = defaultPath;
                                                defaultPath = 0;
                                                while (defaultPath < choosenSoundPath) {
                                                    size22 = choosenSoundPath;
                                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                    row2 = row;
                                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                        lastMessageObject = lastMessageObject4;
                                                        priority2 = count;
                                                        dismissIntent = dismissIntent2;
                                                        fileLocation = fileLocation3;
                                                        dialog_id2 = dialog_id;
                                                    } else {
                                                        priority2 = count;
                                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                        dismissIntent = dismissIntent2;
                                                        dialog_id2 = dialog_id;
                                                        callbackIntent.putExtra("did", dialog_id2);
                                                        if (choosenSoundPath3.data == null) {
                                                            fileLocation = fileLocation3;
                                                        } else {
                                                            fileLocation = fileLocation3;
                                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                        }
                                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                        charSequence = choosenSoundPath3.text;
                                                        context = ApplicationLoader.applicationContext;
                                                        button = choosenSoundPath3;
                                                        choosenSoundPath = r12.lastButtonId;
                                                        lastMessageObject = lastMessageObject4;
                                                        r12.lastButtonId = choosenSoundPath + 1;
                                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                        notifyOverride2 = true;
                                                    }
                                                    defaultPath++;
                                                    dialog_id = dialog_id2;
                                                    choosenSoundPath = size22;
                                                    row = row2;
                                                    count = priority2;
                                                    dismissIntent2 = dismissIntent;
                                                    fileLocation3 = fileLocation;
                                                    lastMessageObject4 = lastMessageObject;
                                                    dialog_id2 = notifyAboutLast;
                                                }
                                                priority2 = count;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                                z3++;
                                                choosenSoundPath = choosenSoundPath2;
                                                rows = rows2;
                                                size = size2;
                                                defaultPath = defaultPath2;
                                                dismissIntent2 = dismissIntent2;
                                                dialog_id2 = notifyAboutLast;
                                            }
                                            defaultPath2 = defaultPath;
                                            lastMessageObject = lastMessageObject4;
                                            priority2 = count;
                                            dismissIntent = dismissIntent2;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                                            if (VERSION.SDK_INT > 19) {
                                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            } else {
                                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                            }
                                            if (VERSION.SDK_INT < 26) {
                                                choosenSoundPath8 = choosenSoundPath2;
                                                notifyOverride = name;
                                                override_dialog_id = lastMessageObject;
                                                priorityOverride = chat2;
                                                silent3 = silent;
                                                notifyDelay = notifyAboutLast;
                                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                            } else {
                                                j = dialog_id2;
                                                i2 = notifyDelay;
                                                size = notifyOverride;
                                                j2 = override_dialog_id;
                                                i3 = priorityOverride;
                                                i4 = vibrateOverride;
                                                sharedPreferences = preferences;
                                                i5 = user_id;
                                                i6 = chat_id;
                                                user2 = user;
                                                pendingIntent = contentIntent;
                                                silent3 = silent;
                                                dismissDate2 = needVibrate2;
                                                choosenSoundPath8 = choosenSoundPath2;
                                                str3 = defaultPath2;
                                                i7 = priority2;
                                                intent = dismissIntent;
                                                fileLocation2 = fileLocation;
                                                notifyDelay = notifyAboutLast;
                                            }
                                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                                            r12.lastNotificationIsNoData = false;
                                            scheduleNotificationRepeat();
                                            return;
                                        }
                                        choosenSoundPath2 = choosenSoundPath;
                                        defaultPath2 = defaultPath;
                                        lastMessageObject = lastMessageObject4;
                                        priority2 = count;
                                        dismissIntent = dismissIntent2;
                                        fileLocation = fileLocation3;
                                        dialog_id2 = dialog_id;
                                        notifyOverride2 = false;
                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                        if (VERSION.SDK_INT > 19) {
                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        } else {
                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        }
                                        if (VERSION.SDK_INT < 26) {
                                            j = dialog_id2;
                                            i2 = notifyDelay;
                                            size = notifyOverride;
                                            j2 = override_dialog_id;
                                            i3 = priorityOverride;
                                            i4 = vibrateOverride;
                                            sharedPreferences = preferences;
                                            i5 = user_id;
                                            i6 = chat_id;
                                            user2 = user;
                                            pendingIntent = contentIntent;
                                            silent3 = silent;
                                            dismissDate2 = needVibrate2;
                                            choosenSoundPath8 = choosenSoundPath2;
                                            str3 = defaultPath2;
                                            i7 = priority2;
                                            intent = dismissIntent;
                                            fileLocation2 = fileLocation;
                                            notifyDelay = notifyAboutLast;
                                        } else {
                                            choosenSoundPath8 = choosenSoundPath2;
                                            notifyOverride = name;
                                            override_dialog_id = lastMessageObject;
                                            priorityOverride = chat2;
                                            silent3 = silent;
                                            notifyDelay = notifyAboutLast;
                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                        }
                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                        r12.lastNotificationIsNoData = false;
                                        scheduleNotificationRepeat();
                                        return;
                                    }
                                }
                                if (r12.pushDialogs.size() != 1) {
                                    stringBuilder4 = new StringBuilder();
                                    stringBuilder4.append(choosenSoundPath9);
                                    stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                                    detailText = stringBuilder4.toString();
                                    chatName = choosenSoundPath5;
                                } else {
                                    stringBuilder4 = new StringBuilder();
                                    stringBuilder4.append(choosenSoundPath9);
                                    objArr = new Object[2];
                                    chatName = choosenSoundPath5;
                                    objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                                    objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                                    stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                                    detailText = stringBuilder4.toString();
                                }
                                mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                vibrationPattern3 = null;
                                mBuilder.setCategory("msg");
                                stringBuilder = new StringBuilder();
                                i = 0;
                                stringBuilder.append("tel:+");
                                stringBuilder.append(user3.phone);
                                mBuilder.addPerson(stringBuilder.toString());
                                silent2 = 2;
                                user = user3;
                                if (r12.pushMessages.size() == 1) {
                                    messageObject = (MessageObject) r12.pushMessages.get(0);
                                    lastMessage2 = null;
                                    text = new boolean[1];
                                    stringForMessage = getStringForMessage(messageObject, null, text);
                                    message = stringForMessage;
                                    lastMessage3 = stringForMessage;
                                    choosenSoundPath5 = messageObject.messageOwner.silent;
                                    choosenSoundPath9 = message;
                                    if (choosenSoundPath9 != null) {
                                        if (replace) {
                                            if (chat2 != null) {
                                                silent3 = choosenSoundPath5;
                                                choosenSoundPath5 = new StringBuilder();
                                                sound = null;
                                                choosenSoundPath5.append(" @ ");
                                                choosenSoundPath5.append(str5);
                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                            } else {
                                                silent3 = choosenSoundPath5;
                                                sound = null;
                                                if (text[null]) {
                                                    choosenSoundPath5 = new StringBuilder();
                                                    choosenSoundPath5.append(str5);
                                                    choosenSoundPath5.append(": ");
                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                } else {
                                                    choosenSoundPath5 = new StringBuilder();
                                                    choosenSoundPath5.append(str5);
                                                    choosenSoundPath5.append(" ");
                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                }
                                            }
                                            choosenSoundPath9 = message;
                                        } else {
                                            silent3 = choosenSoundPath5;
                                            sound = null;
                                        }
                                        mBuilder.setContentText(choosenSoundPath9);
                                        mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                        contentIntent = contentIntent2;
                                        dialog_id = dialog_id2;
                                        defaultPath4 = defaultPath3;
                                        notifyDelay = dismissDate2;
                                        choosenSoundPath9 = lastMessage3;
                                        priorityOverride2 = silent3;
                                    } else {
                                        return;
                                    }
                                }
                                lastMessage2 = null;
                                sound = null;
                                mBuilder.setContentText(detailText);
                                inboxStyle = new InboxStyle();
                                inboxStyle.setBigContentTitle(str5);
                                count2 = Math.min(10, r12.pushMessages.size());
                                text2 = new boolean[1];
                                contentIntent = contentIntent2;
                                count = silent2;
                                chat_id2 = 0;
                                while (chat_id2 < count2) {
                                    count3 = count2;
                                    count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                    dialog_id = dialog_id2;
                                    message2 = getStringForMessage(count4, 0, text2);
                                    if (message2 != null) {
                                        defaultPath4 = defaultPath3;
                                        notifyDelay = dismissDate2;
                                        if (count4.messageOwner.date > notifyDelay) {
                                            if (count == 2) {
                                                lastMessage2 = message2;
                                                count = count4.messageOwner.silent;
                                            }
                                            messageObject2 = count4;
                                            if (chat2 != null) {
                                                count2 = new StringBuilder();
                                                count2.append(" @ ");
                                                count2.append(str5);
                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                            } else if (text2[0]) {
                                                count2 = new StringBuilder();
                                                count2.append(str5);
                                                count2.append(": ");
                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                            } else {
                                                count2 = new StringBuilder();
                                                count2.append(str5);
                                                count2.append(" ");
                                                message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                            }
                                            inboxStyle.addLine(message2);
                                        }
                                    } else {
                                        defaultPath4 = defaultPath3;
                                        notifyDelay = dismissDate2;
                                    }
                                    chat_id2++;
                                    dismissDate2 = notifyDelay;
                                    count2 = count3;
                                    dialog_id2 = dialog_id;
                                    defaultPath3 = defaultPath4;
                                }
                                dialog_id = dialog_id2;
                                defaultPath4 = defaultPath3;
                                notifyDelay = dismissDate2;
                                inboxStyle.setSummaryText(detailText);
                                mBuilder.setStyle(inboxStyle);
                                priorityOverride2 = count;
                                choosenSoundPath9 = lastMessage2;
                                dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                if (fileLocation3 != null) {
                                    img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                    if (img != null) {
                                        mBuilder.setLargeIcon(img.getBitmap());
                                        name = str5;
                                    } else {
                                        file = FileLoader.getPathToAttach(fileLocation3, true);
                                        if (file.exists()) {
                                            scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                            options = new Options();
                                            if (scaleFactor < 1.0f) {
                                                name = str5;
                                                str5 = true;
                                            } else {
                                                name = str5;
                                                str5 = (int) scaleFactor;
                                            }
                                            options.inSampleSize = str5;
                                            str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                            if (str5 != null) {
                                                mBuilder.setLargeIcon(str5);
                                            }
                                        } else {
                                            name = str5;
                                        }
                                    }
                                } else {
                                    name = str5;
                                }
                                z = notifyAboutLast;
                                if (z) {
                                    count = priority;
                                } else if (priorityOverride2 == 1) {
                                    count = priority;
                                } else {
                                    if (priority == 0) {
                                        mBuilder.setPriority(0);
                                        if (VERSION.SDK_INT >= 26) {
                                            i = 3;
                                        }
                                        count = priority;
                                    } else {
                                        count = priority;
                                        if (count != 1) {
                                            if (count == 2) {
                                                if (count != 4) {
                                                    mBuilder.setPriority(-2);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        user_id2 = 1;
                                                        i = user_id2;
                                                    }
                                                } else if (count == 5) {
                                                    mBuilder.setPriority(-1);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        user_id2 = 2;
                                                        i = user_id2;
                                                    }
                                                }
                                            }
                                        }
                                        mBuilder.setPriority(1);
                                        if (VERSION.SDK_INT >= 26) {
                                            user_id2 = 4;
                                            i = user_id2;
                                        }
                                    }
                                    if (priorityOverride2 != 1) {
                                    }
                                    lastMessage = choosenSoundPath9;
                                    silent = priorityOverride2;
                                    needVibrate2 = needVibrate;
                                    choosenSoundPath = str;
                                    priorityOverride2 = ledColor;
                                    defaultPath = defaultPath4;
                                    jArr = new long[]{0, 0};
                                    vibrationPattern = jArr;
                                    mBuilder.setVibrate(jArr);
                                    vibrationPattern2 = vibrationPattern;
                                    sound2 = sound;
                                    str2 = lastMessage;
                                    if (AndroidUtilities.needShowPasscode(false)) {
                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                        size = rows.size();
                                        notifyOverride2 = false;
                                        z3 = false;
                                        while (true) {
                                            choosenSoundPath2 = choosenSoundPath;
                                            choosenSoundPath = size;
                                            if (z3 < choosenSoundPath) {
                                                break;
                                            }
                                            rows2 = rows;
                                            size2 = choosenSoundPath;
                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                            choosenSoundPath = row.buttons.size();
                                            defaultPath2 = defaultPath;
                                            defaultPath = 0;
                                            while (defaultPath < choosenSoundPath) {
                                                size22 = choosenSoundPath;
                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                row2 = row;
                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                    priority2 = count;
                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                    dismissIntent = dismissIntent2;
                                                    dialog_id2 = dialog_id;
                                                    callbackIntent.putExtra("did", dialog_id2);
                                                    if (choosenSoundPath3.data == null) {
                                                        fileLocation = fileLocation3;
                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                    } else {
                                                        fileLocation = fileLocation3;
                                                    }
                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                    charSequence = choosenSoundPath3.text;
                                                    context = ApplicationLoader.applicationContext;
                                                    button = choosenSoundPath3;
                                                    choosenSoundPath = r12.lastButtonId;
                                                    lastMessageObject = lastMessageObject4;
                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                    notifyOverride2 = true;
                                                } else {
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                }
                                                defaultPath++;
                                                dialog_id = dialog_id2;
                                                choosenSoundPath = size22;
                                                row = row2;
                                                count = priority2;
                                                dismissIntent2 = dismissIntent;
                                                fileLocation3 = fileLocation;
                                                lastMessageObject4 = lastMessageObject;
                                                dialog_id2 = notifyAboutLast;
                                            }
                                            priority2 = count;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            z3++;
                                            choosenSoundPath = choosenSoundPath2;
                                            rows = rows2;
                                            size = size2;
                                            defaultPath = defaultPath2;
                                            dismissIntent2 = dismissIntent2;
                                            dialog_id2 = notifyAboutLast;
                                        }
                                        defaultPath2 = defaultPath;
                                        lastMessageObject = lastMessageObject4;
                                        priority2 = count;
                                        dismissIntent = dismissIntent2;
                                        fileLocation = fileLocation3;
                                        dialog_id2 = dialog_id;
                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                        if (VERSION.SDK_INT > 19) {
                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        } else {
                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        }
                                        if (VERSION.SDK_INT < 26) {
                                            choosenSoundPath8 = choosenSoundPath2;
                                            notifyOverride = name;
                                            override_dialog_id = lastMessageObject;
                                            priorityOverride = chat2;
                                            silent3 = silent;
                                            notifyDelay = notifyAboutLast;
                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                        } else {
                                            j = dialog_id2;
                                            i2 = notifyDelay;
                                            size = notifyOverride;
                                            j2 = override_dialog_id;
                                            i3 = priorityOverride;
                                            i4 = vibrateOverride;
                                            sharedPreferences = preferences;
                                            i5 = user_id;
                                            i6 = chat_id;
                                            user2 = user;
                                            pendingIntent = contentIntent;
                                            silent3 = silent;
                                            dismissDate2 = needVibrate2;
                                            choosenSoundPath8 = choosenSoundPath2;
                                            str3 = defaultPath2;
                                            i7 = priority2;
                                            intent = dismissIntent;
                                            fileLocation2 = fileLocation;
                                            notifyDelay = notifyAboutLast;
                                        }
                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                        r12.lastNotificationIsNoData = false;
                                        scheduleNotificationRepeat();
                                        return;
                                    }
                                    choosenSoundPath2 = choosenSoundPath;
                                    defaultPath2 = defaultPath;
                                    lastMessageObject = lastMessageObject4;
                                    priority2 = count;
                                    dismissIntent = dismissIntent2;
                                    fileLocation = fileLocation3;
                                    dialog_id2 = dialog_id;
                                    notifyOverride2 = false;
                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                    if (VERSION.SDK_INT > 19) {
                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    } else {
                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    }
                                    if (VERSION.SDK_INT < 26) {
                                        j = dialog_id2;
                                        i2 = notifyDelay;
                                        size = notifyOverride;
                                        j2 = override_dialog_id;
                                        i3 = priorityOverride;
                                        i4 = vibrateOverride;
                                        sharedPreferences = preferences;
                                        i5 = user_id;
                                        i6 = chat_id;
                                        user2 = user;
                                        pendingIntent = contentIntent;
                                        silent3 = silent;
                                        dismissDate2 = needVibrate2;
                                        choosenSoundPath8 = choosenSoundPath2;
                                        str3 = defaultPath2;
                                        i7 = priority2;
                                        intent = dismissIntent;
                                        fileLocation2 = fileLocation;
                                        notifyDelay = notifyAboutLast;
                                    } else {
                                        choosenSoundPath8 = choosenSoundPath2;
                                        notifyOverride = name;
                                        override_dialog_id = lastMessageObject;
                                        priorityOverride = chat2;
                                        silent3 = silent;
                                        notifyDelay = notifyAboutLast;
                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                    }
                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                    r12.lastNotificationIsNoData = false;
                                    scheduleNotificationRepeat();
                                    return;
                                }
                                mBuilder.setPriority(-1);
                                if (VERSION.SDK_INT >= 26) {
                                    user_id2 = 2;
                                    i = user_id2;
                                }
                                if (priorityOverride2 != 1) {
                                }
                                lastMessage = choosenSoundPath9;
                                silent = priorityOverride2;
                                needVibrate2 = needVibrate;
                                choosenSoundPath = str;
                                priorityOverride2 = ledColor;
                                defaultPath = defaultPath4;
                                jArr = new long[]{0, 0};
                                vibrationPattern = jArr;
                                mBuilder.setVibrate(jArr);
                                vibrationPattern2 = vibrationPattern;
                                sound2 = sound;
                                str2 = lastMessage;
                                if (AndroidUtilities.needShowPasscode(false)) {
                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                    size = rows.size();
                                    notifyOverride2 = false;
                                    z3 = false;
                                    while (true) {
                                        choosenSoundPath2 = choosenSoundPath;
                                        choosenSoundPath = size;
                                        if (z3 < choosenSoundPath) {
                                            break;
                                        }
                                        rows2 = rows;
                                        size2 = choosenSoundPath;
                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                        choosenSoundPath = row.buttons.size();
                                        defaultPath2 = defaultPath;
                                        defaultPath = 0;
                                        while (defaultPath < choosenSoundPath) {
                                            size22 = choosenSoundPath;
                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                            row2 = row;
                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                            } else {
                                                priority2 = count;
                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                dismissIntent = dismissIntent2;
                                                dialog_id2 = dialog_id;
                                                callbackIntent.putExtra("did", dialog_id2);
                                                if (choosenSoundPath3.data == null) {
                                                    fileLocation = fileLocation3;
                                                } else {
                                                    fileLocation = fileLocation3;
                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                }
                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                charSequence = choosenSoundPath3.text;
                                                context = ApplicationLoader.applicationContext;
                                                button = choosenSoundPath3;
                                                choosenSoundPath = r12.lastButtonId;
                                                lastMessageObject = lastMessageObject4;
                                                r12.lastButtonId = choosenSoundPath + 1;
                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                notifyOverride2 = true;
                                            }
                                            defaultPath++;
                                            dialog_id = dialog_id2;
                                            choosenSoundPath = size22;
                                            row = row2;
                                            count = priority2;
                                            dismissIntent2 = dismissIntent;
                                            fileLocation3 = fileLocation;
                                            lastMessageObject4 = lastMessageObject;
                                            dialog_id2 = notifyAboutLast;
                                        }
                                        priority2 = count;
                                        fileLocation = fileLocation3;
                                        dialog_id2 = dialog_id;
                                        z3++;
                                        choosenSoundPath = choosenSoundPath2;
                                        rows = rows2;
                                        size = size2;
                                        defaultPath = defaultPath2;
                                        dismissIntent2 = dismissIntent2;
                                        dialog_id2 = notifyAboutLast;
                                    }
                                    defaultPath2 = defaultPath;
                                    lastMessageObject = lastMessageObject4;
                                    priority2 = count;
                                    dismissIntent = dismissIntent2;
                                    fileLocation = fileLocation3;
                                    dialog_id2 = dialog_id;
                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                    if (VERSION.SDK_INT > 19) {
                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    } else {
                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    }
                                    if (VERSION.SDK_INT < 26) {
                                        choosenSoundPath8 = choosenSoundPath2;
                                        notifyOverride = name;
                                        override_dialog_id = lastMessageObject;
                                        priorityOverride = chat2;
                                        silent3 = silent;
                                        notifyDelay = notifyAboutLast;
                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                    } else {
                                        j = dialog_id2;
                                        i2 = notifyDelay;
                                        size = notifyOverride;
                                        j2 = override_dialog_id;
                                        i3 = priorityOverride;
                                        i4 = vibrateOverride;
                                        sharedPreferences = preferences;
                                        i5 = user_id;
                                        i6 = chat_id;
                                        user2 = user;
                                        pendingIntent = contentIntent;
                                        silent3 = silent;
                                        dismissDate2 = needVibrate2;
                                        choosenSoundPath8 = choosenSoundPath2;
                                        str3 = defaultPath2;
                                        i7 = priority2;
                                        intent = dismissIntent;
                                        fileLocation2 = fileLocation;
                                        notifyDelay = notifyAboutLast;
                                    }
                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                    r12.lastNotificationIsNoData = false;
                                    scheduleNotificationRepeat();
                                    return;
                                }
                                choosenSoundPath2 = choosenSoundPath;
                                defaultPath2 = defaultPath;
                                lastMessageObject = lastMessageObject4;
                                priority2 = count;
                                dismissIntent = dismissIntent2;
                                fileLocation = fileLocation3;
                                dialog_id2 = dialog_id;
                                notifyOverride2 = false;
                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                if (VERSION.SDK_INT > 19) {
                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                } else {
                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                }
                                if (VERSION.SDK_INT < 26) {
                                    j = dialog_id2;
                                    i2 = notifyDelay;
                                    size = notifyOverride;
                                    j2 = override_dialog_id;
                                    i3 = priorityOverride;
                                    i4 = vibrateOverride;
                                    sharedPreferences = preferences;
                                    i5 = user_id;
                                    i6 = chat_id;
                                    user2 = user;
                                    pendingIntent = contentIntent;
                                    silent3 = silent;
                                    dismissDate2 = needVibrate2;
                                    choosenSoundPath8 = choosenSoundPath2;
                                    str3 = defaultPath2;
                                    i7 = priority2;
                                    intent = dismissIntent;
                                    fileLocation2 = fileLocation;
                                    notifyDelay = notifyAboutLast;
                                } else {
                                    choosenSoundPath8 = choosenSoundPath2;
                                    notifyOverride = name;
                                    override_dialog_id = lastMessageObject;
                                    priorityOverride = chat2;
                                    silent3 = silent;
                                    notifyDelay = notifyAboutLast;
                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                }
                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                r12.lastNotificationIsNoData = false;
                                scheduleNotificationRepeat();
                                return;
                            }
                        }
                        choosenSoundPath9 = LocaleController.getString("AppName", R.string.AppName);
                        replace = false;
                        str5 = choosenSoundPath9;
                        chat_id = chat_id2;
                        if (UserConfig.getActivatedAccountsCount() <= 1) {
                            choosenSoundPath9 = TtmlNode.ANONYMOUS_REGION_ID;
                        } else if (r12.pushDialogs.size() != 1) {
                            stringBuilder = new StringBuilder();
                            stringBuilder.append(UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser()));
                            stringBuilder.append("\u30fb");
                            choosenSoundPath9 = stringBuilder.toString();
                        } else {
                            choosenSoundPath9 = UserObject.getFirstName(UserConfig.getInstance(r12.currentAccount).getCurrentUser());
                        }
                        if (r12.pushDialogs.size() == 1) {
                            if (VERSION.SDK_INT >= 23) {
                                detailText = choosenSoundPath9;
                                chatName = choosenSoundPath5;
                                z4 = inAppVibrate;
                                mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                                vibrationPattern3 = null;
                                mBuilder.setCategory("msg");
                                stringBuilder = new StringBuilder();
                                i = 0;
                                stringBuilder.append("tel:+");
                                stringBuilder.append(user3.phone);
                                mBuilder.addPerson(stringBuilder.toString());
                                silent2 = 2;
                                user = user3;
                                if (r12.pushMessages.size() == 1) {
                                    lastMessage2 = null;
                                    sound = null;
                                    mBuilder.setContentText(detailText);
                                    inboxStyle = new InboxStyle();
                                    inboxStyle.setBigContentTitle(str5);
                                    count2 = Math.min(10, r12.pushMessages.size());
                                    text2 = new boolean[1];
                                    contentIntent = contentIntent2;
                                    count = silent2;
                                    chat_id2 = 0;
                                    while (chat_id2 < count2) {
                                        count3 = count2;
                                        count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                                        dialog_id = dialog_id2;
                                        message2 = getStringForMessage(count4, 0, text2);
                                        if (message2 != null) {
                                            defaultPath4 = defaultPath3;
                                            notifyDelay = dismissDate2;
                                        } else {
                                            defaultPath4 = defaultPath3;
                                            notifyDelay = dismissDate2;
                                            if (count4.messageOwner.date > notifyDelay) {
                                                if (count == 2) {
                                                    lastMessage2 = message2;
                                                    count = count4.messageOwner.silent;
                                                }
                                                messageObject2 = count4;
                                                if (chat2 != null) {
                                                    count2 = new StringBuilder();
                                                    count2.append(" @ ");
                                                    count2.append(str5);
                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                } else if (text2[0]) {
                                                    count2 = new StringBuilder();
                                                    count2.append(str5);
                                                    count2.append(" ");
                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                } else {
                                                    count2 = new StringBuilder();
                                                    count2.append(str5);
                                                    count2.append(": ");
                                                    message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                }
                                                inboxStyle.addLine(message2);
                                            }
                                        }
                                        chat_id2++;
                                        dismissDate2 = notifyDelay;
                                        count2 = count3;
                                        dialog_id2 = dialog_id;
                                        defaultPath3 = defaultPath4;
                                    }
                                    dialog_id = dialog_id2;
                                    defaultPath4 = defaultPath3;
                                    notifyDelay = dismissDate2;
                                    inboxStyle.setSummaryText(detailText);
                                    mBuilder.setStyle(inboxStyle);
                                    priorityOverride2 = count;
                                    choosenSoundPath9 = lastMessage2;
                                } else {
                                    messageObject = (MessageObject) r12.pushMessages.get(0);
                                    lastMessage2 = null;
                                    text = new boolean[1];
                                    stringForMessage = getStringForMessage(messageObject, null, text);
                                    message = stringForMessage;
                                    lastMessage3 = stringForMessage;
                                    choosenSoundPath5 = messageObject.messageOwner.silent;
                                    choosenSoundPath9 = message;
                                    if (choosenSoundPath9 != null) {
                                        if (replace) {
                                            silent3 = choosenSoundPath5;
                                            sound = null;
                                        } else {
                                            if (chat2 != null) {
                                                silent3 = choosenSoundPath5;
                                                sound = null;
                                                if (text[null]) {
                                                    choosenSoundPath5 = new StringBuilder();
                                                    choosenSoundPath5.append(str5);
                                                    choosenSoundPath5.append(" ");
                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                } else {
                                                    choosenSoundPath5 = new StringBuilder();
                                                    choosenSoundPath5.append(str5);
                                                    choosenSoundPath5.append(": ");
                                                    message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                }
                                            } else {
                                                silent3 = choosenSoundPath5;
                                                choosenSoundPath5 = new StringBuilder();
                                                sound = null;
                                                choosenSoundPath5.append(" @ ");
                                                choosenSoundPath5.append(str5);
                                                message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                            }
                                            choosenSoundPath9 = message;
                                        }
                                        mBuilder.setContentText(choosenSoundPath9);
                                        mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                        contentIntent = contentIntent2;
                                        dialog_id = dialog_id2;
                                        defaultPath4 = defaultPath3;
                                        notifyDelay = dismissDate2;
                                        choosenSoundPath9 = lastMessage3;
                                        priorityOverride2 = silent3;
                                    } else {
                                        return;
                                    }
                                }
                                dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                                dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                                dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                                mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                                if (fileLocation3 != null) {
                                    name = str5;
                                } else {
                                    img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                                    if (img != null) {
                                        file = FileLoader.getPathToAttach(fileLocation3, true);
                                        if (file.exists()) {
                                            name = str5;
                                        } else {
                                            scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                            options = new Options();
                                            if (scaleFactor < 1.0f) {
                                                name = str5;
                                                str5 = (int) scaleFactor;
                                            } else {
                                                name = str5;
                                                str5 = true;
                                            }
                                            options.inSampleSize = str5;
                                            str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                            if (str5 != null) {
                                                mBuilder.setLargeIcon(str5);
                                            }
                                        }
                                    } else {
                                        mBuilder.setLargeIcon(img.getBitmap());
                                        name = str5;
                                    }
                                }
                                z = notifyAboutLast;
                                if (z) {
                                    count = priority;
                                } else if (priorityOverride2 == 1) {
                                    if (priority == 0) {
                                        count = priority;
                                        if (count != 1) {
                                            if (count == 2) {
                                                if (count != 4) {
                                                    mBuilder.setPriority(-2);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        user_id2 = 1;
                                                        i = user_id2;
                                                    }
                                                } else if (count == 5) {
                                                    mBuilder.setPriority(-1);
                                                    if (VERSION.SDK_INT >= 26) {
                                                        user_id2 = 2;
                                                        i = user_id2;
                                                    }
                                                }
                                            }
                                        }
                                        mBuilder.setPriority(1);
                                        if (VERSION.SDK_INT >= 26) {
                                            user_id2 = 4;
                                            i = user_id2;
                                        }
                                    } else {
                                        mBuilder.setPriority(0);
                                        if (VERSION.SDK_INT >= 26) {
                                            i = 3;
                                        }
                                        count = priority;
                                    }
                                    if (priorityOverride2 != 1) {
                                    }
                                    lastMessage = choosenSoundPath9;
                                    silent = priorityOverride2;
                                    needVibrate2 = needVibrate;
                                    choosenSoundPath = str;
                                    priorityOverride2 = ledColor;
                                    defaultPath = defaultPath4;
                                    jArr = new long[]{0, 0};
                                    vibrationPattern = jArr;
                                    mBuilder.setVibrate(jArr);
                                    vibrationPattern2 = vibrationPattern;
                                    sound2 = sound;
                                    str2 = lastMessage;
                                    if (AndroidUtilities.needShowPasscode(false)) {
                                        rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                        size = rows.size();
                                        notifyOverride2 = false;
                                        z3 = false;
                                        while (true) {
                                            choosenSoundPath2 = choosenSoundPath;
                                            choosenSoundPath = size;
                                            if (z3 < choosenSoundPath) {
                                                break;
                                            }
                                            rows2 = rows;
                                            size2 = choosenSoundPath;
                                            row = (TL_keyboardButtonRow) rows.get(z3);
                                            choosenSoundPath = row.buttons.size();
                                            defaultPath2 = defaultPath;
                                            defaultPath = 0;
                                            while (defaultPath < choosenSoundPath) {
                                                size22 = choosenSoundPath;
                                                choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                                row2 = row;
                                                if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                    priority2 = count;
                                                    callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                    callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                    dismissIntent = dismissIntent2;
                                                    dialog_id2 = dialog_id;
                                                    callbackIntent.putExtra("did", dialog_id2);
                                                    if (choosenSoundPath3.data == null) {
                                                        fileLocation = fileLocation3;
                                                        callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                    } else {
                                                        fileLocation = fileLocation3;
                                                    }
                                                    callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                    charSequence = choosenSoundPath3.text;
                                                    context = ApplicationLoader.applicationContext;
                                                    button = choosenSoundPath3;
                                                    choosenSoundPath = r12.lastButtonId;
                                                    lastMessageObject = lastMessageObject4;
                                                    r12.lastButtonId = choosenSoundPath + 1;
                                                    mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                    notifyOverride2 = true;
                                                } else {
                                                    lastMessageObject = lastMessageObject4;
                                                    priority2 = count;
                                                    dismissIntent = dismissIntent2;
                                                    fileLocation = fileLocation3;
                                                    dialog_id2 = dialog_id;
                                                }
                                                defaultPath++;
                                                dialog_id = dialog_id2;
                                                choosenSoundPath = size22;
                                                row = row2;
                                                count = priority2;
                                                dismissIntent2 = dismissIntent;
                                                fileLocation3 = fileLocation;
                                                lastMessageObject4 = lastMessageObject;
                                                dialog_id2 = notifyAboutLast;
                                            }
                                            priority2 = count;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                            z3++;
                                            choosenSoundPath = choosenSoundPath2;
                                            rows = rows2;
                                            size = size2;
                                            defaultPath = defaultPath2;
                                            dismissIntent2 = dismissIntent2;
                                            dialog_id2 = notifyAboutLast;
                                        }
                                        defaultPath2 = defaultPath;
                                        lastMessageObject = lastMessageObject4;
                                        priority2 = count;
                                        dismissIntent = dismissIntent2;
                                        fileLocation = fileLocation3;
                                        dialog_id2 = dialog_id;
                                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                                        if (VERSION.SDK_INT > 19) {
                                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        } else {
                                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                        }
                                        if (VERSION.SDK_INT < 26) {
                                            choosenSoundPath8 = choosenSoundPath2;
                                            notifyOverride = name;
                                            override_dialog_id = lastMessageObject;
                                            priorityOverride = chat2;
                                            silent3 = silent;
                                            notifyDelay = notifyAboutLast;
                                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                        } else {
                                            j = dialog_id2;
                                            i2 = notifyDelay;
                                            size = notifyOverride;
                                            j2 = override_dialog_id;
                                            i3 = priorityOverride;
                                            i4 = vibrateOverride;
                                            sharedPreferences = preferences;
                                            i5 = user_id;
                                            i6 = chat_id;
                                            user2 = user;
                                            pendingIntent = contentIntent;
                                            silent3 = silent;
                                            dismissDate2 = needVibrate2;
                                            choosenSoundPath8 = choosenSoundPath2;
                                            str3 = defaultPath2;
                                            i7 = priority2;
                                            intent = dismissIntent;
                                            fileLocation2 = fileLocation;
                                            notifyDelay = notifyAboutLast;
                                        }
                                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                                        r12.lastNotificationIsNoData = false;
                                        scheduleNotificationRepeat();
                                        return;
                                    }
                                    choosenSoundPath2 = choosenSoundPath;
                                    defaultPath2 = defaultPath;
                                    lastMessageObject = lastMessageObject4;
                                    priority2 = count;
                                    dismissIntent = dismissIntent2;
                                    fileLocation = fileLocation3;
                                    dialog_id2 = dialog_id;
                                    notifyOverride2 = false;
                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                    if (VERSION.SDK_INT > 19) {
                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    } else {
                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    }
                                    if (VERSION.SDK_INT < 26) {
                                        j = dialog_id2;
                                        i2 = notifyDelay;
                                        size = notifyOverride;
                                        j2 = override_dialog_id;
                                        i3 = priorityOverride;
                                        i4 = vibrateOverride;
                                        sharedPreferences = preferences;
                                        i5 = user_id;
                                        i6 = chat_id;
                                        user2 = user;
                                        pendingIntent = contentIntent;
                                        silent3 = silent;
                                        dismissDate2 = needVibrate2;
                                        choosenSoundPath8 = choosenSoundPath2;
                                        str3 = defaultPath2;
                                        i7 = priority2;
                                        intent = dismissIntent;
                                        fileLocation2 = fileLocation;
                                        notifyDelay = notifyAboutLast;
                                    } else {
                                        choosenSoundPath8 = choosenSoundPath2;
                                        notifyOverride = name;
                                        override_dialog_id = lastMessageObject;
                                        priorityOverride = chat2;
                                        silent3 = silent;
                                        notifyDelay = notifyAboutLast;
                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                    }
                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                    r12.lastNotificationIsNoData = false;
                                    scheduleNotificationRepeat();
                                    return;
                                } else {
                                    count = priority;
                                }
                                mBuilder.setPriority(-1);
                                if (VERSION.SDK_INT >= 26) {
                                    user_id2 = 2;
                                    i = user_id2;
                                }
                                if (priorityOverride2 != 1) {
                                }
                                lastMessage = choosenSoundPath9;
                                silent = priorityOverride2;
                                needVibrate2 = needVibrate;
                                choosenSoundPath = str;
                                priorityOverride2 = ledColor;
                                defaultPath = defaultPath4;
                                jArr = new long[]{0, 0};
                                vibrationPattern = jArr;
                                mBuilder.setVibrate(jArr);
                                vibrationPattern2 = vibrationPattern;
                                sound2 = sound;
                                str2 = lastMessage;
                                if (AndroidUtilities.needShowPasscode(false)) {
                                    rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                    size = rows.size();
                                    notifyOverride2 = false;
                                    z3 = false;
                                    while (true) {
                                        choosenSoundPath2 = choosenSoundPath;
                                        choosenSoundPath = size;
                                        if (z3 < choosenSoundPath) {
                                            break;
                                        }
                                        rows2 = rows;
                                        size2 = choosenSoundPath;
                                        row = (TL_keyboardButtonRow) rows.get(z3);
                                        choosenSoundPath = row.buttons.size();
                                        defaultPath2 = defaultPath;
                                        defaultPath = 0;
                                        while (defaultPath < choosenSoundPath) {
                                            size22 = choosenSoundPath;
                                            choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                            row2 = row;
                                            if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                                lastMessageObject = lastMessageObject4;
                                                priority2 = count;
                                                dismissIntent = dismissIntent2;
                                                fileLocation = fileLocation3;
                                                dialog_id2 = dialog_id;
                                            } else {
                                                priority2 = count;
                                                callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                                callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                                dismissIntent = dismissIntent2;
                                                dialog_id2 = dialog_id;
                                                callbackIntent.putExtra("did", dialog_id2);
                                                if (choosenSoundPath3.data == null) {
                                                    fileLocation = fileLocation3;
                                                } else {
                                                    fileLocation = fileLocation3;
                                                    callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                                }
                                                callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                                charSequence = choosenSoundPath3.text;
                                                context = ApplicationLoader.applicationContext;
                                                button = choosenSoundPath3;
                                                choosenSoundPath = r12.lastButtonId;
                                                lastMessageObject = lastMessageObject4;
                                                r12.lastButtonId = choosenSoundPath + 1;
                                                mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                                notifyOverride2 = true;
                                            }
                                            defaultPath++;
                                            dialog_id = dialog_id2;
                                            choosenSoundPath = size22;
                                            row = row2;
                                            count = priority2;
                                            dismissIntent2 = dismissIntent;
                                            fileLocation3 = fileLocation;
                                            lastMessageObject4 = lastMessageObject;
                                            dialog_id2 = notifyAboutLast;
                                        }
                                        priority2 = count;
                                        fileLocation = fileLocation3;
                                        dialog_id2 = dialog_id;
                                        z3++;
                                        choosenSoundPath = choosenSoundPath2;
                                        rows = rows2;
                                        size = size2;
                                        defaultPath = defaultPath2;
                                        dismissIntent2 = dismissIntent2;
                                        dialog_id2 = notifyAboutLast;
                                    }
                                    defaultPath2 = defaultPath;
                                    lastMessageObject = lastMessageObject4;
                                    priority2 = count;
                                    dismissIntent = dismissIntent2;
                                    fileLocation = fileLocation3;
                                    dialog_id2 = dialog_id;
                                    replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                    replyIntent.putExtra("currentAccount", r12.currentAccount);
                                    if (VERSION.SDK_INT > 19) {
                                        mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    } else {
                                        mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                    }
                                    if (VERSION.SDK_INT < 26) {
                                        choosenSoundPath8 = choosenSoundPath2;
                                        notifyOverride = name;
                                        override_dialog_id = lastMessageObject;
                                        priorityOverride = chat2;
                                        silent3 = silent;
                                        notifyDelay = notifyAboutLast;
                                        mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                    } else {
                                        j = dialog_id2;
                                        i2 = notifyDelay;
                                        size = notifyOverride;
                                        j2 = override_dialog_id;
                                        i3 = priorityOverride;
                                        i4 = vibrateOverride;
                                        sharedPreferences = preferences;
                                        i5 = user_id;
                                        i6 = chat_id;
                                        user2 = user;
                                        pendingIntent = contentIntent;
                                        silent3 = silent;
                                        dismissDate2 = needVibrate2;
                                        choosenSoundPath8 = choosenSoundPath2;
                                        str3 = defaultPath2;
                                        i7 = priority2;
                                        intent = dismissIntent;
                                        fileLocation2 = fileLocation;
                                        notifyDelay = notifyAboutLast;
                                    }
                                    showExtraNotifications(mBuilder, notifyDelay, detailText);
                                    r12.lastNotificationIsNoData = false;
                                    scheduleNotificationRepeat();
                                    return;
                                }
                                choosenSoundPath2 = choosenSoundPath;
                                defaultPath2 = defaultPath;
                                lastMessageObject = lastMessageObject4;
                                priority2 = count;
                                dismissIntent = dismissIntent2;
                                fileLocation = fileLocation3;
                                dialog_id2 = dialog_id;
                                notifyOverride2 = false;
                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                if (VERSION.SDK_INT > 19) {
                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                } else {
                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                }
                                if (VERSION.SDK_INT < 26) {
                                    j = dialog_id2;
                                    i2 = notifyDelay;
                                    size = notifyOverride;
                                    j2 = override_dialog_id;
                                    i3 = priorityOverride;
                                    i4 = vibrateOverride;
                                    sharedPreferences = preferences;
                                    i5 = user_id;
                                    i6 = chat_id;
                                    user2 = user;
                                    pendingIntent = contentIntent;
                                    silent3 = silent;
                                    dismissDate2 = needVibrate2;
                                    choosenSoundPath8 = choosenSoundPath2;
                                    str3 = defaultPath2;
                                    i7 = priority2;
                                    intent = dismissIntent;
                                    fileLocation2 = fileLocation;
                                    notifyDelay = notifyAboutLast;
                                } else {
                                    choosenSoundPath8 = choosenSoundPath2;
                                    notifyOverride = name;
                                    override_dialog_id = lastMessageObject;
                                    priorityOverride = chat2;
                                    silent3 = silent;
                                    notifyDelay = notifyAboutLast;
                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                }
                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                r12.lastNotificationIsNoData = false;
                                scheduleNotificationRepeat();
                                return;
                            }
                        }
                        if (r12.pushDialogs.size() != 1) {
                            stringBuilder4 = new StringBuilder();
                            stringBuilder4.append(choosenSoundPath9);
                            objArr = new Object[2];
                            chatName = choosenSoundPath5;
                            objArr[0] = LocaleController.formatPluralString("NewMessages", r12.total_unread_count);
                            objArr[1] = LocaleController.formatPluralString("FromChats", r12.pushDialogs.size());
                            stringBuilder4.append(LocaleController.formatString("NotificationMessagesPeopleDisplayOrder", R.string.NotificationMessagesPeopleDisplayOrder, objArr));
                            detailText = stringBuilder4.toString();
                        } else {
                            stringBuilder4 = new StringBuilder();
                            stringBuilder4.append(choosenSoundPath9);
                            stringBuilder4.append(LocaleController.formatPluralString("NewMessages", r12.total_unread_count));
                            detailText = stringBuilder4.toString();
                            chatName = choosenSoundPath5;
                        }
                        mBuilder = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(str5).setSmallIcon(R.drawable.notification).setAutoCancel(true).setNumber(r12.total_unread_count).setContentIntent(contentIntent2).setGroup(r12.notificationGroup).setGroupSummary(true).setShowWhen(true).setWhen(((long) lastMessageObject4.messageOwner.date) * 1000).setColor(-13851168);
                        vibrationPattern3 = null;
                        mBuilder.setCategory("msg");
                        stringBuilder = new StringBuilder();
                        i = 0;
                        stringBuilder.append("tel:+");
                        stringBuilder.append(user3.phone);
                        mBuilder.addPerson(stringBuilder.toString());
                        silent2 = 2;
                        user = user3;
                        if (r12.pushMessages.size() == 1) {
                            messageObject = (MessageObject) r12.pushMessages.get(0);
                            lastMessage2 = null;
                            text = new boolean[1];
                            stringForMessage = getStringForMessage(messageObject, null, text);
                            message = stringForMessage;
                            lastMessage3 = stringForMessage;
                            choosenSoundPath5 = messageObject.messageOwner.silent;
                            choosenSoundPath9 = message;
                            if (choosenSoundPath9 != null) {
                                if (replace) {
                                    if (chat2 != null) {
                                        silent3 = choosenSoundPath5;
                                        choosenSoundPath5 = new StringBuilder();
                                        sound = null;
                                        choosenSoundPath5.append(" @ ");
                                        choosenSoundPath5.append(str5);
                                        message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                    } else {
                                        silent3 = choosenSoundPath5;
                                        sound = null;
                                        if (text[null]) {
                                            choosenSoundPath5 = new StringBuilder();
                                            choosenSoundPath5.append(str5);
                                            choosenSoundPath5.append(": ");
                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                        } else {
                                            choosenSoundPath5 = new StringBuilder();
                                            choosenSoundPath5.append(str5);
                                            choosenSoundPath5.append(" ");
                                            message = choosenSoundPath9.replace(choosenSoundPath5.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                        }
                                    }
                                    choosenSoundPath9 = message;
                                } else {
                                    silent3 = choosenSoundPath5;
                                    sound = null;
                                }
                                mBuilder.setContentText(choosenSoundPath9);
                                mBuilder.setStyle(new BigTextStyle().bigText(choosenSoundPath9));
                                contentIntent = contentIntent2;
                                dialog_id = dialog_id2;
                                defaultPath4 = defaultPath3;
                                notifyDelay = dismissDate2;
                                choosenSoundPath9 = lastMessage3;
                                priorityOverride2 = silent3;
                            } else {
                                return;
                            }
                        }
                        lastMessage2 = null;
                        sound = null;
                        mBuilder.setContentText(detailText);
                        inboxStyle = new InboxStyle();
                        inboxStyle.setBigContentTitle(str5);
                        count2 = Math.min(10, r12.pushMessages.size());
                        text2 = new boolean[1];
                        contentIntent = contentIntent2;
                        count = silent2;
                        chat_id2 = 0;
                        while (chat_id2 < count2) {
                            count3 = count2;
                            count4 = (MessageObject) r12.pushMessages.get(chat_id2);
                            dialog_id = dialog_id2;
                            message2 = getStringForMessage(count4, 0, text2);
                            if (message2 != null) {
                                defaultPath4 = defaultPath3;
                                notifyDelay = dismissDate2;
                                if (count4.messageOwner.date > notifyDelay) {
                                    if (count == 2) {
                                        lastMessage2 = message2;
                                        count = count4.messageOwner.silent;
                                    }
                                    messageObject2 = count4;
                                    if (chat2 != null) {
                                        count2 = new StringBuilder();
                                        count2.append(" @ ");
                                        count2.append(str5);
                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                    } else if (text2[0]) {
                                        count2 = new StringBuilder();
                                        count2.append(str5);
                                        count2.append(": ");
                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                    } else {
                                        count2 = new StringBuilder();
                                        count2.append(str5);
                                        count2.append(" ");
                                        message2 = message2.replace(count2.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                    }
                                    inboxStyle.addLine(message2);
                                }
                            } else {
                                defaultPath4 = defaultPath3;
                                notifyDelay = dismissDate2;
                            }
                            chat_id2++;
                            dismissDate2 = notifyDelay;
                            count2 = count3;
                            dialog_id2 = dialog_id;
                            defaultPath3 = defaultPath4;
                        }
                        dialog_id = dialog_id2;
                        defaultPath4 = defaultPath3;
                        notifyDelay = dismissDate2;
                        inboxStyle.setSummaryText(detailText);
                        mBuilder.setStyle(inboxStyle);
                        priorityOverride2 = count;
                        choosenSoundPath9 = lastMessage2;
                        dismissIntent2 = new Intent(ApplicationLoader.applicationContext, NotificationDismissReceiver.class);
                        dismissIntent2.putExtra("messageDate", lastMessageObject4.messageOwner.date);
                        dismissIntent2.putExtra("currentAccount", r12.currentAccount);
                        mBuilder.setDeleteIntent(PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 1, dismissIntent2, 134217728));
                        if (fileLocation3 != null) {
                            img = ImageLoader.getInstance().getImageFromMemory(fileLocation3, null, "50_50");
                            if (img != null) {
                                mBuilder.setLargeIcon(img.getBitmap());
                                name = str5;
                            } else {
                                file = FileLoader.getPathToAttach(fileLocation3, true);
                                if (file.exists()) {
                                    scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                    options = new Options();
                                    if (scaleFactor < 1.0f) {
                                        name = str5;
                                        str5 = true;
                                    } else {
                                        name = str5;
                                        str5 = (int) scaleFactor;
                                    }
                                    options.inSampleSize = str5;
                                    str5 = BitmapFactory.decodeFile(file.getAbsolutePath(), options);
                                    if (str5 != null) {
                                        mBuilder.setLargeIcon(str5);
                                    }
                                } else {
                                    name = str5;
                                }
                            }
                        } else {
                            name = str5;
                        }
                        z = notifyAboutLast;
                        if (z) {
                            count = priority;
                        } else if (priorityOverride2 == 1) {
                            count = priority;
                        } else {
                            if (priority == 0) {
                                mBuilder.setPriority(0);
                                if (VERSION.SDK_INT >= 26) {
                                    i = 3;
                                }
                                count = priority;
                            } else {
                                count = priority;
                                if (count != 1) {
                                    if (count == 2) {
                                        if (count != 4) {
                                            mBuilder.setPriority(-2);
                                            if (VERSION.SDK_INT >= 26) {
                                                user_id2 = 1;
                                                i = user_id2;
                                            }
                                        } else if (count == 5) {
                                            mBuilder.setPriority(-1);
                                            if (VERSION.SDK_INT >= 26) {
                                                user_id2 = 2;
                                                i = user_id2;
                                            }
                                        }
                                    }
                                }
                                mBuilder.setPriority(1);
                                if (VERSION.SDK_INT >= 26) {
                                    user_id2 = 4;
                                    i = user_id2;
                                }
                            }
                            if (priorityOverride2 != 1) {
                            }
                            lastMessage = choosenSoundPath9;
                            silent = priorityOverride2;
                            needVibrate2 = needVibrate;
                            choosenSoundPath = str;
                            priorityOverride2 = ledColor;
                            defaultPath = defaultPath4;
                            jArr = new long[]{0, 0};
                            vibrationPattern = jArr;
                            mBuilder.setVibrate(jArr);
                            vibrationPattern2 = vibrationPattern;
                            sound2 = sound;
                            str2 = lastMessage;
                            if (AndroidUtilities.needShowPasscode(false)) {
                                rows = lastMessageObject4.messageOwner.reply_markup.rows;
                                size = rows.size();
                                notifyOverride2 = false;
                                z3 = false;
                                while (true) {
                                    choosenSoundPath2 = choosenSoundPath;
                                    choosenSoundPath = size;
                                    if (z3 < choosenSoundPath) {
                                        break;
                                    }
                                    rows2 = rows;
                                    size2 = choosenSoundPath;
                                    row = (TL_keyboardButtonRow) rows.get(z3);
                                    choosenSoundPath = row.buttons.size();
                                    defaultPath2 = defaultPath;
                                    defaultPath = 0;
                                    while (defaultPath < choosenSoundPath) {
                                        size22 = choosenSoundPath;
                                        choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                        row2 = row;
                                        if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                            priority2 = count;
                                            callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                            callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                            dismissIntent = dismissIntent2;
                                            dialog_id2 = dialog_id;
                                            callbackIntent.putExtra("did", dialog_id2);
                                            if (choosenSoundPath3.data == null) {
                                                fileLocation = fileLocation3;
                                                callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                            } else {
                                                fileLocation = fileLocation3;
                                            }
                                            callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                            charSequence = choosenSoundPath3.text;
                                            context = ApplicationLoader.applicationContext;
                                            button = choosenSoundPath3;
                                            choosenSoundPath = r12.lastButtonId;
                                            lastMessageObject = lastMessageObject4;
                                            r12.lastButtonId = choosenSoundPath + 1;
                                            mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                            notifyOverride2 = true;
                                        } else {
                                            lastMessageObject = lastMessageObject4;
                                            priority2 = count;
                                            dismissIntent = dismissIntent2;
                                            fileLocation = fileLocation3;
                                            dialog_id2 = dialog_id;
                                        }
                                        defaultPath++;
                                        dialog_id = dialog_id2;
                                        choosenSoundPath = size22;
                                        row = row2;
                                        count = priority2;
                                        dismissIntent2 = dismissIntent;
                                        fileLocation3 = fileLocation;
                                        lastMessageObject4 = lastMessageObject;
                                        dialog_id2 = notifyAboutLast;
                                    }
                                    priority2 = count;
                                    fileLocation = fileLocation3;
                                    dialog_id2 = dialog_id;
                                    z3++;
                                    choosenSoundPath = choosenSoundPath2;
                                    rows = rows2;
                                    size = size2;
                                    defaultPath = defaultPath2;
                                    dismissIntent2 = dismissIntent2;
                                    dialog_id2 = notifyAboutLast;
                                }
                                defaultPath2 = defaultPath;
                                lastMessageObject = lastMessageObject4;
                                priority2 = count;
                                dismissIntent = dismissIntent2;
                                fileLocation = fileLocation3;
                                dialog_id2 = dialog_id;
                                replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                                replyIntent.putExtra("currentAccount", r12.currentAccount);
                                if (VERSION.SDK_INT > 19) {
                                    mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                } else {
                                    mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                                }
                                if (VERSION.SDK_INT < 26) {
                                    choosenSoundPath8 = choosenSoundPath2;
                                    notifyOverride = name;
                                    override_dialog_id = lastMessageObject;
                                    priorityOverride = chat2;
                                    silent3 = silent;
                                    notifyDelay = notifyAboutLast;
                                    mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                                } else {
                                    j = dialog_id2;
                                    i2 = notifyDelay;
                                    size = notifyOverride;
                                    j2 = override_dialog_id;
                                    i3 = priorityOverride;
                                    i4 = vibrateOverride;
                                    sharedPreferences = preferences;
                                    i5 = user_id;
                                    i6 = chat_id;
                                    user2 = user;
                                    pendingIntent = contentIntent;
                                    silent3 = silent;
                                    dismissDate2 = needVibrate2;
                                    choosenSoundPath8 = choosenSoundPath2;
                                    str3 = defaultPath2;
                                    i7 = priority2;
                                    intent = dismissIntent;
                                    fileLocation2 = fileLocation;
                                    notifyDelay = notifyAboutLast;
                                }
                                showExtraNotifications(mBuilder, notifyDelay, detailText);
                                r12.lastNotificationIsNoData = false;
                                scheduleNotificationRepeat();
                                return;
                            }
                            choosenSoundPath2 = choosenSoundPath;
                            defaultPath2 = defaultPath;
                            lastMessageObject = lastMessageObject4;
                            priority2 = count;
                            dismissIntent = dismissIntent2;
                            fileLocation = fileLocation3;
                            dialog_id2 = dialog_id;
                            notifyOverride2 = false;
                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                            if (VERSION.SDK_INT > 19) {
                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                            } else {
                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                            }
                            if (VERSION.SDK_INT < 26) {
                                j = dialog_id2;
                                i2 = notifyDelay;
                                size = notifyOverride;
                                j2 = override_dialog_id;
                                i3 = priorityOverride;
                                i4 = vibrateOverride;
                                sharedPreferences = preferences;
                                i5 = user_id;
                                i6 = chat_id;
                                user2 = user;
                                pendingIntent = contentIntent;
                                silent3 = silent;
                                dismissDate2 = needVibrate2;
                                choosenSoundPath8 = choosenSoundPath2;
                                str3 = defaultPath2;
                                i7 = priority2;
                                intent = dismissIntent;
                                fileLocation2 = fileLocation;
                                notifyDelay = notifyAboutLast;
                            } else {
                                choosenSoundPath8 = choosenSoundPath2;
                                notifyOverride = name;
                                override_dialog_id = lastMessageObject;
                                priorityOverride = chat2;
                                silent3 = silent;
                                notifyDelay = notifyAboutLast;
                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                            }
                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                            r12.lastNotificationIsNoData = false;
                            scheduleNotificationRepeat();
                            return;
                        }
                    } catch (Exception e4) {
                        e322 = e4;
                        z2 = notifyAboutLast;
                        e2 = e322;
                        FileLog.m3e(e2);
                        return;
                    }
                    try {
                        mBuilder.setPriority(-1);
                        if (VERSION.SDK_INT >= 26) {
                            user_id2 = 2;
                            i = user_id2;
                        }
                        if (priorityOverride2 != 1) {
                        }
                        lastMessage = choosenSoundPath9;
                        silent = priorityOverride2;
                        needVibrate2 = needVibrate;
                        choosenSoundPath = str;
                        priorityOverride2 = ledColor;
                        defaultPath = defaultPath4;
                        jArr = new long[]{0, 0};
                        vibrationPattern = jArr;
                        mBuilder.setVibrate(jArr);
                        vibrationPattern2 = vibrationPattern;
                        sound2 = sound;
                        str2 = lastMessage;
                        if (AndroidUtilities.needShowPasscode(false)) {
                            rows = lastMessageObject4.messageOwner.reply_markup.rows;
                            size = rows.size();
                            notifyOverride2 = false;
                            z3 = false;
                            while (true) {
                                choosenSoundPath2 = choosenSoundPath;
                                choosenSoundPath = size;
                                if (z3 < choosenSoundPath) {
                                    break;
                                }
                                rows2 = rows;
                                size2 = choosenSoundPath;
                                row = (TL_keyboardButtonRow) rows.get(z3);
                                choosenSoundPath = row.buttons.size();
                                defaultPath2 = defaultPath;
                                defaultPath = 0;
                                while (defaultPath < choosenSoundPath) {
                                    size22 = choosenSoundPath;
                                    choosenSoundPath3 = (KeyboardButton) row.buttons.get(defaultPath);
                                    row2 = row;
                                    if ((choosenSoundPath3 instanceof TL_keyboardButtonCallback) == null) {
                                        lastMessageObject = lastMessageObject4;
                                        priority2 = count;
                                        dismissIntent = dismissIntent2;
                                        fileLocation = fileLocation3;
                                        dialog_id2 = dialog_id;
                                    } else {
                                        priority2 = count;
                                        callbackIntent = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                        callbackIntent.putExtra("currentAccount", r12.currentAccount);
                                        dismissIntent = dismissIntent2;
                                        dialog_id2 = dialog_id;
                                        callbackIntent.putExtra("did", dialog_id2);
                                        if (choosenSoundPath3.data == null) {
                                            fileLocation = fileLocation3;
                                        } else {
                                            fileLocation = fileLocation3;
                                            callbackIntent.putExtra(DataSchemeDataSource.SCHEME_DATA, choosenSoundPath3.data);
                                        }
                                        callbackIntent.putExtra("mid", lastMessageObject4.getId());
                                        charSequence = choosenSoundPath3.text;
                                        context = ApplicationLoader.applicationContext;
                                        button = choosenSoundPath3;
                                        choosenSoundPath = r12.lastButtonId;
                                        lastMessageObject = lastMessageObject4;
                                        r12.lastButtonId = choosenSoundPath + 1;
                                        mBuilder.addAction(0, charSequence, PendingIntent.getBroadcast(context, choosenSoundPath, callbackIntent, 134217728));
                                        notifyOverride2 = true;
                                    }
                                    defaultPath++;
                                    dialog_id = dialog_id2;
                                    choosenSoundPath = size22;
                                    row = row2;
                                    count = priority2;
                                    dismissIntent2 = dismissIntent;
                                    fileLocation3 = fileLocation;
                                    lastMessageObject4 = lastMessageObject;
                                    dialog_id2 = notifyAboutLast;
                                }
                                priority2 = count;
                                fileLocation = fileLocation3;
                                dialog_id2 = dialog_id;
                                z3++;
                                choosenSoundPath = choosenSoundPath2;
                                rows = rows2;
                                size = size2;
                                defaultPath = defaultPath2;
                                dismissIntent2 = dismissIntent2;
                                dialog_id2 = notifyAboutLast;
                            }
                            defaultPath2 = defaultPath;
                            lastMessageObject = lastMessageObject4;
                            priority2 = count;
                            dismissIntent = dismissIntent2;
                            fileLocation = fileLocation3;
                            dialog_id2 = dialog_id;
                            replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                            replyIntent.putExtra("currentAccount", r12.currentAccount);
                            if (VERSION.SDK_INT > 19) {
                                mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                            } else {
                                mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                            }
                            if (VERSION.SDK_INT < 26) {
                                choosenSoundPath8 = choosenSoundPath2;
                                notifyOverride = name;
                                override_dialog_id = lastMessageObject;
                                priorityOverride = chat2;
                                silent3 = silent;
                                notifyDelay = notifyAboutLast;
                                mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                            } else {
                                j = dialog_id2;
                                i2 = notifyDelay;
                                size = notifyOverride;
                                j2 = override_dialog_id;
                                i3 = priorityOverride;
                                i4 = vibrateOverride;
                                sharedPreferences = preferences;
                                i5 = user_id;
                                i6 = chat_id;
                                user2 = user;
                                pendingIntent = contentIntent;
                                silent3 = silent;
                                dismissDate2 = needVibrate2;
                                choosenSoundPath8 = choosenSoundPath2;
                                str3 = defaultPath2;
                                i7 = priority2;
                                intent = dismissIntent;
                                fileLocation2 = fileLocation;
                                notifyDelay = notifyAboutLast;
                            }
                            showExtraNotifications(mBuilder, notifyDelay, detailText);
                            r12.lastNotificationIsNoData = false;
                            scheduleNotificationRepeat();
                            return;
                        }
                        choosenSoundPath2 = choosenSoundPath;
                        defaultPath2 = defaultPath;
                        lastMessageObject = lastMessageObject4;
                        priority2 = count;
                        dismissIntent = dismissIntent2;
                        fileLocation = fileLocation3;
                        dialog_id2 = dialog_id;
                        notifyOverride2 = false;
                        replyIntent = new Intent(ApplicationLoader.applicationContext, PopupReplyReceiver.class);
                        replyIntent.putExtra("currentAccount", r12.currentAccount);
                        if (VERSION.SDK_INT > 19) {
                            mBuilder.addAction(R.drawable.ic_ab_reply, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                        } else {
                            mBuilder.addAction(R.drawable.ic_ab_reply2, LocaleController.getString("Reply", R.string.Reply), PendingIntent.getBroadcast(ApplicationLoader.applicationContext, 2, replyIntent, 134217728));
                        }
                        if (VERSION.SDK_INT < 26) {
                            j = dialog_id2;
                            i2 = notifyDelay;
                            size = notifyOverride;
                            j2 = override_dialog_id;
                            i3 = priorityOverride;
                            i4 = vibrateOverride;
                            sharedPreferences = preferences;
                            i5 = user_id;
                            i6 = chat_id;
                            user2 = user;
                            pendingIntent = contentIntent;
                            silent3 = silent;
                            dismissDate2 = needVibrate2;
                            choosenSoundPath8 = choosenSoundPath2;
                            str3 = defaultPath2;
                            i7 = priority2;
                            intent = dismissIntent;
                            fileLocation2 = fileLocation;
                            notifyDelay = notifyAboutLast;
                        } else {
                            choosenSoundPath8 = choosenSoundPath2;
                            notifyOverride = name;
                            override_dialog_id = lastMessageObject;
                            priorityOverride = chat2;
                            silent3 = silent;
                            notifyDelay = notifyAboutLast;
                            mBuilder.setChannelId(validateChannelId(dialog_id2, chatName, vibrationPattern2, priorityOverride2, sound2, i, configVibrationPattern, configSound, i9));
                        }
                        showExtraNotifications(mBuilder, notifyDelay, detailText);
                        r12.lastNotificationIsNoData = false;
                        scheduleNotificationRepeat();
                    } catch (Exception e5) {
                        e322 = e5;
                        z2 = z;
                        e2 = e322;
                        FileLog.m3e(e2);
                        return;
                    }
                    return;
                } catch (Exception e6) {
                    e322 = e6;
                    e2 = e322;
                    FileLog.m3e(e2);
                    return;
                }
            }
        }
        dismissNotification();
    }

    @SuppressLint({"InlinedApi"})
    private void showExtraNotifications(NotificationCompat.Builder notificationBuilder, boolean notifyAboutLast, String summary) {
        JSONArray serializedNotifications;
        ArrayList<AnonymousClass1NotificationHolder> holders;
        int max_date;
        User user;
        Integer internalId;
        boolean canReply;
        int rowsMid;
        ArrayList<MessageObject> messageObjects;
        boolean[] zArr;
        Action action;
        int i;
        JSONArray serializedMsgs;
        int max_id;
        User user2;
        Integer internalId2;
        User user3;
        NotificationCompat.Builder builder;
        Integer num;
        String str;
        JSONObject jSONObject;
        boolean z;
        JSONArray builder2;
        NotificationsController notificationsController = this;
        Notification mainNotification = notificationBuilder.build();
        if (VERSION.SDK_INT < 18) {
            notificationManager.notify(notificationsController.notificationId, mainNotification);
            return;
        }
        int a;
        ArrayList<Long> sortedDialogs;
        LongSparseArray<ArrayList<MessageObject>> messagesByDialogs;
        LongSparseArray<Integer> oldIdsWear;
        JSONArray serializedNotifications2;
        ArrayList<AnonymousClass1NotificationHolder> holders2;
        int i2;
        int a2;
        ArrayList<Long> sortedDialogs2 = new ArrayList();
        LongSparseArray<ArrayList<MessageObject>> messagesByDialogs2 = new LongSparseArray();
        int i3 = 0;
        for (a = 0; a < notificationsController.pushMessages.size(); a++) {
            MessageObject messageObject = (MessageObject) notificationsController.pushMessages.get(a);
            long dialog_id = messageObject.getDialogId();
            ArrayList<MessageObject> arrayList = (ArrayList) messagesByDialogs2.get(dialog_id);
            if (arrayList == null) {
                arrayList = new ArrayList();
                messagesByDialogs2.put(dialog_id, arrayList);
                sortedDialogs2.add(0, Long.valueOf(dialog_id));
            }
            arrayList.add(messageObject);
        }
        LongSparseArray<Integer> oldIdsWear2 = notificationsController.wearNotificationsIds.clone();
        notificationsController.wearNotificationsIds.clear();
        ArrayList<AnonymousClass1NotificationHolder> holders3 = new ArrayList();
        JSONArray serializedNotifications3 = null;
        if (WearDataLayerListenerService.isWatchConnected()) {
            serializedNotifications3 = new JSONArray();
        }
        int b = 0;
        int size = sortedDialogs2.size();
        while (b < size) {
            Notification mainNotification2;
            int b2;
            long dialog_id2 = ((Long) sortedDialogs2.get(b)).longValue();
            ArrayList<MessageObject> messageObjects2 = (ArrayList) messagesByDialogs2.get(dialog_id2);
            int max_id2 = ((MessageObject) messageObjects2.get(i3)).getId();
            int lowerId = (int) dialog_id2;
            sortedDialogs = sortedDialogs2;
            messagesByDialogs = messagesByDialogs2;
            int highId = (int) (dialog_id2 >> 32);
            Integer internalId3 = (Integer) oldIdsWear2.get(dialog_id2);
            if (internalId3 != null) {
                oldIdsWear2.remove(dialog_id2);
            } else if (lowerId != 0) {
                internalId3 = Integer.valueOf(lowerId);
            } else {
                internalId3 = Integer.valueOf(highId);
            }
            JSONObject serializedChat = null;
            if (serializedNotifications3 != null) {
                serializedChat = new JSONObject();
            }
            MessageObject lastMessageObject = (MessageObject) messageObjects2.get(0);
            int size2 = size;
            size = lastMessageObject.messageOwner.date;
            Chat chat = null;
            User user4 = null;
            boolean isChannel = false;
            boolean isSupergroup = false;
            FileLocation fileLocation = null;
            oldIdsWear = oldIdsWear2;
            boolean z2;
            MessageObject messageObject2;
            String name;
            User user5;
            boolean z3;
            FileLocation photoPath;
            JSONObject serializedChat2;
            int highId2;
            Intent msgHeardIntent;
            PendingIntent msgHeardPendingIntent;
            Intent intent;
            PendingIntent pendingIntent;
            Action action2;
            Action wearReplyAction;
            Integer count;
            MessagingStyle messagingStyle;
            Object[] objArr;
            FileLocation photoPath2;
            MessagingStyle messagingStyle2;
            StringBuilder text;
            boolean[] isText;
            JSONArray serializedMsgs2;
            ArrayList<TL_keyboardButtonRow> rows;
            ArrayList<TL_keyboardButtonRow> rows2;
            ArrayList<TL_keyboardButtonRow> rows3;
            MessageObject messageObject3;
            String name2;
            String message;
            StringBuilder stringBuilder;
            String nameToReplace;
            User sender;
            Intent intent2;
            StringBuilder stringBuilder2;
            int highId3;
            PendingIntent contentIntent;
            WearableExtender wearableExtender;
            StringBuilder stringBuilder3;
            Intent intent3;
            StringBuilder stringBuilder4;
            String dismissalID;
            WearableExtender summaryExtender;
            long date;
            String name3;
            NotificationCompat.Builder showWhen;
            String str2;
            Notification unreadConvBuilder;
            File file;
            float scaleFactor;
            MessagingStyle img;
            Bitmap bitmap;
            WearableExtender wearableExtender2;
            long j;
            int i4;
            ArrayList<TL_keyboardButtonRow> arrayList2;
            MessagingStyle messagingStyle3;
            if (lowerId != 0) {
                z2 = true;
                if (lowerId > 0) {
                    mainNotification2 = mainNotification;
                    mainNotification = MessagesController.getInstance(notificationsController.currentAccount).getUser(Integer.valueOf(lowerId));
                    if (mainNotification != null) {
                        String name4 = UserObject.getUserName(mainNotification);
                        if (mainNotification.photo == null || mainNotification.photo.photo_small == null) {
                            serializedNotifications = serializedNotifications3;
                            b2 = b;
                        } else {
                            serializedNotifications = serializedNotifications3;
                            b2 = b;
                            if (!(mainNotification.photo.photo_small.volume_id == null || mainNotification.photo.photo_small.local_id == 0)) {
                                messageObject2 = lastMessageObject;
                                fileLocation = mainNotification.photo.photo_small;
                                name = name4;
                            }
                        }
                        name = name4;
                    } else if (lastMessageObject.isFcmMessage()) {
                        name = lastMessageObject.localName;
                        messageObject2 = lastMessageObject;
                        serializedNotifications = serializedNotifications3;
                        b2 = b;
                    } else {
                        serializedNotifications2 = serializedNotifications3;
                        b2 = b;
                        holders2 = holders3;
                        b = b2 + 1;
                        holders3 = holders2;
                        messagesByDialogs2 = messagesByDialogs;
                        size = size2;
                        oldIdsWear2 = oldIdsWear;
                        mainNotification = mainNotification2;
                        i3 = 0;
                        serializedNotifications3 = serializedNotifications2;
                        sortedDialogs2 = sortedDialogs;
                    }
                    user5 = mainNotification;
                    mainNotification = serializedChat;
                } else {
                    mainNotification2 = mainNotification;
                    serializedNotifications = serializedNotifications3;
                    b2 = b;
                    mainNotification = MessagesController.getInstance(notificationsController.currentAccount).getChat(Integer.valueOf(-lowerId));
                    if (mainNotification != null) {
                        boolean isSupergroup2;
                        boolean isSupergroup3 = mainNotification.megagroup;
                        z3 = ChatObject.isChannel(mainNotification) && !mainNotification.megagroup;
                        isChannel = z3;
                        serializedNotifications3 = mainNotification.title;
                        if (mainNotification.photo == null || mainNotification.photo.photo_small == null) {
                            isSupergroup2 = isSupergroup3;
                        } else {
                            messageObject2 = lastMessageObject;
                            isSupergroup2 = isSupergroup3;
                            if (!(mainNotification.photo.photo_small.volume_id == null || mainNotification.photo.photo_small.local_id == null)) {
                                chat = mainNotification;
                                fileLocation = mainNotification.photo.photo_small;
                                name = serializedNotifications3;
                                mainNotification = serializedChat;
                                user5 = null;
                                isSupergroup = isSupergroup2;
                            }
                        }
                        chat = mainNotification;
                        name = serializedNotifications3;
                        mainNotification = serializedChat;
                        user5 = null;
                        isSupergroup = isSupergroup2;
                    } else if (lastMessageObject.isFcmMessage()) {
                        isSupergroup = lastMessageObject.isMegagroup();
                        name = lastMessageObject.localName;
                        chat = mainNotification;
                        messageObject2 = lastMessageObject;
                        isChannel = lastMessageObject.localChannel;
                        mainNotification = serializedChat;
                        user5 = user4;
                    }
                }
                if (!AndroidUtilities.needShowPasscode(false)) {
                    if (SharedConfig.isWaitingForPasscodeEnter) {
                    }
                    photoPath = fileLocation;
                    z3 = z2;
                    holders = holders3;
                    serializedChat2 = mainNotification;
                    highId2 = highId;
                    mainNotification = new UnreadConversation.Builder(name).setLatestTimestamp(((long) size) * 1000);
                    max_date = size;
                    msgHeardIntent = new Intent(ApplicationLoader.applicationContext, AutoMessageHeardReceiver.class);
                    msgHeardIntent.addFlags(32);
                    msgHeardIntent.setAction("org.telegram.messenger.ACTION_MESSAGE_HEARD");
                    msgHeardIntent.putExtra("dialog_id", dialog_id2);
                    msgHeardIntent.putExtra("max_id", max_id2);
                    msgHeardIntent.putExtra("currentAccount", notificationsController.currentAccount);
                    user = user5;
                    msgHeardPendingIntent = PendingIntent.getBroadcast(ApplicationLoader.applicationContext, internalId3.intValue(), msgHeardIntent, 134217728);
                    mainNotification.setReadPendingIntent(msgHeardPendingIntent);
                    if (isChannel) {
                        if (!isSupergroup) {
                            intent = msgHeardIntent;
                            internalId = internalId3;
                            pendingIntent = msgHeardPendingIntent;
                            canReply = z3;
                            action2 = null;
                            wearReplyAction = action2;
                            count = (Integer) notificationsController.pushDialogs.get(dialog_id2);
                            if (count == null) {
                                i2 = 0;
                                count = Integer.valueOf(0);
                            } else {
                                i2 = 0;
                            }
                            messagingStyle = new MessagingStyle(TtmlNode.ANONYMOUS_REGION_ID);
                            objArr = new Object[2];
                            objArr[i2] = name;
                            photoPath2 = photoPath;
                            objArr[1] = LocaleController.formatPluralString("NewMessages", Math.max(count.intValue(), messageObjects2.size()));
                            messagingStyle2 = messagingStyle.setConversationTitle(String.format("%1$s (%2$s)", objArr));
                            text = new StringBuilder();
                            isText = new boolean[1];
                            serializedMsgs2 = null;
                            if (serializedChat2 != null) {
                                rows = null;
                                serializedMsgs2 = new JSONArray();
                            } else {
                                rows = null;
                            }
                            i2 = messageObjects2.size() - 1;
                            rowsMid = 0;
                            rows2 = rows;
                            while (true) {
                                rows3 = rows2;
                                if (i2 < 0) {
                                    break;
                                }
                                messageObject3 = (MessageObject) messageObjects2.get(i2);
                                name2 = name;
                                messageObjects = messageObjects2;
                                message = getStringForMessage(messageObject3, null, isText);
                                name = messageObject3.isFcmMessage() != null ? messageObject3.localName : name2;
                                if (message == null) {
                                    zArr = isText;
                                    action = wearReplyAction;
                                    i = max_id2;
                                } else {
                                    if (lowerId < 0) {
                                        i = max_id2;
                                        stringBuilder = new StringBuilder();
                                        action = wearReplyAction;
                                        stringBuilder.append(" @ ");
                                        stringBuilder.append(name);
                                        wearReplyAction = message.replace(stringBuilder.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                    } else {
                                        action = wearReplyAction;
                                        i = max_id2;
                                        if (isText[null]) {
                                            wearReplyAction = new StringBuilder();
                                            wearReplyAction.append(name);
                                            wearReplyAction.append(": ");
                                            wearReplyAction = message.replace(wearReplyAction.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                        } else {
                                            wearReplyAction = new StringBuilder();
                                            wearReplyAction.append(name);
                                            wearReplyAction.append(" ");
                                            wearReplyAction = message.replace(wearReplyAction.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                        }
                                    }
                                    if (text.length() > 0) {
                                        text.append("\n\n");
                                    }
                                    text.append(wearReplyAction);
                                    mainNotification.addMessage(wearReplyAction);
                                    nameToReplace = name;
                                    messagingStyle2.addMessage(wearReplyAction, ((long) messageObject3.messageOwner.date) * 1000, null);
                                    if (serializedMsgs2 != null) {
                                        try {
                                            name = new JSONObject();
                                            name.put(MimeTypes.BASE_TYPE_TEXT, getShortStringForMessage(messageObject3));
                                            name.put("date", messageObject3.messageOwner.date);
                                            if (messageObject3.isFromUser() && lowerId < 0) {
                                                sender = MessagesController.getInstance(notificationsController.currentAccount).getUser(Integer.valueOf(messageObject3.getFromId()));
                                                if (sender != null) {
                                                    zArr = isText;
                                                    try {
                                                        name.put("fname", sender.first_name);
                                                        name.put("lname", sender.last_name);
                                                        serializedMsgs2.put(name);
                                                    } catch (JSONException e) {
                                                        name = messageObject3.messageOwner.reply_markup.rows;
                                                        isText = messageObject3.getId();
                                                        rows2 = name;
                                                        rowsMid = isText;
                                                        i2--;
                                                        name = name2;
                                                        messageObjects2 = messageObjects;
                                                        max_id2 = i;
                                                        wearReplyAction = action;
                                                        isText = zArr;
                                                    }
                                                }
                                            }
                                            zArr = isText;
                                            serializedMsgs2.put(name);
                                        } catch (JSONException e2) {
                                            zArr = isText;
                                            name = messageObject3.messageOwner.reply_markup.rows;
                                            isText = messageObject3.getId();
                                            rows2 = name;
                                            rowsMid = isText;
                                            i2--;
                                            name = name2;
                                            messageObjects2 = messageObjects;
                                            max_id2 = i;
                                            wearReplyAction = action;
                                            isText = zArr;
                                        }
                                    } else {
                                        zArr = isText;
                                    }
                                    if (dialog_id2 == 777000 && messageObject3.messageOwner.reply_markup != null) {
                                        name = messageObject3.messageOwner.reply_markup.rows;
                                        isText = messageObject3.getId();
                                        rows2 = name;
                                        rowsMid = isText;
                                        i2--;
                                        name = name2;
                                        messageObjects2 = messageObjects;
                                        max_id2 = i;
                                        wearReplyAction = action;
                                        isText = zArr;
                                    }
                                }
                                rows2 = rows3;
                                i2--;
                                name = name2;
                                messageObjects2 = messageObjects;
                                max_id2 = i;
                                wearReplyAction = action;
                                isText = zArr;
                            }
                            name2 = name;
                            zArr = isText;
                            action = wearReplyAction;
                            messageObjects = messageObjects2;
                            i = max_id2;
                            intent2 = new Intent(ApplicationLoader.applicationContext, LaunchActivity.class);
                            stringBuilder2 = new StringBuilder();
                            stringBuilder2.append("com.tmessages.openchat");
                            stringBuilder2.append(Math.random());
                            stringBuilder2.append(ConnectionsManager.DEFAULT_DATACENTER_ID);
                            intent2.setAction(stringBuilder2.toString());
                            intent2.setFlags(32768);
                            if (lowerId != 0) {
                                if (lowerId > 0) {
                                    intent2.putExtra("userId", lowerId);
                                } else {
                                    intent2.putExtra("chatId", -lowerId);
                                }
                                highId3 = highId2;
                            } else {
                                highId3 = highId2;
                                intent2.putExtra("encId", highId3);
                            }
                            intent2.putExtra("currentAccount", notificationsController.currentAccount);
                            contentIntent = PendingIntent.getActivity(ApplicationLoader.applicationContext, 0, intent2, NUM);
                            wearableExtender = new WearableExtender();
                            if (action != null) {
                                wearReplyAction = action;
                                wearableExtender.addAction(wearReplyAction);
                            } else {
                                wearReplyAction = action;
                            }
                            if (lowerId == 0) {
                                max_id2 = i;
                                stringBuilder3 = new StringBuilder();
                                stringBuilder3.append("tgenc");
                                stringBuilder3.append(highId3);
                                stringBuilder3.append("_");
                                stringBuilder3.append(max_id2);
                                message = stringBuilder3.toString();
                            } else if (lowerId > 0) {
                                message = new StringBuilder();
                                message.append("tguser");
                                message.append(lowerId);
                                message.append("_");
                                max_id2 = i;
                                message.append(max_id2);
                                message = message.toString();
                                intent3 = intent2;
                            } else {
                                max_id2 = i;
                                stringBuilder4 = new StringBuilder();
                                stringBuilder4.append("tgchat");
                                stringBuilder4.append(-lowerId);
                                stringBuilder4.append("_");
                                stringBuilder4.append(max_id2);
                                message = stringBuilder4.toString();
                            }
                            dismissalID = message;
                            wearableExtender.setDismissalId(dismissalID);
                            stringBuilder4 = new StringBuilder();
                            stringBuilder4.append("tgaccount");
                            stringBuilder4.append(UserConfig.getInstance(notificationsController.currentAccount).getClientUserId());
                            wearableExtender.setBridgeTag(stringBuilder4.toString());
                            summaryExtender = new WearableExtender();
                            stringBuilder4 = new StringBuilder();
                            stringBuilder4.append("summary_");
                            stringBuilder4.append(dismissalID);
                            summaryExtender.setDismissalId(stringBuilder4.toString());
                            notificationBuilder.extend(summaryExtender);
                            messageObjects2 = messageObjects;
                            serializedMsgs = serializedMsgs2;
                            date = ((long) ((MessageObject) messageObjects2.get(null)).messageOwner.date) * 1000;
                            name3 = name2;
                            max_id = max_id2;
                            showWhen = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(name3).setSmallIcon(R.drawable.notification).setGroup(notificationsController.notificationGroup).setContentText(text.toString()).setAutoCancel(true).setNumber(messageObjects2.size()).setColor(-13851168).setGroupSummary(false).setWhen(date).setShowWhen(true);
                            stringBuilder = new StringBuilder();
                            stringBuilder.append("sdid_");
                            stringBuilder.append(dialog_id2);
                            showWhen = showWhen.setShortcutId(stringBuilder.toString()).setGroupAlertBehavior(1).setStyle(messagingStyle2).setContentIntent(contentIntent).extend(wearableExtender);
                            text = new StringBuilder();
                            text.append(TtmlNode.ANONYMOUS_REGION_ID);
                            text.append(Long.MAX_VALUE - date);
                            showWhen = showWhen.setSortKey(text.toString()).extend(new CarExtender().setUnreadConversation(mainNotification.build())).setCategory("msg");
                            if (notificationsController.pushDialogs.size() == 1 || TextUtils.isEmpty(summary)) {
                                str2 = summary;
                            } else {
                                showWhen.setSubText(summary);
                            }
                            if (lowerId == 0) {
                                showWhen.setLocalOnly(true);
                            }
                            if (photoPath2 != null) {
                                unreadConvBuilder = mainNotification;
                                mainNotification = photoPath2;
                                messagingStyle2 = ImageLoader.getInstance().getImageFromMemory(mainNotification, null, "50_50");
                                if (messagingStyle2 != null) {
                                    showWhen.setLargeIcon(messagingStyle2.getBitmap());
                                } else {
                                    try {
                                        file = FileLoader.getPathToAttach(mainNotification, true);
                                        if (file.exists()) {
                                            scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                            img = messagingStyle2;
                                            try {
                                                messagingStyle2 = new Options();
                                                messagingStyle2.inSampleSize = scaleFactor < 1.0f ? 1 : (int) scaleFactor;
                                                bitmap = BitmapFactory.decodeFile(file.getAbsolutePath(), messagingStyle2);
                                                if (bitmap != null) {
                                                    showWhen.setLargeIcon(bitmap);
                                                }
                                            } catch (Throwable th) {
                                                if (!AndroidUtilities.needShowPasscode(false)) {
                                                }
                                                wearableExtender2 = wearableExtender;
                                                j = date;
                                                i4 = rowsMid;
                                                arrayList2 = rows3;
                                                if (chat == null) {
                                                }
                                                user2 = user;
                                                if (VERSION.SDK_INT >= 26) {
                                                    showWhen.setChannelId(OTHER_NOTIFICATIONS_CHANNEL);
                                                }
                                                internalId2 = internalId;
                                                holders2 = holders;
                                                holders2.add(new AnonymousClass1NotificationHolder(internalId2.intValue(), showWhen.build()));
                                                notificationsController.wearNotificationsIds.put(dialog_id2, internalId2);
                                                if (serializedChat2 != null) {
                                                    user3 = user2;
                                                    builder = showWhen;
                                                    num = internalId2;
                                                    str = name3;
                                                    serializedNotifications2 = serializedNotifications;
                                                    jSONObject = serializedChat2;
                                                    size = max_date;
                                                    z = canReply;
                                                    builder2 = serializedMsgs;
                                                    max_id2 = max_id;
                                                } else {
                                                    try {
                                                        jSONObject = serializedChat2;
                                                        try {
                                                            jSONObject.put("reply", canReply);
                                                            jSONObject.put("name", name3);
                                                            try {
                                                                jSONObject.put("max_id", max_id);
                                                            } catch (JSONException e3) {
                                                                user3 = user2;
                                                                builder = showWhen;
                                                                num = internalId2;
                                                                str = name3;
                                                                serializedNotifications2 = serializedNotifications;
                                                                size = max_date;
                                                                builder2 = serializedMsgs;
                                                                b = b2 + 1;
                                                                holders3 = holders2;
                                                                messagesByDialogs2 = messagesByDialogs;
                                                                size = size2;
                                                                oldIdsWear2 = oldIdsWear;
                                                                mainNotification = mainNotification2;
                                                                i3 = 0;
                                                                serializedNotifications3 = serializedNotifications2;
                                                                sortedDialogs2 = sortedDialogs;
                                                            }
                                                        } catch (JSONException e4) {
                                                            user3 = user2;
                                                            builder = showWhen;
                                                            num = internalId2;
                                                            str = name3;
                                                            serializedNotifications2 = serializedNotifications;
                                                            size = max_date;
                                                            builder2 = serializedMsgs;
                                                            max_id2 = max_id;
                                                            b = b2 + 1;
                                                            holders3 = holders2;
                                                            messagesByDialogs2 = messagesByDialogs;
                                                            size = size2;
                                                            oldIdsWear2 = oldIdsWear;
                                                            mainNotification = mainNotification2;
                                                            i3 = 0;
                                                            serializedNotifications3 = serializedNotifications2;
                                                            sortedDialogs2 = sortedDialogs;
                                                        }
                                                        try {
                                                            jSONObject.put("max_date", max_date);
                                                            try {
                                                                jSONObject.put(TtmlNode.ATTR_ID, Math.abs(lowerId));
                                                                if (mainNotification != null) {
                                                                    num = internalId2;
                                                                    str = name3;
                                                                } else {
                                                                    try {
                                                                        user2 = "photo";
                                                                        text = new StringBuilder();
                                                                        try {
                                                                            text.append(mainNotification.dc_id);
                                                                            text.append("_");
                                                                        } catch (JSONException e5) {
                                                                            num = internalId2;
                                                                            str = name3;
                                                                            serializedNotifications2 = serializedNotifications;
                                                                            builder2 = serializedMsgs;
                                                                            b = b2 + 1;
                                                                            holders3 = holders2;
                                                                            messagesByDialogs2 = messagesByDialogs;
                                                                            size = size2;
                                                                            oldIdsWear2 = oldIdsWear;
                                                                            mainNotification = mainNotification2;
                                                                            i3 = 0;
                                                                            serializedNotifications3 = serializedNotifications2;
                                                                            sortedDialogs2 = sortedDialogs;
                                                                        }
                                                                    } catch (JSONException e6) {
                                                                        builder = showWhen;
                                                                        num = internalId2;
                                                                        str = name3;
                                                                        serializedNotifications2 = serializedNotifications;
                                                                        builder2 = serializedMsgs;
                                                                        b = b2 + 1;
                                                                        holders3 = holders2;
                                                                        messagesByDialogs2 = messagesByDialogs;
                                                                        size = size2;
                                                                        oldIdsWear2 = oldIdsWear;
                                                                        mainNotification = mainNotification2;
                                                                        i3 = 0;
                                                                        serializedNotifications3 = serializedNotifications2;
                                                                        sortedDialogs2 = sortedDialogs;
                                                                    }
                                                                    try {
                                                                        text.append(mainNotification.volume_id);
                                                                        text.append("_");
                                                                        text.append(mainNotification.secret);
                                                                        jSONObject.put(user2, text.toString());
                                                                    } catch (JSONException e7) {
                                                                        serializedNotifications2 = serializedNotifications;
                                                                        builder2 = serializedMsgs;
                                                                        b = b2 + 1;
                                                                        holders3 = holders2;
                                                                        messagesByDialogs2 = messagesByDialogs;
                                                                        size = size2;
                                                                        oldIdsWear2 = oldIdsWear;
                                                                        mainNotification = mainNotification2;
                                                                        i3 = 0;
                                                                        serializedNotifications3 = serializedNotifications2;
                                                                        sortedDialogs2 = sortedDialogs;
                                                                    }
                                                                }
                                                                if (serializedMsgs != null) {
                                                                    builder2 = serializedMsgs;
                                                                } else {
                                                                    try {
                                                                        try {
                                                                            jSONObject.put("msgs", serializedMsgs);
                                                                        } catch (JSONException e8) {
                                                                            serializedNotifications2 = serializedNotifications;
                                                                            b = b2 + 1;
                                                                            holders3 = holders2;
                                                                            messagesByDialogs2 = messagesByDialogs;
                                                                            size = size2;
                                                                            oldIdsWear2 = oldIdsWear;
                                                                            mainNotification = mainNotification2;
                                                                            i3 = 0;
                                                                            serializedNotifications3 = serializedNotifications2;
                                                                            sortedDialogs2 = sortedDialogs;
                                                                        }
                                                                    } catch (JSONException e9) {
                                                                        builder2 = serializedMsgs;
                                                                        serializedNotifications2 = serializedNotifications;
                                                                        b = b2 + 1;
                                                                        holders3 = holders2;
                                                                        messagesByDialogs2 = messagesByDialogs;
                                                                        size = size2;
                                                                        oldIdsWear2 = oldIdsWear;
                                                                        mainNotification = mainNotification2;
                                                                        i3 = 0;
                                                                        serializedNotifications3 = serializedNotifications2;
                                                                        sortedDialogs2 = sortedDialogs;
                                                                    }
                                                                }
                                                                if (lowerId <= 0) {
                                                                    jSONObject.put("type", "user");
                                                                } else if (lowerId < 0) {
                                                                    if (!isChannel) {
                                                                        if (isSupergroup) {
                                                                            jSONObject.put("type", "group");
                                                                        }
                                                                    }
                                                                    jSONObject.put("type", "channel");
                                                                }
                                                                serializedNotifications2 = serializedNotifications;
                                                                try {
                                                                    serializedNotifications2.put(jSONObject);
                                                                } catch (JSONException e10) {
                                                                    b = b2 + 1;
                                                                    holders3 = holders2;
                                                                    messagesByDialogs2 = messagesByDialogs;
                                                                    size = size2;
                                                                    oldIdsWear2 = oldIdsWear;
                                                                    mainNotification = mainNotification2;
                                                                    i3 = 0;
                                                                    serializedNotifications3 = serializedNotifications2;
                                                                    sortedDialogs2 = sortedDialogs;
                                                                }
                                                            } catch (JSONException e11) {
                                                                builder = showWhen;
                                                                num = internalId2;
                                                                str = name3;
                                                                serializedNotifications2 = serializedNotifications;
                                                                builder2 = serializedMsgs;
                                                                b = b2 + 1;
                                                                holders3 = holders2;
                                                                messagesByDialogs2 = messagesByDialogs;
                                                                size = size2;
                                                                oldIdsWear2 = oldIdsWear;
                                                                mainNotification = mainNotification2;
                                                                i3 = 0;
                                                                serializedNotifications3 = serializedNotifications2;
                                                                sortedDialogs2 = sortedDialogs;
                                                            }
                                                        } catch (JSONException e12) {
                                                            user3 = user2;
                                                            builder = showWhen;
                                                            num = internalId2;
                                                            str = name3;
                                                            serializedNotifications2 = serializedNotifications;
                                                            builder2 = serializedMsgs;
                                                            b = b2 + 1;
                                                            holders3 = holders2;
                                                            messagesByDialogs2 = messagesByDialogs;
                                                            size = size2;
                                                            oldIdsWear2 = oldIdsWear;
                                                            mainNotification = mainNotification2;
                                                            i3 = 0;
                                                            serializedNotifications3 = serializedNotifications2;
                                                            sortedDialogs2 = sortedDialogs;
                                                        }
                                                    } catch (JSONException e13) {
                                                        user3 = user2;
                                                        builder = showWhen;
                                                        num = internalId2;
                                                        str = name3;
                                                        serializedNotifications2 = serializedNotifications;
                                                        jSONObject = serializedChat2;
                                                        size = max_date;
                                                        z = canReply;
                                                        builder2 = serializedMsgs;
                                                        max_id2 = max_id;
                                                        b = b2 + 1;
                                                        holders3 = holders2;
                                                        messagesByDialogs2 = messagesByDialogs;
                                                        size = size2;
                                                        oldIdsWear2 = oldIdsWear;
                                                        mainNotification = mainNotification2;
                                                        i3 = 0;
                                                        serializedNotifications3 = serializedNotifications2;
                                                        sortedDialogs2 = sortedDialogs;
                                                    }
                                                }
                                                b = b2 + 1;
                                                holders3 = holders2;
                                                messagesByDialogs2 = messagesByDialogs;
                                                size = size2;
                                                oldIdsWear2 = oldIdsWear;
                                                mainNotification = mainNotification2;
                                                i3 = 0;
                                                serializedNotifications3 = serializedNotifications2;
                                                sortedDialogs2 = sortedDialogs;
                                            }
                                        } else {
                                            img = messagingStyle2;
                                        }
                                    } catch (Throwable th2) {
                                        img = messagingStyle2;
                                        if (AndroidUtilities.needShowPasscode(false)) {
                                        }
                                        wearableExtender2 = wearableExtender;
                                        j = date;
                                        i4 = rowsMid;
                                        arrayList2 = rows3;
                                        if (chat == null) {
                                        }
                                        user2 = user;
                                        if (VERSION.SDK_INT >= 26) {
                                            showWhen.setChannelId(OTHER_NOTIFICATIONS_CHANNEL);
                                        }
                                        internalId2 = internalId;
                                        holders2 = holders;
                                        holders2.add(new AnonymousClass1NotificationHolder(internalId2.intValue(), showWhen.build()));
                                        notificationsController.wearNotificationsIds.put(dialog_id2, internalId2);
                                        if (serializedChat2 != null) {
                                            jSONObject = serializedChat2;
                                            jSONObject.put("reply", canReply);
                                            jSONObject.put("name", name3);
                                            jSONObject.put("max_id", max_id);
                                            jSONObject.put("max_date", max_date);
                                            jSONObject.put(TtmlNode.ATTR_ID, Math.abs(lowerId));
                                            if (mainNotification != null) {
                                                user2 = "photo";
                                                text = new StringBuilder();
                                                text.append(mainNotification.dc_id);
                                                text.append("_");
                                                text.append(mainNotification.volume_id);
                                                text.append("_");
                                                text.append(mainNotification.secret);
                                                jSONObject.put(user2, text.toString());
                                            } else {
                                                num = internalId2;
                                                str = name3;
                                            }
                                            if (serializedMsgs != null) {
                                                jSONObject.put("msgs", serializedMsgs);
                                            } else {
                                                builder2 = serializedMsgs;
                                            }
                                            if (lowerId <= 0) {
                                                jSONObject.put("type", "user");
                                            } else if (lowerId < 0) {
                                                if (isChannel) {
                                                    if (isSupergroup) {
                                                        jSONObject.put("type", "group");
                                                    }
                                                }
                                                jSONObject.put("type", "channel");
                                            }
                                            serializedNotifications2 = serializedNotifications;
                                            serializedNotifications2.put(jSONObject);
                                        } else {
                                            user3 = user2;
                                            builder = showWhen;
                                            num = internalId2;
                                            str = name3;
                                            serializedNotifications2 = serializedNotifications;
                                            jSONObject = serializedChat2;
                                            size = max_date;
                                            z = canReply;
                                            builder2 = serializedMsgs;
                                            max_id2 = max_id;
                                        }
                                        b = b2 + 1;
                                        holders3 = holders2;
                                        messagesByDialogs2 = messagesByDialogs;
                                        size = size2;
                                        oldIdsWear2 = oldIdsWear;
                                        mainNotification = mainNotification2;
                                        i3 = 0;
                                        serializedNotifications3 = serializedNotifications2;
                                        sortedDialogs2 = sortedDialogs;
                                    }
                                }
                            } else {
                                unreadConvBuilder = mainNotification;
                                messagingStyle3 = messagingStyle2;
                                mainNotification = photoPath2;
                            }
                            if (AndroidUtilities.needShowPasscode(false) || SharedConfig.isWaitingForPasscodeEnter || rows3 == null) {
                                wearableExtender2 = wearableExtender;
                                j = date;
                                i4 = rowsMid;
                                arrayList2 = rows3;
                            } else {
                                PendingIntent contentIntent2;
                                highId = 0;
                                ArrayList<TL_keyboardButtonRow> rows4 = rows3;
                                int rc = rows4.size();
                                while (highId < rc) {
                                    TL_keyboardButtonRow row = (TL_keyboardButtonRow) rows4.get(highId);
                                    arrayList2 = rows4;
                                    rows4 = row.buttons.size();
                                    contentIntent2 = contentIntent;
                                    a = 0;
                                    while (a < rows4) {
                                        int rc2;
                                        int cc = rows4;
                                        KeyboardButton rows5 = (KeyboardButton) row.buttons.get(a);
                                        wearableExtender2 = wearableExtender;
                                        if ((rows5 instanceof TL_keyboardButtonCallback) != null) {
                                            j = date;
                                            wearableExtender = new Intent(ApplicationLoader.applicationContext, NotificationCallbackReceiver.class);
                                            wearableExtender.putExtra("currentAccount", notificationsController.currentAccount);
                                            wearableExtender.putExtra("did", dialog_id2);
                                            if (rows5.data != null) {
                                                wearableExtender.putExtra(DataSchemeDataSource.SCHEME_DATA, rows5.data);
                                            }
                                            size = rowsMid;
                                            wearableExtender.putExtra("mid", size);
                                            CharSequence charSequence = rows5.text;
                                            KeyboardButton button = rows5;
                                            rows4 = ApplicationLoader.applicationContext;
                                            i4 = size;
                                            size = notificationsController.lastButtonId;
                                            rc2 = rc;
                                            notificationsController.lastButtonId = size + 1;
                                            showWhen.addAction(0, charSequence, PendingIntent.getBroadcast(rows4, size, wearableExtender, 134217728));
                                        } else {
                                            j = date;
                                            rc2 = rc;
                                            i4 = rowsMid;
                                        }
                                        a++;
                                        rows4 = cc;
                                        wearableExtender = wearableExtender2;
                                        date = j;
                                        rowsMid = i4;
                                        rc = rc2;
                                    }
                                    i4 = rowsMid;
                                    highId++;
                                    rows4 = arrayList2;
                                    contentIntent = contentIntent2;
                                    date = date;
                                    rc = rc;
                                }
                                contentIntent2 = contentIntent;
                                wearableExtender2 = wearableExtender;
                                j = date;
                                i4 = rowsMid;
                            }
                            if (chat == null || user == null) {
                                user2 = user;
                            } else {
                                user2 = user;
                                if (user2.phone != null && user2.phone.length() > 0) {
                                    text = new StringBuilder();
                                    text.append("tel:+");
                                    text.append(user2.phone);
                                    showWhen.addPerson(text.toString());
                                }
                            }
                            if (VERSION.SDK_INT >= 26) {
                                showWhen.setChannelId(OTHER_NOTIFICATIONS_CHANNEL);
                            }
                            internalId2 = internalId;
                            holders2 = holders;
                            holders2.add(new AnonymousClass1NotificationHolder(internalId2.intValue(), showWhen.build()));
                            notificationsController.wearNotificationsIds.put(dialog_id2, internalId2);
                            if (serializedChat2 != null) {
                                jSONObject = serializedChat2;
                                jSONObject.put("reply", canReply);
                                jSONObject.put("name", name3);
                                jSONObject.put("max_id", max_id);
                                jSONObject.put("max_date", max_date);
                                jSONObject.put(TtmlNode.ATTR_ID, Math.abs(lowerId));
                                if (mainNotification != null) {
                                    user2 = "photo";
                                    text = new StringBuilder();
                                    text.append(mainNotification.dc_id);
                                    text.append("_");
                                    text.append(mainNotification.volume_id);
                                    text.append("_");
                                    text.append(mainNotification.secret);
                                    jSONObject.put(user2, text.toString());
                                } else {
                                    num = internalId2;
                                    str = name3;
                                }
                                if (serializedMsgs != null) {
                                    jSONObject.put("msgs", serializedMsgs);
                                } else {
                                    builder2 = serializedMsgs;
                                }
                                if (lowerId <= 0) {
                                    jSONObject.put("type", "user");
                                } else if (lowerId < 0) {
                                    if (isChannel) {
                                        if (isSupergroup) {
                                            jSONObject.put("type", "group");
                                        }
                                    }
                                    jSONObject.put("type", "channel");
                                }
                                serializedNotifications2 = serializedNotifications;
                                serializedNotifications2.put(jSONObject);
                            } else {
                                user3 = user2;
                                builder = showWhen;
                                num = internalId2;
                                str = name3;
                                serializedNotifications2 = serializedNotifications;
                                jSONObject = serializedChat2;
                                size = max_date;
                                z = canReply;
                                builder2 = serializedMsgs;
                                max_id2 = max_id;
                            }
                            b = b2 + 1;
                            holders3 = holders2;
                            messagesByDialogs2 = messagesByDialogs;
                            size = size2;
                            oldIdsWear2 = oldIdsWear;
                            mainNotification = mainNotification2;
                            i3 = 0;
                            serializedNotifications3 = serializedNotifications2;
                            sortedDialogs2 = sortedDialogs;
                        }
                    }
                    if (z3 || SharedConfig.isWaitingForPasscodeEnter) {
                        internalId = internalId3;
                        pendingIntent = msgHeardPendingIntent;
                        canReply = z3;
                        action2 = null;
                        wearReplyAction = action2;
                        count = (Integer) notificationsController.pushDialogs.get(dialog_id2);
                        if (count == null) {
                            i2 = 0;
                        } else {
                            i2 = 0;
                            count = Integer.valueOf(0);
                        }
                        messagingStyle = new MessagingStyle(TtmlNode.ANONYMOUS_REGION_ID);
                        objArr = new Object[2];
                        objArr[i2] = name;
                        photoPath2 = photoPath;
                        objArr[1] = LocaleController.formatPluralString("NewMessages", Math.max(count.intValue(), messageObjects2.size()));
                        messagingStyle2 = messagingStyle.setConversationTitle(String.format("%1$s (%2$s)", objArr));
                        text = new StringBuilder();
                        isText = new boolean[1];
                        serializedMsgs2 = null;
                        if (serializedChat2 != null) {
                            rows = null;
                        } else {
                            rows = null;
                            serializedMsgs2 = new JSONArray();
                        }
                        i2 = messageObjects2.size() - 1;
                        rowsMid = 0;
                        rows2 = rows;
                        while (true) {
                            rows3 = rows2;
                            if (i2 < 0) {
                                break;
                            }
                            messageObject3 = (MessageObject) messageObjects2.get(i2);
                            name2 = name;
                            messageObjects = messageObjects2;
                            message = getStringForMessage(messageObject3, null, isText);
                            if (messageObject3.isFcmMessage() != null) {
                            }
                            if (message == null) {
                                if (lowerId < 0) {
                                    action = wearReplyAction;
                                    i = max_id2;
                                    if (isText[null]) {
                                        wearReplyAction = new StringBuilder();
                                        wearReplyAction.append(name);
                                        wearReplyAction.append(" ");
                                        wearReplyAction = message.replace(wearReplyAction.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                    } else {
                                        wearReplyAction = new StringBuilder();
                                        wearReplyAction.append(name);
                                        wearReplyAction.append(": ");
                                        wearReplyAction = message.replace(wearReplyAction.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                    }
                                } else {
                                    i = max_id2;
                                    stringBuilder = new StringBuilder();
                                    action = wearReplyAction;
                                    stringBuilder.append(" @ ");
                                    stringBuilder.append(name);
                                    wearReplyAction = message.replace(stringBuilder.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                }
                                if (text.length() > 0) {
                                    text.append("\n\n");
                                }
                                text.append(wearReplyAction);
                                mainNotification.addMessage(wearReplyAction);
                                nameToReplace = name;
                                messagingStyle2.addMessage(wearReplyAction, ((long) messageObject3.messageOwner.date) * 1000, null);
                                if (serializedMsgs2 != null) {
                                    zArr = isText;
                                } else {
                                    name = new JSONObject();
                                    name.put(MimeTypes.BASE_TYPE_TEXT, getShortStringForMessage(messageObject3));
                                    name.put("date", messageObject3.messageOwner.date);
                                    sender = MessagesController.getInstance(notificationsController.currentAccount).getUser(Integer.valueOf(messageObject3.getFromId()));
                                    if (sender != null) {
                                        zArr = isText;
                                        name.put("fname", sender.first_name);
                                        name.put("lname", sender.last_name);
                                        serializedMsgs2.put(name);
                                    }
                                    zArr = isText;
                                    serializedMsgs2.put(name);
                                }
                                name = messageObject3.messageOwner.reply_markup.rows;
                                isText = messageObject3.getId();
                                rows2 = name;
                                rowsMid = isText;
                                i2--;
                                name = name2;
                                messageObjects2 = messageObjects;
                                max_id2 = i;
                                wearReplyAction = action;
                                isText = zArr;
                            } else {
                                zArr = isText;
                                action = wearReplyAction;
                                i = max_id2;
                            }
                            rows2 = rows3;
                            i2--;
                            name = name2;
                            messageObjects2 = messageObjects;
                            max_id2 = i;
                            wearReplyAction = action;
                            isText = zArr;
                        }
                        name2 = name;
                        zArr = isText;
                        action = wearReplyAction;
                        messageObjects = messageObjects2;
                        i = max_id2;
                        intent2 = new Intent(ApplicationLoader.applicationContext, LaunchActivity.class);
                        stringBuilder2 = new StringBuilder();
                        stringBuilder2.append("com.tmessages.openchat");
                        stringBuilder2.append(Math.random());
                        stringBuilder2.append(ConnectionsManager.DEFAULT_DATACENTER_ID);
                        intent2.setAction(stringBuilder2.toString());
                        intent2.setFlags(32768);
                        if (lowerId != 0) {
                            highId3 = highId2;
                            intent2.putExtra("encId", highId3);
                        } else {
                            if (lowerId > 0) {
                                intent2.putExtra("chatId", -lowerId);
                            } else {
                                intent2.putExtra("userId", lowerId);
                            }
                            highId3 = highId2;
                        }
                        intent2.putExtra("currentAccount", notificationsController.currentAccount);
                        contentIntent = PendingIntent.getActivity(ApplicationLoader.applicationContext, 0, intent2, NUM);
                        wearableExtender = new WearableExtender();
                        if (action != null) {
                            wearReplyAction = action;
                        } else {
                            wearReplyAction = action;
                            wearableExtender.addAction(wearReplyAction);
                        }
                        if (lowerId == 0) {
                            max_id2 = i;
                            stringBuilder3 = new StringBuilder();
                            stringBuilder3.append("tgenc");
                            stringBuilder3.append(highId3);
                            stringBuilder3.append("_");
                            stringBuilder3.append(max_id2);
                            message = stringBuilder3.toString();
                        } else if (lowerId > 0) {
                            max_id2 = i;
                            stringBuilder4 = new StringBuilder();
                            stringBuilder4.append("tgchat");
                            stringBuilder4.append(-lowerId);
                            stringBuilder4.append("_");
                            stringBuilder4.append(max_id2);
                            message = stringBuilder4.toString();
                        } else {
                            message = new StringBuilder();
                            message.append("tguser");
                            message.append(lowerId);
                            message.append("_");
                            max_id2 = i;
                            message.append(max_id2);
                            message = message.toString();
                            intent3 = intent2;
                        }
                        dismissalID = message;
                        wearableExtender.setDismissalId(dismissalID);
                        stringBuilder4 = new StringBuilder();
                        stringBuilder4.append("tgaccount");
                        stringBuilder4.append(UserConfig.getInstance(notificationsController.currentAccount).getClientUserId());
                        wearableExtender.setBridgeTag(stringBuilder4.toString());
                        summaryExtender = new WearableExtender();
                        stringBuilder4 = new StringBuilder();
                        stringBuilder4.append("summary_");
                        stringBuilder4.append(dismissalID);
                        summaryExtender.setDismissalId(stringBuilder4.toString());
                        notificationBuilder.extend(summaryExtender);
                        messageObjects2 = messageObjects;
                        serializedMsgs = serializedMsgs2;
                        date = ((long) ((MessageObject) messageObjects2.get(null)).messageOwner.date) * 1000;
                        name3 = name2;
                        max_id = max_id2;
                        showWhen = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(name3).setSmallIcon(R.drawable.notification).setGroup(notificationsController.notificationGroup).setContentText(text.toString()).setAutoCancel(true).setNumber(messageObjects2.size()).setColor(-13851168).setGroupSummary(false).setWhen(date).setShowWhen(true);
                        stringBuilder = new StringBuilder();
                        stringBuilder.append("sdid_");
                        stringBuilder.append(dialog_id2);
                        showWhen = showWhen.setShortcutId(stringBuilder.toString()).setGroupAlertBehavior(1).setStyle(messagingStyle2).setContentIntent(contentIntent).extend(wearableExtender);
                        text = new StringBuilder();
                        text.append(TtmlNode.ANONYMOUS_REGION_ID);
                        text.append(Long.MAX_VALUE - date);
                        showWhen = showWhen.setSortKey(text.toString()).extend(new CarExtender().setUnreadConversation(mainNotification.build())).setCategory("msg");
                        if (notificationsController.pushDialogs.size() == 1) {
                        }
                        str2 = summary;
                        if (lowerId == 0) {
                            showWhen.setLocalOnly(true);
                        }
                        if (photoPath2 != null) {
                            unreadConvBuilder = mainNotification;
                            messagingStyle3 = messagingStyle2;
                            mainNotification = photoPath2;
                        } else {
                            unreadConvBuilder = mainNotification;
                            mainNotification = photoPath2;
                            messagingStyle2 = ImageLoader.getInstance().getImageFromMemory(mainNotification, null, "50_50");
                            if (messagingStyle2 != null) {
                                file = FileLoader.getPathToAttach(mainNotification, true);
                                if (file.exists()) {
                                    img = messagingStyle2;
                                } else {
                                    scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                    img = messagingStyle2;
                                    messagingStyle2 = new Options();
                                    if (scaleFactor < 1.0f) {
                                    }
                                    messagingStyle2.inSampleSize = scaleFactor < 1.0f ? 1 : (int) scaleFactor;
                                    bitmap = BitmapFactory.decodeFile(file.getAbsolutePath(), messagingStyle2);
                                    if (bitmap != null) {
                                        showWhen.setLargeIcon(bitmap);
                                    }
                                }
                            } else {
                                showWhen.setLargeIcon(messagingStyle2.getBitmap());
                            }
                        }
                        if (AndroidUtilities.needShowPasscode(false)) {
                        }
                        wearableExtender2 = wearableExtender;
                        j = date;
                        i4 = rowsMid;
                        arrayList2 = rows3;
                        if (chat == null) {
                        }
                        user2 = user;
                        if (VERSION.SDK_INT >= 26) {
                            showWhen.setChannelId(OTHER_NOTIFICATIONS_CHANNEL);
                        }
                        internalId2 = internalId;
                        holders2 = holders;
                        holders2.add(new AnonymousClass1NotificationHolder(internalId2.intValue(), showWhen.build()));
                        notificationsController.wearNotificationsIds.put(dialog_id2, internalId2);
                        if (serializedChat2 != null) {
                            user3 = user2;
                            builder = showWhen;
                            num = internalId2;
                            str = name3;
                            serializedNotifications2 = serializedNotifications;
                            jSONObject = serializedChat2;
                            size = max_date;
                            z = canReply;
                            builder2 = serializedMsgs;
                            max_id2 = max_id;
                        } else {
                            jSONObject = serializedChat2;
                            jSONObject.put("reply", canReply);
                            jSONObject.put("name", name3);
                            jSONObject.put("max_id", max_id);
                            jSONObject.put("max_date", max_date);
                            jSONObject.put(TtmlNode.ATTR_ID, Math.abs(lowerId));
                            if (mainNotification != null) {
                                num = internalId2;
                                str = name3;
                            } else {
                                user2 = "photo";
                                text = new StringBuilder();
                                text.append(mainNotification.dc_id);
                                text.append("_");
                                text.append(mainNotification.volume_id);
                                text.append("_");
                                text.append(mainNotification.secret);
                                jSONObject.put(user2, text.toString());
                            }
                            if (serializedMsgs != null) {
                                builder2 = serializedMsgs;
                            } else {
                                jSONObject.put("msgs", serializedMsgs);
                            }
                            if (lowerId <= 0) {
                                jSONObject.put("type", "user");
                            } else if (lowerId < 0) {
                                if (isChannel) {
                                    if (isSupergroup) {
                                        jSONObject.put("type", "group");
                                    }
                                }
                                jSONObject.put("type", "channel");
                            }
                            serializedNotifications2 = serializedNotifications;
                            serializedNotifications2.put(jSONObject);
                        }
                        b = b2 + 1;
                        holders3 = holders2;
                        messagesByDialogs2 = messagesByDialogs;
                        size = size2;
                        oldIdsWear2 = oldIdsWear;
                        mainNotification = mainNotification2;
                        i3 = 0;
                        serializedNotifications3 = serializedNotifications2;
                        sortedDialogs2 = sortedDialogs;
                    } else {
                        boolean z4;
                        msgHeardIntent = new Intent(ApplicationLoader.applicationContext, AutoMessageReplyReceiver.class);
                        msgHeardIntent.addFlags(32);
                        msgHeardIntent.setAction("org.telegram.messenger.ACTION_MESSAGE_REPLY");
                        msgHeardIntent.putExtra("dialog_id", dialog_id2);
                        msgHeardIntent.putExtra("max_id", max_id2);
                        msgHeardIntent.putExtra("currentAccount", notificationsController.currentAccount);
                        action2 = null;
                        PendingIntent msgReplyPendingIntent = PendingIntent.getBroadcast(ApplicationLoader.applicationContext, internalId3.intValue(), msgHeardIntent, 134217728);
                        Intent msgReplyIntent = msgHeardIntent;
                        RemoteInput remoteInputAuto = new RemoteInput.Builder(EXTRA_VOICE_REPLY).setLabel(LocaleController.getString("Reply", R.string.Reply)).build();
                        mainNotification.setReplyAction(msgReplyPendingIntent, remoteInputAuto);
                        msgHeardIntent = new Intent(ApplicationLoader.applicationContext, WearReplyReceiver.class);
                        msgHeardIntent.putExtra("dialog_id", dialog_id2);
                        msgHeardIntent.putExtra("max_id", max_id2);
                        msgHeardIntent.putExtra("currentAccount", notificationsController.currentAccount);
                        msgReplyPendingIntent = PendingIntent.getBroadcast(ApplicationLoader.applicationContext, internalId3.intValue(), msgHeardIntent, 134217728);
                        Intent replyIntent = msgHeardIntent;
                        msgHeardIntent = new RemoteInput.Builder(EXTRA_VOICE_REPLY).setLabel(LocaleController.getString("Reply", R.string.Reply)).build();
                        if (lowerId < 0) {
                            canReply = z3;
                            name3 = LocaleController.formatString("ReplyToGroup", R.string.ReplyToGroup, name);
                            internalId = internalId3;
                            z4 = true;
                        } else {
                            canReply = z3;
                            internalId = internalId3;
                            z4 = true;
                            name3 = LocaleController.formatString("ReplyToUser", R.string.ReplyToUser, name);
                        }
                        wearReplyAction = new Action.Builder(R.drawable.ic_reply_icon, name3, msgReplyPendingIntent).setAllowGeneratedReplies(z4).addRemoteInput(msgHeardIntent).build();
                        count = (Integer) notificationsController.pushDialogs.get(dialog_id2);
                        if (count == null) {
                            i2 = 0;
                            count = Integer.valueOf(0);
                        } else {
                            i2 = 0;
                        }
                        messagingStyle = new MessagingStyle(TtmlNode.ANONYMOUS_REGION_ID);
                        objArr = new Object[2];
                        objArr[i2] = name;
                        photoPath2 = photoPath;
                        objArr[1] = LocaleController.formatPluralString("NewMessages", Math.max(count.intValue(), messageObjects2.size()));
                        messagingStyle2 = messagingStyle.setConversationTitle(String.format("%1$s (%2$s)", objArr));
                        text = new StringBuilder();
                        isText = new boolean[1];
                        serializedMsgs2 = null;
                        if (serializedChat2 != null) {
                            rows = null;
                            serializedMsgs2 = new JSONArray();
                        } else {
                            rows = null;
                        }
                        i2 = messageObjects2.size() - 1;
                        rowsMid = 0;
                        rows2 = rows;
                        while (true) {
                            rows3 = rows2;
                            if (i2 < 0) {
                                break;
                            }
                            messageObject3 = (MessageObject) messageObjects2.get(i2);
                            name2 = name;
                            messageObjects = messageObjects2;
                            message = getStringForMessage(messageObject3, null, isText);
                            if (messageObject3.isFcmMessage() != null) {
                            }
                            if (message == null) {
                                zArr = isText;
                                action = wearReplyAction;
                                i = max_id2;
                            } else {
                                if (lowerId < 0) {
                                    i = max_id2;
                                    stringBuilder = new StringBuilder();
                                    action = wearReplyAction;
                                    stringBuilder.append(" @ ");
                                    stringBuilder.append(name);
                                    wearReplyAction = message.replace(stringBuilder.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                } else {
                                    action = wearReplyAction;
                                    i = max_id2;
                                    if (isText[null]) {
                                        wearReplyAction = new StringBuilder();
                                        wearReplyAction.append(name);
                                        wearReplyAction.append(": ");
                                        wearReplyAction = message.replace(wearReplyAction.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                    } else {
                                        wearReplyAction = new StringBuilder();
                                        wearReplyAction.append(name);
                                        wearReplyAction.append(" ");
                                        wearReplyAction = message.replace(wearReplyAction.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                    }
                                }
                                if (text.length() > 0) {
                                    text.append("\n\n");
                                }
                                text.append(wearReplyAction);
                                mainNotification.addMessage(wearReplyAction);
                                nameToReplace = name;
                                messagingStyle2.addMessage(wearReplyAction, ((long) messageObject3.messageOwner.date) * 1000, null);
                                if (serializedMsgs2 != null) {
                                    name = new JSONObject();
                                    name.put(MimeTypes.BASE_TYPE_TEXT, getShortStringForMessage(messageObject3));
                                    name.put("date", messageObject3.messageOwner.date);
                                    sender = MessagesController.getInstance(notificationsController.currentAccount).getUser(Integer.valueOf(messageObject3.getFromId()));
                                    if (sender != null) {
                                        zArr = isText;
                                        name.put("fname", sender.first_name);
                                        name.put("lname", sender.last_name);
                                        serializedMsgs2.put(name);
                                    }
                                    zArr = isText;
                                    serializedMsgs2.put(name);
                                } else {
                                    zArr = isText;
                                }
                                name = messageObject3.messageOwner.reply_markup.rows;
                                isText = messageObject3.getId();
                                rows2 = name;
                                rowsMid = isText;
                                i2--;
                                name = name2;
                                messageObjects2 = messageObjects;
                                max_id2 = i;
                                wearReplyAction = action;
                                isText = zArr;
                            }
                            rows2 = rows3;
                            i2--;
                            name = name2;
                            messageObjects2 = messageObjects;
                            max_id2 = i;
                            wearReplyAction = action;
                            isText = zArr;
                        }
                        name2 = name;
                        zArr = isText;
                        action = wearReplyAction;
                        messageObjects = messageObjects2;
                        i = max_id2;
                        intent2 = new Intent(ApplicationLoader.applicationContext, LaunchActivity.class);
                        stringBuilder2 = new StringBuilder();
                        stringBuilder2.append("com.tmessages.openchat");
                        stringBuilder2.append(Math.random());
                        stringBuilder2.append(ConnectionsManager.DEFAULT_DATACENTER_ID);
                        intent2.setAction(stringBuilder2.toString());
                        intent2.setFlags(32768);
                        if (lowerId != 0) {
                            if (lowerId > 0) {
                                intent2.putExtra("userId", lowerId);
                            } else {
                                intent2.putExtra("chatId", -lowerId);
                            }
                            highId3 = highId2;
                        } else {
                            highId3 = highId2;
                            intent2.putExtra("encId", highId3);
                        }
                        intent2.putExtra("currentAccount", notificationsController.currentAccount);
                        contentIntent = PendingIntent.getActivity(ApplicationLoader.applicationContext, 0, intent2, NUM);
                        wearableExtender = new WearableExtender();
                        if (action != null) {
                            wearReplyAction = action;
                            wearableExtender.addAction(wearReplyAction);
                        } else {
                            wearReplyAction = action;
                        }
                        if (lowerId == 0) {
                            max_id2 = i;
                            stringBuilder3 = new StringBuilder();
                            stringBuilder3.append("tgenc");
                            stringBuilder3.append(highId3);
                            stringBuilder3.append("_");
                            stringBuilder3.append(max_id2);
                            message = stringBuilder3.toString();
                        } else if (lowerId > 0) {
                            message = new StringBuilder();
                            message.append("tguser");
                            message.append(lowerId);
                            message.append("_");
                            max_id2 = i;
                            message.append(max_id2);
                            message = message.toString();
                            intent3 = intent2;
                        } else {
                            max_id2 = i;
                            stringBuilder4 = new StringBuilder();
                            stringBuilder4.append("tgchat");
                            stringBuilder4.append(-lowerId);
                            stringBuilder4.append("_");
                            stringBuilder4.append(max_id2);
                            message = stringBuilder4.toString();
                        }
                        dismissalID = message;
                        wearableExtender.setDismissalId(dismissalID);
                        stringBuilder4 = new StringBuilder();
                        stringBuilder4.append("tgaccount");
                        stringBuilder4.append(UserConfig.getInstance(notificationsController.currentAccount).getClientUserId());
                        wearableExtender.setBridgeTag(stringBuilder4.toString());
                        summaryExtender = new WearableExtender();
                        stringBuilder4 = new StringBuilder();
                        stringBuilder4.append("summary_");
                        stringBuilder4.append(dismissalID);
                        summaryExtender.setDismissalId(stringBuilder4.toString());
                        notificationBuilder.extend(summaryExtender);
                        messageObjects2 = messageObjects;
                        serializedMsgs = serializedMsgs2;
                        date = ((long) ((MessageObject) messageObjects2.get(null)).messageOwner.date) * 1000;
                        name3 = name2;
                        max_id = max_id2;
                        showWhen = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(name3).setSmallIcon(R.drawable.notification).setGroup(notificationsController.notificationGroup).setContentText(text.toString()).setAutoCancel(true).setNumber(messageObjects2.size()).setColor(-13851168).setGroupSummary(false).setWhen(date).setShowWhen(true);
                        stringBuilder = new StringBuilder();
                        stringBuilder.append("sdid_");
                        stringBuilder.append(dialog_id2);
                        showWhen = showWhen.setShortcutId(stringBuilder.toString()).setGroupAlertBehavior(1).setStyle(messagingStyle2).setContentIntent(contentIntent).extend(wearableExtender);
                        text = new StringBuilder();
                        text.append(TtmlNode.ANONYMOUS_REGION_ID);
                        text.append(Long.MAX_VALUE - date);
                        showWhen = showWhen.setSortKey(text.toString()).extend(new CarExtender().setUnreadConversation(mainNotification.build())).setCategory("msg");
                        if (notificationsController.pushDialogs.size() == 1) {
                        }
                        str2 = summary;
                        if (lowerId == 0) {
                            showWhen.setLocalOnly(true);
                        }
                        if (photoPath2 != null) {
                            unreadConvBuilder = mainNotification;
                            mainNotification = photoPath2;
                            messagingStyle2 = ImageLoader.getInstance().getImageFromMemory(mainNotification, null, "50_50");
                            if (messagingStyle2 != null) {
                                showWhen.setLargeIcon(messagingStyle2.getBitmap());
                            } else {
                                file = FileLoader.getPathToAttach(mainNotification, true);
                                if (file.exists()) {
                                    scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                    img = messagingStyle2;
                                    messagingStyle2 = new Options();
                                    if (scaleFactor < 1.0f) {
                                    }
                                    messagingStyle2.inSampleSize = scaleFactor < 1.0f ? 1 : (int) scaleFactor;
                                    bitmap = BitmapFactory.decodeFile(file.getAbsolutePath(), messagingStyle2);
                                    if (bitmap != null) {
                                        showWhen.setLargeIcon(bitmap);
                                    }
                                } else {
                                    img = messagingStyle2;
                                }
                            }
                        } else {
                            unreadConvBuilder = mainNotification;
                            messagingStyle3 = messagingStyle2;
                            mainNotification = photoPath2;
                        }
                        if (AndroidUtilities.needShowPasscode(false)) {
                        }
                        wearableExtender2 = wearableExtender;
                        j = date;
                        i4 = rowsMid;
                        arrayList2 = rows3;
                        if (chat == null) {
                        }
                        user2 = user;
                        if (VERSION.SDK_INT >= 26) {
                            showWhen.setChannelId(OTHER_NOTIFICATIONS_CHANNEL);
                        }
                        internalId2 = internalId;
                        holders2 = holders;
                        holders2.add(new AnonymousClass1NotificationHolder(internalId2.intValue(), showWhen.build()));
                        notificationsController.wearNotificationsIds.put(dialog_id2, internalId2);
                        if (serializedChat2 != null) {
                            jSONObject = serializedChat2;
                            jSONObject.put("reply", canReply);
                            jSONObject.put("name", name3);
                            jSONObject.put("max_id", max_id);
                            jSONObject.put("max_date", max_date);
                            jSONObject.put(TtmlNode.ATTR_ID, Math.abs(lowerId));
                            if (mainNotification != null) {
                                user2 = "photo";
                                text = new StringBuilder();
                                text.append(mainNotification.dc_id);
                                text.append("_");
                                text.append(mainNotification.volume_id);
                                text.append("_");
                                text.append(mainNotification.secret);
                                jSONObject.put(user2, text.toString());
                            } else {
                                num = internalId2;
                                str = name3;
                            }
                            if (serializedMsgs != null) {
                                jSONObject.put("msgs", serializedMsgs);
                            } else {
                                builder2 = serializedMsgs;
                            }
                            if (lowerId <= 0) {
                                jSONObject.put("type", "user");
                            } else if (lowerId < 0) {
                                if (isChannel) {
                                    if (isSupergroup) {
                                        jSONObject.put("type", "group");
                                    }
                                }
                                jSONObject.put("type", "channel");
                            }
                            serializedNotifications2 = serializedNotifications;
                            serializedNotifications2.put(jSONObject);
                        } else {
                            user3 = user2;
                            builder = showWhen;
                            num = internalId2;
                            str = name3;
                            serializedNotifications2 = serializedNotifications;
                            jSONObject = serializedChat2;
                            size = max_date;
                            z = canReply;
                            builder2 = serializedMsgs;
                            max_id2 = max_id;
                        }
                        b = b2 + 1;
                        holders3 = holders2;
                        messagesByDialogs2 = messagesByDialogs;
                        size = size2;
                        oldIdsWear2 = oldIdsWear;
                        mainNotification = mainNotification2;
                        i3 = 0;
                        serializedNotifications3 = serializedNotifications2;
                        sortedDialogs2 = sortedDialogs;
                    }
                }
                name = LocaleController.getString("AppName", R.string.AppName);
                fileLocation = null;
                z2 = false;
                photoPath = fileLocation;
                z3 = z2;
                holders = holders3;
                serializedChat2 = mainNotification;
                highId2 = highId;
                mainNotification = new UnreadConversation.Builder(name).setLatestTimestamp(((long) size) * 1000);
                max_date = size;
                msgHeardIntent = new Intent(ApplicationLoader.applicationContext, AutoMessageHeardReceiver.class);
                msgHeardIntent.addFlags(32);
                msgHeardIntent.setAction("org.telegram.messenger.ACTION_MESSAGE_HEARD");
                msgHeardIntent.putExtra("dialog_id", dialog_id2);
                msgHeardIntent.putExtra("max_id", max_id2);
                msgHeardIntent.putExtra("currentAccount", notificationsController.currentAccount);
                user = user5;
                msgHeardPendingIntent = PendingIntent.getBroadcast(ApplicationLoader.applicationContext, internalId3.intValue(), msgHeardIntent, 134217728);
                mainNotification.setReadPendingIntent(msgHeardPendingIntent);
                if (isChannel) {
                    if (!isSupergroup) {
                        intent = msgHeardIntent;
                        internalId = internalId3;
                        pendingIntent = msgHeardPendingIntent;
                        canReply = z3;
                        action2 = null;
                        wearReplyAction = action2;
                        count = (Integer) notificationsController.pushDialogs.get(dialog_id2);
                        if (count == null) {
                            i2 = 0;
                        } else {
                            i2 = 0;
                            count = Integer.valueOf(0);
                        }
                        messagingStyle = new MessagingStyle(TtmlNode.ANONYMOUS_REGION_ID);
                        objArr = new Object[2];
                        objArr[i2] = name;
                        photoPath2 = photoPath;
                        objArr[1] = LocaleController.formatPluralString("NewMessages", Math.max(count.intValue(), messageObjects2.size()));
                        messagingStyle2 = messagingStyle.setConversationTitle(String.format("%1$s (%2$s)", objArr));
                        text = new StringBuilder();
                        isText = new boolean[1];
                        serializedMsgs2 = null;
                        if (serializedChat2 != null) {
                            rows = null;
                        } else {
                            rows = null;
                            serializedMsgs2 = new JSONArray();
                        }
                        i2 = messageObjects2.size() - 1;
                        rowsMid = 0;
                        rows2 = rows;
                        while (true) {
                            rows3 = rows2;
                            if (i2 < 0) {
                                break;
                            }
                            messageObject3 = (MessageObject) messageObjects2.get(i2);
                            name2 = name;
                            messageObjects = messageObjects2;
                            message = getStringForMessage(messageObject3, null, isText);
                            if (messageObject3.isFcmMessage() != null) {
                            }
                            if (message == null) {
                                if (lowerId < 0) {
                                    action = wearReplyAction;
                                    i = max_id2;
                                    if (isText[null]) {
                                        wearReplyAction = new StringBuilder();
                                        wearReplyAction.append(name);
                                        wearReplyAction.append(" ");
                                        wearReplyAction = message.replace(wearReplyAction.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                    } else {
                                        wearReplyAction = new StringBuilder();
                                        wearReplyAction.append(name);
                                        wearReplyAction.append(": ");
                                        wearReplyAction = message.replace(wearReplyAction.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                    }
                                } else {
                                    i = max_id2;
                                    stringBuilder = new StringBuilder();
                                    action = wearReplyAction;
                                    stringBuilder.append(" @ ");
                                    stringBuilder.append(name);
                                    wearReplyAction = message.replace(stringBuilder.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                }
                                if (text.length() > 0) {
                                    text.append("\n\n");
                                }
                                text.append(wearReplyAction);
                                mainNotification.addMessage(wearReplyAction);
                                nameToReplace = name;
                                messagingStyle2.addMessage(wearReplyAction, ((long) messageObject3.messageOwner.date) * 1000, null);
                                if (serializedMsgs2 != null) {
                                    zArr = isText;
                                } else {
                                    name = new JSONObject();
                                    name.put(MimeTypes.BASE_TYPE_TEXT, getShortStringForMessage(messageObject3));
                                    name.put("date", messageObject3.messageOwner.date);
                                    sender = MessagesController.getInstance(notificationsController.currentAccount).getUser(Integer.valueOf(messageObject3.getFromId()));
                                    if (sender != null) {
                                        zArr = isText;
                                        name.put("fname", sender.first_name);
                                        name.put("lname", sender.last_name);
                                        serializedMsgs2.put(name);
                                    }
                                    zArr = isText;
                                    serializedMsgs2.put(name);
                                }
                                name = messageObject3.messageOwner.reply_markup.rows;
                                isText = messageObject3.getId();
                                rows2 = name;
                                rowsMid = isText;
                                i2--;
                                name = name2;
                                messageObjects2 = messageObjects;
                                max_id2 = i;
                                wearReplyAction = action;
                                isText = zArr;
                            } else {
                                zArr = isText;
                                action = wearReplyAction;
                                i = max_id2;
                            }
                            rows2 = rows3;
                            i2--;
                            name = name2;
                            messageObjects2 = messageObjects;
                            max_id2 = i;
                            wearReplyAction = action;
                            isText = zArr;
                        }
                        name2 = name;
                        zArr = isText;
                        action = wearReplyAction;
                        messageObjects = messageObjects2;
                        i = max_id2;
                        intent2 = new Intent(ApplicationLoader.applicationContext, LaunchActivity.class);
                        stringBuilder2 = new StringBuilder();
                        stringBuilder2.append("com.tmessages.openchat");
                        stringBuilder2.append(Math.random());
                        stringBuilder2.append(ConnectionsManager.DEFAULT_DATACENTER_ID);
                        intent2.setAction(stringBuilder2.toString());
                        intent2.setFlags(32768);
                        if (lowerId != 0) {
                            highId3 = highId2;
                            intent2.putExtra("encId", highId3);
                        } else {
                            if (lowerId > 0) {
                                intent2.putExtra("chatId", -lowerId);
                            } else {
                                intent2.putExtra("userId", lowerId);
                            }
                            highId3 = highId2;
                        }
                        intent2.putExtra("currentAccount", notificationsController.currentAccount);
                        contentIntent = PendingIntent.getActivity(ApplicationLoader.applicationContext, 0, intent2, NUM);
                        wearableExtender = new WearableExtender();
                        if (action != null) {
                            wearReplyAction = action;
                        } else {
                            wearReplyAction = action;
                            wearableExtender.addAction(wearReplyAction);
                        }
                        if (lowerId == 0) {
                            max_id2 = i;
                            stringBuilder3 = new StringBuilder();
                            stringBuilder3.append("tgenc");
                            stringBuilder3.append(highId3);
                            stringBuilder3.append("_");
                            stringBuilder3.append(max_id2);
                            message = stringBuilder3.toString();
                        } else if (lowerId > 0) {
                            max_id2 = i;
                            stringBuilder4 = new StringBuilder();
                            stringBuilder4.append("tgchat");
                            stringBuilder4.append(-lowerId);
                            stringBuilder4.append("_");
                            stringBuilder4.append(max_id2);
                            message = stringBuilder4.toString();
                        } else {
                            message = new StringBuilder();
                            message.append("tguser");
                            message.append(lowerId);
                            message.append("_");
                            max_id2 = i;
                            message.append(max_id2);
                            message = message.toString();
                            intent3 = intent2;
                        }
                        dismissalID = message;
                        wearableExtender.setDismissalId(dismissalID);
                        stringBuilder4 = new StringBuilder();
                        stringBuilder4.append("tgaccount");
                        stringBuilder4.append(UserConfig.getInstance(notificationsController.currentAccount).getClientUserId());
                        wearableExtender.setBridgeTag(stringBuilder4.toString());
                        summaryExtender = new WearableExtender();
                        stringBuilder4 = new StringBuilder();
                        stringBuilder4.append("summary_");
                        stringBuilder4.append(dismissalID);
                        summaryExtender.setDismissalId(stringBuilder4.toString());
                        notificationBuilder.extend(summaryExtender);
                        messageObjects2 = messageObjects;
                        serializedMsgs = serializedMsgs2;
                        date = ((long) ((MessageObject) messageObjects2.get(null)).messageOwner.date) * 1000;
                        name3 = name2;
                        max_id = max_id2;
                        showWhen = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(name3).setSmallIcon(R.drawable.notification).setGroup(notificationsController.notificationGroup).setContentText(text.toString()).setAutoCancel(true).setNumber(messageObjects2.size()).setColor(-13851168).setGroupSummary(false).setWhen(date).setShowWhen(true);
                        stringBuilder = new StringBuilder();
                        stringBuilder.append("sdid_");
                        stringBuilder.append(dialog_id2);
                        showWhen = showWhen.setShortcutId(stringBuilder.toString()).setGroupAlertBehavior(1).setStyle(messagingStyle2).setContentIntent(contentIntent).extend(wearableExtender);
                        text = new StringBuilder();
                        text.append(TtmlNode.ANONYMOUS_REGION_ID);
                        text.append(Long.MAX_VALUE - date);
                        showWhen = showWhen.setSortKey(text.toString()).extend(new CarExtender().setUnreadConversation(mainNotification.build())).setCategory("msg");
                        if (notificationsController.pushDialogs.size() == 1) {
                        }
                        str2 = summary;
                        if (lowerId == 0) {
                            showWhen.setLocalOnly(true);
                        }
                        if (photoPath2 != null) {
                            unreadConvBuilder = mainNotification;
                            messagingStyle3 = messagingStyle2;
                            mainNotification = photoPath2;
                        } else {
                            unreadConvBuilder = mainNotification;
                            mainNotification = photoPath2;
                            messagingStyle2 = ImageLoader.getInstance().getImageFromMemory(mainNotification, null, "50_50");
                            if (messagingStyle2 != null) {
                                file = FileLoader.getPathToAttach(mainNotification, true);
                                if (file.exists()) {
                                    img = messagingStyle2;
                                } else {
                                    scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                    img = messagingStyle2;
                                    messagingStyle2 = new Options();
                                    if (scaleFactor < 1.0f) {
                                    }
                                    messagingStyle2.inSampleSize = scaleFactor < 1.0f ? 1 : (int) scaleFactor;
                                    bitmap = BitmapFactory.decodeFile(file.getAbsolutePath(), messagingStyle2);
                                    if (bitmap != null) {
                                        showWhen.setLargeIcon(bitmap);
                                    }
                                }
                            } else {
                                showWhen.setLargeIcon(messagingStyle2.getBitmap());
                            }
                        }
                        if (AndroidUtilities.needShowPasscode(false)) {
                        }
                        wearableExtender2 = wearableExtender;
                        j = date;
                        i4 = rowsMid;
                        arrayList2 = rows3;
                        if (chat == null) {
                        }
                        user2 = user;
                        if (VERSION.SDK_INT >= 26) {
                            showWhen.setChannelId(OTHER_NOTIFICATIONS_CHANNEL);
                        }
                        internalId2 = internalId;
                        holders2 = holders;
                        holders2.add(new AnonymousClass1NotificationHolder(internalId2.intValue(), showWhen.build()));
                        notificationsController.wearNotificationsIds.put(dialog_id2, internalId2);
                        if (serializedChat2 != null) {
                            user3 = user2;
                            builder = showWhen;
                            num = internalId2;
                            str = name3;
                            serializedNotifications2 = serializedNotifications;
                            jSONObject = serializedChat2;
                            size = max_date;
                            z = canReply;
                            builder2 = serializedMsgs;
                            max_id2 = max_id;
                        } else {
                            jSONObject = serializedChat2;
                            jSONObject.put("reply", canReply);
                            jSONObject.put("name", name3);
                            jSONObject.put("max_id", max_id);
                            jSONObject.put("max_date", max_date);
                            jSONObject.put(TtmlNode.ATTR_ID, Math.abs(lowerId));
                            if (mainNotification != null) {
                                num = internalId2;
                                str = name3;
                            } else {
                                user2 = "photo";
                                text = new StringBuilder();
                                text.append(mainNotification.dc_id);
                                text.append("_");
                                text.append(mainNotification.volume_id);
                                text.append("_");
                                text.append(mainNotification.secret);
                                jSONObject.put(user2, text.toString());
                            }
                            if (serializedMsgs != null) {
                                builder2 = serializedMsgs;
                            } else {
                                jSONObject.put("msgs", serializedMsgs);
                            }
                            if (lowerId <= 0) {
                                jSONObject.put("type", "user");
                            } else if (lowerId < 0) {
                                if (isChannel) {
                                    if (isSupergroup) {
                                        jSONObject.put("type", "group");
                                    }
                                }
                                jSONObject.put("type", "channel");
                            }
                            serializedNotifications2 = serializedNotifications;
                            serializedNotifications2.put(jSONObject);
                        }
                        b = b2 + 1;
                        holders3 = holders2;
                        messagesByDialogs2 = messagesByDialogs;
                        size = size2;
                        oldIdsWear2 = oldIdsWear;
                        mainNotification = mainNotification2;
                        i3 = 0;
                        serializedNotifications3 = serializedNotifications2;
                        sortedDialogs2 = sortedDialogs;
                    }
                }
                if (z3) {
                }
                internalId = internalId3;
                pendingIntent = msgHeardPendingIntent;
                canReply = z3;
                action2 = null;
                wearReplyAction = action2;
                count = (Integer) notificationsController.pushDialogs.get(dialog_id2);
                if (count == null) {
                    i2 = 0;
                    count = Integer.valueOf(0);
                } else {
                    i2 = 0;
                }
                messagingStyle = new MessagingStyle(TtmlNode.ANONYMOUS_REGION_ID);
                objArr = new Object[2];
                objArr[i2] = name;
                photoPath2 = photoPath;
                objArr[1] = LocaleController.formatPluralString("NewMessages", Math.max(count.intValue(), messageObjects2.size()));
                messagingStyle2 = messagingStyle.setConversationTitle(String.format("%1$s (%2$s)", objArr));
                text = new StringBuilder();
                isText = new boolean[1];
                serializedMsgs2 = null;
                if (serializedChat2 != null) {
                    rows = null;
                    serializedMsgs2 = new JSONArray();
                } else {
                    rows = null;
                }
                i2 = messageObjects2.size() - 1;
                rowsMid = 0;
                rows2 = rows;
                while (true) {
                    rows3 = rows2;
                    if (i2 < 0) {
                        break;
                    }
                    messageObject3 = (MessageObject) messageObjects2.get(i2);
                    name2 = name;
                    messageObjects = messageObjects2;
                    message = getStringForMessage(messageObject3, null, isText);
                    if (messageObject3.isFcmMessage() != null) {
                    }
                    if (message == null) {
                        zArr = isText;
                        action = wearReplyAction;
                        i = max_id2;
                    } else {
                        if (lowerId < 0) {
                            i = max_id2;
                            stringBuilder = new StringBuilder();
                            action = wearReplyAction;
                            stringBuilder.append(" @ ");
                            stringBuilder.append(name);
                            wearReplyAction = message.replace(stringBuilder.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                        } else {
                            action = wearReplyAction;
                            i = max_id2;
                            if (isText[null]) {
                                wearReplyAction = new StringBuilder();
                                wearReplyAction.append(name);
                                wearReplyAction.append(": ");
                                wearReplyAction = message.replace(wearReplyAction.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                            } else {
                                wearReplyAction = new StringBuilder();
                                wearReplyAction.append(name);
                                wearReplyAction.append(" ");
                                wearReplyAction = message.replace(wearReplyAction.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                            }
                        }
                        if (text.length() > 0) {
                            text.append("\n\n");
                        }
                        text.append(wearReplyAction);
                        mainNotification.addMessage(wearReplyAction);
                        nameToReplace = name;
                        messagingStyle2.addMessage(wearReplyAction, ((long) messageObject3.messageOwner.date) * 1000, null);
                        if (serializedMsgs2 != null) {
                            name = new JSONObject();
                            name.put(MimeTypes.BASE_TYPE_TEXT, getShortStringForMessage(messageObject3));
                            name.put("date", messageObject3.messageOwner.date);
                            sender = MessagesController.getInstance(notificationsController.currentAccount).getUser(Integer.valueOf(messageObject3.getFromId()));
                            if (sender != null) {
                                zArr = isText;
                                name.put("fname", sender.first_name);
                                name.put("lname", sender.last_name);
                                serializedMsgs2.put(name);
                            }
                            zArr = isText;
                            serializedMsgs2.put(name);
                        } else {
                            zArr = isText;
                        }
                        name = messageObject3.messageOwner.reply_markup.rows;
                        isText = messageObject3.getId();
                        rows2 = name;
                        rowsMid = isText;
                        i2--;
                        name = name2;
                        messageObjects2 = messageObjects;
                        max_id2 = i;
                        wearReplyAction = action;
                        isText = zArr;
                    }
                    rows2 = rows3;
                    i2--;
                    name = name2;
                    messageObjects2 = messageObjects;
                    max_id2 = i;
                    wearReplyAction = action;
                    isText = zArr;
                }
                name2 = name;
                zArr = isText;
                action = wearReplyAction;
                messageObjects = messageObjects2;
                i = max_id2;
                intent2 = new Intent(ApplicationLoader.applicationContext, LaunchActivity.class);
                stringBuilder2 = new StringBuilder();
                stringBuilder2.append("com.tmessages.openchat");
                stringBuilder2.append(Math.random());
                stringBuilder2.append(ConnectionsManager.DEFAULT_DATACENTER_ID);
                intent2.setAction(stringBuilder2.toString());
                intent2.setFlags(32768);
                if (lowerId != 0) {
                    if (lowerId > 0) {
                        intent2.putExtra("userId", lowerId);
                    } else {
                        intent2.putExtra("chatId", -lowerId);
                    }
                    highId3 = highId2;
                } else {
                    highId3 = highId2;
                    intent2.putExtra("encId", highId3);
                }
                intent2.putExtra("currentAccount", notificationsController.currentAccount);
                contentIntent = PendingIntent.getActivity(ApplicationLoader.applicationContext, 0, intent2, NUM);
                wearableExtender = new WearableExtender();
                if (action != null) {
                    wearReplyAction = action;
                    wearableExtender.addAction(wearReplyAction);
                } else {
                    wearReplyAction = action;
                }
                if (lowerId == 0) {
                    max_id2 = i;
                    stringBuilder3 = new StringBuilder();
                    stringBuilder3.append("tgenc");
                    stringBuilder3.append(highId3);
                    stringBuilder3.append("_");
                    stringBuilder3.append(max_id2);
                    message = stringBuilder3.toString();
                } else if (lowerId > 0) {
                    message = new StringBuilder();
                    message.append("tguser");
                    message.append(lowerId);
                    message.append("_");
                    max_id2 = i;
                    message.append(max_id2);
                    message = message.toString();
                    intent3 = intent2;
                } else {
                    max_id2 = i;
                    stringBuilder4 = new StringBuilder();
                    stringBuilder4.append("tgchat");
                    stringBuilder4.append(-lowerId);
                    stringBuilder4.append("_");
                    stringBuilder4.append(max_id2);
                    message = stringBuilder4.toString();
                }
                dismissalID = message;
                wearableExtender.setDismissalId(dismissalID);
                stringBuilder4 = new StringBuilder();
                stringBuilder4.append("tgaccount");
                stringBuilder4.append(UserConfig.getInstance(notificationsController.currentAccount).getClientUserId());
                wearableExtender.setBridgeTag(stringBuilder4.toString());
                summaryExtender = new WearableExtender();
                stringBuilder4 = new StringBuilder();
                stringBuilder4.append("summary_");
                stringBuilder4.append(dismissalID);
                summaryExtender.setDismissalId(stringBuilder4.toString());
                notificationBuilder.extend(summaryExtender);
                messageObjects2 = messageObjects;
                serializedMsgs = serializedMsgs2;
                date = ((long) ((MessageObject) messageObjects2.get(null)).messageOwner.date) * 1000;
                name3 = name2;
                max_id = max_id2;
                showWhen = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(name3).setSmallIcon(R.drawable.notification).setGroup(notificationsController.notificationGroup).setContentText(text.toString()).setAutoCancel(true).setNumber(messageObjects2.size()).setColor(-13851168).setGroupSummary(false).setWhen(date).setShowWhen(true);
                stringBuilder = new StringBuilder();
                stringBuilder.append("sdid_");
                stringBuilder.append(dialog_id2);
                showWhen = showWhen.setShortcutId(stringBuilder.toString()).setGroupAlertBehavior(1).setStyle(messagingStyle2).setContentIntent(contentIntent).extend(wearableExtender);
                text = new StringBuilder();
                text.append(TtmlNode.ANONYMOUS_REGION_ID);
                text.append(Long.MAX_VALUE - date);
                showWhen = showWhen.setSortKey(text.toString()).extend(new CarExtender().setUnreadConversation(mainNotification.build())).setCategory("msg");
                if (notificationsController.pushDialogs.size() == 1) {
                }
                str2 = summary;
                if (lowerId == 0) {
                    showWhen.setLocalOnly(true);
                }
                if (photoPath2 != null) {
                    unreadConvBuilder = mainNotification;
                    mainNotification = photoPath2;
                    messagingStyle2 = ImageLoader.getInstance().getImageFromMemory(mainNotification, null, "50_50");
                    if (messagingStyle2 != null) {
                        showWhen.setLargeIcon(messagingStyle2.getBitmap());
                    } else {
                        file = FileLoader.getPathToAttach(mainNotification, true);
                        if (file.exists()) {
                            scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                            img = messagingStyle2;
                            messagingStyle2 = new Options();
                            if (scaleFactor < 1.0f) {
                            }
                            messagingStyle2.inSampleSize = scaleFactor < 1.0f ? 1 : (int) scaleFactor;
                            bitmap = BitmapFactory.decodeFile(file.getAbsolutePath(), messagingStyle2);
                            if (bitmap != null) {
                                showWhen.setLargeIcon(bitmap);
                            }
                        } else {
                            img = messagingStyle2;
                        }
                    }
                } else {
                    unreadConvBuilder = mainNotification;
                    messagingStyle3 = messagingStyle2;
                    mainNotification = photoPath2;
                }
                if (AndroidUtilities.needShowPasscode(false)) {
                }
                wearableExtender2 = wearableExtender;
                j = date;
                i4 = rowsMid;
                arrayList2 = rows3;
                if (chat == null) {
                }
                user2 = user;
                if (VERSION.SDK_INT >= 26) {
                    showWhen.setChannelId(OTHER_NOTIFICATIONS_CHANNEL);
                }
                internalId2 = internalId;
                holders2 = holders;
                holders2.add(new AnonymousClass1NotificationHolder(internalId2.intValue(), showWhen.build()));
                notificationsController.wearNotificationsIds.put(dialog_id2, internalId2);
                if (serializedChat2 != null) {
                    jSONObject = serializedChat2;
                    jSONObject.put("reply", canReply);
                    jSONObject.put("name", name3);
                    jSONObject.put("max_id", max_id);
                    jSONObject.put("max_date", max_date);
                    jSONObject.put(TtmlNode.ATTR_ID, Math.abs(lowerId));
                    if (mainNotification != null) {
                        user2 = "photo";
                        text = new StringBuilder();
                        text.append(mainNotification.dc_id);
                        text.append("_");
                        text.append(mainNotification.volume_id);
                        text.append("_");
                        text.append(mainNotification.secret);
                        jSONObject.put(user2, text.toString());
                    } else {
                        num = internalId2;
                        str = name3;
                    }
                    if (serializedMsgs != null) {
                        jSONObject.put("msgs", serializedMsgs);
                    } else {
                        builder2 = serializedMsgs;
                    }
                    if (lowerId <= 0) {
                        jSONObject.put("type", "user");
                    } else if (lowerId < 0) {
                        if (isChannel) {
                            if (isSupergroup) {
                                jSONObject.put("type", "group");
                            }
                        }
                        jSONObject.put("type", "channel");
                    }
                    serializedNotifications2 = serializedNotifications;
                    serializedNotifications2.put(jSONObject);
                } else {
                    user3 = user2;
                    builder = showWhen;
                    num = internalId2;
                    str = name3;
                    serializedNotifications2 = serializedNotifications;
                    jSONObject = serializedChat2;
                    size = max_date;
                    z = canReply;
                    builder2 = serializedMsgs;
                    max_id2 = max_id;
                }
                b = b2 + 1;
                holders3 = holders2;
                messagesByDialogs2 = messagesByDialogs;
                size = size2;
                oldIdsWear2 = oldIdsWear;
                mainNotification = mainNotification2;
                i3 = 0;
                serializedNotifications3 = serializedNotifications2;
                sortedDialogs2 = sortedDialogs;
            } else {
                mainNotification2 = mainNotification;
                messageObject2 = lastMessageObject;
                serializedNotifications = serializedNotifications3;
                b2 = b;
                z2 = false;
                mainNotification = MessagesController.getInstance(notificationsController.currentAccount).getEncryptedChat(Integer.valueOf(highId));
                if (mainNotification != null) {
                    user4 = MessagesController.getInstance(notificationsController.currentAccount).getUser(Integer.valueOf(mainNotification.user_id));
                    if (user4 != null) {
                        name = LocaleController.getString("SecretChatName", R.string.SecretChatName);
                        fileLocation = null;
                        serializedChat = null;
                        mainNotification = serializedChat;
                        user5 = user4;
                        if (AndroidUtilities.needShowPasscode(false)) {
                            if (SharedConfig.isWaitingForPasscodeEnter) {
                            }
                            photoPath = fileLocation;
                            z3 = z2;
                            holders = holders3;
                            serializedChat2 = mainNotification;
                            highId2 = highId;
                            mainNotification = new UnreadConversation.Builder(name).setLatestTimestamp(((long) size) * 1000);
                            max_date = size;
                            msgHeardIntent = new Intent(ApplicationLoader.applicationContext, AutoMessageHeardReceiver.class);
                            msgHeardIntent.addFlags(32);
                            msgHeardIntent.setAction("org.telegram.messenger.ACTION_MESSAGE_HEARD");
                            msgHeardIntent.putExtra("dialog_id", dialog_id2);
                            msgHeardIntent.putExtra("max_id", max_id2);
                            msgHeardIntent.putExtra("currentAccount", notificationsController.currentAccount);
                            user = user5;
                            msgHeardPendingIntent = PendingIntent.getBroadcast(ApplicationLoader.applicationContext, internalId3.intValue(), msgHeardIntent, 134217728);
                            mainNotification.setReadPendingIntent(msgHeardPendingIntent);
                            if (isChannel) {
                                if (!isSupergroup) {
                                    intent = msgHeardIntent;
                                    internalId = internalId3;
                                    pendingIntent = msgHeardPendingIntent;
                                    canReply = z3;
                                    action2 = null;
                                    wearReplyAction = action2;
                                    count = (Integer) notificationsController.pushDialogs.get(dialog_id2);
                                    if (count == null) {
                                        i2 = 0;
                                    } else {
                                        i2 = 0;
                                        count = Integer.valueOf(0);
                                    }
                                    messagingStyle = new MessagingStyle(TtmlNode.ANONYMOUS_REGION_ID);
                                    objArr = new Object[2];
                                    objArr[i2] = name;
                                    photoPath2 = photoPath;
                                    objArr[1] = LocaleController.formatPluralString("NewMessages", Math.max(count.intValue(), messageObjects2.size()));
                                    messagingStyle2 = messagingStyle.setConversationTitle(String.format("%1$s (%2$s)", objArr));
                                    text = new StringBuilder();
                                    isText = new boolean[1];
                                    serializedMsgs2 = null;
                                    if (serializedChat2 != null) {
                                        rows = null;
                                    } else {
                                        rows = null;
                                        serializedMsgs2 = new JSONArray();
                                    }
                                    i2 = messageObjects2.size() - 1;
                                    rowsMid = 0;
                                    rows2 = rows;
                                    while (true) {
                                        rows3 = rows2;
                                        if (i2 < 0) {
                                            break;
                                        }
                                        messageObject3 = (MessageObject) messageObjects2.get(i2);
                                        name2 = name;
                                        messageObjects = messageObjects2;
                                        message = getStringForMessage(messageObject3, null, isText);
                                        if (messageObject3.isFcmMessage() != null) {
                                        }
                                        if (message == null) {
                                            if (lowerId < 0) {
                                                action = wearReplyAction;
                                                i = max_id2;
                                                if (isText[null]) {
                                                    wearReplyAction = new StringBuilder();
                                                    wearReplyAction.append(name);
                                                    wearReplyAction.append(" ");
                                                    wearReplyAction = message.replace(wearReplyAction.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                } else {
                                                    wearReplyAction = new StringBuilder();
                                                    wearReplyAction.append(name);
                                                    wearReplyAction.append(": ");
                                                    wearReplyAction = message.replace(wearReplyAction.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                                }
                                            } else {
                                                i = max_id2;
                                                stringBuilder = new StringBuilder();
                                                action = wearReplyAction;
                                                stringBuilder.append(" @ ");
                                                stringBuilder.append(name);
                                                wearReplyAction = message.replace(stringBuilder.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                            }
                                            if (text.length() > 0) {
                                                text.append("\n\n");
                                            }
                                            text.append(wearReplyAction);
                                            mainNotification.addMessage(wearReplyAction);
                                            nameToReplace = name;
                                            messagingStyle2.addMessage(wearReplyAction, ((long) messageObject3.messageOwner.date) * 1000, null);
                                            if (serializedMsgs2 != null) {
                                                zArr = isText;
                                            } else {
                                                name = new JSONObject();
                                                name.put(MimeTypes.BASE_TYPE_TEXT, getShortStringForMessage(messageObject3));
                                                name.put("date", messageObject3.messageOwner.date);
                                                sender = MessagesController.getInstance(notificationsController.currentAccount).getUser(Integer.valueOf(messageObject3.getFromId()));
                                                if (sender != null) {
                                                    zArr = isText;
                                                    name.put("fname", sender.first_name);
                                                    name.put("lname", sender.last_name);
                                                    serializedMsgs2.put(name);
                                                }
                                                zArr = isText;
                                                serializedMsgs2.put(name);
                                            }
                                            name = messageObject3.messageOwner.reply_markup.rows;
                                            isText = messageObject3.getId();
                                            rows2 = name;
                                            rowsMid = isText;
                                            i2--;
                                            name = name2;
                                            messageObjects2 = messageObjects;
                                            max_id2 = i;
                                            wearReplyAction = action;
                                            isText = zArr;
                                        } else {
                                            zArr = isText;
                                            action = wearReplyAction;
                                            i = max_id2;
                                        }
                                        rows2 = rows3;
                                        i2--;
                                        name = name2;
                                        messageObjects2 = messageObjects;
                                        max_id2 = i;
                                        wearReplyAction = action;
                                        isText = zArr;
                                    }
                                    name2 = name;
                                    zArr = isText;
                                    action = wearReplyAction;
                                    messageObjects = messageObjects2;
                                    i = max_id2;
                                    intent2 = new Intent(ApplicationLoader.applicationContext, LaunchActivity.class);
                                    stringBuilder2 = new StringBuilder();
                                    stringBuilder2.append("com.tmessages.openchat");
                                    stringBuilder2.append(Math.random());
                                    stringBuilder2.append(ConnectionsManager.DEFAULT_DATACENTER_ID);
                                    intent2.setAction(stringBuilder2.toString());
                                    intent2.setFlags(32768);
                                    if (lowerId != 0) {
                                        highId3 = highId2;
                                        intent2.putExtra("encId", highId3);
                                    } else {
                                        if (lowerId > 0) {
                                            intent2.putExtra("chatId", -lowerId);
                                        } else {
                                            intent2.putExtra("userId", lowerId);
                                        }
                                        highId3 = highId2;
                                    }
                                    intent2.putExtra("currentAccount", notificationsController.currentAccount);
                                    contentIntent = PendingIntent.getActivity(ApplicationLoader.applicationContext, 0, intent2, NUM);
                                    wearableExtender = new WearableExtender();
                                    if (action != null) {
                                        wearReplyAction = action;
                                    } else {
                                        wearReplyAction = action;
                                        wearableExtender.addAction(wearReplyAction);
                                    }
                                    if (lowerId == 0) {
                                        max_id2 = i;
                                        stringBuilder3 = new StringBuilder();
                                        stringBuilder3.append("tgenc");
                                        stringBuilder3.append(highId3);
                                        stringBuilder3.append("_");
                                        stringBuilder3.append(max_id2);
                                        message = stringBuilder3.toString();
                                    } else if (lowerId > 0) {
                                        max_id2 = i;
                                        stringBuilder4 = new StringBuilder();
                                        stringBuilder4.append("tgchat");
                                        stringBuilder4.append(-lowerId);
                                        stringBuilder4.append("_");
                                        stringBuilder4.append(max_id2);
                                        message = stringBuilder4.toString();
                                    } else {
                                        message = new StringBuilder();
                                        message.append("tguser");
                                        message.append(lowerId);
                                        message.append("_");
                                        max_id2 = i;
                                        message.append(max_id2);
                                        message = message.toString();
                                        intent3 = intent2;
                                    }
                                    dismissalID = message;
                                    wearableExtender.setDismissalId(dismissalID);
                                    stringBuilder4 = new StringBuilder();
                                    stringBuilder4.append("tgaccount");
                                    stringBuilder4.append(UserConfig.getInstance(notificationsController.currentAccount).getClientUserId());
                                    wearableExtender.setBridgeTag(stringBuilder4.toString());
                                    summaryExtender = new WearableExtender();
                                    stringBuilder4 = new StringBuilder();
                                    stringBuilder4.append("summary_");
                                    stringBuilder4.append(dismissalID);
                                    summaryExtender.setDismissalId(stringBuilder4.toString());
                                    notificationBuilder.extend(summaryExtender);
                                    messageObjects2 = messageObjects;
                                    serializedMsgs = serializedMsgs2;
                                    date = ((long) ((MessageObject) messageObjects2.get(null)).messageOwner.date) * 1000;
                                    name3 = name2;
                                    max_id = max_id2;
                                    showWhen = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(name3).setSmallIcon(R.drawable.notification).setGroup(notificationsController.notificationGroup).setContentText(text.toString()).setAutoCancel(true).setNumber(messageObjects2.size()).setColor(-13851168).setGroupSummary(false).setWhen(date).setShowWhen(true);
                                    stringBuilder = new StringBuilder();
                                    stringBuilder.append("sdid_");
                                    stringBuilder.append(dialog_id2);
                                    showWhen = showWhen.setShortcutId(stringBuilder.toString()).setGroupAlertBehavior(1).setStyle(messagingStyle2).setContentIntent(contentIntent).extend(wearableExtender);
                                    text = new StringBuilder();
                                    text.append(TtmlNode.ANONYMOUS_REGION_ID);
                                    text.append(Long.MAX_VALUE - date);
                                    showWhen = showWhen.setSortKey(text.toString()).extend(new CarExtender().setUnreadConversation(mainNotification.build())).setCategory("msg");
                                    if (notificationsController.pushDialogs.size() == 1) {
                                    }
                                    str2 = summary;
                                    if (lowerId == 0) {
                                        showWhen.setLocalOnly(true);
                                    }
                                    if (photoPath2 != null) {
                                        unreadConvBuilder = mainNotification;
                                        messagingStyle3 = messagingStyle2;
                                        mainNotification = photoPath2;
                                    } else {
                                        unreadConvBuilder = mainNotification;
                                        mainNotification = photoPath2;
                                        messagingStyle2 = ImageLoader.getInstance().getImageFromMemory(mainNotification, null, "50_50");
                                        if (messagingStyle2 != null) {
                                            file = FileLoader.getPathToAttach(mainNotification, true);
                                            if (file.exists()) {
                                                img = messagingStyle2;
                                            } else {
                                                scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                                img = messagingStyle2;
                                                messagingStyle2 = new Options();
                                                if (scaleFactor < 1.0f) {
                                                }
                                                messagingStyle2.inSampleSize = scaleFactor < 1.0f ? 1 : (int) scaleFactor;
                                                bitmap = BitmapFactory.decodeFile(file.getAbsolutePath(), messagingStyle2);
                                                if (bitmap != null) {
                                                    showWhen.setLargeIcon(bitmap);
                                                }
                                            }
                                        } else {
                                            showWhen.setLargeIcon(messagingStyle2.getBitmap());
                                        }
                                    }
                                    if (AndroidUtilities.needShowPasscode(false)) {
                                    }
                                    wearableExtender2 = wearableExtender;
                                    j = date;
                                    i4 = rowsMid;
                                    arrayList2 = rows3;
                                    if (chat == null) {
                                    }
                                    user2 = user;
                                    if (VERSION.SDK_INT >= 26) {
                                        showWhen.setChannelId(OTHER_NOTIFICATIONS_CHANNEL);
                                    }
                                    internalId2 = internalId;
                                    holders2 = holders;
                                    holders2.add(new AnonymousClass1NotificationHolder(internalId2.intValue(), showWhen.build()));
                                    notificationsController.wearNotificationsIds.put(dialog_id2, internalId2);
                                    if (serializedChat2 != null) {
                                        user3 = user2;
                                        builder = showWhen;
                                        num = internalId2;
                                        str = name3;
                                        serializedNotifications2 = serializedNotifications;
                                        jSONObject = serializedChat2;
                                        size = max_date;
                                        z = canReply;
                                        builder2 = serializedMsgs;
                                        max_id2 = max_id;
                                    } else {
                                        jSONObject = serializedChat2;
                                        jSONObject.put("reply", canReply);
                                        jSONObject.put("name", name3);
                                        jSONObject.put("max_id", max_id);
                                        jSONObject.put("max_date", max_date);
                                        jSONObject.put(TtmlNode.ATTR_ID, Math.abs(lowerId));
                                        if (mainNotification != null) {
                                            num = internalId2;
                                            str = name3;
                                        } else {
                                            user2 = "photo";
                                            text = new StringBuilder();
                                            text.append(mainNotification.dc_id);
                                            text.append("_");
                                            text.append(mainNotification.volume_id);
                                            text.append("_");
                                            text.append(mainNotification.secret);
                                            jSONObject.put(user2, text.toString());
                                        }
                                        if (serializedMsgs != null) {
                                            builder2 = serializedMsgs;
                                        } else {
                                            jSONObject.put("msgs", serializedMsgs);
                                        }
                                        if (lowerId <= 0) {
                                            jSONObject.put("type", "user");
                                        } else if (lowerId < 0) {
                                            if (isChannel) {
                                                if (isSupergroup) {
                                                    jSONObject.put("type", "group");
                                                }
                                            }
                                            jSONObject.put("type", "channel");
                                        }
                                        serializedNotifications2 = serializedNotifications;
                                        serializedNotifications2.put(jSONObject);
                                    }
                                    b = b2 + 1;
                                    holders3 = holders2;
                                    messagesByDialogs2 = messagesByDialogs;
                                    size = size2;
                                    oldIdsWear2 = oldIdsWear;
                                    mainNotification = mainNotification2;
                                    i3 = 0;
                                    serializedNotifications3 = serializedNotifications2;
                                    sortedDialogs2 = sortedDialogs;
                                }
                            }
                            if (z3) {
                            }
                            internalId = internalId3;
                            pendingIntent = msgHeardPendingIntent;
                            canReply = z3;
                            action2 = null;
                            wearReplyAction = action2;
                            count = (Integer) notificationsController.pushDialogs.get(dialog_id2);
                            if (count == null) {
                                i2 = 0;
                                count = Integer.valueOf(0);
                            } else {
                                i2 = 0;
                            }
                            messagingStyle = new MessagingStyle(TtmlNode.ANONYMOUS_REGION_ID);
                            objArr = new Object[2];
                            objArr[i2] = name;
                            photoPath2 = photoPath;
                            objArr[1] = LocaleController.formatPluralString("NewMessages", Math.max(count.intValue(), messageObjects2.size()));
                            messagingStyle2 = messagingStyle.setConversationTitle(String.format("%1$s (%2$s)", objArr));
                            text = new StringBuilder();
                            isText = new boolean[1];
                            serializedMsgs2 = null;
                            if (serializedChat2 != null) {
                                rows = null;
                                serializedMsgs2 = new JSONArray();
                            } else {
                                rows = null;
                            }
                            i2 = messageObjects2.size() - 1;
                            rowsMid = 0;
                            rows2 = rows;
                            while (true) {
                                rows3 = rows2;
                                if (i2 < 0) {
                                    break;
                                }
                                messageObject3 = (MessageObject) messageObjects2.get(i2);
                                name2 = name;
                                messageObjects = messageObjects2;
                                message = getStringForMessage(messageObject3, null, isText);
                                if (messageObject3.isFcmMessage() != null) {
                                }
                                if (message == null) {
                                    zArr = isText;
                                    action = wearReplyAction;
                                    i = max_id2;
                                } else {
                                    if (lowerId < 0) {
                                        i = max_id2;
                                        stringBuilder = new StringBuilder();
                                        action = wearReplyAction;
                                        stringBuilder.append(" @ ");
                                        stringBuilder.append(name);
                                        wearReplyAction = message.replace(stringBuilder.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                    } else {
                                        action = wearReplyAction;
                                        i = max_id2;
                                        if (isText[null]) {
                                            wearReplyAction = new StringBuilder();
                                            wearReplyAction.append(name);
                                            wearReplyAction.append(": ");
                                            wearReplyAction = message.replace(wearReplyAction.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                        } else {
                                            wearReplyAction = new StringBuilder();
                                            wearReplyAction.append(name);
                                            wearReplyAction.append(" ");
                                            wearReplyAction = message.replace(wearReplyAction.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                        }
                                    }
                                    if (text.length() > 0) {
                                        text.append("\n\n");
                                    }
                                    text.append(wearReplyAction);
                                    mainNotification.addMessage(wearReplyAction);
                                    nameToReplace = name;
                                    messagingStyle2.addMessage(wearReplyAction, ((long) messageObject3.messageOwner.date) * 1000, null);
                                    if (serializedMsgs2 != null) {
                                        name = new JSONObject();
                                        name.put(MimeTypes.BASE_TYPE_TEXT, getShortStringForMessage(messageObject3));
                                        name.put("date", messageObject3.messageOwner.date);
                                        sender = MessagesController.getInstance(notificationsController.currentAccount).getUser(Integer.valueOf(messageObject3.getFromId()));
                                        if (sender != null) {
                                            zArr = isText;
                                            name.put("fname", sender.first_name);
                                            name.put("lname", sender.last_name);
                                            serializedMsgs2.put(name);
                                        }
                                        zArr = isText;
                                        serializedMsgs2.put(name);
                                    } else {
                                        zArr = isText;
                                    }
                                    name = messageObject3.messageOwner.reply_markup.rows;
                                    isText = messageObject3.getId();
                                    rows2 = name;
                                    rowsMid = isText;
                                    i2--;
                                    name = name2;
                                    messageObjects2 = messageObjects;
                                    max_id2 = i;
                                    wearReplyAction = action;
                                    isText = zArr;
                                }
                                rows2 = rows3;
                                i2--;
                                name = name2;
                                messageObjects2 = messageObjects;
                                max_id2 = i;
                                wearReplyAction = action;
                                isText = zArr;
                            }
                            name2 = name;
                            zArr = isText;
                            action = wearReplyAction;
                            messageObjects = messageObjects2;
                            i = max_id2;
                            intent2 = new Intent(ApplicationLoader.applicationContext, LaunchActivity.class);
                            stringBuilder2 = new StringBuilder();
                            stringBuilder2.append("com.tmessages.openchat");
                            stringBuilder2.append(Math.random());
                            stringBuilder2.append(ConnectionsManager.DEFAULT_DATACENTER_ID);
                            intent2.setAction(stringBuilder2.toString());
                            intent2.setFlags(32768);
                            if (lowerId != 0) {
                                if (lowerId > 0) {
                                    intent2.putExtra("userId", lowerId);
                                } else {
                                    intent2.putExtra("chatId", -lowerId);
                                }
                                highId3 = highId2;
                            } else {
                                highId3 = highId2;
                                intent2.putExtra("encId", highId3);
                            }
                            intent2.putExtra("currentAccount", notificationsController.currentAccount);
                            contentIntent = PendingIntent.getActivity(ApplicationLoader.applicationContext, 0, intent2, NUM);
                            wearableExtender = new WearableExtender();
                            if (action != null) {
                                wearReplyAction = action;
                                wearableExtender.addAction(wearReplyAction);
                            } else {
                                wearReplyAction = action;
                            }
                            if (lowerId == 0) {
                                max_id2 = i;
                                stringBuilder3 = new StringBuilder();
                                stringBuilder3.append("tgenc");
                                stringBuilder3.append(highId3);
                                stringBuilder3.append("_");
                                stringBuilder3.append(max_id2);
                                message = stringBuilder3.toString();
                            } else if (lowerId > 0) {
                                message = new StringBuilder();
                                message.append("tguser");
                                message.append(lowerId);
                                message.append("_");
                                max_id2 = i;
                                message.append(max_id2);
                                message = message.toString();
                                intent3 = intent2;
                            } else {
                                max_id2 = i;
                                stringBuilder4 = new StringBuilder();
                                stringBuilder4.append("tgchat");
                                stringBuilder4.append(-lowerId);
                                stringBuilder4.append("_");
                                stringBuilder4.append(max_id2);
                                message = stringBuilder4.toString();
                            }
                            dismissalID = message;
                            wearableExtender.setDismissalId(dismissalID);
                            stringBuilder4 = new StringBuilder();
                            stringBuilder4.append("tgaccount");
                            stringBuilder4.append(UserConfig.getInstance(notificationsController.currentAccount).getClientUserId());
                            wearableExtender.setBridgeTag(stringBuilder4.toString());
                            summaryExtender = new WearableExtender();
                            stringBuilder4 = new StringBuilder();
                            stringBuilder4.append("summary_");
                            stringBuilder4.append(dismissalID);
                            summaryExtender.setDismissalId(stringBuilder4.toString());
                            notificationBuilder.extend(summaryExtender);
                            messageObjects2 = messageObjects;
                            serializedMsgs = serializedMsgs2;
                            date = ((long) ((MessageObject) messageObjects2.get(null)).messageOwner.date) * 1000;
                            name3 = name2;
                            max_id = max_id2;
                            showWhen = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(name3).setSmallIcon(R.drawable.notification).setGroup(notificationsController.notificationGroup).setContentText(text.toString()).setAutoCancel(true).setNumber(messageObjects2.size()).setColor(-13851168).setGroupSummary(false).setWhen(date).setShowWhen(true);
                            stringBuilder = new StringBuilder();
                            stringBuilder.append("sdid_");
                            stringBuilder.append(dialog_id2);
                            showWhen = showWhen.setShortcutId(stringBuilder.toString()).setGroupAlertBehavior(1).setStyle(messagingStyle2).setContentIntent(contentIntent).extend(wearableExtender);
                            text = new StringBuilder();
                            text.append(TtmlNode.ANONYMOUS_REGION_ID);
                            text.append(Long.MAX_VALUE - date);
                            showWhen = showWhen.setSortKey(text.toString()).extend(new CarExtender().setUnreadConversation(mainNotification.build())).setCategory("msg");
                            if (notificationsController.pushDialogs.size() == 1) {
                            }
                            str2 = summary;
                            if (lowerId == 0) {
                                showWhen.setLocalOnly(true);
                            }
                            if (photoPath2 != null) {
                                unreadConvBuilder = mainNotification;
                                mainNotification = photoPath2;
                                messagingStyle2 = ImageLoader.getInstance().getImageFromMemory(mainNotification, null, "50_50");
                                if (messagingStyle2 != null) {
                                    showWhen.setLargeIcon(messagingStyle2.getBitmap());
                                } else {
                                    file = FileLoader.getPathToAttach(mainNotification, true);
                                    if (file.exists()) {
                                        scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                        img = messagingStyle2;
                                        messagingStyle2 = new Options();
                                        if (scaleFactor < 1.0f) {
                                        }
                                        messagingStyle2.inSampleSize = scaleFactor < 1.0f ? 1 : (int) scaleFactor;
                                        bitmap = BitmapFactory.decodeFile(file.getAbsolutePath(), messagingStyle2);
                                        if (bitmap != null) {
                                            showWhen.setLargeIcon(bitmap);
                                        }
                                    } else {
                                        img = messagingStyle2;
                                    }
                                }
                            } else {
                                unreadConvBuilder = mainNotification;
                                messagingStyle3 = messagingStyle2;
                                mainNotification = photoPath2;
                            }
                            if (AndroidUtilities.needShowPasscode(false)) {
                            }
                            wearableExtender2 = wearableExtender;
                            j = date;
                            i4 = rowsMid;
                            arrayList2 = rows3;
                            if (chat == null) {
                            }
                            user2 = user;
                            if (VERSION.SDK_INT >= 26) {
                                showWhen.setChannelId(OTHER_NOTIFICATIONS_CHANNEL);
                            }
                            internalId2 = internalId;
                            holders2 = holders;
                            holders2.add(new AnonymousClass1NotificationHolder(internalId2.intValue(), showWhen.build()));
                            notificationsController.wearNotificationsIds.put(dialog_id2, internalId2);
                            if (serializedChat2 != null) {
                                jSONObject = serializedChat2;
                                jSONObject.put("reply", canReply);
                                jSONObject.put("name", name3);
                                jSONObject.put("max_id", max_id);
                                jSONObject.put("max_date", max_date);
                                jSONObject.put(TtmlNode.ATTR_ID, Math.abs(lowerId));
                                if (mainNotification != null) {
                                    user2 = "photo";
                                    text = new StringBuilder();
                                    text.append(mainNotification.dc_id);
                                    text.append("_");
                                    text.append(mainNotification.volume_id);
                                    text.append("_");
                                    text.append(mainNotification.secret);
                                    jSONObject.put(user2, text.toString());
                                } else {
                                    num = internalId2;
                                    str = name3;
                                }
                                if (serializedMsgs != null) {
                                    jSONObject.put("msgs", serializedMsgs);
                                } else {
                                    builder2 = serializedMsgs;
                                }
                                if (lowerId <= 0) {
                                    jSONObject.put("type", "user");
                                } else if (lowerId < 0) {
                                    if (isChannel) {
                                        if (isSupergroup) {
                                            jSONObject.put("type", "group");
                                        }
                                    }
                                    jSONObject.put("type", "channel");
                                }
                                serializedNotifications2 = serializedNotifications;
                                serializedNotifications2.put(jSONObject);
                            } else {
                                user3 = user2;
                                builder = showWhen;
                                num = internalId2;
                                str = name3;
                                serializedNotifications2 = serializedNotifications;
                                jSONObject = serializedChat2;
                                size = max_date;
                                z = canReply;
                                builder2 = serializedMsgs;
                                max_id2 = max_id;
                            }
                            b = b2 + 1;
                            holders3 = holders2;
                            messagesByDialogs2 = messagesByDialogs;
                            size = size2;
                            oldIdsWear2 = oldIdsWear;
                            mainNotification = mainNotification2;
                            i3 = 0;
                            serializedNotifications3 = serializedNotifications2;
                            sortedDialogs2 = sortedDialogs;
                        }
                        name = LocaleController.getString("AppName", R.string.AppName);
                        fileLocation = null;
                        z2 = false;
                        photoPath = fileLocation;
                        z3 = z2;
                        holders = holders3;
                        serializedChat2 = mainNotification;
                        highId2 = highId;
                        mainNotification = new UnreadConversation.Builder(name).setLatestTimestamp(((long) size) * 1000);
                        max_date = size;
                        msgHeardIntent = new Intent(ApplicationLoader.applicationContext, AutoMessageHeardReceiver.class);
                        msgHeardIntent.addFlags(32);
                        msgHeardIntent.setAction("org.telegram.messenger.ACTION_MESSAGE_HEARD");
                        msgHeardIntent.putExtra("dialog_id", dialog_id2);
                        msgHeardIntent.putExtra("max_id", max_id2);
                        msgHeardIntent.putExtra("currentAccount", notificationsController.currentAccount);
                        user = user5;
                        msgHeardPendingIntent = PendingIntent.getBroadcast(ApplicationLoader.applicationContext, internalId3.intValue(), msgHeardIntent, 134217728);
                        mainNotification.setReadPendingIntent(msgHeardPendingIntent);
                        if (isChannel) {
                            if (!isSupergroup) {
                                intent = msgHeardIntent;
                                internalId = internalId3;
                                pendingIntent = msgHeardPendingIntent;
                                canReply = z3;
                                action2 = null;
                                wearReplyAction = action2;
                                count = (Integer) notificationsController.pushDialogs.get(dialog_id2);
                                if (count == null) {
                                    i2 = 0;
                                } else {
                                    i2 = 0;
                                    count = Integer.valueOf(0);
                                }
                                messagingStyle = new MessagingStyle(TtmlNode.ANONYMOUS_REGION_ID);
                                objArr = new Object[2];
                                objArr[i2] = name;
                                photoPath2 = photoPath;
                                objArr[1] = LocaleController.formatPluralString("NewMessages", Math.max(count.intValue(), messageObjects2.size()));
                                messagingStyle2 = messagingStyle.setConversationTitle(String.format("%1$s (%2$s)", objArr));
                                text = new StringBuilder();
                                isText = new boolean[1];
                                serializedMsgs2 = null;
                                if (serializedChat2 != null) {
                                    rows = null;
                                } else {
                                    rows = null;
                                    serializedMsgs2 = new JSONArray();
                                }
                                i2 = messageObjects2.size() - 1;
                                rowsMid = 0;
                                rows2 = rows;
                                while (true) {
                                    rows3 = rows2;
                                    if (i2 < 0) {
                                        break;
                                    }
                                    messageObject3 = (MessageObject) messageObjects2.get(i2);
                                    name2 = name;
                                    messageObjects = messageObjects2;
                                    message = getStringForMessage(messageObject3, null, isText);
                                    if (messageObject3.isFcmMessage() != null) {
                                    }
                                    if (message == null) {
                                        if (lowerId < 0) {
                                            action = wearReplyAction;
                                            i = max_id2;
                                            if (isText[null]) {
                                                wearReplyAction = new StringBuilder();
                                                wearReplyAction.append(name);
                                                wearReplyAction.append(" ");
                                                wearReplyAction = message.replace(wearReplyAction.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                            } else {
                                                wearReplyAction = new StringBuilder();
                                                wearReplyAction.append(name);
                                                wearReplyAction.append(": ");
                                                wearReplyAction = message.replace(wearReplyAction.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                            }
                                        } else {
                                            i = max_id2;
                                            stringBuilder = new StringBuilder();
                                            action = wearReplyAction;
                                            stringBuilder.append(" @ ");
                                            stringBuilder.append(name);
                                            wearReplyAction = message.replace(stringBuilder.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                        }
                                        if (text.length() > 0) {
                                            text.append("\n\n");
                                        }
                                        text.append(wearReplyAction);
                                        mainNotification.addMessage(wearReplyAction);
                                        nameToReplace = name;
                                        messagingStyle2.addMessage(wearReplyAction, ((long) messageObject3.messageOwner.date) * 1000, null);
                                        if (serializedMsgs2 != null) {
                                            zArr = isText;
                                        } else {
                                            name = new JSONObject();
                                            name.put(MimeTypes.BASE_TYPE_TEXT, getShortStringForMessage(messageObject3));
                                            name.put("date", messageObject3.messageOwner.date);
                                            sender = MessagesController.getInstance(notificationsController.currentAccount).getUser(Integer.valueOf(messageObject3.getFromId()));
                                            if (sender != null) {
                                                zArr = isText;
                                                name.put("fname", sender.first_name);
                                                name.put("lname", sender.last_name);
                                                serializedMsgs2.put(name);
                                            }
                                            zArr = isText;
                                            serializedMsgs2.put(name);
                                        }
                                        name = messageObject3.messageOwner.reply_markup.rows;
                                        isText = messageObject3.getId();
                                        rows2 = name;
                                        rowsMid = isText;
                                        i2--;
                                        name = name2;
                                        messageObjects2 = messageObjects;
                                        max_id2 = i;
                                        wearReplyAction = action;
                                        isText = zArr;
                                    } else {
                                        zArr = isText;
                                        action = wearReplyAction;
                                        i = max_id2;
                                    }
                                    rows2 = rows3;
                                    i2--;
                                    name = name2;
                                    messageObjects2 = messageObjects;
                                    max_id2 = i;
                                    wearReplyAction = action;
                                    isText = zArr;
                                }
                                name2 = name;
                                zArr = isText;
                                action = wearReplyAction;
                                messageObjects = messageObjects2;
                                i = max_id2;
                                intent2 = new Intent(ApplicationLoader.applicationContext, LaunchActivity.class);
                                stringBuilder2 = new StringBuilder();
                                stringBuilder2.append("com.tmessages.openchat");
                                stringBuilder2.append(Math.random());
                                stringBuilder2.append(ConnectionsManager.DEFAULT_DATACENTER_ID);
                                intent2.setAction(stringBuilder2.toString());
                                intent2.setFlags(32768);
                                if (lowerId != 0) {
                                    highId3 = highId2;
                                    intent2.putExtra("encId", highId3);
                                } else {
                                    if (lowerId > 0) {
                                        intent2.putExtra("chatId", -lowerId);
                                    } else {
                                        intent2.putExtra("userId", lowerId);
                                    }
                                    highId3 = highId2;
                                }
                                intent2.putExtra("currentAccount", notificationsController.currentAccount);
                                contentIntent = PendingIntent.getActivity(ApplicationLoader.applicationContext, 0, intent2, NUM);
                                wearableExtender = new WearableExtender();
                                if (action != null) {
                                    wearReplyAction = action;
                                } else {
                                    wearReplyAction = action;
                                    wearableExtender.addAction(wearReplyAction);
                                }
                                if (lowerId == 0) {
                                    max_id2 = i;
                                    stringBuilder3 = new StringBuilder();
                                    stringBuilder3.append("tgenc");
                                    stringBuilder3.append(highId3);
                                    stringBuilder3.append("_");
                                    stringBuilder3.append(max_id2);
                                    message = stringBuilder3.toString();
                                } else if (lowerId > 0) {
                                    max_id2 = i;
                                    stringBuilder4 = new StringBuilder();
                                    stringBuilder4.append("tgchat");
                                    stringBuilder4.append(-lowerId);
                                    stringBuilder4.append("_");
                                    stringBuilder4.append(max_id2);
                                    message = stringBuilder4.toString();
                                } else {
                                    message = new StringBuilder();
                                    message.append("tguser");
                                    message.append(lowerId);
                                    message.append("_");
                                    max_id2 = i;
                                    message.append(max_id2);
                                    message = message.toString();
                                    intent3 = intent2;
                                }
                                dismissalID = message;
                                wearableExtender.setDismissalId(dismissalID);
                                stringBuilder4 = new StringBuilder();
                                stringBuilder4.append("tgaccount");
                                stringBuilder4.append(UserConfig.getInstance(notificationsController.currentAccount).getClientUserId());
                                wearableExtender.setBridgeTag(stringBuilder4.toString());
                                summaryExtender = new WearableExtender();
                                stringBuilder4 = new StringBuilder();
                                stringBuilder4.append("summary_");
                                stringBuilder4.append(dismissalID);
                                summaryExtender.setDismissalId(stringBuilder4.toString());
                                notificationBuilder.extend(summaryExtender);
                                messageObjects2 = messageObjects;
                                serializedMsgs = serializedMsgs2;
                                date = ((long) ((MessageObject) messageObjects2.get(null)).messageOwner.date) * 1000;
                                name3 = name2;
                                max_id = max_id2;
                                showWhen = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(name3).setSmallIcon(R.drawable.notification).setGroup(notificationsController.notificationGroup).setContentText(text.toString()).setAutoCancel(true).setNumber(messageObjects2.size()).setColor(-13851168).setGroupSummary(false).setWhen(date).setShowWhen(true);
                                stringBuilder = new StringBuilder();
                                stringBuilder.append("sdid_");
                                stringBuilder.append(dialog_id2);
                                showWhen = showWhen.setShortcutId(stringBuilder.toString()).setGroupAlertBehavior(1).setStyle(messagingStyle2).setContentIntent(contentIntent).extend(wearableExtender);
                                text = new StringBuilder();
                                text.append(TtmlNode.ANONYMOUS_REGION_ID);
                                text.append(Long.MAX_VALUE - date);
                                showWhen = showWhen.setSortKey(text.toString()).extend(new CarExtender().setUnreadConversation(mainNotification.build())).setCategory("msg");
                                if (notificationsController.pushDialogs.size() == 1) {
                                }
                                str2 = summary;
                                if (lowerId == 0) {
                                    showWhen.setLocalOnly(true);
                                }
                                if (photoPath2 != null) {
                                    unreadConvBuilder = mainNotification;
                                    messagingStyle3 = messagingStyle2;
                                    mainNotification = photoPath2;
                                } else {
                                    unreadConvBuilder = mainNotification;
                                    mainNotification = photoPath2;
                                    messagingStyle2 = ImageLoader.getInstance().getImageFromMemory(mainNotification, null, "50_50");
                                    if (messagingStyle2 != null) {
                                        file = FileLoader.getPathToAttach(mainNotification, true);
                                        if (file.exists()) {
                                            img = messagingStyle2;
                                        } else {
                                            scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                            img = messagingStyle2;
                                            messagingStyle2 = new Options();
                                            if (scaleFactor < 1.0f) {
                                            }
                                            messagingStyle2.inSampleSize = scaleFactor < 1.0f ? 1 : (int) scaleFactor;
                                            bitmap = BitmapFactory.decodeFile(file.getAbsolutePath(), messagingStyle2);
                                            if (bitmap != null) {
                                                showWhen.setLargeIcon(bitmap);
                                            }
                                        }
                                    } else {
                                        showWhen.setLargeIcon(messagingStyle2.getBitmap());
                                    }
                                }
                                if (AndroidUtilities.needShowPasscode(false)) {
                                }
                                wearableExtender2 = wearableExtender;
                                j = date;
                                i4 = rowsMid;
                                arrayList2 = rows3;
                                if (chat == null) {
                                }
                                user2 = user;
                                if (VERSION.SDK_INT >= 26) {
                                    showWhen.setChannelId(OTHER_NOTIFICATIONS_CHANNEL);
                                }
                                internalId2 = internalId;
                                holders2 = holders;
                                holders2.add(new AnonymousClass1NotificationHolder(internalId2.intValue(), showWhen.build()));
                                notificationsController.wearNotificationsIds.put(dialog_id2, internalId2);
                                if (serializedChat2 != null) {
                                    user3 = user2;
                                    builder = showWhen;
                                    num = internalId2;
                                    str = name3;
                                    serializedNotifications2 = serializedNotifications;
                                    jSONObject = serializedChat2;
                                    size = max_date;
                                    z = canReply;
                                    builder2 = serializedMsgs;
                                    max_id2 = max_id;
                                } else {
                                    jSONObject = serializedChat2;
                                    jSONObject.put("reply", canReply);
                                    jSONObject.put("name", name3);
                                    jSONObject.put("max_id", max_id);
                                    jSONObject.put("max_date", max_date);
                                    jSONObject.put(TtmlNode.ATTR_ID, Math.abs(lowerId));
                                    if (mainNotification != null) {
                                        num = internalId2;
                                        str = name3;
                                    } else {
                                        user2 = "photo";
                                        text = new StringBuilder();
                                        text.append(mainNotification.dc_id);
                                        text.append("_");
                                        text.append(mainNotification.volume_id);
                                        text.append("_");
                                        text.append(mainNotification.secret);
                                        jSONObject.put(user2, text.toString());
                                    }
                                    if (serializedMsgs != null) {
                                        builder2 = serializedMsgs;
                                    } else {
                                        jSONObject.put("msgs", serializedMsgs);
                                    }
                                    if (lowerId <= 0) {
                                        jSONObject.put("type", "user");
                                    } else if (lowerId < 0) {
                                        if (isChannel) {
                                            if (isSupergroup) {
                                                jSONObject.put("type", "group");
                                            }
                                        }
                                        jSONObject.put("type", "channel");
                                    }
                                    serializedNotifications2 = serializedNotifications;
                                    serializedNotifications2.put(jSONObject);
                                }
                                b = b2 + 1;
                                holders3 = holders2;
                                messagesByDialogs2 = messagesByDialogs;
                                size = size2;
                                oldIdsWear2 = oldIdsWear;
                                mainNotification = mainNotification2;
                                i3 = 0;
                                serializedNotifications3 = serializedNotifications2;
                                sortedDialogs2 = sortedDialogs;
                            }
                        }
                        if (z3) {
                        }
                        internalId = internalId3;
                        pendingIntent = msgHeardPendingIntent;
                        canReply = z3;
                        action2 = null;
                        wearReplyAction = action2;
                        count = (Integer) notificationsController.pushDialogs.get(dialog_id2);
                        if (count == null) {
                            i2 = 0;
                            count = Integer.valueOf(0);
                        } else {
                            i2 = 0;
                        }
                        messagingStyle = new MessagingStyle(TtmlNode.ANONYMOUS_REGION_ID);
                        objArr = new Object[2];
                        objArr[i2] = name;
                        photoPath2 = photoPath;
                        objArr[1] = LocaleController.formatPluralString("NewMessages", Math.max(count.intValue(), messageObjects2.size()));
                        messagingStyle2 = messagingStyle.setConversationTitle(String.format("%1$s (%2$s)", objArr));
                        text = new StringBuilder();
                        isText = new boolean[1];
                        serializedMsgs2 = null;
                        if (serializedChat2 != null) {
                            rows = null;
                            serializedMsgs2 = new JSONArray();
                        } else {
                            rows = null;
                        }
                        i2 = messageObjects2.size() - 1;
                        rowsMid = 0;
                        rows2 = rows;
                        while (true) {
                            rows3 = rows2;
                            if (i2 < 0) {
                                break;
                            }
                            messageObject3 = (MessageObject) messageObjects2.get(i2);
                            name2 = name;
                            messageObjects = messageObjects2;
                            message = getStringForMessage(messageObject3, null, isText);
                            if (messageObject3.isFcmMessage() != null) {
                            }
                            if (message == null) {
                                zArr = isText;
                                action = wearReplyAction;
                                i = max_id2;
                            } else {
                                if (lowerId < 0) {
                                    i = max_id2;
                                    stringBuilder = new StringBuilder();
                                    action = wearReplyAction;
                                    stringBuilder.append(" @ ");
                                    stringBuilder.append(name);
                                    wearReplyAction = message.replace(stringBuilder.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                } else {
                                    action = wearReplyAction;
                                    i = max_id2;
                                    if (isText[null]) {
                                        wearReplyAction = new StringBuilder();
                                        wearReplyAction.append(name);
                                        wearReplyAction.append(": ");
                                        wearReplyAction = message.replace(wearReplyAction.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                    } else {
                                        wearReplyAction = new StringBuilder();
                                        wearReplyAction.append(name);
                                        wearReplyAction.append(" ");
                                        wearReplyAction = message.replace(wearReplyAction.toString(), TtmlNode.ANONYMOUS_REGION_ID);
                                    }
                                }
                                if (text.length() > 0) {
                                    text.append("\n\n");
                                }
                                text.append(wearReplyAction);
                                mainNotification.addMessage(wearReplyAction);
                                nameToReplace = name;
                                messagingStyle2.addMessage(wearReplyAction, ((long) messageObject3.messageOwner.date) * 1000, null);
                                if (serializedMsgs2 != null) {
                                    name = new JSONObject();
                                    name.put(MimeTypes.BASE_TYPE_TEXT, getShortStringForMessage(messageObject3));
                                    name.put("date", messageObject3.messageOwner.date);
                                    sender = MessagesController.getInstance(notificationsController.currentAccount).getUser(Integer.valueOf(messageObject3.getFromId()));
                                    if (sender != null) {
                                        zArr = isText;
                                        name.put("fname", sender.first_name);
                                        name.put("lname", sender.last_name);
                                        serializedMsgs2.put(name);
                                    }
                                    zArr = isText;
                                    serializedMsgs2.put(name);
                                } else {
                                    zArr = isText;
                                }
                                name = messageObject3.messageOwner.reply_markup.rows;
                                isText = messageObject3.getId();
                                rows2 = name;
                                rowsMid = isText;
                                i2--;
                                name = name2;
                                messageObjects2 = messageObjects;
                                max_id2 = i;
                                wearReplyAction = action;
                                isText = zArr;
                            }
                            rows2 = rows3;
                            i2--;
                            name = name2;
                            messageObjects2 = messageObjects;
                            max_id2 = i;
                            wearReplyAction = action;
                            isText = zArr;
                        }
                        name2 = name;
                        zArr = isText;
                        action = wearReplyAction;
                        messageObjects = messageObjects2;
                        i = max_id2;
                        intent2 = new Intent(ApplicationLoader.applicationContext, LaunchActivity.class);
                        stringBuilder2 = new StringBuilder();
                        stringBuilder2.append("com.tmessages.openchat");
                        stringBuilder2.append(Math.random());
                        stringBuilder2.append(ConnectionsManager.DEFAULT_DATACENTER_ID);
                        intent2.setAction(stringBuilder2.toString());
                        intent2.setFlags(32768);
                        if (lowerId != 0) {
                            if (lowerId > 0) {
                                intent2.putExtra("userId", lowerId);
                            } else {
                                intent2.putExtra("chatId", -lowerId);
                            }
                            highId3 = highId2;
                        } else {
                            highId3 = highId2;
                            intent2.putExtra("encId", highId3);
                        }
                        intent2.putExtra("currentAccount", notificationsController.currentAccount);
                        contentIntent = PendingIntent.getActivity(ApplicationLoader.applicationContext, 0, intent2, NUM);
                        wearableExtender = new WearableExtender();
                        if (action != null) {
                            wearReplyAction = action;
                            wearableExtender.addAction(wearReplyAction);
                        } else {
                            wearReplyAction = action;
                        }
                        if (lowerId == 0) {
                            max_id2 = i;
                            stringBuilder3 = new StringBuilder();
                            stringBuilder3.append("tgenc");
                            stringBuilder3.append(highId3);
                            stringBuilder3.append("_");
                            stringBuilder3.append(max_id2);
                            message = stringBuilder3.toString();
                        } else if (lowerId > 0) {
                            message = new StringBuilder();
                            message.append("tguser");
                            message.append(lowerId);
                            message.append("_");
                            max_id2 = i;
                            message.append(max_id2);
                            message = message.toString();
                            intent3 = intent2;
                        } else {
                            max_id2 = i;
                            stringBuilder4 = new StringBuilder();
                            stringBuilder4.append("tgchat");
                            stringBuilder4.append(-lowerId);
                            stringBuilder4.append("_");
                            stringBuilder4.append(max_id2);
                            message = stringBuilder4.toString();
                        }
                        dismissalID = message;
                        wearableExtender.setDismissalId(dismissalID);
                        stringBuilder4 = new StringBuilder();
                        stringBuilder4.append("tgaccount");
                        stringBuilder4.append(UserConfig.getInstance(notificationsController.currentAccount).getClientUserId());
                        wearableExtender.setBridgeTag(stringBuilder4.toString());
                        summaryExtender = new WearableExtender();
                        stringBuilder4 = new StringBuilder();
                        stringBuilder4.append("summary_");
                        stringBuilder4.append(dismissalID);
                        summaryExtender.setDismissalId(stringBuilder4.toString());
                        notificationBuilder.extend(summaryExtender);
                        messageObjects2 = messageObjects;
                        serializedMsgs = serializedMsgs2;
                        date = ((long) ((MessageObject) messageObjects2.get(null)).messageOwner.date) * 1000;
                        name3 = name2;
                        max_id = max_id2;
                        showWhen = new NotificationCompat.Builder(ApplicationLoader.applicationContext).setContentTitle(name3).setSmallIcon(R.drawable.notification).setGroup(notificationsController.notificationGroup).setContentText(text.toString()).setAutoCancel(true).setNumber(messageObjects2.size()).setColor(-13851168).setGroupSummary(false).setWhen(date).setShowWhen(true);
                        stringBuilder = new StringBuilder();
                        stringBuilder.append("sdid_");
                        stringBuilder.append(dialog_id2);
                        showWhen = showWhen.setShortcutId(stringBuilder.toString()).setGroupAlertBehavior(1).setStyle(messagingStyle2).setContentIntent(contentIntent).extend(wearableExtender);
                        text = new StringBuilder();
                        text.append(TtmlNode.ANONYMOUS_REGION_ID);
                        text.append(Long.MAX_VALUE - date);
                        showWhen = showWhen.setSortKey(text.toString()).extend(new CarExtender().setUnreadConversation(mainNotification.build())).setCategory("msg");
                        if (notificationsController.pushDialogs.size() == 1) {
                        }
                        str2 = summary;
                        if (lowerId == 0) {
                            showWhen.setLocalOnly(true);
                        }
                        if (photoPath2 != null) {
                            unreadConvBuilder = mainNotification;
                            mainNotification = photoPath2;
                            messagingStyle2 = ImageLoader.getInstance().getImageFromMemory(mainNotification, null, "50_50");
                            if (messagingStyle2 != null) {
                                showWhen.setLargeIcon(messagingStyle2.getBitmap());
                            } else {
                                file = FileLoader.getPathToAttach(mainNotification, true);
                                if (file.exists()) {
                                    scaleFactor = 160.0f / ((float) AndroidUtilities.dp(50.0f));
                                    img = messagingStyle2;
                                    messagingStyle2 = new Options();
                                    if (scaleFactor < 1.0f) {
                                    }
                                    messagingStyle2.inSampleSize = scaleFactor < 1.0f ? 1 : (int) scaleFactor;
                                    bitmap = BitmapFactory.decodeFile(file.getAbsolutePath(), messagingStyle2);
                                    if (bitmap != null) {
                                        showWhen.setLargeIcon(bitmap);
                                    }
                                } else {
                                    img = messagingStyle2;
                                }
                            }
                        } else {
                            unreadConvBuilder = mainNotification;
                            messagingStyle3 = messagingStyle2;
                            mainNotification = photoPath2;
                        }
                        if (AndroidUtilities.needShowPasscode(false)) {
                        }
                        wearableExtender2 = wearableExtender;
                        j = date;
                        i4 = rowsMid;
                        arrayList2 = rows3;
                        if (chat == null) {
                        }
                        user2 = user;
                        if (VERSION.SDK_INT >= 26) {
                            showWhen.setChannelId(OTHER_NOTIFICATIONS_CHANNEL);
                        }
                        internalId2 = internalId;
                        holders2 = holders;
                        holders2.add(new AnonymousClass1NotificationHolder(internalId2.intValue(), showWhen.build()));
                        notificationsController.wearNotificationsIds.put(dialog_id2, internalId2);
                        if (serializedChat2 != null) {
                            jSONObject = serializedChat2;
                            jSONObject.put("reply", canReply);
                            jSONObject.put("name", name3);
                            jSONObject.put("max_id", max_id);
                            jSONObject.put("max_date", max_date);
                            jSONObject.put(TtmlNode.ATTR_ID, Math.abs(lowerId));
                            if (mainNotification != null) {
                                user2 = "photo";
                                text = new StringBuilder();
                                text.append(mainNotification.dc_id);
                                text.append("_");
                                text.append(mainNotification.volume_id);
                                text.append("_");
                                text.append(mainNotification.secret);
                                jSONObject.put(user2, text.toString());
                            } else {
                                num = internalId2;
                                str = name3;
                            }
                            if (serializedMsgs != null) {
                                jSONObject.put("msgs", serializedMsgs);
                            } else {
                                builder2 = serializedMsgs;
                            }
                            if (lowerId <= 0) {
                                jSONObject.put("type", "user");
                            } else if (lowerId < 0) {
                                if (isChannel) {
                                    if (isSupergroup) {
                                        jSONObject.put("type", "group");
                                    }
                                }
                                jSONObject.put("type", "channel");
                            }
                            serializedNotifications2 = serializedNotifications;
                            serializedNotifications2.put(jSONObject);
                        } else {
                            user3 = user2;
                            builder = showWhen;
                            num = internalId2;
                            str = name3;
                            serializedNotifications2 = serializedNotifications;
                            jSONObject = serializedChat2;
                            size = max_date;
                            z = canReply;
                            builder2 = serializedMsgs;
                            max_id2 = max_id;
                        }
                        b = b2 + 1;
                        holders3 = holders2;
                        messagesByDialogs2 = messagesByDialogs;
                        size = size2;
                        oldIdsWear2 = oldIdsWear;
                        mainNotification = mainNotification2;
                        i3 = 0;
                        serializedNotifications3 = serializedNotifications2;
                        sortedDialogs2 = sortedDialogs;
                    }
                }
            }
            holders2 = holders3;
            serializedNotifications2 = serializedNotifications;
            b = b2 + 1;
            holders3 = holders2;
            messagesByDialogs2 = messagesByDialogs;
            size = size2;
            oldIdsWear2 = oldIdsWear;
            mainNotification = mainNotification2;
            i3 = 0;
            serializedNotifications3 = serializedNotifications2;
            sortedDialogs2 = sortedDialogs;
        }
        sortedDialogs = sortedDialogs2;
        messagesByDialogs = messagesByDialogs2;
        oldIdsWear = oldIdsWear2;
        serializedNotifications2 = serializedNotifications3;
        holders2 = holders3;
        notificationManager.notify(notificationsController.notificationId, mainNotification);
        i2 = holders2.size();
        for (a2 = 0; a2 < i2; a2++) {
            ((AnonymousClass1NotificationHolder) holders2.get(a2)).call();
        }
        int a3 = 0;
        while (true) {
            a2 = a3;
            LongSparseArray<Integer> oldIdsWear3 = oldIdsWear;
            if (a2 >= oldIdsWear3.size()) {
                break;
            }
            notificationManager.cancel(((Integer) oldIdsWear3.valueAt(a2)).intValue());
            a3 = a2 + 1;
            oldIdsWear = oldIdsWear3;
        }
        if (serializedNotifications2 != null) {
            try {
                JSONObject s = new JSONObject();
                s.put(TtmlNode.ATTR_ID, UserConfig.getInstance(notificationsController.currentAccount).getClientUserId());
                s.put("n", serializedNotifications2);
                WearDataLayerListenerService.sendMessageToWatch("/notify", s.toString().getBytes(C0539C.UTF8_NAME), "remote_notifications");
            } catch (Exception e14) {
            }
        }
    }

    public void playOutChatSound() {
        if (this.inChatSoundEnabled) {
            if (!MediaController.getInstance().isRecordingAudio()) {
                try {
                    if (audioManager.getRingerMode() != 0) {
                        notificationsQueue.postRunnable(new Runnable() {

                            /* renamed from: org.telegram.messenger.NotificationsController$16$1 */
                            class C04251 implements OnLoadCompleteListener {
                                C04251() {
                                }

                                public void onLoadComplete(SoundPool soundPool, int sampleId, int status) {
                                    if (status == 0) {
                                        try {
                                            soundPool.play(sampleId, 1.0f, 1.0f, 1, 0, 1.0f);
                                        } catch (Throwable e) {
                                            FileLog.m3e(e);
                                        }
                                    }
                                }
                            }

                            public void run() {
                                try {
                                    if (Math.abs(System.currentTimeMillis() - NotificationsController.this.lastSoundOutPlay) > 100) {
                                        NotificationsController.this.lastSoundOutPlay = System.currentTimeMillis();
                                        if (NotificationsController.this.soundPool == null) {
                                            NotificationsController.this.soundPool = new SoundPool(3, 1, 0);
                                            NotificationsController.this.soundPool.setOnLoadCompleteListener(new C04251());
                                        }
                                        if (NotificationsController.this.soundOut == 0 && !NotificationsController.this.soundOutLoaded) {
                                            NotificationsController.this.soundOutLoaded = true;
                                            NotificationsController.this.soundOut = NotificationsController.this.soundPool.load(ApplicationLoader.applicationContext, R.raw.sound_out, 1);
                                        }
                                        if (NotificationsController.this.soundOut != 0) {
                                            try {
                                                NotificationsController.this.soundPool.play(NotificationsController.this.soundOut, 1.0f, 1.0f, 1, 0, 1.0f);
                                            } catch (Throwable e) {
                                                FileLog.m3e(e);
                                            }
                                        }
                                    }
                                } catch (Throwable e2) {
                                    FileLog.m3e(e2);
                                }
                            }
                        });
                    }
                } catch (Throwable e) {
                    FileLog.m3e(e);
                }
            }
        }
    }

    public void updateServerNotificationsSettings(long dialog_id) {
        NotificationCenter.getInstance(this.currentAccount).postNotificationName(NotificationCenter.notificationsSettingsUpdated, new Object[0]);
        if (((int) dialog_id) != 0) {
            TL_inputPeerNotifySettings tL_inputPeerNotifySettings;
            StringBuilder stringBuilder;
            SharedPreferences preferences = MessagesController.getNotificationsSettings(this.currentAccount);
            TL_account_updateNotifySettings req = new TL_account_updateNotifySettings();
            req.settings = new TL_inputPeerNotifySettings();
            req.settings.sound = "default";
            StringBuilder stringBuilder2 = new StringBuilder();
            stringBuilder2.append("notify2_");
            stringBuilder2.append(dialog_id);
            int mute_type = preferences.getInt(stringBuilder2.toString(), 0);
            if (mute_type == 3) {
                tL_inputPeerNotifySettings = req.settings;
                stringBuilder = new StringBuilder();
                stringBuilder.append("notifyuntil_");
                stringBuilder.append(dialog_id);
                tL_inputPeerNotifySettings.mute_until = preferences.getInt(stringBuilder.toString(), 0);
            } else {
                req.settings.mute_until = mute_type != 2 ? 0 : ConnectionsManager.DEFAULT_DATACENTER_ID;
            }
            tL_inputPeerNotifySettings = req.settings;
            stringBuilder = new StringBuilder();
            stringBuilder.append("preview_");
            stringBuilder.append(dialog_id);
            tL_inputPeerNotifySettings.show_previews = preferences.getBoolean(stringBuilder.toString(), true);
            tL_inputPeerNotifySettings = req.settings;
            stringBuilder = new StringBuilder();
            stringBuilder.append("silent_");
            stringBuilder.append(dialog_id);
            tL_inputPeerNotifySettings.silent = preferences.getBoolean(stringBuilder.toString(), false);
            req.peer = new TL_inputNotifyPeer();
            ((TL_inputNotifyPeer) req.peer).peer = MessagesController.getInstance(this.currentAccount).getInputPeer((int) dialog_id);
            ConnectionsManager.getInstance(this.currentAccount).sendRequest(req, new RequestDelegate() {
                public void run(TLObject response, TL_error error) {
                }
            });
        }
    }
}
